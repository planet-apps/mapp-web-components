var Z0=Object.defineProperty,Uu=n=>{throw TypeError(n)},Q0=(n,t,e)=>t in n?Z0(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,m=(n,t,e)=>Q0(n,typeof t!="symbol"?t+"":t,e),$u=(n,t,e)=>t.has(n)||Uu("Cannot "+e),Ve=(n,t,e)=>($u(n,t,"read from private field"),e?e.call(n):t.get(n)),qu=(n,t,e)=>t.has(n)?Uu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Wu=(n,t,e,i)=>($u(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e);const J0="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(J0);const X0=1,tv=2,ev=16,iv=1,nv=4,ov=8,rv=16,sv=4,av=1,lv=2,Gu="[",fl="[!",pl="]",sr={},Fe=Symbol(),D3=!1;function bl(n){console.warn("hydration_mismatch")}var kl=Array.isArray,wl=Array.from,xs=Object.keys,Es=Object.defineProperty,zn=Object.getOwnPropertyDescriptor,cv=Object.getOwnPropertyDescriptors,dv=Object.prototype,uv=Array.prototype,_l=Object.getPrototypeOf;function hv(n){return typeof n=="function"}const ar=()=>{};function Ku(n){for(var t=0;t<n.length;t++)n[t]()}const Fi=2,Yu=4,Ts=8,Ss=16,si=32,lr=64,On=128,Is=256,je=512,cn=1024,cr=2048,wi=4096,dr=8192,Zu=16384,Ms=32768,mv=1<<18,Qu=1<<19,fo=Symbol("$state"),gv=Symbol("");function Ju(n){return n===this.v}function fv(n,t){return n!=n?t==t:n!==t||n!==null&&typeof n=="object"||typeof n=="function"}function Xu(n){return!fv(n,this.v)}function pv(n){throw new Error("effect_in_teardown")}function bv(){throw new Error("effect_in_unowned_derived")}function kv(n){throw new Error("effect_orphan")}function wv(){throw new Error("effect_update_depth_exceeded")}function _v(){throw new Error("hydration_failed")}function vv(n){throw new Error("props_invalid_value")}function yv(){throw new Error("state_descriptors_fixed")}function Cv(){throw new Error("state_prototype_fixed")}function Av(){throw new Error("state_unsafe_local_read")}function xv(){throw new Error("state_unsafe_mutation")}let th=!1;function Qe(n){return{f:0,v:n,reactions:null,equals:Ju,version:0}}function Rn(n){return Ev(Qe(n))}function vl(n,t=!1){const e=Qe(n);return t||(e.equals=Xu),e}function Ev(n){return Ct!==null&&Ct.f&Fi&&(vi===null?zv([n]):vi.push(n)),n}function Jt(n,t){return Ct!==null&&Rv()&&Ct.f&(Fi|Ss)&&(vi===null||!vi.includes(n))&&xv(),eh(n,t)}function eh(n,t){return n.equals(t)||(n.v=t,n.version=_h(),ih(n,cn),at!==null&&at.f&je&&!(at.f&si)&&(ye!==null&&ye.includes(n)?(ji(at,cn),zs(at)):dn===null?Ov([n]):dn.push(n))),t}function ih(n,t){var e=n.reactions;if(e!==null)for(var i=e.length,o=0;o<i;o++){var r=e[o],s=r.f;s&cn||(ji(r,t),s&(je|On)&&(s&Fi?ih(r,cr):zs(r)))}}function nh(n){var t=Fi|cn;at===null?t|=On:at.f|=Qu;const e={children:null,ctx:Pe,deps:null,equals:Ju,f:t,fn:n,reactions:null,v:null,version:0,parent:at};if(Ct!==null&&Ct.f&Fi){var i=Ct;(i.children??(i.children=[])).push(e)}return e}function oh(n){var t=n.children;if(t!==null){n.children=null;for(var e=0;e<t.length;e+=1){var i=t[e];i.f&Fi?yl(i):Vn(i)}}}function rh(n){var t,e=at;Je(n.parent);try{oh(n),t=vh(n)}finally{Je(e)}return t}function sh(n){var t=rh(n),e=(wo||n.f&On)&&n.deps!==null?cr:je;ji(n,e),n.equals(t)||(n.v=t,n.version=_h())}function yl(n){oh(n),fr(n,0),ji(n,dr),n.v=n.children=n.deps=n.ctx=n.reactions=null}function Tv(n){at===null&&Ct===null&&kv(),Ct!==null&&Ct.f&On&&bv(),Ml&&pv()}function Sv(n,t){var e=t.last;e===null?t.last=t.first=n:(e.next=n,n.prev=e,t.last=n)}function ur(n,t,e,i=!0){var o=(n&lr)!==0,r=at,s={ctx:Pe,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:n|cn,first:null,fn:t,last:null,next:null,parent:o?null:r,prev:null,teardown:null,transitions:null,version:0};if(e){var a=bo;try{bh(!0),Ns(s),s.f|=Zu}catch(d){throw Vn(s),d}finally{bh(a)}}else t!==null&&zs(s);var l=e&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Qu)===0;if(!l&&!o&&i&&(r!==null&&Sv(s,r),Ct!==null&&Ct.f&Fi)){var c=Ct;(c.children??(c.children=[])).push(s)}return s}function Iv(n){Tv();var t=at!==null&&(at.f&si)!==0&&Pe!==null&&!Pe.m;if(t){var e=Pe;(e.e??(e.e=[])).push({fn:n,effect:at,reaction:Ct})}else{var i=po(n);return i}}function ah(n){const t=ur(lr,n,!0);return()=>{Vn(t)}}function po(n){return ur(Yu,n,!1)}function Cl(n){return ur(Ts,n,!0)}function ut(n){return Al(n)}function Al(n,t=0){return ur(Ts|Ss|t,n,!0)}function hr(n,t=!0){return ur(Ts|si,n,!0,t)}function lh(n){var t=n.teardown;if(t!==null){const e=Ml,i=Ct;kh(!0),_i(null);try{t.call(null)}finally{kh(e),_i(i)}}}function ch(n){var t=n.deriveds;if(t!==null){n.deriveds=null;for(var e=0;e<t.length;e+=1)yl(t[e])}}function dh(n,t=!1){var e=n.first;for(n.first=n.last=null;e!==null;){var i=e.next;Vn(e,t),e=i}}function Mv(n){for(var t=n.first;t!==null;){var e=t.next;t.f&si||Vn(t),t=e}}function Vn(n,t=!0){var e=!1;if((t||n.f&mv)&&n.nodes_start!==null){for(var i=n.nodes_start,o=n.nodes_end;i!==null;){var r=i===o?null:un(i);i.remove(),i=r}e=!0}dh(n,t&&!e),ch(n),fr(n,0),ji(n,dr);var s=n.transitions;if(s!==null)for(const l of s)l.stop();lh(n);var a=n.parent;a!==null&&a.first!==null&&uh(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.parent=n.fn=n.nodes_start=n.nodes_end=null}function uh(n){var t=n.parent,e=n.prev,i=n.next;e!==null&&(e.next=i),i!==null&&(i.prev=e),t!==null&&(t.first===n&&(t.first=i),t.last===n&&(t.last=e))}function xl(n,t){var e=[];El(n,e,!0),hh(e,()=>{Vn(n),t&&t()})}function hh(n,t){var e=n.length;if(e>0){var i=()=>--e||t();for(var o of n)o.out(i)}else t()}function El(n,t,e){if(!(n.f&wi)){if(n.f^=wi,n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&t.push(s);for(var i=n.first;i!==null;){var o=i.next,r=(i.f&Ms)!==0||(i.f&si)!==0;El(i,t,r?e:!1),i=o}}}function Ds(n){mh(n,!0)}function mh(n,t){if(n.f&wi){gr(n)&&Ns(n),n.f^=wi;for(var e=n.first;e!==null;){var i=e.next,o=(e.f&Ms)!==0||(e.f&si)!==0;mh(e,o?t:!1),e=i}if(n.transitions!==null)for(const r of n.transitions)(r.is_global||t)&&r.in()}}const Dv=typeof requestIdleCallback>"u"?n=>setTimeout(n,1):requestIdleCallback;let Ps=!1,Ls=!1,Tl=[],Sl=[];function gh(){Ps=!1;const n=Tl.slice();Tl=[],Ku(n)}function fh(){Ls=!1;const n=Sl.slice();Sl=[],Ku(n)}function Il(n){Ps||(Ps=!0,queueMicrotask(gh)),Tl.push(n)}function Pv(n){Ls||(Ls=!0,Dv(fh)),Sl.push(n)}function Lv(){Ps&&gh(),Ls&&fh()}function Bv(n){throw new Error("lifecycle_outside_component")}const ph=0,Nv=1;let Bs=ph,mr=!1,bo=!1,Ml=!1;function bh(n){bo=n}function kh(n){Ml=n}let Fn=[],ko=0,Ct=null;function _i(n){Ct=n}let at=null;function Je(n){at=n}let vi=null;function zv(n){vi=n}let ye=null,He=0,dn=null;function Ov(n){dn=n}let wh=0,wo=!1,Pe=null;function _h(){return++wh}function Rv(){return!th}function gr(n){var t,e,i=n.f;if(i&cn)return!0;if(i&cr){var o=n.deps,r=(i&On)!==0;if(o!==null){var s;if(i&Is){for(s=0;s<o.length;s++)((t=o[s]).reactions??(t.reactions=[])).push(n);n.f^=Is}for(s=0;s<o.length;s++){var a=o[s];if(gr(a)&&sh(a),r&&at!==null&&!wo&&!((e=a?.reactions)!=null&&e.includes(n))&&(a.reactions??(a.reactions=[])).push(n),a.version>n.version)return!0}}r||ji(n,je)}return!1}function Vv(n,t,e){throw n}function vh(n){var t,e=ye,i=He,o=dn,r=Ct,s=wo,a=vi,l=Pe,c=n.f;ye=null,He=0,dn=null,Ct=c&(si|lr)?null:n,wo=!bo&&(c&On)!==0,vi=null,Pe=n.ctx;try{var d=(0,n.fn)(),u=n.deps;if(ye!==null){var h;if(fr(n,He),u!==null&&He>0)for(u.length=He+ye.length,h=0;h<ye.length;h++)u[He+h]=ye[h];else n.deps=u=ye;if(!wo)for(h=He;h<u.length;h++)((t=u[h]).reactions??(t.reactions=[])).push(n)}else u!==null&&He<u.length&&(fr(n,He),u.length=He);return d}finally{ye=e,He=i,dn=o,Ct=r,wo=s,vi=a,Pe=l}}function Fv(n,t){let e=t.reactions;if(e!==null){var i=e.indexOf(n);if(i!==-1){var o=e.length-1;o===0?e=t.reactions=null:(e[i]=e[o],e.pop())}}e===null&&t.f&Fi&&(ye===null||!ye.includes(t))&&(ji(t,cr),t.f&(On|Is)||(t.f^=Is),fr(t,0))}function fr(n,t){var e=n.deps;if(e!==null)for(var i=t;i<e.length;i++)Fv(n,e[i])}function Ns(n){var t=n.f;if(!(t&dr)){ji(n,je);var e=at;at=n;try{t&Ss?Mv(n):dh(n),ch(n),lh(n);var i=vh(n);n.teardown=typeof i=="function"?i:null,n.version=wh}catch(o){Vv(o)}finally{at=e}}}function yh(){ko>1e3&&(ko=0,wv()),ko++}function Ch(n){var t=n.length;if(t!==0){yh();var e=bo;bo=!0;try{for(var i=0;i<t;i++){var o=n[i];o.f&je||(o.f^=je);var r=[];Ah(o,r),jv(r)}}finally{bo=e}}}function jv(n){var t=n.length;if(t!==0)for(var e=0;e<t;e++){var i=n[e];!(i.f&(dr|wi))&&gr(i)&&(Ns(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?uh(i):i.fn=null))}}function Hv(){if(mr=!1,ko>1001)return;const n=Fn;Fn=[],Ch(n),mr||(ko=0)}function zs(n){Bs===ph&&(mr||(mr=!0,queueMicrotask(Hv)));for(var t=n;t.parent!==null;){t=t.parent;var e=t.f;if(e&(lr|si)){if(!(e&je))return;t.f^=je}}Fn.push(t)}function Ah(n,t){var e=n.first,i=[];t:for(;e!==null;){var o=e.f,r=(o&si)!==0,s=r&&(o&je)!==0;if(!s&&!(o&wi))if(o&Ts){r?e.f^=je:gr(e)&&Ns(e);var a=e.first;if(a!==null){e=a;continue}}else o&Yu&&i.push(e);var l=e.next;if(l===null){let u=e.parent;for(;u!==null;){if(n===u)break t;var c=u.next;if(c!==null){e=c;continue t}u=u.parent}}e=l}for(var d=0;d<i.length;d++)a=i[d],t.push(a),Ah(a,t)}function xh(n){var t=Bs,e=Fn;try{yh();const o=[];Bs=Nv,Fn=o,mr=!1,Ch(e);var i=n?.();return Lv(),(Fn.length>0||o.length>0)&&xh(),ko=0,i}finally{Bs=t,Fn=e}}function N(n){var t,e=n.f,i=(e&Fi)!==0;if(i&&e&dr){var o=rh(n);return yl(n),o}if(Ct!==null){vi!==null&&vi.includes(n)&&Av();var r=Ct.deps;ye===null&&r!==null&&r[He]===n?He++:ye===null?ye=[n]:ye.push(n),dn!==null&&at!==null&&at.f&je&&!(at.f&si)&&dn.includes(n)&&(ji(at,cn),zs(at))}else if(i&&n.deps===null){var s=n,a=s.parent;a!==null&&!((t=a.deriveds)!=null&&t.includes(s))&&(a.deriveds??(a.deriveds=[])).push(s)}return i&&(s=n,gr(s)&&sh(s)),n.v}function pr(n){const t=Ct;try{return Ct=null,n()}finally{Ct=t}}const Uv=~(cn|cr|je);function ji(n,t){n.f=n.f&Uv|t}function Le(n,t=!1,e){Pe={p:Pe,c:null,e:null,m:!1,s:n,x:null,l:null}}function Be(n){const t=Pe;if(t!==null){const s=t.e;if(s!==null){var e=at,i=Ct;t.e=null;try{for(var o=0;o<s.length;o++){var r=s[o];Je(r.effect),_i(r.reaction),po(r.fn)}}finally{Je(e),_i(i)}}Pe=t.p,t.m=!0}return{}}function Ut(n,t=null,e){if(typeof n!="object"||n===null||fo in n)return n;const i=_l(n);if(i!==dv&&i!==uv)return n;var o=new Map,r=kl(n),s=Qe(0);r&&o.set("length",Qe(n.length));var a;return new Proxy(n,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&yv();var u=o.get(c);return u===void 0?(u=Qe(d.value),o.set(c,u)):Jt(u,Ut(d.value,a)),!0},deleteProperty(l,c){var d=o.get(c);if(d===void 0)c in l&&o.set(c,Qe(Fe));else{if(r&&typeof c=="string"){var u=o.get("length"),h=Number(c);Number.isInteger(h)&&h<u.v&&Jt(u,h)}Jt(d,Fe),Eh(s)}return!0},get(l,c,d){var u;if(c===fo)return n;var h=o.get(c),g=c in l;if(h===void 0&&(!g||(u=zn(l,c))!=null&&u.writable)&&(h=Qe(Ut(g?l[c]:Fe,a)),o.set(c,h)),h!==void 0){var f=N(h);return f===Fe?void 0:f}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var u=o.get(c);u&&(d.value=N(u))}else if(d===void 0){var h=o.get(c),g=h?.v;if(h!==void 0&&g!==Fe)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return d},has(l,c){var d;if(c===fo)return!0;var u=o.get(c),h=u!==void 0&&u.v!==Fe||Reflect.has(l,c);if(u!==void 0||at!==null&&(!h||(d=zn(l,c))!=null&&d.writable)){u===void 0&&(u=Qe(h?Ut(l[c],a):Fe),o.set(c,u));var g=N(u);if(g===Fe)return!1}return h},set(l,c,d,u){var h,g=o.get(c),f=c in l;if(r&&c==="length")for(var p=d;p<g.v;p+=1){var b=o.get(p+"");b!==void 0?Jt(b,Fe):p in l&&(b=Qe(Fe),o.set(p+"",b))}g===void 0?(!f||(h=zn(l,c))!=null&&h.writable)&&(g=Qe(void 0),Jt(g,Ut(d,a)),o.set(c,g)):(f=g.v!==Fe,Jt(g,Ut(d,a)));var k=Reflect.getOwnPropertyDescriptor(l,c);if(k!=null&&k.set&&k.set.call(u,d),!f){if(r&&typeof c=="string"){var w=o.get("length"),_=Number(c);Number.isInteger(_)&&_>=w.v&&Jt(w,_+1)}Eh(s)}return!0},ownKeys(l){N(s);var c=Reflect.ownKeys(l).filter(h=>{var g=o.get(h);return g===void 0||g.v!==Fe});for(var[d,u]of o)u.v!==Fe&&!(d in l)&&c.push(d);return c},setPrototypeOf(){Cv()}})}function Eh(n,t=1){Jt(n,n.v+t)}function Th(n){return n!==null&&typeof n=="object"&&fo in n?n[fo]:n}function $v(n,t){return Object.is(Th(n),Th(t))}var Sh,Ih,Mh;function Dl(){if(Sh===void 0){Sh=window;var n=Element.prototype,t=Node.prototype;Ih=zn(t,"firstChild").get,Mh=zn(t,"nextSibling").get,n.__click=void 0,n.__className="",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function _o(n=""){return document.createTextNode(n)}function jn(n){return Ih.call(n)}function un(n){return Mh.call(n)}function O(n,t){if(!Et)return jn(n);var e=jn(Ft);if(e===null)e=Ft.appendChild(_o());else if(t&&e.nodeType!==3){var i=_o();return e?.before(i),ai(i),i}return ai(e),e}function vo(n,t){if(!Et){var e=jn(n);return e instanceof Comment&&e.data===""?un(e):e}return Ft}function et(n,t=1,e=!1){let i=Et?Ft:n;for(;t--;)i=un(i);if(!Et)return i;var o=i.nodeType;if(e&&o!==3){var r=_o();return i?.before(r),ai(r),r}return ai(i),i}function Dh(n){n.textContent=""}let Et=!1;function Hi(n){Et=n}let Ft;function ai(n){if(n===null)throw bl(),sr;return Ft=n}function br(){return ai(un(Ft))}function D(n){if(Et){if(un(Ft)!==null)throw bl(),sr;Ft=n}}function Pl(){for(var n=0,t=Ft;;){if(t.nodeType===8){var e=t.data;if(e===pl){if(n===0)return t;n-=1}else(e===Gu||e===fl)&&(n+=1)}var i=un(t);t.remove(),t=i}}let Ph=!1;function Lh(){Ph||(Ph=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var t;if(!n.defaultPrevented)for(const e of n.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function qv(n){var t=Ct,e=at;_i(null),Je(null);try{return n()}finally{_i(t),Je(e)}}function Bh(n,t,e,i=e){n.addEventListener(t,()=>qv(e));const o=n.__on_r;o?n.__on_r=()=>{o(),i()}:n.__on_r=i,Lh()}const Nh=new Set,Ll=new Set;function yi(n){for(var t=0;t<n.length;t++)Nh.add(n[t]);for(var e of Ll)e(n)}function Os(n){var t,e=this,i=e.ownerDocument,o=n.type,r=((t=n.composedPath)==null?void 0:t.call(n))||[],s=r[0]||n.target,a=0,l=n.__root;if(l){var c=r.indexOf(l);if(c!==-1&&(e===document||e===window)){n.__root=e;return}var d=r.indexOf(e);if(d===-1)return;c<=d&&(a=c)}if(s=r[a]||n.target,s!==e){Es(n,"currentTarget",{configurable:!0,get(){return s||i}});var u=Ct,h=at;_i(null),Je(null);try{for(var g,f=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var b=s["__"+o];if(b!==void 0&&!s.disabled)if(kl(b)){var[k,...w]=b;k.apply(s,[n,...w])}else b.call(s,n)}catch(_){g?f.push(_):g=_}if(n.cancelBubble||p===e||p===null)break;s=p}if(g){for(let _ of f)queueMicrotask(()=>{throw _});throw g}}finally{n.__root=e,delete n.currentTarget,_i(u),Je(h)}}}function Wv(n){var t=document.createElement("template");return t.innerHTML=n,t.content}function yo(n,t){var e=at;e.nodes_start===null&&(e.nodes_start=n,e.nodes_end=t)}function W(n,t){var e=(t&av)!==0,i=(t&lv)!==0,o,r=!n.startsWith("<!>");return()=>{if(Et)return yo(Ft,null),Ft;o===void 0&&(o=Wv(r?n:"<!>"+n),e||(o=jn(o)));var s=i?document.importNode(o,!0):o.cloneNode(!0);if(e){var a=jn(s),l=s.lastChild;yo(a,l)}else yo(s,s);return s}}function zh(){if(Et)return yo(Ft,null),Ft;var n=document.createDocumentFragment(),t=document.createComment(""),e=_o();return n.append(t,e),yo(t,e),n}function U(n,t){if(Et){at.nodes_end=Ft,br();return}n!==null&&n.before(t)}const Gv=["touchstart","touchmove"];function Kv(n){return Gv.includes(n)}let Bl=!0;function Wt(n,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=e,n.nodeValue=e==null?"":e+"")}function Oh(n,t){return Rh(n,t)}function Yv(n,t){Dl(),t.intro=t.intro??!1;const e=t.target,i=Et,o=Ft;try{for(var r=jn(e);r&&(r.nodeType!==8||r.data!==Gu);)r=un(r);if(!r)throw sr;Hi(!0),ai(r),br();const s=Rh(n,{...t,anchor:r});if(Ft===null||Ft.nodeType!==8||Ft.data!==pl)throw bl(),sr;return Hi(!1),s}catch(s){if(s===sr)return t.recover===!1&&_v(),Dl(),Dh(e),Hi(!1),Oh(n,t);throw s}finally{Hi(i),ai(o)}}const Co=new Map;function Rh(n,{target:t,anchor:e,props:i={},events:o,context:r,intro:s=!0}){Dl();var a=new Set,l=u=>{for(var h=0;h<u.length;h++){var g=u[h];if(!a.has(g)){a.add(g);var f=Kv(g);t.addEventListener(g,Os,{passive:f});var p=Co.get(g);p===void 0?(document.addEventListener(g,Os,{passive:f}),Co.set(g,1)):Co.set(g,p+1)}}};l(wl(Nh)),Ll.add(l);var c=void 0,d=ah(()=>{var u=e??t.appendChild(_o());return hr(()=>{if(r){Le({});var h=Pe;h.c=r}o&&(i.$$events=o),Et&&yo(u,null),Bl=s,c=n(u,i)||{},Bl=!0,Et&&(at.nodes_end=Ft),r&&Be()}),()=>{var h;for(var g of a){t.removeEventListener(g,Os);var f=Co.get(g);--f===0?(document.removeEventListener(g,Os),Co.delete(g)):Co.set(g,f)}Ll.delete(l),Nl.delete(c),u!==e&&((h=u.parentNode)==null||h.removeChild(u))}});return Nl.set(c,d),c}let Nl=new WeakMap;function Zv(n){const t=Nl.get(n);t&&t()}function ae(n,t,e,i=null,o=!1){Et&&br();var r=n,s=null,a=null,l=null,c=o?Ms:0;Al(()=>{if(l===(l=!!t()))return;let d=!1;if(Et){const u=r.data===fl;l===u&&(r=Pl(),ai(r),Hi(!1),d=!0)}l?(s?Ds(s):s=hr(()=>e(r)),a&&xl(a,()=>{a=null})):(a?Ds(a):i&&(a=hr(()=>i(r))),s&&xl(s,()=>{s=null})),d&&Hi(!0)},c),Et&&(r=Ft)}function me(n,t){return t}function Qv(n,t,e,i){for(var o=[],r=t.length,s=0;s<r;s++)El(t[s].e,o,!0);var a=r>0&&o.length===0&&e!==null;if(a){var l=e.parentNode;Dh(l),l.append(e),i.clear(),hn(n,t[0].prev,t[r-1].next)}hh(o,()=>{for(var c=0;c<r;c++){var d=t[c];a||(i.delete(d.k),hn(n,d.prev,d.next)),Vn(d.e,!a)}})}function ge(n,t,e,i,o,r=null){var s=n,a={flags:t,items:new Map,first:null};{var l=n;s=Et?ai(jn(l)):l.appendChild(_o())}Et&&br();var c=null,d=!1;Al(()=>{var u=e(),h=kl(u)?u:u==null?[]:wl(u),g=h.length;if(d&&g===0)return;d=g===0;let f=!1;if(Et){var p=s.data===fl;p!==(g===0)&&(s=Pl(),ai(s),Hi(!1),f=!0)}if(Et){for(var b=null,k,w=0;w<g;w++){if(Ft.nodeType===8&&Ft.data===pl){s=Ft,f=!0,Hi(!1);break}var _=h[w],y=i(_,w);k=Vh(Ft,a,b,null,_,y,w,o,t),a.items.set(y,k),b=k}g>0&&ai(Pl())}if(!Et){var A=Ct;Jv(h,a,s,o,t,(A.f&wi)!==0,i)}r!==null&&(g===0?c?Ds(c):c=hr(()=>r(s)):c!==null&&xl(c,()=>{c=null})),f&&Hi(!0),e()}),Et&&(s=Ft)}function Jv(n,t,e,i,o,r,s){var a=n.length,l=t.items,c=t.first,d=c,u,h=null,g=[],f=[],p,b,k,w;for(w=0;w<a;w+=1){if(p=n[w],b=s(p,w),k=l.get(b),k===void 0){var _=d?d.e.nodes_start:e;h=Vh(_,t,h,h===null?t.first:h.next,p,b,w,i,o),l.set(b,h),g=[],f=[],d=h.next;continue}if(Xv(k,p,w),k.e.f&wi&&Ds(k.e),k!==d){if(u!==void 0&&u.has(k)){if(g.length<f.length){var y=f[0],A;h=y.prev;var x=g[0],I=g[g.length-1];for(A=0;A<g.length;A+=1)Fh(g[A],y,e);for(A=0;A<f.length;A+=1)u.delete(f[A]);hn(t,x.prev,I.next),hn(t,h,x),hn(t,I,y),d=y,h=I,w-=1,g=[],f=[]}else u.delete(k),Fh(k,d,e),hn(t,k.prev,k.next),hn(t,k,h===null?t.first:h.next),hn(t,h,k),h=k;continue}for(g=[],f=[];d!==null&&d.k!==b;)(r||!(d.e.f&wi))&&(u??(u=new Set)).add(d),f.push(d),d=d.next;if(d===null)continue;k=d}g.push(k),h=k,d=k.next}if(d!==null||u!==void 0){for(var z=u===void 0?[]:wl(u);d!==null;)(r||!(d.e.f&wi))&&z.push(d),d=d.next;var Y=z.length;if(Y>0){var Vt=a===0?e:null;Qv(t,z,Vt,l)}}at.first=t.first&&t.first.e,at.last=h&&h.e}function Xv(n,t,e,i){eh(n.v,t),n.i=e}function Vh(n,t,e,i,o,r,s,a,l){var c=(l&X0)!==0,d=(l&ev)===0,u=c?d?vl(o):Qe(o):o,h=l&tv?Qe(s):s,g={i:h,v:u,k:r,a:null,e:null,prev:e,next:i};try{return g.e=hr(()=>a(n,u,h),Et),g.e.prev=e&&e.e,g.e.next=i&&i.e,e===null?t.first=g:(e.next=g,e.e.next=g.e),i!==null&&(i.prev=g,i.e.prev=g.e),g}finally{}}function Fh(n,t,e){for(var i=n.next?n.next.e.nodes_start:e,o=t?t.e.nodes_start:e,r=n.e.nodes_start;r!==i;){var s=un(r);o.before(r),r=s}}function hn(n,t,e){t===null?n.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function jh(n,t,e,i,o){var r;Et&&br();var s=(r=t.$$slots)==null?void 0:r[e],a=!1;s===!0&&(s=t.children,a=!0),s===void 0||s(n,a?()=>i:i)}function le(n,t){Il(()=>{var e=n.getRootNode(),i=e.host?e:e.head??e.ownerDocument.head;if(!i.querySelector("#"+t.hash)){const o=document.createElement("style");o.id=t.hash,o.textContent=t.code,i.appendChild(o)}})}function Rs(n){if(Et){var t=!1,e=()=>{if(!t){if(t=!0,n.hasAttribute("value")){var i=n.value;At(n,"value",null),n.value=i}if(n.hasAttribute("checked")){var o=n.checked;At(n,"checked",null),n.checked=o}}};n.__on_r=e,Pv(e),Lh()}}function At(n,t,e,i){var o=n.__attributes??(n.__attributes={});Et&&(o[t]=n.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&n.nodeName==="LINK")||o[t]!==(o[t]=e)&&(t==="style"&&"__styles"in n&&(n.__styles={}),t==="loading"&&(n[gv]=e),e==null?n.removeAttribute(t):typeof e!="string"&&t1(n).includes(t)?n[t]=e:n.setAttribute(t,e))}var Hh=new Map;function t1(n){var t=Hh.get(n.nodeName);if(t)return t;Hh.set(n.nodeName,t=[]);for(var e,i=_l(n),o=Element.prototype;o!==i;){e=cv(i);for(var r in e)e[r].set&&t.push(r);i=_l(i)}return t}function Vs(n,t){var e=n.__className,i=e1(t);Et&&n.className===i?n.__className=i:(e!==i||Et&&n.className!==i)&&(t==null?n.removeAttribute("class"):n.className=i,n.__className=i)}function e1(n){return n??""}function Ao(n,t,e){if(e){if(n.classList.contains(t))return;n.classList.add(t)}else{if(!n.classList.contains(t))return;n.classList.remove(t)}}const i1=()=>performance.now(),mn={tick:n=>requestAnimationFrame(n),now:()=>i1(),tasks:new Set};function Uh(n){mn.tasks.forEach(t=>{t.c(n)||(mn.tasks.delete(t),t.f())}),mn.tasks.size!==0&&mn.tick(Uh)}function n1(n){let t;return mn.tasks.size===0&&mn.tick(Uh),{promise:new Promise(e=>{mn.tasks.add(t={c:n,f:e})}),abort(){mn.tasks.delete(t)}}}function Fs(n,t){n.dispatchEvent(new CustomEvent(t))}function o1(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const t=n.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function $h(n){const t={},e=n.split(";");for(const i of e){const[o,r]=i.split(":");if(!o||r===void 0)break;const s=o1(o.trim());t[s]=r.trim()}return t}const r1=n=>n;function s1(n,t,e,i){var o=(n&sv)!==0,r="both",s,a=t.inert,l,c;function d(){var p=Ct,b=at;_i(null),Je(null);try{return s??(s=e()(t,i?.()??{},{direction:r}))}finally{_i(p),Je(b)}}var u={is_global:o,in(){t.inert=a,Fs(t,"introstart"),l=zl(t,d(),c,1,()=>{Fs(t,"introend"),l?.abort(),l=s=void 0})},out(p){t.inert=!0,Fs(t,"outrostart"),c=zl(t,d(),l,0,()=>{Fs(t,"outroend"),p?.()})},stop:()=>{l?.abort(),c?.abort()}},h=at;if((h.transitions??(h.transitions=[])).push(u),Bl){var g=o;if(!g){for(var f=h.parent;f&&f.f&Ms;)for(;(f=f.parent)&&!(f.f&Ss););g=!f||(f.f&Zu)!==0}g&&po(()=>{pr(()=>u.in())})}}function zl(n,t,e,i,o){var r=i===1;if(hv(t)){var s,a=!1;return Il(()=>{if(!a){var b=t({direction:r?"in":"out"});s=zl(n,b,e,i,o)}}),{abort:()=>{a=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(e?.deactivate(),!(t!=null&&t.duration))return o(),{abort:ar,deactivate:ar,reset:ar,t:()=>i};const{delay:l=0,css:c,tick:d,easing:u=r1}=t;var h=[];if(r&&e===void 0&&(d&&d(0,1),c)){var g=$h(c(0,1));h.push(g,g)}var f=()=>1-i,p=n.animate(h,{duration:l});return p.onfinish=()=>{var b=e?.t()??1-i;e?.abort();var k=i-b,w=t.duration*Math.abs(k),_=[];if(w>0){if(c)for(var y=Math.ceil(w/16.666666666666668),A=0;A<=y;A+=1){var x=b+k*u(A/y),I=c(x,1-x);_.push($h(I))}f=()=>{var z=p.currentTime;return b+k*u(z/w)},d&&n1(()=>{if(p.playState!=="running")return!1;var z=f();return d(z,1-z),!0})}p=n.animate(_,{duration:w,fill:"forwards"}),p.onfinish=()=>{f=()=>i,d?.(i,1-i),o()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=ar)},deactivate:()=>{o=ar},reset:()=>{i===0&&d?.(1,0)},t:()=>f()}}function js(n,t,e=t){Bh(n,"input",()=>{var i=qh(n)?Wh(n.value):n.value;e(i),i!==(i=t())&&(n.value=i??"")}),Cl(()=>{var i=t();if(Et&&n.defaultValue!==n.value){e(n.value);return}qh(n)&&i===Wh(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}function qh(n){var t=n.type;return t==="number"||t==="range"}function Wh(n){return n===""?null:+n}function Gh(n,t,e){if(n.multiple)return c1(n,t);for(var i of n.options){var o=kr(i);if($v(o,t)){i.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function a1(n,t){po(()=>{var e=new MutationObserver(()=>{var i=n.__value;Gh(n,i)});return e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function l1(n,t,e=t){var i=!0;Bh(n,"change",()=>{var o;if(n.multiple)o=[].map.call(n.querySelectorAll(":checked"),kr);else{var r=n.querySelector(":checked");o=r&&kr(r)}e(o)}),po(()=>{var o=t();if(Gh(n,o,i),i&&o===void 0){var r=n.querySelector(":checked");r!==null&&(o=kr(r),e(o))}n.__value=o,i=!1}),a1(n)}function c1(n,t){for(var e of n.options)e.selected=~t.indexOf(kr(e))}function kr(n){return"__value"in n?n.__value:n.value}function Kh(n,t){return n===t||n?.[fo]===t}function d1(n={},t,e,i){return po(()=>{var o,r;return Cl(()=>{o=r,r=i?.()||[],pr(()=>{n!==e(...r)&&(t(n,...r),o&&Kh(e(...o),n)&&t(null,...o))})}),()=>{Il(()=>{r&&Kh(e(...r),n)&&t(null,...r)})}}),n}function Yh(n){Pe===null&&Bv(),Iv(()=>{const t=pr(n);if(typeof t=="function")return t})}let Hs=!1;function u1(n){var t=Hs;try{return Hs=!1,[n(),Hs]}finally{Hs=t}}function h1(n){for(var t=at,e=at;t!==null&&!(t.f&(si|lr));)t=t.parent;try{return Je(t),n()}finally{Je(e)}}function $(n,t,e,i){var o,r=(e&iv)!==0,s=!th,a=(e&ov)!==0,l=(e&rv)!==0,c=!1,d;a?[d,c]=u1(()=>n[t]):d=n[t];var u=(o=zn(n,t))==null?void 0:o.set,h=i,g=!0,f=!1,p=()=>(f=!0,g&&(g=!1,l?h=pr(i):h=i),h);d===void 0&&i!==void 0&&(u&&s&&vv(),d=p(),u&&u(d));var b;if(b=()=>{var x=n[t];return x===void 0?p():(g=!0,f=!1,x)},!(e&nv))return b;if(u){var k=n.$$legacy;return function(x,I){return arguments.length>0?((!I||k||c)&&u(I?b():x),x):b()}}var w=!1,_=!1,y=vl(d),A=h1(()=>nh(()=>{var x=b(),I=N(y);return w?(w=!1,_=!0,I):(_=!1,y.v=x)}));return r||(A.equals=Xu),function(x,I){if(arguments.length>0){const z=I?N(A):a?Ut(x):x;return A.equals(z)||(w=!0,Jt(y,z),f&&h!==void 0&&(h=z),pr(()=>N(A))),x}return N(A)}}function m1(n){return new g1(n)}var gn,li;class g1{constructor(t){qu(this,gn),qu(this,li);var e,i=new Map,o=(s,a)=>{var l=vl(a);return i.set(s,l),l};const r=new Proxy({...t.props||{},$$events:{}},{get(s,a){return N(i.get(a)??o(a,Reflect.get(s,a)))},has(s,a){return N(i.get(a)??o(a,Reflect.get(s,a))),Reflect.has(s,a)},set(s,a,l){return Jt(i.get(a)??o(a,l),l),Reflect.set(s,a,l)}});Wu(this,li,(t.hydrate?Yv:Oh)(t.component,{target:t.target,anchor:t.anchor,props:r,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((e=t?.props)!=null&&e.$$host)||t.sync===!1)&&xh(),Wu(this,gn,r.$$events);for(const s of Object.keys(Ve(this,li)))s==="$set"||s==="$destroy"||s==="$on"||Es(this,s,{get(){return Ve(this,li)[s]},set(a){Ve(this,li)[s]=a},enumerable:!0});Ve(this,li).$set=s=>{Object.assign(r,s)},Ve(this,li).$destroy=()=>{Zv(Ve(this,li))}}$set(t){Ve(this,li).$set(t)}$on(t,e){Ve(this,gn)[t]=Ve(this,gn)[t]||[];const i=(...o)=>e.call(this,...o);return Ve(this,gn)[t].push(i),()=>{Ve(this,gn)[t]=Ve(this,gn)[t].filter(o=>o!==i)}}$destroy(){Ve(this,li).$destroy()}}gn=new WeakMap,li=new WeakMap;let Zh;typeof HTMLElement=="function"&&(Zh=class extends HTMLElement{constructor(n,t,e){super(),m(this,"$$ctor"),m(this,"$$s"),m(this,"$$c"),m(this,"$$cn",!1),m(this,"$$d",{}),m(this,"$$r",!1),m(this,"$$p_d",{}),m(this,"$$l",{}),m(this,"$$l_u",new Map),m(this,"$$me"),this.$$ctor=n,this.$$s=t,e&&this.attachShadow({mode:"open"})}addEventListener(n,t,e){if(this.$$l[n]=this.$$l[n]||[],this.$$l[n].push(t),this.$$c){const i=this.$$c.$on(n,t);this.$$l_u.set(t,i)}super.addEventListener(n,t,e)}removeEventListener(n,t,e){if(super.removeEventListener(n,t,e),this.$$c){const i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(i){return o=>{const r=document.createElement("slot");i!=="default"&&(r.name=i),U(o,r)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},e=f1(this);for(const i of this.$$s)i in e&&(i==="default"&&!this.$$d.children?(this.$$d.children=n(i),t.default=!0):t[i]=n(i));for(const i of this.attributes){const o=this.$$g_p(i.name);o in this.$$d||(this.$$d[o]=Us(o,i.value,this.$$p_d,"toProp"))}for(const i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=m1({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=ah(()=>{Cl(()=>{var i;this.$$r=!0;for(const o of xs(this.$$c)){if(!((i=this.$$p_d[o])!=null&&i.reflect))continue;this.$$d[o]=this.$$c[o];const r=Us(o,this.$$d[o],this.$$p_d,"toAttribute");r==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,r)}this.$$r=!1})});for(const i in this.$$l)for(const o of this.$$l[i]){const r=this.$$c.$on(i,o);this.$$l_u.set(o,r)}this.$$l={}}}attributeChangedCallback(n,t,e){var i;this.$$r||(n=this.$$g_p(n),this.$$d[n]=Us(n,e,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[n]:this.$$d[n]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(n){return xs(this.$$p_d).find(t=>this.$$p_d[t].attribute===n||!this.$$p_d[t].attribute&&t.toLowerCase()===n)||n}});function Us(n,t,e,i){var o;const r=(o=e[n])==null?void 0:o.type;if(t=r==="Boolean"&&typeof t!="boolean"?t!=null:t,!i||!e[n])return t;if(i==="toAttribute")switch(r){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(r){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function f1(n){const t={};return n.childNodes.forEach(e=>{t[e.slot||"default"]=!0}),t}function oe(n,t,e,i,o,r){let s=class extends Zh{constructor(){super(n,e,o),this.$$p_d=t}static get observedAttributes(){return xs(t).map(a=>(t[a].attribute||a).toLowerCase())}};return xs(t).forEach(a=>{Es(s.prototype,a,{get(){return this.$$c&&a in this.$$c?this.$$c[a]:this.$$d[a]},set(l){var c;l=Us(a,l,t),this.$$d[a]=l;var d=this.$$c;if(d){var u=(c=zn(d,a))==null?void 0:c.get;u?d[a]=l:d.$set({[a]:l})}}})}),i.forEach(a=>{Es(s.prototype,a,{get(){var l;return(l=this.$$c)==null?void 0:l[a]}})}),n.element=s,s}var p1=W('<button type="button"><!></button>');const b1={hash:"svelte-1bto172",code:".button.svelte-1bto172 {display:inline-block;cursor:pointer;border:0;margin-left:14px;border-radius:3em;font-weight:700;line-height:1;font-family:'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;}.button--primary.svelte-1bto172 {background-color:#1ea7fd;color:white;}.button--secondary.svelte-1bto172 {box-shadow:rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset;background-color:transparent;color:#333;}.button--small.svelte-1bto172 {padding:10px 16px;font-size:12px;}.button--medium.svelte-1bto172 {padding:11px 20px;font-size:14px;}.button--large.svelte-1bto172 {padding:12px 24px;font-size:16px;}"};function Qh(n,t){le(n,b1);const e=$(t,"type",3,"primary"),i=$(t,"size",3,"medium");$(t,"label",3,"Button");const o=$(t,"onClick",3,void 0);var r=p1();r.__click=function(...a){var l;(l=o())==null||l.apply(this,a)};var s=O(r);jh(s,t,"default",{}),D(r),ut(()=>Vs(r,`${"button button--"+i()+" button--"+e()} svelte-1bto172`)),U(n,r)}yi(["click"]),customElements.define("ing-button",oe(Qh,{type:{},size:{},label:{},onClick:{}},["default"],[],!0));var k1=W('<div class="input_label svelte-1hyy719"> </div>'),w1=W('<span class="input_icon svelte-1hyy719"><img width="16px" alt="in"></span>'),_1=(n,t)=>{t(n)},v1=W('<div class="input_frame svelte-1hyy719"><!> <div class="input_box svelte-1hyy719"><!> <input class="input_field svelte-1hyy719"></div></div>');const y1={hash:"svelte-1hyy719",code:`.input_frame.svelte-1hyy719 {padding-right:24px;margin-bottom:14px;}.input_label.svelte-1hyy719 {margin-bottom:6px;}.input_box.svelte-1hyy719 {display:flex;color:#4a5073;background-color:#fff;border:0.0625rem solid #d1d7e0;border-radius:0.5rem;
    /* padding-right: 14px; */}.input_icon.svelte-1hyy719 {width:32px;position:relative;top:12px;left:9px;}.input_field.svelte-1hyy719 {box-shadow:none;width:280px;border:0.0625rem solid #d1d7e0;color:#66799e;background-color:transparent;background-clip:padding-box;appearance:none;border:transparent;height:40px;font-size:16px;border-style:none;border-radius:0.5rem;margin-left:4px;margin-right:8px;width:98%;}.input_field.svelte-1hyy719:focus {outline:none;}`};function Ol(n,t){Le(t,!0),le(n,y1);let e=$(t,"label",3,""),i=$(t,"icon",3,""),o=$(t,"type",3,"text"),r=$(t,"placeholder",3,""),s=$(t,"input",15,""),a=$(t,"style",3,"");const l=f=>{f&&f.target&&f.target.value&&t.$$host&&t.$$host.dispatchEvent(new CustomEvent("update",{detail:{input:f.target.value}}))};var c=v1(),d=O(c);ae(d,e,f=>{var p=k1(),b=O(p,!0);D(p),ut(()=>Wt(b,e())),U(f,p)});var u=et(d,2),h=O(u);ae(h,i,f=>{var p=w1(),b=O(p);D(p),ut(()=>At(b,"src",i())),U(f,p)});var g=et(h,2);Rs(g),g.__input=[_1,l],D(u),D(c),ut(()=>{At(c,"style",a()),At(g,"type",o()),At(g,"placeholder",r())}),js(g,s),U(n,c),Be()}yi(["input"]),customElements.define("ing-input",oe(Ol,{label:{},icon:{},type:{},placeholder:{},input:{},style:{}},[],[],!0));var C1=W('<span class="user_button svelte-gns4bd"><img class="msg_icon svelte-gns4bd" alt="alerts" src="bell.svg"> <span class="msg_new svelte-gns4bd"></span> <img class="user_icon svelte-gns4bd" alt="profile"> <span class="user_name svelte-gns4bd"> </span></span>'),A1=W("<span></span>"),x1=W('<div class="header svelte-gns4bd"><div style="width: 364px;"><!> <span></span></div> <div><!></div></div>');const E1={hash:"svelte-gns4bd",code:".header.svelte-gns4bd {display:flex;justify-content:space-between;align-items:center;padding:26px 20px;font-family:'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;}.msg_icon.svelte-gns4bd {width:20px;margin-right:22px;}.msg_new.svelte-gns4bd {background-color:red;height:7px;width:7px;border-radius:50% !important;position:relative;top:4px;left:-22px;}.user_button.svelte-gns4bd {display:flex;position:relative;top:-6px;}.user_button.svelte-gns4bd:hover {cursor:pointer;}.user_name.svelte-gns4bd {padding-top:12px;padding-left:8px;}.user_icon.svelte-gns4bd {border-radius:50% !important;width:40px;}"};function Rl(n,t){le(n,E1),$(t,"title",3,"Apint.org");const e=$(t,"searchicon",3,""),i=$(t,"supportuser",3,!1),o=$(t,"username",3,""),r=$(t,"userpic",3,"");let s="";var a=x1(),l=O(a),c=O(l);Ol(c,{get icon(){return e()},placeholder:"Search",input:s});var d=et(c,2);d.textContent=s,D(l);var u=et(l,2),h=O(u);ae(h,i,g=>{var f=C1(),p=et(O(f),4),b=et(p,2),k=O(b,!0);D(b),D(f),ut(()=>{At(p,"src",r()),Wt(k,o())}),U(g,f)},g=>{var f=zh(),p=vo(f);ae(p,i,b=>{var k=A1();U(b,k)},null,!0),U(g,f)}),D(u),D(a),U(n,a)}customElements.define("ing-headerlite",oe(Rl,{title:{},searchicon:{},supportuser:{},username:{},userpic:{}},[],[],!0));function T1(n){const t=n-1;return t*t*t+1}function S1(n,{delay:t=0,duration:e=400,easing:i=T1,axis:o="y"}={}){const r=getComputedStyle(n),s=+r.opacity,a=o==="y"?"height":"width",l=parseFloat(r[a]),c=o==="y"?["top","bottom"]:["left","right"],d=c.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),u=parseFloat(r[`padding${d[0]}`]),h=parseFloat(r[`padding${d[1]}`]),g=parseFloat(r[`margin${d[0]}`]),f=parseFloat(r[`margin${d[1]}`]),p=parseFloat(r[`border${d[0]}Width`]),b=parseFloat(r[`border${d[1]}Width`]);return{delay:t,duration:e,easing:i,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*s};${a}: ${k*l}px;padding-${c[0]}: ${k*u}px;padding-${c[1]}: ${k*h}px;margin-${c[0]}: ${k*g}px;margin-${c[1]}: ${k*f}px;border-${c[0]}-width: ${k*p}px;border-${c[1]}-width: ${k*b}px;`}}function I1(n){return n}var M1=(n,t,e)=>t(N(e).title),D1=W('<img alt="option" width="18px">'),P1=W('<svg width="18px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-pie" class="svg-inline--fa fa-chart-pie fa-w-17 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 544 512"><path fill="currentColor" d="M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"></path></svg>'),L1=W('<span><svg class="icon icon-sm" fill="#fff" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></span>'),B1=(n,t,e)=>t(N(e).title),N1=W('<a><span><span class="menu_item_icon svelte-v1mgvt"></span> <span class="menu_item_text"> </span></span></a>'),z1=W('<div class="menu_item_frame svelte-v1mgvt"></div>'),O1=W('<a><span><span class="menu_item_icon svelte-v1mgvt"><!></span> <span class="menu_item_text"> </span> <!></span></a> <!>',1),R1=W('<div class="outer_frame svelte-v1mgvt"><div class="left_menu svelte-v1mgvt"><div class="menu_frame svelte-v1mgvt"></div></div> <div class="right_panel svelte-v1mgvt"><!> <div class="right_panel_content svelte-v1mgvt"><!></div></div></div>');const V1={hash:"svelte-v1mgvt",code:`a.svelte-v1mgvt:link {text-decoration:none;}a.svelte-v1mgvt:visited {text-decoration:none;color:#eaedf2;}a.svelte-v1mgvt:hover {text-decoration:none;color:#eaedf2;}a.svelte-v1mgvt:active {text-decoration:none;}.outer_frame.svelte-v1mgvt {position:fixed;left:0px;top:0px;display:flex;height:100vh;width:100vw;font-family:"Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;}.left_menu.svelte-v1mgvt {display:flex;flex-flow:row nowrap;width:260px !important;min-width:260px;height:100%;background-color:#262b40 !important;color:#eaedf2;}.menu_frame.svelte-v1mgvt {margin:20px 30px 20px 30px;width:100%;}.menu_item.svelte-v1mgvt {display:block;width:100%;text-align:left;padding:10px 0px;color:#eaedf2;border-radius:.5rem;margin-bottom:8px;border:.0625rem solid transparent;}.menu_item.svelte-v1mgvt:hover {background-color:#2e3650;}.menu_item_active.svelte-v1mgvt {background-color:#2e3650;border:.0625rem solid #4c5680;}.menu_item_icon.svelte-v1mgvt {display:inline-block;margin-left:12px;margin-right:.5rem;color:#fff;position:relative;top:3px;width:18px;}.menu_item_expand.svelte-v1mgvt {float:right;width:22px;}.expanded.svelte-v1mgvt {position:relative;
    /* left: -4px; */
    /* top: -2px; */transform:rotate(90deg) translateX(-2px) translateY(4px);transition:all 0.2s ease;}.menu_item_frame.svelte-v1mgvt {width:100%;}.right_panel.svelte-v1mgvt {color:#4a5073;background-color:#f5f8fb;flex:auto;height:100%;overflow-y:auto;}.right_panel_content.svelte-v1mgvt {padding:0px 20px;}`};function Jh(n,t){Le(t,!0),le(n,V1),$(t,"title",3,"Mapp"),$(t,"icon",3,"");let e=$(t,"searchicon",3,""),i=$(t,"supportuser",3,!0),o=$(t,"username",3,""),r=$(t,"userpic",3,""),s=$(t,"activeitem",3,""),a=$(t,"menuconfig",7,void 0);typeof a()=="string"&&a(JSON.parse(a()));let l=Ut({}),c=k=>{l[k]?l[k]=!l[k]:l[k]=!0};var d=R1(),u=O(d),h=O(u);ge(h,21,()=>a().items,me,(k,w)=>{var _=O1(),y=vo(_);y.__click=[M1,c,w];var A=O(y),x=O(A),I=O(x);ae(I,()=>N(w).icon,ct=>{var ee=D1();ut(()=>At(ee,"src",N(w).icon)),U(ct,ee)},ct=>{var ee=P1();U(ct,ee)}),D(x);var z=et(x,2),Y=O(z,!0);D(z);var Vt=et(z,2);ae(Vt,()=>N(w).subitems,ct=>{var ee=L1();ut(()=>Vs(ee,`${(l[N(w).title]?"menu_item_expand expanded":"menu_item_expand")??""} svelte-v1mgvt`)),U(ct,ee)}),D(A),D(y);var we=et(y,2);ae(we,()=>l[N(w).title]&&N(w).subitems,ct=>{var ee=z1();ge(ee,21,()=>N(w).subitems,me,(Bt,qt)=>{var _e=N1();_e.__click=[B1,c,qt];var go=O(_e),Qt=et(O(go),2),Bn=O(Qt,!0);D(Qt),D(go),D(_e),ut(()=>{At(_e,"href",N(qt).url),Vs(_e,`${(N(qt).title==s()?"menu_item menu_item_active":"menu_item")??""} svelte-v1mgvt`),Wt(Bn,N(qt).title)}),U(Bt,_e)}),D(ee),s1(3,ee,()=>S1,()=>({duration:300,easing:I1})),U(ct,ee)}),ut(()=>{At(y,"href",N(w).url),Vs(y,`${(N(w).title==s()?"menu_item menu_item_active":"menu_item")??""} svelte-v1mgvt`),Wt(Y,N(w).title)}),U(k,_)}),D(h),D(u);var g=et(u,2),f=O(g);Rl(f,{get searchicon(){return e()},get supportuser(){return i()},get username(){return o()},get userpic(){return r()}});var p=et(f,2),b=O(p);jh(b,t,"default",{}),D(p),D(g),D(d),U(n,d),Be()}yi(["click"]),customElements.define("ing-buffet",oe(Jh,{title:{},icon:{},searchicon:{},supportuser:{},username:{},userpic:{},activeitem:{},menuconfig:{}},["default"],[],!0));function F1(n,t,e,i,o,r){if(N(t)){let s=[];for(let a of e()){let l=!1;for(let c of i())if((o().length===0||o().includes(c))&&a[c].toString().toLowerCase().includes(N(t).toLowerCase())){l=!0;break}l&&s.push(a)}Jt(r,Ut(s))}else Jt(r,Ut(e()))}var j1=W('<th class="svelte-15ql2st"> </th>'),H1=W('<td class="svelte-15ql2st"><a class="table_row svelte-15ql2st"> </a></td>'),U1=W('<tr class="svelte-15ql2st"></tr>'),$1=W('<div class="card_frame svelte-15ql2st"><div class="filter svelte-15ql2st"><svg data-icon-name="filterIcon" viewBox="0 0 18 18" width="18" height="18" aria-hidden="true"><path fill-rule="evenodd" d="M2 4h14v2H2V4zm2 4h10v2H4V8zm2 4h6v2H6v-2z"></path></svg> <span class="filter_input_box svelte-15ql2st">Filter <input class="filter_input svelte-15ql2st" placeholder="Value to filter for"></span></div> <table class="svelte-15ql2st"><thead class="svelte-15ql2st"><tr class="svelte-15ql2st"></tr></thead><tbody class="svelte-15ql2st"></tbody></table></div>');const q1={hash:"svelte-15ql2st",code:`.card_frame.svelte-15ql2st {border-color:#eaedf2 !important;box-shadow:0 2px 18px rgba(0, 0, 0, 0.02) !important;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:0.0625rem solid rgba(46, 54, 80, 0.125);border-radius:0.5rem;padding:22px 32px;font-family:"Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;}table.svelte-15ql2st {width:100%;margin-bottom:1rem;color:#4a5073;vertical-align:top;border-color:#eaedf2;font-family:"Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;border-collapse:collapse;}table.svelte-15ql2st thead:where(.svelte-15ql2st) tr:where(.svelte-15ql2st) th:where(.svelte-15ql2st) {vertical-align:center;text-align:left;border-bottom:1px solid #eaedf2 !important;font-size:12px;font-weight:bold;padding-left:14px;padding-bottom:10px;}.table_row.svelte-15ql2st {padding-left:14px;padding-top:14px;padding-bottom:14px;border-bottom:1px solid #eaedf2 !important;}table.svelte-15ql2st tbody:where(.svelte-15ql2st) tr:where(.svelte-15ql2st):hover {background-color:#eff0f2;cursor:pointer;border-radius:0.5rem;}a.svelte-15ql2st:link {text-decoration:none;color:#4a5073;}a.svelte-15ql2st:visited {text-decoration:none;color:#4a5073;}a.svelte-15ql2st:hover {text-decoration:none;color:#4a5073;}a.svelte-15ql2st:active {text-decoration:none;}td.svelte-15ql2st a:where(.svelte-15ql2st) {display:block;}.filter.svelte-15ql2st {margin-top:20px;margin-bottom:8px;margin-left:8px;}.filter_input_box.svelte-15ql2st {position:relative;top:-3px;font-weight:bold;font-size:14px;}.filter_input.svelte-15ql2st {width:50%;margin-left:8px;font-family:Google Sans,
      Roboto,
      Helvetica,
      Arial,
      sans-serif;padding:var(--padding);
    /* border: 2px solid gray; */border:0px;outline:none;border-radius:0px;
    /* background-color: #f1f3f4; */background-color:rgb(255, 255, 255);}`};function Xh(n,t){Le(t,!0),le(n,q1);let e=$(t,"headers",23,()=>[]),i=$(t,"headerssearchable",23,()=>[]),o=$(t,"rows",23,()=>[]),r=$(t,"linkprefix",3,""),s=$(t,"linkcolumnname",3,""),a=$(t,"update",3,void 0);typeof e()=="string"&&e(JSON.parse(e())),typeof i()=="string"&&i(JSON.parse(i())),typeof o()=="string"&&o(JSON.parse(o()));let l=Rn(Ut(o())),c=Rn("");const d=_=>{t.$$host.dispatchEvent(new CustomEvent("update",{detail:{rowIndex:_}})),a()&&a()({detail:{rowIndex:_}})};var u=$1(),h=O(u),g=et(O(h),2),f=et(O(g));Rs(f),f.__keyup=[F1,c,o,e,i,l],D(g),D(h);var p=et(h,2),b=O(p),k=O(b);ge(k,21,e,me,(_,y)=>{var A=j1(),x=O(A,!0);D(A),ut(()=>Wt(x,N(y))),U(_,A)}),D(k),D(b);var w=et(b);ge(w,21,()=>N(l),me,(_,y,A)=>{var x=U1();x.__click=()=>{d(A)},ge(x,21,()=>Object.entries(N(y)),me,(I,z)=>{var Y=H1(),Vt=O(Y),we=O(Vt,!0);D(Vt),D(Y),ut(()=>{At(Vt,"href",r()+N(y)[s()]),Wt(we,N(z)[1])}),U(I,Y)}),D(x),U(_,x)}),D(w),D(p),D(u),js(f,()=>N(c),_=>Jt(c,_)),U(n,u),Be()}yi(["keyup","click"]),customElements.define("ing-table",oe(Xh,{headers:{},headerssearchable:{},rows:{},linkprefix:{},linkcolumnname:{},update:{}},[],[],!0));var W1=W('<div class="menu_item svelte-15kv3ld"><a href="https://google.com" target="_blank"> </a></div>'),G1=W('<div class="menu_frame svelte-15kv3ld"><div class="arrow svelte-15kv3ld"></div> <div class="menu svelte-15kv3ld"></div></div>');const K1={hash:"svelte-15kv3ld",code:'.menu_frame.svelte-15kv3ld {position:fixed;top:"57px";left:calc(100vw-24);min-width:200px;min-height:200px;max-width:180px;background:#fff;box-shadow:#00000026 0 2px 10px;border:1px solid rgb(242, 242, 242);z-index:6;}.arrow.svelte-15kv3ld {position:relative;top:-31px;left:163px;border:1px solid rgb(242, 242, 242);box-shadow:#00000026 -1px -1px 1px -1px;transform:rotate(45deg) translate(16px, 16px);background:#fff;height:14px;width:14px;display:block;content:"";pointer-events:none;z-index:1;}.menu.svelte-15kv3ld {position:relative;top:-16px;background:#fff;min-height:140px;z-index:2;padding:14px;}.menu_item.svelte-15kv3ld {height:14px;width:100%;font-size:18px;padding-bottom:12px;}'};function tm(n,t){Le(t,!0),le(n,K1);let e=$(t,"position",19,()=>({})),i=$(t,"menuItems",19,()=>[]);var o=G1(),r=et(O(o),2);ge(r,21,i,me,(s,a)=>{var l=W1(),c=O(l),d=O(c,!0);D(c),D(l),ut(()=>Wt(d,N(a).title)),U(s,l)}),D(r),D(o),ut(()=>At(o,"style",`top: ${e().top}; left: ${e().left};`)),U(n,o),Be()}customElements.define("mv-elegant-dropdown",oe(tm,{position:{},menuItems:{}},[],[],!0));var Y1=W('<img class="title_logo" alt="logo" width="36px" height="34px" style="padding: 6px; margin-top: 4px;">'),Z1=W('<span class="title_text svelte-zwv9rr"> </span>'),Q1=W('<a href="https://google.com" target="_blank" class="title svelte-zwv9rr"><!> <!></a>'),J1=(n,t,e)=>t(n,N(e).title),X1=W('<button class="menu_button svelte-zwv9rr"><img class="menu_icon svelte-zwv9rr"></button> <!>',1),ty=W('<div class="header svelte-zwv9rr"><!> <div class="right_menus svelte-zwv9rr"></div></div>');const ey={hash:"svelte-zwv9rr",code:".header.svelte-zwv9rr {display:flex;flex-flow:row wrap;justify-content:space-between;align-items:flex-start;background-color:rgba(255, 255, 255, 1);height:57px;font-weight:560;color:#333;font-size:20px;padding:0px;margin:0px;position:sticky;top:0;z-index:2;border-bottom:solid 1px rgba(222, 222, 222, 1);}.title.svelte-zwv9rr {height:100%;display:flex;margin-left:12px;color:#111;font-family:'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;}.title.svelte-zwv9rr:link {text-decoration:none;}.title.svelte-zwv9rr:visited {text-decoration:none;color:#222;}.title.svelte-zwv9rr:hover {text-decoration:none;color:darkgray}.title.svelte-zwv9rr:active {text-decoration:none;}.title_text.svelte-zwv9rr {display:flex;align-items:center;}.right_menus.svelte-zwv9rr {display:flex;height:100%;flex:auto;flex-flow:row-reverse;}.menu_button.svelte-zwv9rr {height:100%;display:flex;align-items:center;margin-right:18px;cursor:pointer;border:0px;background-color:transparent;}.menu_icon.svelte-zwv9rr {height:30px;width:30px;object-fit:cover;}.menu_icon.svelte-zwv9rr:hover {cursor:pointer;}.round.svelte-zwv9rr {height:40px;width:40px;border-radius:50%;}"};function Vl(n,t){Le(t,!0),le(n,ey);let e=$(t,"title",3,""),i=$(t,"titleImageUrl",3,""),o=$(t,"headerMenus",23,()=>[]);typeof o()=="string"&&o(JSON.parse(o()));let r=Ut({}),s=Ut({});function a(g,f){g&&g.stopPropagation();for(const p of Object.keys(r))p!=f&&(r[p]=!1);r[f]?r[f]=!1:r[f]=!0}function l(g){let f={},p;if(s[g]&&(p=s[g]),p){var b=p.getBoundingClientRect();f.top=(b.top+b.height+12).toString()+"px",f.left=(b.left-150).toString()+"px",console.log(f)}else console.log("Could not find element with id: "+g);return f}function c(g){return g.toLowerCase().replaceAll(" ","_")}document.onclick=function(){for(const g of Object.keys(r))r[g]=!1};var d=ty(),u=O(d);ae(u,()=>e()||i(),g=>{var f=Q1(),p=O(f);ae(p,i,k=>{var w=Y1();ut(()=>At(w,"src",i())),U(k,w)});var b=et(p,2);ae(b,e,k=>{var w=Z1(),_=O(w,!0);D(w),ut(()=>Wt(_,e())),U(k,w)}),D(f),U(g,f)});var h=et(u,2);ge(h,21,o,me,(g,f)=>{var p=X1(),b=vo(p);ut(()=>At(b,"id",c(N(f).title+"_button"))),b.__click=[J1,a,f];var k=O(b);d1(k,(_,y)=>s[c(y.title+"_button")]=_,_=>s?.[c(_.title+"_button")],()=>[N(f)]),D(b);var w=et(b,2);ae(w,()=>r[N(f).title],_=>{var y=nh(()=>l(c(N(f).title+"_button")));tm(_,{get menuItems(){return N(f).items},get position(){return N(y)}})}),ut(()=>{At(k,"alt",N(f).title),At(k,"src",N(f).imageUrl),Ao(k,"round",N(f).imageShape==="round")}),U(g,p)}),D(h),D(d),U(n,d),Be()}yi(["click"]),customElements.define("mv-elegant-header",oe(Vl,{title:{},titleImageUrl:{},headerMenus:{}},[],[],!0));function iy(n,t,e,i){t.searchloadresults&&Jt(e,Ut(t.searchloadresults(i())))}function ny(n,t,e,i){n.key==="Escape"?Jt(t,Ut([])):n.key==="Enter"&&(e.searchsubmit&&e.searchsubmit(i()),document.dispatchEvent(new CustomEvent("SearchSubmit",{detail:{text:i()}})),i(""))}var oy=W('<div class="result svelte-ihhy65"> </div>'),ry=W('<div class="results svelte-ihhy65"><div class="results_frame svelte-ihhy65"><div class="results_list svelte-ihhy65"></div></div></div>'),sy=W('<div class="input_frame svelte-ihhy65"><div class="search_frame svelte-ihhy65"><div class="search_icon svelte-ihhy65"><svg width="18px" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#9aa0a6" d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></div> <input class="search_input svelte-ihhy65"></div></div> <!>',1);const ay={hash:"svelte-ihhy65",code:`.input_frame.svelte-ihhy65 {min-height:44px;background:#fff;border:1px solid #dfe1e5;box-shadow:0px 2px 8px 0px rgba(60, 64, 67, 0.25);border-radius:24px;margin:0 auto;max-width:584px;}.search_frame.svelte-ihhy65 {display:flex;flex-flow:row wrap;width:100%;flex:1;padding:0 8px 0 0;}.search_icon.svelte-ihhy65 {display:flex;align-items:center;padding-right:13px;padding-left:14px;height:46px;color:#9aa0a6;z-index:11;}.search_input.svelte-ihhy65 {display:flex;flex-wrap:wrap;flex:1;border:none;border-radius:24px;font-size:18px;width:100%;z-index:11;background-color:transparent;}.search_input.svelte-ihhy65:focus,
  .search_input.svelte-ihhy65:focus {outline:none;}.results.svelte-ihhy65 {position:absolute;margin:0px 0px 0px 0px;width:398px;border:1px solid #dfe1e5;z-index:10;background:#fff;border-radius:0px 0px 24px 24px;}.results_list.svelte-ihhy65 {margin-top:10px;background:#fff;width:100%;z-index:10;}.results_frame.svelte-ihhy65 {position:relative;top:-22px;background:#fff;border-left:1px solid #dfe1e5;border-right:1px solid #dfe1e5;width:398px;left:-1px;z-index:10;height:300px;overflow-x:hidden;}.result.svelte-ihhy65 {width:100%;padding:4px 0px 4px 16px;}.result.svelte-ihhy65:hover {cursor:pointer;background-color:#dfe1e5;}`};function Fl(n,t){Le(t,!0),le(n,ay);let e=$(t,"searchtext",15),i=Rn(Ut([]));document.addEventListener("SearchResults",c=>{c.detail.results&&Jt(i,Ut(c.detail.results))});var o=sy(),r=vo(o),s=O(r),a=et(O(s),2);Rs(a),a.__input=[iy,t,i,e],a.__keyup=[ny,i,t,e],D(s),D(r);var l=et(r,2);ae(l,()=>N(i).length>0,c=>{var d=ry(),u=O(d),h=O(u);ge(h,21,()=>N(i),me,(g,f)=>{var p=oy(),b=O(p,!0);D(p),ut(()=>Wt(b,N(f))),U(g,p)}),D(h),D(u),D(d),U(c,d)}),js(a,e),U(n,o),Be()}yi(["input","keyup"]),customElements.define("mv-elegant-search",oe(Fl,{searchtext:{},searchloadresults:{},searchsubmit:{}},[],[],!0));var ly=W('<img class="hero_image svelte-pm9u4t" alt="logo">'),cy=W('<div class="hero svelte-pm9u4t"><div class="hero_logo svelte-pm9u4t"><!> <div class="hero_logo_text svelte-pm9u4t"> </div></div> <div class="hero_search svelte-pm9u4t"><!></div></div>');const dy={hash:"svelte-pm9u4t",code:'.hero.svelte-pm9u4t {width:100%;display:flex;justify-content:center;flex-flow:row wrap;}.hero_logo.svelte-pm9u4t {display:flex;margin-top:150px;width:100%;justify-content:center;align-items:center;font-family:"Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;font-weight:560;color:#333;font-size:20px;}.hero_image.svelte-pm9u4t {width:50px;height:50px;}.hero_logo_text.svelte-pm9u4t {padding-left:12px;}.hero_search.svelte-pm9u4t {width:400px;}'};function jl(n,t){le(n,dy);let e=$(t,"height",3,"80px"),i=$(t,"title",3,""),o=$(t,"titleImageUrl",3,""),r=$(t,"searchtext",15);var s=cy(),a=O(s),l=O(a);ae(l,o,g=>{var f=ly();ut(()=>{At(f,"height",`${e()}`),At(f,"src",o())}),U(g,f)});var c=et(l,2),d=O(c,!0);D(c),D(a);var u=et(a,2),h=O(u);Fl(h,{get searchtext(){return r()},set searchtext(g){r(g)},get searchloadresults(){return t.searchloadresults},get searchsubmit(){return t.searchsubmit}}),D(u),D(s),ut(()=>{At(a,"style",`height: ${e()};`),Wt(d,i())}),U(n,s)}customElements.define("mv-elegant-hero-search",oe(jl,{text:{reflect:!0},height:{},title:{},titleImageUrl:{},searchtext:{},searchloadresults:{},searchsubmit:{}},[],[],!0));function uy(n,t,e){n.srcElement&&t(n.srcElement.value),e.onInput&&e.onInput(t())}var hy=W('<option class="svelte-1im86kb"> </option>'),my=W('<div class="select svelte-1im86kb"><select name="source" id="source" class="svelte-1im86kb"></select></div>');const gy={hash:"svelte-1im86kb",code:`.select.svelte-1im86kb,
.select.svelte-1im86kb :where(.svelte-1im86kb) {margin:0;padding:0;position:relative;box-sizing:border-box;}.select.svelte-1im86kb {position:relative;background-color:#f0f0f0;border-radius:12px;width:200px;height:40px;}.select.svelte-1im86kb select:where(.svelte-1im86kb) {font-size:1rem;font-weight:normal;width:100%;padding:10px 24px 8px 10px;border:none;background-color:transparent;appearance:none;}.select.svelte-1im86kb select:where(.svelte-1im86kb):active, .select.svelte-1im86kb select:where(.svelte-1im86kb):focus {outline:none;box-shadow:none;}.select.svelte-1im86kb:after {content:"";position:absolute;top:50%;right:8px;width:0;height:0;margin-top:-2px;border-top:5px solid #aaa;border-right:5px solid transparent;border-left:5px solid transparent;}`};function em(n,t){Le(t,!0),le(n,gy);let e=$(t,"input",15),i=$(t,"options",19,()=>[]);var o=my(),r=O(o);r.__input=[uy,e,t],ge(r,21,i,me,(s,a)=>{var l=hy(),c={},d=O(l,!0);D(l),ut(()=>{c!==(c=N(a))&&(l.value=(l.__value=N(a))==null?"":N(a)),Wt(d,N(a))}),U(s,l)}),D(r),D(o),l1(r,e),U(n,o),Be()}yi(["input"]),customElements.define("mv-elegant-select",oe(em,{input:{},onInput:{},options:{}},[],[],!0));function fy(n,t,e){t()==="CARD"?t("TABLE"):t("CARD"),e.viewselect&&e.viewselect(t())}var py=(n,t,e)=>t(N(e).name),by=W('<div class="icon svelte-lvweti">\u2713</div>'),ky=W('<div class="icon svelte-lvweti"> </div>'),wy=W('<div class="filterbar_option svelte-lvweti"><!> <div class="name svelte-lvweti"> </div></div>'),_y=W('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M3 9.5H21M3 14.5H21M8 4.5V19.5M6.2 19.5H17.8C18.9201 19.5 19.4802 19.5 19.908 19.282C20.2843 19.0903 20.5903 18.7843 20.782 18.408C21 17.9802 21 17.4201 21 16.3V7.7C21 6.5799 21 6.01984 20.782 5.59202C20.5903 5.21569 20.2843 4.90973 19.908 4.71799C19.4802 4.5 18.9201 4.5 17.8 4.5H6.2C5.0799 4.5 4.51984 4.5 4.09202 4.71799C3.71569 4.90973 3.40973 5.21569 3.21799 5.59202C3 6.01984 3 6.57989 3 7.7V16.3C3 17.4201 3 17.9802 3.21799 18.408C3.40973 18.7843 3.71569 19.0903 4.09202 19.282C4.51984 19.5 5.07989 19.5 6.2 19.5Z" stroke="#d8d8d8" stroke-width="2"></path></g></svg>'),vy=W('<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#d8d8d8"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title></title><g id="Complete"><g id="grid"><g><rect fill="none" height="7" stroke="#d8d8d8" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="7" x="14.5" y="2.5"></rect><rect fill="none" height="7" stroke="#d8d8d8" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="7" x="14.5" y="14.5"></rect><rect fill="none" height="7" stroke="#d8d8d8" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="7" x="2.5" y="2.5"></rect><rect fill="none" height="7" stroke="#d8d8d8" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="7" x="2.5" y="14.5"></rect></g></g></g></g></svg>'),yy=W('<div class="filterbar_frame svelte-lvweti"><div class="options svelte-lvweti"></div> <div class="filter svelte-lvweti"><button class="view_toggle svelte-lvweti"><!></button> <!></div></div>');const Cy={hash:"svelte-lvweti",code:`.filterbar_frame.svelte-lvweti {display:flex;max-width:2000px;
    /* margin: 20px 10px 0px 16px; */margin:20px auto 0px auto;}.options.svelte-lvweti {display:flex;justify-content:left;width:100%;margin-left:16px;}.filter.svelte-lvweti {display:flex;margin-right:16px;}.filterbar_option.svelte-lvweti {display:flex;min-width:20px;height:40px;font-size:14px;font-weight:700;color:rgb(51, 103, 214);margin-right:6px;margin-bottom:4px;height:20px;padding:4px 8px 6px;border-radius:44px;border-width:1px;border-style:solid;border-color:lightgray;user-select:none;}.filterbar_option_selected.svelte-lvweti {background-color:rgb(209, 227, 255);}.filterbar_option.svelte-lvweti:hover {cursor:pointer;background-color:rgb(209, 227, 255);}.icon.svelte-lvweti {color:rgb(51, 103, 214);font-size:16px;font-weight:700;display:inline-block;width:18px;margin-right:6px;}.name.svelte-lvweti {float:right;margin-top:2px;font-size:14px;font-weight:700;color:rgb(51, 103, 214);}.view_toggle.svelte-lvweti {margin-right:12px;width:44px;border:0px;background-color:transparent;}.view_toggle.svelte-lvweti:hover {cursor:pointer;}`};function im(n,t){Le(t,!0),le(n,Cy);let e=$(t,"view",15,"card"),i=Ut({});function o(h){i[h]?i[h]=!1:i[h]=!0,t.typeselect&&t.typeselect(i)}function r(h){t.sortselect&&t.sortselect(h)}var s=yy(),a=O(s);ge(a,21,()=>t.types,me,(h,g)=>{var f=wy();f.__click=[py,o,g];var p=O(f);ae(p,()=>i[N(g).name]===!0,w=>{var _=by();U(w,_)},w=>{var _=ky(),y=O(_,!0);D(_),ut(()=>Wt(y,N(g).icon)),U(w,_)});var b=et(p,2),k=O(b,!0);D(b),D(f),ut(()=>{Ao(f,"filterbar_option_selected",i[N(g).name]),Wt(k,N(g).name)}),U(h,f)}),D(a);var l=et(a,2),c=O(l);c.__click=[fy,e,t];var d=O(c);ae(d,()=>e()==="CARD",h=>{var g=_y();U(h,g)},h=>{var g=vy();U(h,g)}),D(c);var u=et(c,2);em(u,{input:"Latest",get options(){return t.sorts},onInput:r}),D(l),D(s),U(n,s),Be()}yi(["click"]),customElements.define("mv-elegant-filtertypes",oe(im,{types:{},sorts:{},typeselect:{},sortselect:{},view:{},viewselect:{}},[],[],!0));var Ay=W('<img alt="type icon" class="svelte-1feueb0">'),xy=W('<img alt="type icon" class="svelte-1feueb0">'),Ey=W('<div class="card_frame svelte-1feueb0"><div class="top_left_label svelte-1feueb0"><span class="svelte-1feueb0"> </span> <div class="top_right_icons svelte-1feueb0"></div></div> <img class="header_image svelte-1feueb0" alt="header preview"> <a class="title svelte-1feueb0"> </a> <a class="author svelte-1feueb0" target="_blank"><img alt="profile" class="svelte-1feueb0"> </a> <div class="footer svelte-1feueb0"><div class="description svelte-1feueb0"> </div> <div class="link svelte-1feueb0"><a target="_blank" class="svelte-1feueb0">Open asset \u2197</a> <div class="type_box svelte-1feueb0"></div></div></div></div>');const Ty={hash:"svelte-1feueb0",code:".card_frame.svelte-1feueb0 {display:flex;flex-wrap:wrap;width:288px;height:428px;border:1px solid var(--gm3-sys-color-surface-variant, #e1e3e1);border-radius:12px;margin:16px 16px 32px 16px;}.top_left_label.svelte-1feueb0 {display:flex;padding:12px 18px;color:#444746;width:100%;height:28px;}.top_left_label.svelte-1feueb0 span:where(.svelte-1feueb0) {white-space:nowrap;}.top_right_icons.svelte-1feueb0 {display:flex;justify-content:right;width:100%;}.top_right_icons.svelte-1feueb0 img:where(.svelte-1feueb0) {object-fit:cover;width:24px;height:24px;margin-left:4px;}.header_image.svelte-1feueb0 {width:calc(100% - 18px);margin:0px 18px;object-fit:cover;height:144px;border-radius:7px;}.title.svelte-1feueb0 {padding:12px 18px 4px;height:48px;color:#1f1f1f;font-weight:600;font-size:18px;overflow:hidden;text-overflow:ellipsis;line-height:1.5rem;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.title.svelte-1feueb0:hover {color:#7c7c7c;}.author.svelte-1feueb0 {display:flex;align-items:start;padding:0px 18px 4px;height:20px;color:#444746;font-size:.875rem;font-weight:400;line-height:1.25rem;overflow:hidden;text-overflow:ellipsis;}.author.svelte-1feueb0 img:where(.svelte-1feueb0) {border-radius:50%;object-fit:cover;width:18px;height:18px;margin-right:8px;}.author.svelte-1feueb0:hover {color:#757a79;}.footer.svelte-1feueb0 {display:flex;flex-direction:column;justify-content:space-between;min-height:134px;padding-top:9px;padding-bottom:3px;width:100%;}.description.svelte-1feueb0 {padding:3px 18px;height:54px;width:calc(100% - 36px);overflow:hidden;color:#444746;font-size:.875rem;font-weight:400;letter-spacing:0;line-height:1.25rem;outline:none;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;}.link.svelte-1feueb0 {display:flex;width:calc(100% - 36px);overflow:hidden;padding:0px 16px;padding-bottom:14px;}.link.svelte-1feueb0 a:where(.svelte-1feueb0) {color:#0b57d0;font-weight:600;font-size:.975rem;letter-spacing:0;line-height:1.25rem;white-space:nowrap;}.link.svelte-1feueb0 a:where(.svelte-1feueb0):hover {color:#82aae9;}.type_box.svelte-1feueb0 {display:flex;justify-content:right;flex-wrap:wrap;width:100%;}.type_box.svelte-1feueb0 img:where(.svelte-1feueb0) {object-fit:cover;width:24px;height:24px;margin-left:4px;}"};function nm(n,t){Le(t,!0),le(n,Ty);let e=$(t,"item",19,()=>({dateTime:"",categories:[],imageUrl:"",title:"",authorImageUrl:"",authorName:"",authorUrl:"",description:"",link:"",types:[]}));var i=Ey(),o=O(i),r=O(o),s=O(r,!0);D(r);var a=et(r,2);ge(a,21,()=>e().categories,me,(y,A)=>{var x=Ay();ut(()=>{At(x,"src",N(A).url),At(x,"title",N(A).title)}),U(y,x)}),D(a),D(o);var l=et(o,2),c=et(l,2),d=O(c,!0);D(c);var u=et(c,2),h=O(u),g=et(h);D(u);var f=et(u,2),p=O(f),b=O(p,!0);D(p);var k=et(p,2),w=O(k),_=et(w,2);ge(_,21,()=>e().types,me,(y,A)=>{var x=xy();ut(()=>{At(x,"src",N(A).url),At(x,"title",N(A).title)}),U(y,x)}),D(_),D(k),D(f),D(i),ut(()=>{Wt(s,e().dateTime),At(l,"src",e().imageUrl),At(c,"href",e().link),Wt(d,e().description),At(u,"href",e().authorUrl),At(h,"src",e().authorImageUrl),Wt(g,` ${e().authorName??""}`),Wt(b,e().description),At(w,"href",e().link)}),U(n,i),Be()}customElements.define("mv-elegant-card",oe(nm,{item:{}},[],[],!0));var Sy=W('<div class="menu_frame svelte-1dvvvu9"></div>');const Iy={hash:"svelte-1dvvvu9",code:`.menu_frame.svelte-1dvvvu9 {max-width:2000px;margin:0px auto;display:flex;
    /* justify-content: center; */flex-wrap:wrap;}`};function om(n,t){le(n,Iy);let e=$(t,"items",7);typeof e()=="string"&&e(JSON.parse(e()));var i=Sy();ge(i,21,e,me,(o,r)=>{nm(o,{get item(){return N(r)}})}),D(i),U(n,i)}customElements.define("mv-elegant-cardpage",oe(om,{items:{}},[],[],!0));var My=(n,t,e)=>t(N(e).name),Dy=W('<div class="filterbar_option svelte-1d4e3jq"><div class="letter svelte-1d4e3jq"> </div> <div class="name svelte-1d4e3jq"> </div></div>'),Py=W('<div class="filterbar_frame svelte-1d4e3jq"></div>');const Ly={hash:"svelte-1d4e3jq",code:`.filterbar_frame.svelte-1d4e3jq {display:flex;justify-content:center;}.filterbar_option.svelte-1d4e3jq {display:flex;flex-flow:row wrap;width:60px;height:100px;margin:8px;user-select:none;
    /* background-color: red; */}.letter.svelte-1d4e3jq {display:flex;align-items:center;justify-content:center;width:100%;height:52px;margin:2px 2px 0px 2px;border-radius:80%;text-align:center;font-size:22px;font-weight:bold;color:#3367d6;border-width:1px;border-style:solid;border-color:transparent;}.letter_selected.svelte-1d4e3jq {background-color:rgb(228, 228, 228);}.letter.svelte-1d4e3jq:hover {cursor:pointer;border-color:lightgray;}.name.svelte-1d4e3jq {width:100%;position:relative;top:-8px;text-align:center;color:gray;font-size:14px;}`};function rm(n,t){Le(t,!0),le(n,Ly);let e=Ut({});function i(r){e[r]?e[r]=!1:e[r]=!0,t.categoryselect&&t.categoryselect(e)}var o=Py();ge(o,21,()=>t.categories,me,(r,s)=>{var a=Dy(),l=O(a);l.__click=[My,i,s];var c=O(l,!0);D(l);var d=et(l,2),u=O(d,!0);D(d),D(a),ut(()=>{Ao(l,"letter_selected",e[N(s).name]),Wt(c,N(s).letter),Wt(u,N(s).name)}),U(r,a)}),D(o),U(n,o),Be()}yi(["click"]),customElements.define("mv-elegant-filtercats",oe(rm,{categories:{},categoryselect:{}},[],[],!0));function By(n,t,e,i,o){if(N(t)){let r=[];for(let s of e()){let a=!1;for(let l of i())if(l.searchable&&s[l.name]&&s[l.name].toString().toLowerCase().includes(N(t).toLowerCase())){a=!0;break}a&&r.push(s)}Jt(o,Ut(r))}else Jt(o,Ut(e()))}var Ny=W('<th class="svelte-1nbcvq9"> </th>'),zy=W('<a class="table_row svelte-1nbcvq9"> </a>'),Oy=W('<span class="table_row svelte-1nbcvq9"> </span>'),Ry=W('<td class="svelte-1nbcvq9"><!></td>'),Vy=W("<td></td>"),Fy=W('<tr class="svelte-1nbcvq9"></tr>'),jy=W('<div class="frame svelte-1nbcvq9" style="container-type: inline-size;"><div class="filter svelte-1nbcvq9"><svg data-icon-name="filterIcon" viewBox="0 0 18 18" width="18" height="18" aria-hidden="true"><path fill-rule="evenodd" d="M2 4h14v2H2V4zm2 4h10v2H4V8zm2 4h6v2H6v-2z"></path></svg> <span class="filter_input_box svelte-1nbcvq9">Filter <input class="filter_input svelte-1nbcvq9" placeholder="Value to filter for"></span></div> <table class="svelte-1nbcvq9"><thead class="svelte-1nbcvq9"><tr class="svelte-1nbcvq9"></tr></thead><tbody class="svelte-1nbcvq9"></tbody></table></div>');const Hy={hash:"svelte-1nbcvq9",code:`.frame.svelte-1nbcvq9 {
    /* border-color: #eaedf2 !important; */
    /* box-shadow: 0 2px 18px rgba(0, 0, 0, 0.02) !important; */min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;
    /* border: 0.0625rem solid rgba(46, 54, 80, 0.125); */border-radius:0.5rem;padding:22px 32px;font-family:"Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;}table.svelte-1nbcvq9 {width:100%;margin-bottom:1rem;color:#4a5073;vertical-align:top;border-color:#eaedf2;font-family:"Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;border-collapse:collapse;}table.svelte-1nbcvq9 thead:where(.svelte-1nbcvq9) tr:where(.svelte-1nbcvq9) th:where(.svelte-1nbcvq9) {vertical-align:center;text-align:left;border-bottom:1px solid #eaedf2 !important;font-size:12px;font-weight:bold;padding-left:14px;padding-bottom:10px;}.table_row.svelte-1nbcvq9 {padding-left:14px;padding-top:14px;padding-bottom:14px;border-bottom:1px solid #eaedf2 !important;display:block;}table.svelte-1nbcvq9 tbody:where(.svelte-1nbcvq9) tr:where(.svelte-1nbcvq9):hover {background-color:#eff0f2;cursor:pointer;border-radius:0.5rem;}.table_row_selected.svelte-1nbcvq9 {background-color:#eff0f2;border-radius:0.5rem;}

  @container (width <= 768px) {.column_sm.svelte-1nbcvq9 {display:none;}
  }a.svelte-1nbcvq9:link {text-decoration:none;color:#4a5073;}a.svelte-1nbcvq9:visited {text-decoration:none;color:#4a5073;}a.svelte-1nbcvq9:hover {text-decoration:none;color:#4a5073;}a.svelte-1nbcvq9:active {text-decoration:none;}td.svelte-1nbcvq9 a:where(.svelte-1nbcvq9) {display:block;}.filter.svelte-1nbcvq9 {margin-top:20px;margin-bottom:8px;margin-left:8px;}.filter_input_box.svelte-1nbcvq9 {position:relative;top:-3px;font-weight:bold;font-size:14px;}.filter_input.svelte-1nbcvq9 {width:50%;margin-left:8px;font-family:Google Sans,
      Roboto,
      Helvetica,
      Arial,
      sans-serif;padding:var(--padding);
    /* border: 2px solid gray; */border:0px;outline:none;border-radius:0px;
    /* background-color: #f1f3f4; */background-color:rgb(255, 255, 255);}`};function Hl(n,t){Le(t,!0),le(n,Hy);let e=$(t,"tableHeaders",23,()=>[]),i=$(t,"tableRows",23,()=>[]),o=$(t,"linkprefix",3,""),r=$(t,"linkcolumnname",3,""),s=$(t,"tableRowClick",3,void 0);typeof e()=="string"&&e(JSON.parse(e())),typeof i()=="string"&&i(JSON.parse(i()));let a=Rn(Ut(i())),l=Rn(""),c=Rn(-1);const d=_=>{Jt(c,Ut(_)),s()&&s()({detail:{rowIndex:_}}),document.dispatchEvent(new CustomEvent("TableRowClick",{detail:{rowIndex:_}}))};var u=jy(),h=O(u),g=et(O(h),2),f=et(O(g));Rs(f),f.__keyup=[By,l,i,e,a],D(g),D(h);var p=et(h,2),b=O(p),k=O(b);ge(k,21,e,me,(_,y)=>{var A=Ny(),x=O(A,!0);D(A),ut(()=>{Ao(A,"column_sm",N(y).hideNarrow),Wt(x,N(y).displayName)}),U(_,A)}),D(k),D(b);var w=et(b);ge(w,21,()=>N(a),me,(_,y,A)=>{var x=Fy();x.__click=()=>{d(A)},ge(x,21,e,me,(I,z)=>{var Y=zh(),Vt=vo(Y);ae(Vt,()=>N(y)[N(z).name],we=>{var ct=Ry(),ee=O(ct);ae(ee,r,Bt=>{var qt=zy(),_e=O(qt,!0);D(qt),ut(()=>{At(qt,"href",o()+N(y)[r()]),Wt(_e,N(y)[N(z).name])}),U(Bt,qt)},Bt=>{var qt=Oy(),_e=O(qt,!0);D(qt),ut(()=>Wt(_e,N(y)[N(z).name])),U(Bt,qt)}),D(ct),ut(()=>Ao(ct,"column_sm",N(z).hideNarrow)),U(we,ct)},we=>{var ct=Vy();U(we,ct)}),U(I,Y)}),D(x),ut(()=>Ao(x,"table_row_selected",A===N(c))),U(_,x)}),D(w),D(p),D(u),js(f,()=>N(l),_=>Jt(l,_)),U(n,u),Be()}yi(["keyup","click"]),customElements.define("mv-elegant-table",oe(Hl,{tableHeaders:{},tableRows:{},linkprefix:{},linkcolumnname:{},tableRowClick:{}},[],[],!0));var Uy=W("<!> <!> <!> <!> <!>",1);const $y={hash:"svelte-32ttx",code:""};function sm(n,t){le(n,$y);let e=$(t,"title",3,""),i=$(t,"titleImageUrl",3,""),o=$(t,"headerMenus",19,()=>[]),r=$(t,"searchtext",7,""),s=$(t,"categories",19,()=>[]),a=$(t,"types",19,()=>[]),l=$(t,"sorts",19,()=>[]),c=Rn("CARD"),d=Ut([{name:"dateTime",displayName:"Date",searchable:!1},{name:"authorName",displayName:"Author",searchable:!0},{name:"title",displayName:"Title",searchable:!0}]);var u=Uy(),h=vo(u);Vl(h,{get title(){return e()},get titleImageUrl(){return i()},get headerMenus(){return o()}});var g=et(h,2);jl(g,{get title(){return e()},get titleImageUrl(){return i()},get searchtext(){return r()},set searchtext(k){r(k)},get searchloadresults(){return t.searchloadresults},get searchsubmit(){return t.searchsubmit}});var f=et(g,2);rm(f,{get categories(){return s()},get categoryselect(){return t.categoryselect}});var p=et(f,2);im(p,{get types(){return a()},get sorts(){return l()},get typeselect(){return t.typeselect},get sortselect(){return t.sortselect},get view(){return N(c)},set view(k){Jt(c,Ut(k))}});var b=et(p,2);ae(b,()=>N(c)==="CARD",k=>{om(k,{get items(){return t.items}})},k=>{Hl(k,{get tableHeaders(){return d},get tableRows(){return t.items},linkprefix:"",linkcolumnname:"link",update:void 0})}),U(n,u)}customElements.define("mv-elegant-buffet",oe(sm,{title:{},titleImageUrl:{},headerMenus:{},searchtext:{},searchloadresults:{},searchsubmit:{},categories:{},categoryselect:{},types:{},typeselect:{},sorts:{},sortselect:{},items:{}},[],[],!0));var qy=W('<div class="lds-ring svelte-nag87b"><div class="svelte-nag87b"></div><div class="svelte-nag87b"></div><div class="svelte-nag87b"></div><div class="svelte-nag87b"></div></div>');const Wy={hash:"svelte-nag87b",code:`.lds-ring.svelte-nag87b {
  /* display: inline-block;
  position: relative; */display:inline-block;position:absolute;width:99%;text-align:center;height:80px;}.lds-ring.svelte-nag87b div:where(.svelte-nag87b) {box-sizing:border-box;position:absolute;left:48%;top:42%;width:32px;height:32px;margin:8px;border:4px solid #3367d6;border-radius:50%;
  animation: svelte-nag87b-lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#3367d6 transparent transparent transparent;}.lds-ring.svelte-nag87b div:where(.svelte-nag87b):nth-child(1) {animation-delay:-0.45s;}.lds-ring.svelte-nag87b div:where(.svelte-nag87b):nth-child(2) {animation-delay:-0.3s;}.lds-ring.svelte-nag87b div:where(.svelte-nag87b):nth-child(3) {animation-delay:-0.15s;}
@keyframes svelte-nag87b-lds-ring {
  0% {
      transform: rotate(0deg);
  }
  100% {
      transform: rotate(360deg);
  }
}`};function am(n,t){le(n,Wy);var e=qy();U(n,e)}customElements.define("mv-elegant-spinner",oe(am,{},[],[],!0));const Gy=`(function (t) {
  const e = (t["en"] = t["en"] || {});
  e.dictionary = Object.assign(e.dictionary || {}, {
    "%0 of %1": "%0 of %1",
    "Align center": "Align center",
    "Align left": "Align left",
    "Align right": "Align right",
    "Align table to the left": "Align table to the left",
    "Align table to the right": "Align table to the right",
    Alignment: "Alignment",
    "Almost equal to": "Almost equal to",
    Angle: "Angle",
    "Approximately equal to": "Approximately equal to",
    Aquamarine: "Aquamarine",
    "Asterisk operator": "Asterisk operator",
    "Austral sign": "Austral sign",
    "back with leftwards arrow above": "back with leftwards arrow above",
    Background: "Background",
    Big: "Big",
    "Bitcoin sign": "Bitcoin sign",
    Black: "Black",
    "Block quote": "Block quote",
    Blue: "Blue",
    "Blue marker": "Blue marker",
    Bold: "Bold",
    Border: "Border",
    "Break text": "Break text",
    "Bulleted List": "Bulleted List",
    Cancel: "Cancel",
    "Caption for image: %0": "Caption for image: %0",
    "Caption for the image": "Caption for the image",
    "Cedi sign": "Cedi sign",
    "Cent sign": "Cent sign",
    "Center table": "Center table",
    "Centered image": "Centered image",
    "Change image text alternative": "Change image text alternative",
    "Character categories": "Character categories",
    "Characters: %0": "Characters: %0",
    "Choose heading": "Choose heading",
    Code: "Code",
    "Colon sign": "Colon sign",
    Color: "Color",
    "Color picker": "Color picker",
    Column: "Column",
    "Contains as member": "Contains as member",
    "Copyright sign": "Copyright sign",
    "Cruzeiro sign": "Cruzeiro sign",
    "Currency sign": "Currency sign",
    Dashed: "Dashed",
    "Decrease indent": "Decrease indent",
    Default: "Default",
    "Degree sign": "Degree sign",
    "Delete column": "Delete column",
    "Delete row": "Delete row",
    "Dim grey": "Dim grey",
    Dimensions: "Dimensions",
    "Division sign": "Division sign",
    "Document colors": "Document colors",
    "Dollar sign": "Dollar sign",
    "Dong sign": "Dong sign",
    Dotted: "Dotted",
    Double: "Double",
    "Double dagger": "Double dagger",
    "Double exclamation mark": "Double exclamation mark",
    "Double low-9 quotation mark": "Double low-9 quotation mark",
    "Double question mark": "Double question mark",
    Downloadable: "Downloadable",
    "downwards arrow to bar": "downwards arrow to bar",
    "downwards dashed arrow": "downwards dashed arrow",
    "downwards double arrow": "downwards double arrow",
    "downwards simple arrow": "downwards simple arrow",
    "Drachma sign": "Drachma sign",
    "Dropdown toolbar": "Dropdown toolbar",
    "Edit block": "Edit block",
    "Edit link": "Edit link",
    "Edit source": "Edit source",
    "Editor block content toolbar": "Editor block content toolbar",
    "Editor contextual toolbar": "Editor contextual toolbar",
    "Editor editing area: %0": "Editor editing area: %0",
    "Editor toolbar": "Editor toolbar",
    "Element of": "Element of",
    "Em dash": "Em dash",
    "Empty set": "Empty set",
    "Empty snippet content": "Empty snippet content",
    "En dash": "En dash",
    "end with leftwards arrow above": "end with leftwards arrow above",
    "Enter image caption": "Enter image caption",
    "Euro sign": "Euro sign",
    "Euro-currency sign": "Euro-currency sign",
    "Exclamation question mark": "Exclamation question mark",
    "Font Background Color": "Font Background Color",
    "Font Color": "Font Color",
    "Font Family": "Font Family",
    "Font Size": "Font Size",
    "For all": "For all",
    "Fraction slash": "Fraction slash",
    "French franc sign": "French franc sign",
    "Full size image": "Full size image",
    "German penny sign": "German penny sign",
    "Greater-than or equal to": "Greater-than or equal to",
    "Greater-than sign": "Greater-than sign",
    Green: "Green",
    "Green marker": "Green marker",
    "Green pen": "Green pen",
    Grey: "Grey",
    Groove: "Groove",
    "Guarani sign": "Guarani sign",
    "Header column": "Header column",
    "Header row": "Header row",
    Heading: "Heading",
    "Heading 1": "Heading 1",
    "Heading 2": "Heading 2",
    "Heading 3": "Heading 3",
    "Heading 4": "Heading 4",
    "Heading 5": "Heading 5",
    "Heading 6": "Heading 6",
    Height: "Height",
    Highlight: "Highlight",
    "Horizontal ellipsis": "Horizontal ellipsis",
    "Horizontal line": "Horizontal line",
    "Hryvnia sign": "Hryvnia sign",
    "HTML object": "HTML object",
    "HTML snippet": "HTML snippet",
    Huge: "Huge",
    "Identical to": "Identical to",
    "Image resize list": "Image resize list",
    "Image toolbar": "Image toolbar",
    "image widget": "image widget",
    "In line": "In line",
    "Increase indent": "Increase indent",
    "Indian rupee sign": "Indian rupee sign",
    Infinity: "Infinity",
    Insert: "Insert",
    "Insert code block": "Insert code block",
    "Insert column left": "Insert column left",
    "Insert column right": "Insert column right",
    "Insert HTML": "Insert HTML",
    "Insert image": "Insert image",
    "Insert image via URL": "Insert image via URL",
    "Insert media": "Insert media",
    "Insert paragraph after block": "Insert paragraph after block",
    "Insert paragraph before block": "Insert paragraph before block",
    "Insert row above": "Insert row above",
    "Insert row below": "Insert row below",
    "Insert table": "Insert table",
    Inset: "Inset",
    Integral: "Integral",
    Intersection: "Intersection",
    "Inverted exclamation mark": "Inverted exclamation mark",
    "Inverted question mark": "Inverted question mark",
    Italic: "Italic",
    Justify: "Justify",
    "Kip sign": "Kip sign",
    "Latin capital letter a with breve": "Latin capital letter a with breve",
    "Latin capital letter a with macron": "Latin capital letter a with macron",
    "Latin capital letter a with ogonek": "Latin capital letter a with ogonek",
    "Latin capital letter c with acute": "Latin capital letter c with acute",
    "Latin capital letter c with caron": "Latin capital letter c with caron",
    "Latin capital letter c with circumflex":
      "Latin capital letter c with circumflex",
    "Latin capital letter c with dot above":
      "Latin capital letter c with dot above",
    "Latin capital letter d with caron": "Latin capital letter d with caron",
    "Latin capital letter d with stroke": "Latin capital letter d with stroke",
    "Latin capital letter e with breve": "Latin capital letter e with breve",
    "Latin capital letter e with caron": "Latin capital letter e with caron",
    "Latin capital letter e with dot above":
      "Latin capital letter e with dot above",
    "Latin capital letter e with macron": "Latin capital letter e with macron",
    "Latin capital letter e with ogonek": "Latin capital letter e with ogonek",
    "Latin capital letter eng": "Latin capital letter eng",
    "Latin capital letter g with breve": "Latin capital letter g with breve",
    "Latin capital letter g with cedilla":
      "Latin capital letter g with cedilla",
    "Latin capital letter g with circumflex":
      "Latin capital letter g with circumflex",
    "Latin capital letter g with dot above":
      "Latin capital letter g with dot above",
    "Latin capital letter h with circumflex":
      "Latin capital letter h with circumflex",
    "Latin capital letter h with stroke": "Latin capital letter h with stroke",
    "Latin capital letter i with breve": "Latin capital letter i with breve",
    "Latin capital letter i with dot above":
      "Latin capital letter i with dot above",
    "Latin capital letter i with macron": "Latin capital letter i with macron",
    "Latin capital letter i with ogonek": "Latin capital letter i with ogonek",
    "Latin capital letter i with tilde": "Latin capital letter i with tilde",
    "Latin capital letter j with circumflex":
      "Latin capital letter j with circumflex",
    "Latin capital letter k with cedilla":
      "Latin capital letter k with cedilla",
    "Latin capital letter l with acute": "Latin capital letter l with acute",
    "Latin capital letter l with caron": "Latin capital letter l with caron",
    "Latin capital letter l with cedilla":
      "Latin capital letter l with cedilla",
    "Latin capital letter l with middle dot":
      "Latin capital letter l with middle dot",
    "Latin capital letter l with stroke": "Latin capital letter l with stroke",
    "Latin capital letter n with acute": "Latin capital letter n with acute",
    "Latin capital letter n with caron": "Latin capital letter n with caron",
    "Latin capital letter n with cedilla":
      "Latin capital letter n with cedilla",
    "Latin capital letter o with breve": "Latin capital letter o with breve",
    "Latin capital letter o with double acute":
      "Latin capital letter o with double acute",
    "Latin capital letter o with macron": "Latin capital letter o with macron",
    "Latin capital letter r with acute": "Latin capital letter r with acute",
    "Latin capital letter r with caron": "Latin capital letter r with caron",
    "Latin capital letter r with cedilla":
      "Latin capital letter r with cedilla",
    "Latin capital letter s with acute": "Latin capital letter s with acute",
    "Latin capital letter s with caron": "Latin capital letter s with caron",
    "Latin capital letter s with cedilla":
      "Latin capital letter s with cedilla",
    "Latin capital letter s with circumflex":
      "Latin capital letter s with circumflex",
    "Latin capital letter t with caron": "Latin capital letter t with caron",
    "Latin capital letter t with cedilla":
      "Latin capital letter t with cedilla",
    "Latin capital letter t with stroke": "Latin capital letter t with stroke",
    "Latin capital letter u with breve": "Latin capital letter u with breve",
    "Latin capital letter u with double acute":
      "Latin capital letter u with double acute",
    "Latin capital letter u with macron": "Latin capital letter u with macron",
    "Latin capital letter u with ogonek": "Latin capital letter u with ogonek",
    "Latin capital letter u with ring above":
      "Latin capital letter u with ring above",
    "Latin capital letter u with tilde": "Latin capital letter u with tilde",
    "Latin capital letter w with circumflex":
      "Latin capital letter w with circumflex",
    "Latin capital letter y with circumflex":
      "Latin capital letter y with circumflex",
    "Latin capital letter y with diaeresis":
      "Latin capital letter y with diaeresis",
    "Latin capital letter z with acute": "Latin capital letter z with acute",
    "Latin capital letter z with caron": "Latin capital letter z with caron",
    "Latin capital letter z with dot above":
      "Latin capital letter z with dot above",
    "Latin capital ligature ij": "Latin capital ligature ij",
    "Latin capital ligature oe": "Latin capital ligature oe",
    "Latin small letter a with breve": "Latin small letter a with breve",
    "Latin small letter a with macron": "Latin small letter a with macron",
    "Latin small letter a with ogonek": "Latin small letter a with ogonek",
    "Latin small letter c with acute": "Latin small letter c with acute",
    "Latin small letter c with caron": "Latin small letter c with caron",
    "Latin small letter c with circumflex":
      "Latin small letter c with circumflex",
    "Latin small letter c with dot above":
      "Latin small letter c with dot above",
    "Latin small letter d with caron": "Latin small letter d with caron",
    "Latin small letter d with stroke": "Latin small letter d with stroke",
    "Latin small letter dotless i": "Latin small letter dotless i",
    "Latin small letter e with breve": "Latin small letter e with breve",
    "Latin small letter e with caron": "Latin small letter e with caron",
    "Latin small letter e with dot above":
      "Latin small letter e with dot above",
    "Latin small letter e with macron": "Latin small letter e with macron",
    "Latin small letter e with ogonek": "Latin small letter e with ogonek",
    "Latin small letter eng": "Latin small letter eng",
    "Latin small letter f with hook": "Latin small letter f with hook",
    "Latin small letter g with breve": "Latin small letter g with breve",
    "Latin small letter g with cedilla": "Latin small letter g with cedilla",
    "Latin small letter g with circumflex":
      "Latin small letter g with circumflex",
    "Latin small letter g with dot above":
      "Latin small letter g with dot above",
    "Latin small letter h with circumflex":
      "Latin small letter h with circumflex",
    "Latin small letter h with stroke": "Latin small letter h with stroke",
    "Latin small letter i with breve": "Latin small letter i with breve",
    "Latin small letter i with macron": "Latin small letter i with macron",
    "Latin small letter i with ogonek": "Latin small letter i with ogonek",
    "Latin small letter i with tilde": "Latin small letter i with tilde",
    "Latin small letter j with circumflex":
      "Latin small letter j with circumflex",
    "Latin small letter k with cedilla": "Latin small letter k with cedilla",
    "Latin small letter kra": "Latin small letter kra",
    "Latin small letter l with acute": "Latin small letter l with acute",
    "Latin small letter l with caron": "Latin small letter l with caron",
    "Latin small letter l with cedilla": "Latin small letter l with cedilla",
    "Latin small letter l with middle dot":
      "Latin small letter l with middle dot",
    "Latin small letter l with stroke": "Latin small letter l with stroke",
    "Latin small letter long s": "Latin small letter long s",
    "Latin small letter n preceded by apostrophe":
      "Latin small letter n preceded by apostrophe",
    "Latin small letter n with acute": "Latin small letter n with acute",
    "Latin small letter n with caron": "Latin small letter n with caron",
    "Latin small letter n with cedilla": "Latin small letter n with cedilla",
    "Latin small letter o with breve": "Latin small letter o with breve",
    "Latin small letter o with double acute":
      "Latin small letter o with double acute",
    "Latin small letter o with macron": "Latin small letter o with macron",
    "Latin small letter r with acute": "Latin small letter r with acute",
    "Latin small letter r with caron": "Latin small letter r with caron",
    "Latin small letter r with cedilla": "Latin small letter r with cedilla",
    "Latin small letter s with acute": "Latin small letter s with acute",
    "Latin small letter s with caron": "Latin small letter s with caron",
    "Latin small letter s with cedilla": "Latin small letter s with cedilla",
    "Latin small letter s with circumflex":
      "Latin small letter s with circumflex",
    "Latin small letter t with caron": "Latin small letter t with caron",
    "Latin small letter t with cedilla": "Latin small letter t with cedilla",
    "Latin small letter t with stroke": "Latin small letter t with stroke",
    "Latin small letter u with breve": "Latin small letter u with breve",
    "Latin small letter u with double acute":
      "Latin small letter u with double acute",
    "Latin small letter u with macron": "Latin small letter u with macron",
    "Latin small letter u with ogonek": "Latin small letter u with ogonek",
    "Latin small letter u with ring above":
      "Latin small letter u with ring above",
    "Latin small letter u with tilde": "Latin small letter u with tilde",
    "Latin small letter w with circumflex":
      "Latin small letter w with circumflex",
    "Latin small letter y with circumflex":
      "Latin small letter y with circumflex",
    "Latin small letter z with acute": "Latin small letter z with acute",
    "Latin small letter z with caron": "Latin small letter z with caron",
    "Latin small letter z with dot above":
      "Latin small letter z with dot above",
    "Latin small ligature ij": "Latin small ligature ij",
    "Latin small ligature oe": "Latin small ligature oe",
    "Left aligned image": "Left aligned image",
    "Left double quotation mark": "Left double quotation mark",
    "Left single quotation mark": "Left single quotation mark",
    "Left-pointing double angle quotation mark":
      "Left-pointing double angle quotation mark",
    "leftwards arrow to bar": "leftwards arrow to bar",
    "leftwards dashed arrow": "leftwards dashed arrow",
    "leftwards double arrow": "leftwards double arrow",
    "leftwards simple arrow": "leftwards simple arrow",
    "Less-than or equal to": "Less-than or equal to",
    "Less-than sign": "Less-than sign",
    "Light blue": "Light blue",
    "Light green": "Light green",
    "Light grey": "Light grey",
    Link: "Link",
    "Link image": "Link image",
    "Link URL": "Link URL",
    "Lira sign": "Lira sign",
    "Livre tournois sign": "Livre tournois sign",
    "Logical and": "Logical and",
    "Logical or": "Logical or",
    Macron: "Macron",
    "Manat sign": "Manat sign",
    "Media toolbar": "Media toolbar",
    "Media URL": "Media URL",
    "media widget": "media widget",
    "Merge cell down": "Merge cell down",
    "Merge cell left": "Merge cell left",
    "Merge cell right": "Merge cell right",
    "Merge cell up": "Merge cell up",
    "Merge cells": "Merge cells",
    "Mill sign": "Mill sign",
    "Minus sign": "Minus sign",
    "Multiplication sign": "Multiplication sign",
    "N-ary product": "N-ary product",
    "N-ary summation": "N-ary summation",
    Nabla: "Nabla",
    "Naira sign": "Naira sign",
    "New sheqel sign": "New sheqel sign",
    Next: "Next",
    "No preview available": "No preview available",
    None: "None",
    "Nordic mark sign": "Nordic mark sign",
    "Not an element of": "Not an element of",
    "Not equal to": "Not equal to",
    "Not sign": "Not sign",
    "Numbered List": "Numbered List",
    "on with exclamation mark with left right arrow above":
      "on with exclamation mark with left right arrow above",
    "Open in a new tab": "Open in a new tab",
    "Open link in new tab": "Open link in new tab",
    "Open media in new tab": "Open media in new tab",
    Orange: "Orange",
    Original: "Original",
    Outset: "Outset",
    Overline: "Overline",
    Paragraph: "Paragraph",
    "Paragraph sign": "Paragraph sign",
    "Partial differential": "Partial differential",
    "Paste raw HTML here...": "Paste raw HTML here...",
    "Paste the media URL in the input.": "Paste the media URL in the input.",
    "Per mille sign": "Per mille sign",
    "Per ten thousand sign": "Per ten thousand sign",
    "Peseta sign": "Peseta sign",
    "Peso sign": "Peso sign",
    "Pink marker": "Pink marker",
    "Plain text": "Plain text",
    "Plus-minus sign": "Plus-minus sign",
    "Pound sign": "Pound sign",
    "Press Enter to type after or press Shift + Enter to type before the widget":
      "Press Enter to type after or press Shift + Enter to type before the widget",
    Previous: "Previous",
    "Proportional to": "Proportional to",
    Purple: "Purple",
    "Question exclamation mark": "Question exclamation mark",
    Red: "Red",
    "Red pen": "Red pen",
    Redo: "Redo",
    "Registered sign": "Registered sign",
    "Remove color": "Remove color",
    "Remove Format": "Remove Format",
    "Remove highlight": "Remove highlight",
    "Resize image": "Resize image",
    "Resize image to %0": "Resize image to %0",
    "Resize image to the original size": "Resize image to the original size",
    "Restore default": "Restore default",
    "Reversed paragraph sign": "Reversed paragraph sign",
    "Rich Text Editor": "Rich Text Editor",
    "Rich Text Editor. Editing area: %0": "Rich Text Editor. Editing area: %0",
    Ridge: "Ridge",
    "Right aligned image": "Right aligned image",
    "Right double quotation mark": "Right double quotation mark",
    "Right single quotation mark": "Right single quotation mark",
    "Right-pointing double angle quotation mark":
      "Right-pointing double angle quotation mark",
    "rightwards arrow to bar": "rightwards arrow to bar",
    "rightwards dashed arrow": "rightwards dashed arrow",
    "rightwards double arrow": "rightwards double arrow",
    "rightwards simple arrow": "rightwards simple arrow",
    Row: "Row",
    "Ruble sign": "Ruble sign",
    "Rupee sign": "Rupee sign",
    Save: "Save",
    "Save changes": "Save changes",
    "Section sign": "Section sign",
    "Select all": "Select all",
    "Select column": "Select column",
    "Select row": "Select row",
    "Show more items": "Show more items",
    "Side image": "Side image",
    "Single left-pointing angle quotation mark":
      "Single left-pointing angle quotation mark",
    "Single low-9 quotation mark": "Single low-9 quotation mark",
    "Single right-pointing angle quotation mark":
      "Single right-pointing angle quotation mark",
    Small: "Small",
    Solid: "Solid",
    "soon with rightwards arrow above": "soon with rightwards arrow above",
    Source: "Source",
    "Special characters": "Special characters",
    "Spesmilo sign": "Spesmilo sign",
    "Split cell horizontally": "Split cell horizontally",
    "Split cell vertically": "Split cell vertically",
    "Square root": "Square root",
    Strikethrough: "Strikethrough",
    Style: "Style",
    Subscript: "Subscript",
    Superscript: "Superscript",
    "Table alignment toolbar": "Table alignment toolbar",
    "Table properties": "Table properties",
    "Table toolbar": "Table toolbar",
    "Tenge sign": "Tenge sign",
    "Text alignment": "Text alignment",
    "Text alignment toolbar": "Text alignment toolbar",
    "Text alternative": "Text alternative",
    "Text highlight toolbar": "Text highlight toolbar",
    'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':
      'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',
    "The URL must not be empty.": "The URL must not be empty.",
    'The value is invalid. Try "10px" or "2em" or simply "2".':
      'The value is invalid. Try "10px" or "2em" or simply "2".',
    "There exists": "There exists",
    "This link has no URL": "This link has no URL",
    "This media URL is not supported.": "This media URL is not supported.",
    "Tilde operator": "Tilde operator",
    Tiny: "Tiny",
    "Tip: Paste the URL into the content to embed faster.":
      "Tip: Paste the URL into the content to embed faster.",
    "To-do List": "To-do List",
    "Toggle caption off": "Toggle caption off",
    "Toggle caption on": "Toggle caption on",
    "top with upwards arrow above": "top with upwards arrow above",
    "Trade mark sign": "Trade mark sign",
    "Tugrik sign": "Tugrik sign",
    "Turkish lira sign": "Turkish lira sign",
    Turquoise: "Turquoise",
    "Two dot leader": "Two dot leader",
    Underline: "Underline",
    Undo: "Undo",
    Union: "Union",
    Unlink: "Unlink",
    "up down arrow with base": "up down arrow with base",
    Update: "Update",
    "Update image URL": "Update image URL",
    "Upload failed": "Upload failed",
    "Upload in progress": "Upload in progress",
    "upwards arrow to bar": "upwards arrow to bar",
    "upwards dashed arrow": "upwards dashed arrow",
    "upwards double arrow": "upwards double arrow",
    "upwards simple arrow": "upwards simple arrow",
    "Vulgar fraction one half": "Vulgar fraction one half",
    "Vulgar fraction one quarter": "Vulgar fraction one quarter",
    "Vulgar fraction three quarters": "Vulgar fraction three quarters",
    White: "White",
    "Widget toolbar": "Widget toolbar",
    Width: "Width",
    "Won sign": "Won sign",
    "Words: %0": "Words: %0",
    "Wrap text": "Wrap text",
    Yellow: "Yellow",
    "Yellow marker": "Yellow marker",
    "Yen sign": "Yen sign",
  });
})(window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {}));
/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */ (function t(e, n) {
  if (typeof exports === "object" && typeof module === "object")
    module.exports = n();
  else if (typeof define === "function" && define.amd) define([], n);
  else if (typeof exports === "object") exports["BalloonBlockEditor"] = n();
  else e["BalloonBlockEditor"] = n();
})(self, () =>
  (() => {
    "use strict";
    var t = {
      8180: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css",
            ],
            names: [],
            mappings:
              "AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content code {\\n\\tbackground-color: hsla(0, 0%, 78%, 0.3);\\n\\tpadding: .15em;\\n\\tborder-radius: 2px;\\n}\\n\\n.ck.ck-editor__editable .ck-code_selected  {\\n\\tbackground-color: hsla(0, 0%, 78%, 0.5);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      636: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css",
            ],
            names: [],
            mappings:
              "AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content blockquote {\\n\\t/* See #12 */\\n\\toverflow: hidden;\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\\n\\tpadding-right: 1.5em;\\n\\tpadding-left: 1.5em;\\n\\n\\tmargin-left: 0;\\n\\tmargin-right: 0;\\n\\tfont-style: italic;\\n\\tborder-left: solid 5px hsl(0, 0%, 80%);\\n}\\n\\n.ck-content[dir="rtl"] blockquote {\\n\\tborder-left: 0;\\n\\tborder-right: solid 5px hsl(0, 0%, 80%);\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      390: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css",
            ],
            names: [],
            mappings:
              "AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t/*\\n\\t * Vertical drop target (in text).\\n\\t */\\n\\t& .ck.ck-clipboard-drop-target-position {\\n\\t\\tdisplay: inline;\\n\\t\\tposition: relative;\\n\\t\\tpointer-events: none;\\n\\n\\t\\t& span {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\twidth: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Styles of the widget being dragged (its preview).\\n\\t */\\n\\t& .ck-widget:-webkit-drag {\\n\\t\\t& > .ck-widget__selection-handle {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\n\\t\\t& > .ck-widget__type-around {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-clipboard-drop-target-dot-width: 12px;\\n\\t--ck-clipboard-drop-target-dot-height: 8px;\\n\\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/*\\n\\t * Vertical drop target (in text).\\n\\t */\\n\\t& .ck.ck-clipboard-drop-target-position {\\n\\t\\t& span {\\n\\t\\t\\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\\n\\t\\t\\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\\n\\t\\t\\tborder: 1px solid var(--ck-clipboard-drop-target-color);\\n\\t\\t\\tbackground: var(--ck-clipboard-drop-target-color);\\n\\t\\t\\tmargin-left: -1px;\\n\\n\\t\\t\\t/* The triangle above the marker */\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: "";\\n\\t\\t\\t\\twidth: 0;\\n\\t\\t\\t\\theight: 0;\\n\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\\n\\n\\t\\t\\t\\ttransform: translateX(-50%);\\n\\t\\t\\t\\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\\n\\t\\t\\t\\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t// Horizontal drop target (between blocks).\\n\\t& .ck.ck-clipboard-drop-target-position {\\n\\t\\tdisplay: block;\\n\\t\\tposition: relative;\\n\\t\\twidth: 100%;\\n\\t\\theight: 0;\\n\\t\\tmargin: 0;\\n\\t\\ttext-align: initial;\\n\\n\\t\\t& .ck-clipboard-drop-target__line {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\theight: 0;\\n\\t\\t\\tborder: 1px solid var(--ck-clipboard-drop-target-color);\\n\\t\\t\\tmargin-top: -1px;\\n\\n\\t\\t\\t&::before {\\n\\t\\t\\t\\tcontent: "";\\n\\t\\t\\t\\twidth: 0;\\n\\t\\t\\t\\theight: 0;\\n\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\\n\\t\\t\\t\\ttop: 0;\\n\\n\\t\\t\\t\\ttransform: translateY(-50%);\\n\\t\\t\\t\\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\\n\\t\\t\\t\\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: "";\\n\\t\\t\\t\\twidth: 0;\\n\\t\\t\\t\\theight: 0;\\n\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\\n\\t\\t\\t\\ttop: 0;\\n\\n\\t\\t\\t\\ttransform: translateY(-50%);\\n\\t\\t\\t\\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\\n\\t\\t\\t\\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t*/\\n\\n\\t/*\\n\\t * Styles of the widget that it a drop target.\\n\\t */\\n\\t& .ck-widget.ck-clipboard-drop-target-range {\\n\\t\\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\\n\\t}\\n\\n\\t/*\\n\\t * Styles of the widget being dragged (its preview).\\n\\t */\\n\\t& .ck-widget:-webkit-drag {\\n\\t\\tzoom: 0.6;\\n\\t\\toutline: none !important;\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9085: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css",
            ],
            names: [],
            mappings:
              "AAKA,gBAGC,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAHlB,aAAwB,CAOxB,aAAc,CAMd,iBAAkB,CAGlB,eAAgB,CAjBhB,WAAY,CAUZ,UAAW,CAHX,eAAgB,CAIhB,oBAaD,CALC,qBACC,gBAAiB,CAEjB,eAAgB,CADhB,SAED,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDAGC,sDAAuD,CAMvD,UAAuB,CAHvB,+BAAgC,CADhC,cAAe,CAEf,gBAAiB,CACjB,uDAAwD,CANxD,UAAW,CADX,QAAS,CAST,kBACD,CAEA,+CAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content pre {\\n\\tpadding: 1em;\\n\\tcolor: hsl(0, 0%, 20.8%);\\n\\tbackground: hsla(0, 0%, 78%, 0.3);\\n\\tborder: 1px solid hsl(0, 0%, 77%);\\n\\tborder-radius: 2px;\\n\\n\\t/* Code block are language direction\u2013agnostic. */\\n\\ttext-align: left;\\n\\tdirection: ltr;\\n\\n\\ttab-size: 4;\\n\\twhite-space: pre-wrap;\\n\\n\\t/* Don't inherit the style, e.g. when in a block quote. */\\n\\tfont-style: normal;\\n\\n\\t/* Don't let the code be squashed e.g. when in a table cell. */\\n\\tmin-width: 200px;\\n\\n\\t& code {\\n\\t\\tbackground: unset;\\n\\t\\tpadding: 0;\\n\\t\\tborder-radius: 0;\\n\\t}\\n}\\n\\n.ck.ck-editor__editable pre {\\n\\tposition: relative;\\n\\n\\t&[data-language]::after {\\n\\t\\tcontent: attr(data-language);\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-code-block-label-background: hsl(0, 0%, 46%);\\n}\\n\\n.ck.ck-editor__editable pre[data-language]::after {\\n\\ttop: -1px;\\n\\tright: 10px;\\n\\tbackground: var(--ck-color-code-block-label-background);\\n\\n\\tfont-size: 10px;\\n\\tfont-family: var(--ck-font-face);\\n\\tline-height: 16px;\\n\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-medium);\\n\\tcolor: hsl(0, 0%, 100%);\\n\\twhite-space: nowrap;\\n}\\n\\n.ck.ck-code-block-dropdown .ck-dropdown__panel {\\n\\t/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */\\n\\tmax-height: 250px;\\n\\toverflow-y: auto;\\n\\toverflow-x: hidden;\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      8894: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css",
            ],
            names: [],
            mappings:
              "AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* See ckeditor/ckeditor5#936. */\\n.ck.ck-placeholder,\\n.ck .ck-placeholder {\\n\\tposition: relative;\\n\\n\\t&::before {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\tright: 0;\\n\\t\\tcontent: attr(data-placeholder);\\n\\n\\t\\t/* See ckeditor/ckeditor5#469. */\\n\\t\\tpointer-events: none;\\n\\t}\\n}\\n\\n/* See ckeditor/ckeditor5#1987. */\\n.ck.ck-read-only .ck-placeholder {\\n\\t&::before {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n\\n/*\\n * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.\\n * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.\\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\\n */\\n.ck.ck-reset_all .ck-placeholder {\\n\\tposition: relative;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* See ckeditor/ckeditor5#936. */\\n.ck.ck-placeholder, .ck .ck-placeholder {\\n\\t&::before {\\n\\t\\tcursor: text;\\n\\t\\tcolor: var(--ck-color-engine-placeholder-text);\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4401: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css",
            ],
            names: [],
            mappings: "AAMA,qDACC,YACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\\n\\tdisplay: none;\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      2585: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck .ck-button.ck-color-table__remove-color{align-items:center;display:flex;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontcolor.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-font/fontcolor.css",
            ],
            names: [],
            mappings:
              "AAKA,4CAEC,kBAAmB,CADnB,YAAa,CAEb,UACD,CAEA,8BACC,iBACD,CCNA,4CAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,wDACC,mDACD,CAEA,kEAEE,uCAMF,CARA,kEAME,sCAEF",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-button.ck-color-table__remove-color {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\twidth: 100%;\\n}\\n\\nlabel.ck.ck-color-grid__label {\\n\\tfont-weight: unset;\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n.ck .ck-button.ck-color-table__remove-color {\\n\\tpadding: calc(var(--ck-spacing-standard) / 2 ) var(--ck-spacing-standard);\\n\\tborder-bottom-left-radius: 0;\\n\\tborder-bottom-right-radius: 0;\\n\\n\\t&:not(:focus) {\\n\\t\\tborder-bottom: 1px solid var(--ck-color-base-border);\\n\\t}\\n\\n\\t& .ck.ck-icon {\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tmargin-right: var(--ck-spacing-standard);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n}\\n\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6203: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css",
            ],
            names: [],
            mappings:
              "AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */\\n\\n/* Styles should be prefixed with the \`.ck-content\` class.\\nSee https://github.com/ckeditor/ckeditor5/issues/6636 */\\n.ck-content {\\n\\t& .text-tiny {\\n\\t\\tfont-size: .7em;\\n\\t}\\n\\n\\t& .text-small {\\n\\t\\tfont-size: .85em;\\n\\t}\\n\\n\\t& .text-big {\\n\\t\\tfont-size: 1.4em;\\n\\t}\\n\\n\\t& .text-huge {\\n\\t\\tfont-size: 1.8em;\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3230: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css",
            ],
            names: [],
            mappings:
              "AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-heading_heading1 {\\n\\tfont-size: 20px;\\n}\\n\\n.ck.ck-heading_heading2 {\\n\\tfont-size: 17px;\\n}\\n\\n.ck.ck-heading_heading3 {\\n\\tfont-size: 14px;\\n}\\n\\n.ck[class*="ck-heading_heading"] {\\n\\tfont-weight: bold;\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* Resize dropdown's button label. */\\n.ck.ck-dropdown.ck-heading-dropdown {\\n\\t& .ck-dropdown__button .ck-button__label {\\n\\t\\twidth: 8em;\\n\\t}\\n\\n\\t& .ck-dropdown__panel .ck-list__item {\\n\\t\\tmin-width: 18em;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      713: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-highlight/theme/highlight.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,oCAA+C,CAC/C,mCAA+C,CAC/C,kCAA8C,CAC9C,kCAA8C,CAC9C,8BAAwC,CACxC,gCACD,CAGC,2BACC,kDACD,CAFA,0BACC,iDACD,CAFA,yBACC,gDACD,CAFA,yBACC,gDACD,CAIA,qBAIC,4BAA6B,CAH7B,iCAID,CALA,uBAIC,4BAA6B,CAH7B,mCAID",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-highlight-marker-yellow: hsl(60, 97%, 73%);\\n\\t--ck-highlight-marker-green: hsl(120, 93%, 68%);\\n\\t--ck-highlight-marker-pink: hsl(345, 96%, 73%);\\n\\t--ck-highlight-marker-blue: hsl(201, 97%, 72%);\\n\\t--ck-highlight-pen-red: hsl(0, 85%, 49%);\\n\\t--ck-highlight-pen-green: hsl(112, 100%, 27%);\\n}\\n\\n@define-mixin highlight-marker-color $color {\\n\\t.ck-content .marker-$color {\\n\\t\\tbackground-color: var(--ck-highlight-marker-$color);\\n\\t}\\n}\\n\\n@define-mixin highlight-pen-color $color {\\n\\t.ck-content .pen-$color {\\n\\t\\tcolor: var(--ck-highlight-pen-$color);\\n\\n\\t\\t/* Override default yellow background of \`<mark>\` from user agent stylesheet */\\n\\t\\tbackground-color: transparent;\\n\\t}\\n}\\n\\n@mixin highlight-marker-color yellow;\\n@mixin highlight-marker-color green;\\n@mixin highlight-marker-color pink;\\n@mixin highlight-marker-color blue;\\n\\n@mixin highlight-pen-color red;\\n@mixin highlight-pen-color green;\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      2536: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css",
            ],
            names: [],
            mappings:
              "AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n\\n.ck-editor__editable .ck-horizontal-line {\\n\\t/* Necessary to render properly next to floated objects, e.g. side image case. */\\n\\tdisplay: flow-root;\\n}\\n\\n.ck-content hr {\\n\\tmargin: 15px 0;\\n\\theight: 4px;\\n\\tbackground: hsl(0, 0%, 87%);\\n\\tborder: 0;\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3403: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-html-embed/htmlembed.css",
            ],
            names: [],
            mappings:
              "AAMA,0BAMC,iBAAkB,CAOlB,iBAAkB,CATlB,gBAAkB,CAMlB,cAAe,CALf,iBAwDD,CA5CC,iCACC,iBAAkB,CAGlB,SACD,CAKA,2DAEC,YAAa,CACb,qBAAsB,CAFtB,iBAGD,CAEA,mDAGC,YAAa,CADb,eAAgB,CADhB,iBAGD,CAEA,2DAOC,wBAAyB,CACzB,kBAAmB,CAFnB,aAAc,CAHd,WAAY,CADZ,iBAAkB,CADlB,UAQD,CAEA,+DAQC,kBAAmB,CAHnB,QAAS,CAET,YAAa,CAEb,sBAAuB,CAPvB,MAAO,CADP,iBAAkB,CAGlB,OAAQ,CADR,KAOD,CC7DD,MACC,kEAAqE,CACrE,kCAAmC,CACnC,2CAA4C,CAC5C,yFAA0F,CAE1F,0EAA2E,CAC3E,6CACD,CAGA,0BAEC,gDAAiD,CADjD,kCA0ID,CAvIC,+DACC,iGACD,CAGA,mCACC,eACD,CAEA,mCACC,gBACD,CAIA,iCAIC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,mCAAoC,CASpC,+BAAgC,CADhC,kCAAmC,CANnC,+BAAgC,CAGhC,kIAAmI,CAJnI,yDAA4D,CAG5D,0GAMD,CAEA,0CACC,SAAU,CACV,gCACD,CAGA,iIACC,gBACD,CAxCD,uFA4CE,sDAAuD,CADvD,KAgGF,CA3IA,6FAkDE,uCAAwC,CADxC,sDAAuD,CADvD,KA2FF,CA3IA,wFAuDE,sDAAuD,CADvD,KAqFF,CA/EC,2DACC,kCACD,CAGA,2DAEC,gCAAiC,CADjC,8BAcD,CAXC,kGACC,iCACD,CAEA,oGACC,mCACD,CAEA,wFACC,kCACD,CAGD,oEACC,+BAAgC,CAChC,UACD,CAGA,kDACC,qBAAsB,CActB,aAAc,CAPd,qBAAsB,CAGtB,kCAAmC,CATnC,yCAA0C,CAG1C,WAAY,CACZ,kCAAmC,CAFnC,WAAY,CAKZ,UAAW,CAKX,eAAgB,CAJhB,oBAAqB,CAPrB,wCAsBD,CARC,4DAKC,kEAAmE,CAJnE,0DAA2D,CAC3D,gDAAiD,CAIjD,SACD,CAID,mDACC,kDAAmD,CACnD,wCAMD,CARA,2FAME,mBAEF,CAEA,2DAEC,gDAAiD,CADjD,qBAOD,CAJC,6DACC,gBAAiB,CACjB,iBACD,CAGD,+DACC,gDACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* The feature container. */\\n.ck-widget.raw-html-embed {\\n\\t/* Give the embed some air. */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em auto;\\n\\tposition: relative;\\n\\tdisplay: flow-root;\\n\\n\\t/* Give the html embed some minimal width in the content to prevent them\\n\\tfrom being "squashed" in tight spaces, e.g. in table cells (https://github.com/ckeditor/ckeditor5/issues/8331) */\\n\\tmin-width: 15em;\\n\\n\\t/* Don\\'t inherit the style, e.g. when in a block quote. */\\n\\tfont-style: normal;\\n\\n\\t/* ----- Emebed label in the upper left corner ----------------------------------------------- */\\n\\n\\t&::before {\\n\\t\\tposition: absolute;\\n\\n\\t\\t/* Make sure the content does not cover the label. */\\n\\t\\tz-index: 1;\\n\\t}\\n\\n\\t/* ----- Emebed internals --------------------------------------------------------------------- */\\n\\n\\t/* The switch mode button wrapper. */\\n\\t& .raw-html-embed__buttons-wrapper {\\n\\t\\tposition: absolute;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t}\\n\\n\\t& .raw-html-embed__preview {\\n\\t\\tposition: relative;\\n\\t\\toverflow: hidden;\\n\\t\\tdisplay: flex;\\n\\t}\\n\\n\\t& .raw-html-embed__preview-content {\\n\\t\\twidth: 100%;\\n\\t\\tposition: relative;\\n\\t\\tmargin: auto;\\n\\n\\t\\t/* Gives spacing to the small renderable elements, so they always cover the placeholder. */\\n\\t\\tdisplay: table;\\n\\t\\tborder-collapse: separate;\\n\\t\\tborder-spacing: 7px;\\n\\t}\\n\\n\\t& .raw-html-embed__preview-placeholder {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tright: 0;\\n\\t\\tbottom: 0;\\n\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t}\\n}\\n',
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-html-embed-content-width: calc(100% - 1.5 * var(--ck-icon-size));\\n\\t--ck-html-embed-source-height: 10em;\\n\\t--ck-html-embed-unfocused-outline-width: 1px;\\n\\t--ck-html-embed-content-min-height: calc(var(--ck-icon-size) + var(--ck-spacing-standard));\\n\\n\\t--ck-html-embed-source-disabled-background: var(--ck-color-base-foreground);\\n\\t--ck-html-embed-source-disabled-color: hsl(0deg 0% 45%);\\n}\\n\\n/* The feature container. */\\n.ck-widget.raw-html-embed {\\n\\tfont-size: var(--ck-font-size-base);\\n\\tbackground-color: var(--ck-color-base-foreground);\\n\\n\\t&:not(.ck-widget_selected):not(:hover) {\\n\\t\\toutline: var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);\\n\\t}\\n\\n\\t/* HTML embed widget itself should respect UI language direction */\\n\\t&[dir="ltr"] {\\n\\t\\ttext-align: left;\\n\\t}\\n\\n\\t&[dir="rtl"] {\\n\\t\\ttext-align: right;\\n\\t}\\n\\n\\t/* ----- Embed label in the upper left corner ----------------------------------------------- */\\n\\n\\t&::before {\\n\\t\\tcontent: attr(data-html-embed-label);\\n\\t\\ttop: calc(-1 * var(--ck-html-embed-unfocused-outline-width));\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tbackground: hsl(0deg 0% 60%);\\n\\t\\ttransition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\t\\tpadding: calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);\\n\\t\\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\\n\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\tfont-family: var(--ck-font-face);\\n\\t}\\n\\n\\t&[dir="rtl"]::before {\\n\\t\\tleft: auto;\\n\\t\\tright: var(--ck-spacing-standard);\\n\\t}\\n\\n\\t/* Make space for label but it only collides in LTR languages */\\n\\t&[dir="ltr"] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {\\n\\t\\tmargin-left: 50px;\\n\\t}\\n\\n\\t@nest .ck.ck-editor__editable.ck-blurred &.ck-widget_selected::before {\\n\\t\\ttop: 0px;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t}\\n\\n\\t@nest .ck.ck-editor__editable:not(.ck-blurred) &.ck-widget_selected::before {\\n\\t\\ttop: 0;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t\\tbackground: var(--ck-color-focus-border);\\n\\t}\\n\\n\\t@nest .ck.ck-editor__editable &:not(.ck-widget_selected):hover::before {\\n\\t\\ttop: 0px;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t}\\n\\n\\t/* ----- Emebed internals --------------------------------------------------------------------- */\\n\\n\\t& .raw-html-embed__content-wrapper {\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\t}\\n\\n\\t/* The switch mode button wrapper. */\\n\\t& .raw-html-embed__buttons-wrapper {\\n\\t\\ttop: var(--ck-spacing-standard);\\n\\t\\tright: var(--ck-spacing-standard);\\n\\n\\t\\t& .ck-button.raw-html-embed__save-button {\\n\\t\\t\\tcolor: var(--ck-color-button-save);\\n\\t\\t}\\n\\n\\t\\t& .ck-button.raw-html-embed__cancel-button {\\n\\t\\t\\tcolor: var(--ck-color-button-cancel);\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(:first-child) {\\n\\t\\t\\tmargin-top: var(--ck-spacing-small);\\n\\t\\t}\\n\\t}\\n\\n\\t&[dir="rtl"] .raw-html-embed__buttons-wrapper {\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tright: auto;\\n\\t}\\n\\n\\t/* The edit source element. */\\n\\t& .raw-html-embed__source {\\n\\t\\tbox-sizing: border-box;\\n\\t\\theight: var(--ck-html-embed-source-height);\\n\\t\\twidth: var(--ck-html-embed-content-width);\\n\\t\\tresize: none;\\n\\t\\tmin-width: 0;\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\n\\t\\tfont-family: monospace;\\n\\t\\ttab-size: 4;\\n\\t\\twhite-space: pre-wrap;\\n\\t\\tfont-size: var(--ck-font-size-base); /* Safari needs this. */\\n\\n\\t\\t/* HTML code is direction\u2013agnostic. */\\n\\t\\ttext-align: left;\\n\\t\\tdirection: ltr;\\n\\n\\t\\t&[disabled] {\\n\\t\\t\\tbackground: var(--ck-html-embed-source-disabled-background);\\n\\t\\t\\tcolor: var(--ck-html-embed-source-disabled-color);\\n\\n\\t\\t\\t/* Safari needs this for the proper text color in disabled input (https://github.com/ckeditor/ckeditor5/issues/8320). */\\n\\t\\t\\t-webkit-text-fill-color: var(--ck-html-embed-source-disabled-color);\\n\\t\\t\\topacity: 1;\\n\\t\\t}\\n\\t}\\n\\n\\t/* The preview data container. */\\n\\t& .raw-html-embed__preview {\\n\\t\\tmin-height: var(--ck-html-embed-content-min-height);\\n\\t\\twidth: var(--ck-html-embed-content-width);\\n\\n\\t\\t/* Disable all mouse interaction as long as the editor is not read\u2013only. */\\n\\t\\t@nest .ck-editor__editable:not(.ck-read-only) & {\\n\\t\\t\\tpointer-events: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& .raw-html-embed__preview-content {\\n\\t\\tbox-sizing: border-box;\\n\\t\\tbackground-color: var(--ck-color-base-foreground);\\n\\n\\t\\t& > * {\\n\\t\\t\\tmargin-left: auto;\\n\\t\\t\\tmargin-right: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t& .raw-html-embed__preview-placeholder {\\n\\t\\tcolor: var(--ck-html-embed-source-disabled-color)\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      8468: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,kDACD,CAEA,6BAEC,gDAAiD,CADjD,kCAAmC,CAKnC,iDAAkD,CAHlD,+BAAgC,CAEhC,oEAgCD,CA7BC,kEACC,wGACD,CAEA,oCAOC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,0CAA2C,CAS3C,+BAAgC,CADhC,kCAAmC,CAVnC,iBAAkB,CADlB,eAAmB,CAKnB,+BAAgC,CAGhC,yIAA0I,CAN1I,iBAAkB,CAElB,KAAM,CAGN,0GAMD,CAGA,2HACC,gBACD,CAEA,yDAEC,mBACD,CAGD,gCACC,eACD,CAEA,iCACC,oBACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-html-object-embed-unfocused-outline-width: 1px;\\n}\\n\\n.ck-widget.html-object-embed {\\n\\tfont-size: var(--ck-font-size-base);\\n\\tbackground-color: var(--ck-color-base-foreground);\\n\\tpadding: var(--ck-spacing-small);\\n\\t/* Leave space for label */\\n\\tpadding-top: calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));\\n\\tmin-width: calc(76px + var(--ck-spacing-standard));\\n\\n\\t&:not(.ck-widget_selected):not(:hover) {\\n\\t\\toutline: var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);\\n\\t}\\n\\n\\t&::before {\\n\\t\\tfont-weight: normal;\\n\\t\\tfont-style: normal;\\n\\t\\tposition: absolute;\\n\\t\\tcontent: attr(data-html-object-embed-label);\\n\\t\\ttop: 0;\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tbackground: hsl(0deg 0% 60%);\\n\\t\\ttransition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\t\\tpadding: calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);\\n\\t\\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\\n\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\tfont-family: var(--ck-font-face);\\n\\t}\\n\\n\\t/* Make space for label. */\\n\\t& .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {\\n\\t\\tmargin-left: 50px;\\n\\t}\\n\\n\\t& .html-object-embed__content {\\n\\t\\t/* Disable user interaction with embed content */\\n\\t\\tpointer-events: none;\\n\\t}\\n}\\n\\ndiv.ck-widget.html-object-embed {\\n\\tmargin: 1em auto;\\n}\\n\\nspan.ck-widget.html-object-embed {\\n\\tdisplay: inline-block;\\n}\\n\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9048: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css",
            ],
            names: [],
            mappings:
              "AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content {\\n\\t& .image {\\n\\t\\tdisplay: table;\\n\\t\\tclear: both;\\n\\t\\ttext-align: center;\\n\\n\\t\\t/* Make sure there is some space between the content and the image. Center image by default. */\\n\\t\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\t \\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\t\\tmargin: 0.9em auto;\\n\\n\\t\\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\\n\\t\\tmin-width: 50px;\\n\\n\\t\\t& img {\\n\\t\\t\\t/* Prevent unnecessary margins caused by line-height (see #44). */\\n\\t\\t\\tdisplay: block;\\n\\n\\t\\t\\t/* Center the image if its width is smaller than the content\\'s width. */\\n\\t\\t\\tmargin: 0 auto;\\n\\n\\t\\t\\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\\n\\t\\t\\tmin-width: 100%\\n\\t\\t}\\n\\t}\\n\\n\\t& .image-inline {\\n\\t\\t/*\\n\\t\\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\\n\\t\\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\\n\\t\\t * This strange behavior does not happen with inline-flex.\\n\\t\\t */\\n\\t\\tdisplay: inline-flex;\\n\\n\\t\\t/* While being resized, don\\'t allow the image to exceed the width of the editing root. */\\n\\t\\tmax-width: 100%;\\n\\n\\t\\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\\n\\t\\talign-items: flex-start;\\n\\n\\t\\t/* When the picture is present it must act as a flex container to let the img resize properly */\\n\\t\\t& picture {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t}\\n\\n\\t\\t/* When the picture is present, it must act like a resizable img. */\\n\\t\\t& picture,\\n\\t\\t& img {\\n\\t\\t\\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tflex-shrink: 1;\\n\\n\\t\\t\\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\\n\\t\\t\\tmax-width: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/*\\n\\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`\\n\\t * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\\n\\t * caret does, and not at the edge of <figcaption>.\\n\\t */\\n\\t& .image > figcaption.ck-placeholder::before {\\n\\t\\tpadding-left: inherit;\\n\\t\\tpadding-right: inherit;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the image caption placeholder doesn\\'t overflow the placeholder area.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\\n\\t\\t */\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\n\\t/*\\n\\t * Make sure the selected inline image always stays on top of its siblings.\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\\n\\t */\\n\\t& .image.ck-widget_selected {\\n\\t\\tz-index: 1;\\n\\t}\\n\\n\\t& .image-inline.ck-widget_selected {\\n\\t\\tz-index: 1;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the native browser selection style is not displayed.\\n\\t\\t * Inline image widgets have their own styles for the selected state and\\n\\t\\t * leaving this up to the browser is asking for a visual collision.\\n\\t\\t */\\n\\t\\t& ::selection {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t/* The inline image nested in the table should have its original size if not resized.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\\n\\t& td,\\n\\t& th {\\n\\t\\t& .image-inline img {\\n\\t\\t\\tmax-width: none;\\n\\t\\t}\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      8662: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\\n\\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\\n\\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\\n}\\n\\n/* Content styles */\\n.ck-content .image > figcaption {\\n\\tdisplay: table-caption;\\n\\tcaption-side: bottom;\\n\\tword-break: break-word;\\n\\tcolor: var(--ck-color-image-caption-text);\\n\\tbackground-color: var(--ck-color-image-caption-background);\\n\\tpadding: .6em;\\n\\tfont-size: .75em;\\n\\toutline-offset: -1px;\\n}\\n\\n/* Editing styles */\\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\\n\\tanimation: ck-image-caption-highlight .6s ease-out;\\n}\\n\\n@keyframes ck-image-caption-highlight {\\n\\t0% {\\n\\t\\tbackground-color: var(--ck-color-image-caption-highligted-background);\\n\\t}\\n\\n\\t100% {\\n\\t\\tbackground-color: var(--ck-color-image-caption-background);\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9292: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css",
            ],
            names: [],
            mappings:
              "AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-image-insert__panel {\\n\\tpadding: var(--ck-spacing-large);\\n}\\n\\n.ck.ck-image-insert__ck-finder-button {\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\tmargin: var(--ck-spacing-standard) auto;\\n\\tborder: 1px solid hsl(0, 0%, 80%);\\n\\tborder-radius: var(--ck-border-radius);\\n}\\n\\n/* https://github.com/ckeditor/ckeditor5/issues/7986 */\\n.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tborder: none;\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5150: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css",
            ],
            names: [],
            mappings:
              "AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-image-insert-form {\\n\\t&:focus {\\n\\t\\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\\n\\t\\toutline: none;\\n\\t}\\n}\\n\\n.ck.ck-form__row {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\tjustify-content: space-between;\\n\\n\\t/* Ignore labels that work as fieldset legends */\\n\\t& > *:not(.ck-label) {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t&.ck-image-insert-form__action-row {\\n\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\n\\t\\t& .ck-button-save,\\n\\t\\t& .ck-button-cancel {\\n\\t\\t\\tjustify-content: center;\\n\\t\\t}\\n\\n\\t\\t& .ck-button .ck-button__label {\\n\\t\\t\\tcolor: var(--ck-color-text);\\n\\t\\t}\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      1043: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css",
            ],
            names: [],
            mappings:
              "AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content .image.image_resized {\\n\\tmax-width: 100%;\\n\\t/*\\n\\tThe \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.\\n\\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\\n\\tFortunately, since we control the width, there is no risk that the image will look bad.\\n\\t*/\\n\\tdisplay: block;\\n\\tbox-sizing: border-box;\\n\\n\\t& img {\\n\\t\\t/* For resized images it is the \`<figure>\` element that determines the image width. */\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& > figcaption {\\n\\t\\t/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/* The resized inline image nested in the table should respect its parent size.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\\n\\t& td,\\n\\t& th {\\n\\t\\t& .image-inline.image_resized img {\\n\\t\\t\\tmax-width: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\\n\\tmargin-right: var(--ck-spacing-standard);\\n}\\n\\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\\n\\tmargin-left: var(--ck-spacing-standard);\\n}\\n\\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\\n\\twidth: 4em;\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4622: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-image-style-spacing: 1.5em;\\n\\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\\n}\\n\\n.ck-content {\\n\\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\\n\\tconfirming successful application of the style if image width exceeds the editor's size.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\\n\\t& .image-style-block-align-left,\\n\\t& .image-style-block-align-right {\\n\\t\\tmax-width: calc(100% - var(--ck-image-style-spacing));\\n\\t}\\n\\n\\t/* Allows displaying multiple floating images in the same line.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\\n\\t& .image-style-align-left,\\n\\t& .image-style-align-right {\\n\\t\\tclear: none;\\n\\t}\\n\\n\\t& .image-style-side {\\n\\t\\tfloat: right;\\n\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t\\tmax-width: 50%;\\n\\t}\\n\\n\\t& .image-style-align-left {\\n\\t\\tfloat: left;\\n\\t\\tmargin-right: var(--ck-image-style-spacing);\\n\\t}\\n\\n\\t& .image-style-align-center {\\n\\t\\tmargin-left: auto;\\n\\t\\tmargin-right: auto;\\n\\t}\\n\\n\\t& .image-style-align-right {\\n\\t\\tfloat: right;\\n\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t}\\n\\n\\t& .image-style-block-align-right {\\n\\t\\tmargin-right: 0;\\n\\t\\tmargin-left: auto;\\n\\t}\\n\\n\\t& .image-style-block-align-left {\\n\\t\\tmargin-left: 0;\\n\\t\\tmargin-right: auto;\\n\\t}\\n\\n\\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\\n\\t& p + .image-style-align-left,\\n\\t& p + .image-style-align-right,\\n\\t& p + .image-style-side {\\n\\t\\tmargin-top: 0;\\n\\t}\\n\\n\\t& .image-inline {\\n\\t\\t&.image-style-align-left,\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tmargin-top: var(--ck-inline-image-style-spacing);\\n\\t\\t\\tmargin-bottom: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-left {\\n\\t\\t\\tmargin-right: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tmargin-left: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-splitbutton {\\n\\t/* The button should display as a regular drop-down if the action button\\n\\tis forced to fire the same action as the arrow button. */\\n\\t&.ck-splitbutton_flatten {\\n\\t\\t&:hover,\\n\\t\\t&.ck-splitbutton_open {\\n\\t\\t\\t& > .ck-splitbutton__action:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\\n\\t\\t\\t\\tbackground-color: var(--ck-color-button-on-background);\\n\\n\\t\\t\\t\\t&::after {\\n\\t\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-splitbutton_open:hover {\\n\\t\\t\\t& > .ck-splitbutton__action:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\\n\\t\\t\\t\\tbackground-color: var(--ck-color-button-on-hover-background);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9899: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css",
            ],
            names: [],
            mappings:
              "AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-image-upload-complete-icon {\\n\\tdisplay: block;\\n\\tposition: absolute;\\n\\n\\t/*\\n\\t * Smaller images should have the icon closer to the border.\\n\\t * Match the icon position with the linked image indicator brought by the link image feature.\\n\\t */\\n\\ttop: min(var(--ck-spacing-medium), 6%);\\n\\tright: min(var(--ck-spacing-medium), 6%);\\n\\tborder-radius: 50%;\\n\\tz-index: 1;\\n\\n\\t&::after {\\n\\t\\tcontent: "";\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n',
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\\n\\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\\n\\n\\t/* Match the icon size with the linked image indicator brought by the link image feature. */\\n\\t--ck-image-upload-icon-size: 20;\\n\\t--ck-image-upload-icon-width: 2px;\\n\\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\\n}\\n\\n.ck-image-upload-complete-icon {\\n\\topacity: 0;\\n\\tbackground: var(--ck-color-image-upload-icon-background);\\n\\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\\n\\tanimation-fill-mode: forwards, forwards;\\n\\tanimation-duration: 500ms, 500ms;\\n\\n\\t/* To make animation scalable. */\\n\\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\\n\\n\\t/* Hide completed upload icon after 3 seconds. */\\n\\tanimation-delay: 0ms, 3000ms;\\n\\n\\t/*\\n\\t * Use CSS math to simulate container queries.\\n\\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\\n\\t */\\n\\toverflow: hidden;\\n\\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\\n\\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\\n\\n\\t/* This is check icon element made from border-width mixed with animations. */\\n\\t&::after {\\n\\t\\t/* Because of border transformation we need to "hard code" left position. */\\n\\t\\tleft: 25%;\\n\\n\\t\\ttop: 50%;\\n\\t\\topacity: 0;\\n\\t\\theight: 0;\\n\\t\\twidth: 0;\\n\\n\\t\\ttransform: scaleX(-1) rotate(135deg);\\n\\t\\ttransform-origin: left top;\\n\\t\\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\\n\\t\\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\\n\\n\\t\\tanimation-name: ck-upload-complete-icon-check;\\n\\t\\tanimation-duration: 500ms;\\n\\t\\tanimation-delay: 500ms;\\n\\t\\tanimation-fill-mode: forwards;\\n\\n\\t\\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\\n\\t\\tbox-sizing: border-box;\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-show {\\n\\tfrom {\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\tto {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-hide {\\n\\tfrom {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\tto {\\n\\t\\topacity: 0;\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-check {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t\\twidth: 0;\\n\\t\\theight: 0;\\n\\t}\\n\\t33% {\\n\\t\\twidth: 0.3em;\\n\\t\\theight: 0;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t\\twidth: 0.3em;\\n\\t\\theight: 0.45em;\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9825: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css",
            ],
            names: [],
            mappings:
              "AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-upload-placeholder-loader {\\n\\tposition: absolute;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\n\\t&::before {\\n\\t\\tcontent: '';\\n\\t\\tposition: relative;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\\n\\t--ck-upload-placeholder-loader-size: 32px;\\n\\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\\n}\\n\\n.ck .ck-image-upload-placeholder {\\n\\t/* We need to control the full width of the SVG gray background. */\\n\\twidth: 100%;\\n\\tmargin: 0;\\n\\n\\t&.image-inline {\\n\\t\\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\\n\\t}\\n\\n\\t& img {\\n\\t\\t/*\\n\\t\\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\\n\\t\\t * There's nothing special about this number except that it should make the image placeholder look like\\n\\t\\t * a real image during this short period after the upload started and before the image was read from the\\n\\t\\t * file system (and a rich preview was loaded).\\n\\t\\t */\\n\\t\\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\\n\\t}\\n}\\n\\n.ck .ck-upload-placeholder-loader {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\n\\t&::before {\\n\\t\\twidth: var(--ck-upload-placeholder-loader-size);\\n\\t\\theight: var(--ck-upload-placeholder-loader-size);\\n\\t\\tborder-radius: 50%;\\n\\t\\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\\n\\t\\tborder-right: 2px solid transparent;\\n\\t\\tanimation: ck-upload-placeholder-loader 1s linear infinite;\\n\\t}\\n}\\n\\n@keyframes ck-upload-placeholder-loader {\\n\\tto {\\n\\t\\ttransform: rotate( 360deg );\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5870: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css",
            ],
            names: [],
            mappings:
              "AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& .image,\\n\\t& .image-inline {\\n\\t\\tposition: relative;\\n\\t}\\n\\n\\t/* Upload progress bar. */\\n\\t& .image .ck-progress-bar,\\n\\t& .image-inline .ck-progress-bar {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 0;\\n\\t\\tleft: 0;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& .image,\\n\\t& .image-inline {\\n\\t\\t/* Showing animation. */\\n\\t\\t&.ck-appear {\\n\\t\\t\\tanimation: fadeIn 700ms;\\n\\t\\t}\\n\\t}\\n\\n\\t/* Upload progress bar. */\\n\\t& .image .ck-progress-bar,\\n\\t& .image-inline .ck-progress-bar {\\n\\t\\theight: 2px;\\n\\t\\twidth: 0;\\n\\t\\tbackground: var(--ck-color-upload-bar-background);\\n\\t\\ttransition: width 100ms;\\n\\t}\\n}\\n\\n@keyframes fadeIn {\\n\\tfrom { opacity: 0; }\\n\\tto   { opacity: 1; }\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6831: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
            ],
            names: [],
            mappings:
              "AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck.ck-text-alternative-form {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tdisplay: inline-block;\\n\\t}\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      399: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css",
            ],
            names: [],
            mappings:
              "AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* Class added to span element surrounding currently selected link. */\\n.ck .ck-link_selected {\\n\\tbackground: var(--ck-color-link-selected-background);\\n\\n\\t/* Give linked inline images some outline to let the user know they are also part of the link. */\\n\\t& span.image-inline {\\n\\t\\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\\n\\t}\\n}\\n\\n/*\\n * Classes used by the "fake visual selection" displayed in the content when an input\\n * in the link UI has focus (the browser does not render the native selection in this state).\\n */\\n.ck .ck-fake-link-selection {\\n\\tbackground: var(--ck-color-link-fake-selection);\\n}\\n\\n/* A collapsed fake visual selection. */\\n.ck .ck-fake-link-selection_collapsed {\\n\\theight: 100%;\\n\\tborder-right: 1px solid var(--ck-color-base-text);\\n\\tmargin-right: -1px;\\n\\toutline: solid 1px hsla(0, 0%, 100%, .5);\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9465: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css",
            ],
            names: [],
            mappings:
              "AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck.ck-link-actions {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\n\\t& .ck-link-actions__preview {\\n\\t\\tdisplay: inline-block;\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\toverflow: hidden;\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-link-actions__preview {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(.ck-link-actions__preview) {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n@import "../mixins/_focus.css";\\n@import "../mixins/_shadow.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck.ck-link-actions {\\n\\t& .ck-button.ck-link-actions__preview {\\n\\t\\tpadding-left: 0;\\n\\t\\tpadding-right: 0;\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\tpadding: 0 var(--ck-spacing-medium);\\n\\t\\t\\tcolor: var(--ck-color-link-default);\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\tcursor: pointer;\\n\\n\\t\\t\\t/* Match the box model of the link editor form\\'s input so the balloon\\n\\t\\t\\tdoes not change width when moving between actions and the form. */\\n\\t\\t\\tmax-width: var(--ck-input-width);\\n\\t\\t\\tmin-width: 3em;\\n\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\ttext-decoration: underline;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&,\\n\\t\\t&:hover,\\n\\t\\t&:focus,\\n\\t\\t&:active {\\n\\t\\t\\tbackground: none;\\n\\t\\t}\\n\\n\\t\\t&:active {\\n\\t\\t\\tbox-shadow: none;\\n\\t\\t}\\n\\n\\t\\t&:focus {\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\ttext-decoration: underline;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir ltr {\\n\\t\\t& .ck-button:not(:first-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir rtl {\\n\\t\\t& .ck-button:not(:last-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\t& .ck-button.ck-link-actions__preview {\\n\\t\\t\\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\\n\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t\\tmax-width: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(.ck-link-actions__preview) {\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4827: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css",
            ],
            names: [],
            mappings:
              "AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck.ck-link-form {\\n\\tdisplay: flex;\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * Style link form differently when manual decorators are available.\\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\\n */\\n.ck.ck-link-form_layout-vertical {\\n\\tdisplay: block;\\n\\n\\t/*\\n\\t * Whether the form is in the responsive mode or not, if there are decorator buttons\\n\\t * keep the top margin of action buttons medium.\\n\\t */\\n\\t& .ck-button {\\n\\t\\t&.ck-button-save,\\n\\t\\t&.ck-button-cancel {\\n\\t\\t\\tmargin-top: var(--ck-spacing-medium);\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n/*\\n * Style link form differently when manual decorators are available.\\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\\n */\\n.ck.ck-link-form_layout-vertical {\\n\\tpadding: 0;\\n\\tmin-width: var(--ck-input-width);\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\\n\\n\\t\\t& .ck-input-text {\\n\\t\\t\\tmin-width: 0;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck-button {\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\t\\tmargin: 0;\\n\\t\\twidth: 50%;\\n\\t\\tborder-radius: 0;\\n\\n\\t\\t&:not(:focus) {\\n\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tmargin-left: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tmargin-left: 0;\\n\\n\\t\\t\\t&:last-of-type {\\n\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */\\n\\t& .ck.ck-list {\\n\\t\\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\\n\\n\\t\\t& .ck-button.ck-switchbutton {\\n\\t\\t\\tpadding: 0;\\n\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tbackground: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3858: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css",
            ],
            names: [],
            mappings:
              "AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t/* Linked image indicator */\\n\\t& figure.image > a,\\n\\t& a span.image-inline {\\n\\t\\t&::after {\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t/* Match the icon size with the upload indicator brought by the image upload feature. */\\n\\t--ck-link-image-indicator-icon-size: 20;\\n\\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/* Linked image indicator */\\n\\t& figure.image > a,\\n\\t& a span.image-inline {\\n\\t\\t&::after {\\n\\t\\t\\tcontent: "";\\n\\n\\t\\t\\t/*\\n\\t\\t\\t * Smaller images should have the icon closer to the border.\\n\\t\\t\\t * Match the icon position with the upload indicator brought by the image upload feature.\\n\\t\\t\\t */\\n\\t\\t\\ttop: min(var(--ck-spacing-medium), 6%);\\n\\t\\t\\tright: min(var(--ck-spacing-medium), 6%);\\n\\n\\t\\t\\tbackground-color: hsla(0, 0%, 0%, .4);\\n\\t\\t\\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\\n\\t\\t\\tbackground-size: 14px;\\n\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tborder-radius: 100%;\\n\\n\\t\\t\\t/*\\n\\t\\t\\t* Use CSS math to simulate container queries.\\n\\t\\t\\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\\n\\t\\t\\t*/\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\\n\\t\\t\\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\\n\\t\\t}\\n\\t}\\n}\\n\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      1588: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-todo-list-checkmark-size: 16px;\\n}\\n\\n.ck-content .todo-list {\\n\\tlist-style: none;\\n\\n\\t& li {\\n\\t\\tmargin-bottom: 5px;\\n\\n\\t\\t& .todo-list {\\n\\t\\t\\tmargin-top: 5px;\\n\\t\\t}\\n\\t}\\n\\n\\t& .todo-list__label {\\n\\t\\t& > input {\\n\\t\\t\\t-webkit-appearance: none;\\n\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\tposition: relative;\\n\\t\\t\\twidth: var(--ck-todo-list-checkmark-size);\\n\\t\\t\\theight: var(--ck-todo-list-checkmark-size);\\n\\t\\t\\tvertical-align: middle;\\n\\n\\t\\t\\t/* Needed on iOS */\\n\\t\\t\\tborder: 0;\\n\\n\\t\\t\\t/* LTR styles */\\n\\t\\t\\tleft: -25px;\\n\\t\\t\\tmargin-right: -15px;\\n\\t\\t\\tright: 0;\\n\\t\\t\\tmargin-left: 0;\\n\\n\\t\\t\\t&::before {\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tbox-sizing: border-box;\\n\\t\\t\\t\\tcontent: '';\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\theight: 100%;\\n\\t\\t\\t\\tborder: 1px solid hsl(0, 0%, 20%);\\n\\t\\t\\t\\tborder-radius: 2px;\\n\\t\\t\\t\\ttransition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tbox-sizing: content-box;\\n\\t\\t\\t\\tpointer-events: none;\\n\\t\\t\\t\\tcontent: '';\\n\\n\\t\\t\\t\\t/* Calculate tick position, size and border-width proportional to the checkmark size. */\\n\\t\\t\\t\\tleft: calc( var(--ck-todo-list-checkmark-size) / 3 );\\n\\t\\t\\t\\ttop: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\\n\\t\\t\\t\\twidth: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\\n\\t\\t\\t\\theight: calc( var(--ck-todo-list-checkmark-size) / 2.6 );\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t\\tborder-color: transparent;\\n\\t\\t\\t\\tborder-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;\\n\\t\\t\\t\\ttransform: rotate(45deg);\\n\\t\\t\\t}\\n\\n\\t\\t\\t&[checked] {\\n\\t\\t\\t\\t&::before {\\n\\t\\t\\t\\t\\tbackground: hsl(126, 64%, 41%);\\n\\t\\t\\t\\t\\tborder-color: hsl(126, 64%, 41%);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&::after {\\n\\t\\t\\t\\t\\tborder-color: hsl(0, 0%, 100%);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .todo-list__label__description {\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t}\\n\\t}\\n}\\n\\n/* RTL styles */\\n[dir=\\"rtl\\"] .todo-list .todo-list__label > input {\\n\\tleft: 0;\\n\\tmargin-right: 0;\\n\\tright: -25px;\\n\\tmargin-left: -15px;\\n}\\n\\n/*\\n * To-do list should be interactive only during the editing\\n * (https://github.com/ckeditor/ckeditor5/issues/2090).\\n */\\n.ck-editor__editable .todo-list .todo-list__label > input {\\n\\tcursor: pointer;\\n\\n\\t&:hover::before {\\n\\t\\tbox-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5777: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css",
            ],
            names: [],
            mappings: "AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content .media {\\n\\t/* Don\\'t allow floated content overlap the media.\\n\\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\\n\\tclear: both;\\n\\n\\t/* Make sure there is some space between the content and the media. */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em 0;\\n\\n\\t/* Make sure media is not overriden with Bootstrap default \`flex\` value.\\n\\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\\n\\tdisplay: block;\\n\\n\\t/* Give the media some minimal width in the content to prevent them\\n\\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\\n\\tmin-width: 15em;\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      952: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css",
            ],
            names: [],
            mappings:
              "AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-media__wrapper {\\n\\t& .ck-media__placeholder {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\talign-items: center;\\n\\n\\t\\t& .ck-media__placeholder__url {\\n\\t\\t\\t/* Otherwise the URL will overflow when the content is very narrow. */\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\tposition: relative;\\n\\n\\t\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*="twitter.com"],\\n\\t&[data-oembed-url*="google.com/maps"],\\n\\t&[data-oembed-url*="goo.gl/maps"],\\n\\t&[data-oembed-url*="maps.google.com"],\\n\\t&[data-oembed-url*="maps.app.goo.gl"],\\n\\t&[data-oembed-url*="facebook.com"],\\n\\t&[data-oembed-url*="instagram.com"] {\\n\\t\\t& .ck-media__placeholder__icon * {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n\\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\\n\\tpointer-events: none;\\n}\\n\\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\\n\\tpointer-events: none;\\n}\\n',
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-media-embed-placeholder-icon-size: 3em;\\n\\n\\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\\n\\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\\n}\\n\\n.ck-media__wrapper {\\n\\tmargin: 0 auto;\\n\\n\\t& .ck-media__placeholder {\\n\\t\\tpadding: calc( 3 * var(--ck-spacing-standard) );\\n\\t\\tbackground: var(--ck-color-base-foreground);\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tmin-width: var(--ck-media-embed-placeholder-icon-size);\\n\\t\\t\\theight: var(--ck-media-embed-placeholder-icon-size);\\n\\t\\t\\tmargin-bottom: var(--ck-spacing-large);\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tbackground-size: cover;\\n\\n\\t\\t\\t& .ck-icon {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\theight: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: var(--ck-color-media-embed-placeholder-url-text);\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tfont-style: italic;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\\n\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t\\ttext-decoration: underline;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*="open.spotify.com"] {\\n\\t\\tmax-width: 300px;\\n\\t\\tmax-height: 380px;\\n\\t}\\n\\n\\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\\n\\t\\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\\n\\t}\\n\\n\\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\\n\\t\\tbackground: hsl(220, 46%, 48%);\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(220, 100%, 90%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\\n\\t\\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\\n\\t\\t}\\n\\n\\t\\t/* stylelint-disable-next-line no-descending-specificity */\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(302, 100%, 94%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\\n\\t\\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\\n\\t\\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(201, 100%, 86%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3525: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
            ],
            names: [],
            mappings:
              "AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck.ck-media-form {\\n\\tdisplay: flex;\\n\\talign-items: flex-start;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tdisplay: inline-block;\\n\\t}\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      7583: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-color-mention-background:rgba(153,0,48,.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-mention/mention.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,+CAAwD,CACxD,+BACD,CAEA,qBACC,6CAA8C,CAC9C,kCACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-mention-background: hsla(341, 100%, 30%, 0.1);\\n\\t--ck-color-mention-text: hsl(341, 100%, 30%);\\n}\\n\\n.ck-content .mention {\\n\\tbackground: var(--ck-color-mention-background);\\n\\tcolor: var(--ck-color-mention-text);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6391: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{flex-shrink:0;overflow:hidden}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-mention/theme/mentionui.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,kCACD,CAEA,gBACC,4CAA6C,CAM7C,iBAAkB,CAJlB,eAAgB,CAMhB,2BAQD,CAJC,+BAEC,aAAc,CADd,eAED",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-mention-list-max-height: 300px;\\n}\\n\\n.ck.ck-mentions {\\n\\tmax-height: var(--ck-mention-list-max-height);\\n\\n\\toverflow-y: auto;\\n\\n\\t/* Prevent unnecessary horizontal scrollbar in Safari\\n\\thttps://github.com/ckeditor/ckeditor5-mention/issues/41 */\\n\\toverflow-x: hidden;\\n\\n\\toverscroll-behavior: contain;\\n\\n\\t/* Prevent unnecessary vertical scrollbar in Safari\\n\\thttps://github.com/ckeditor/ckeditor5-mention/issues/41 */\\n\\t& > .ck-list__item {\\n\\t\\toverflow: hidden;\\n\\t\\tflex-shrink: 0;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      671: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) " ";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%}.ck-rounded-corners .ck-source-editing-area textarea,.ck-source-editing-area textarea.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
            ],
            names: [],
            mappings:
              "AASA,wBAEC,eAAgB,CADhB,iBAED,CAEA,+DAIC,4BAA6B,CAG7B,qBAAsB,CADtB,oCAAqC,CADrC,sCAAuC,CAFvC,QAAS,CADT,+BAAgC,CAMhC,oBACD,CAEA,8BACC,4BAA6B,CAE7B,aAAc,CADd,iBAED,CAEA,iCASC,wCAAyC,CC7BzC,eAAgB,CD2BhB,qBAAsB,CAJtB,WAAY,CAEZ,YAAa,CACb,eAAgB,CALhB,iBAAkB,CAGlB,WAAY,CAFZ,UAkBD,CApBA,yGChBE,qCAAsC,CD4BtC,wBAAyB,CACzB,yBAOF,CAJC,uDEpCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFwCA",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";\\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css";\\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";\\n\\n.ck-source-editing-area {\\n\\tposition: relative;\\n\\toverflow: hidden;\\n}\\n\\n.ck-source-editing-area::after,\\n.ck-source-editing-area textarea {\\n\\tpadding: var(--ck-spacing-large);\\n\\tmargin: 0;\\n\\tborder: 1px solid transparent;\\n\\tline-height: var(--ck-line-height-base);\\n\\tfont-size: var(--ck-font-size-normal);\\n\\tfont-family: monospace;\\n\\twhite-space: pre-wrap;\\n}\\n\\n.ck-source-editing-area::after {\\n\\tcontent: attr(data-value) " ";\\n\\tvisibility: hidden;\\n\\tdisplay: block;\\n}\\n\\n.ck-source-editing-area textarea {\\n\\tposition: absolute;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tresize: none;\\n\\toutline: none;\\n\\toverflow: hidden;\\n\\tbox-sizing: border-box;\\n\\n\\tborder-color: var(--ck-color-base-border);\\n\\n\\t@mixin ck-rounded-corners {\\n\\t\\tborder-top-left-radius: 0;\\n\\t\\tborder-top-right-radius: 0;\\n\\t}\\n\\n\\t&:not([readonly]):focus {\\n\\t\\t@mixin ck-focus-ring;\\n\\t\\t@mixin ck-box-shadow var(--ck-inner-shadow);\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A visual style of focused element's border.\\n */\\n@define-mixin ck-focus-ring {\\n\\t/* Disable native outline. */\\n\\toutline: none;\\n\\tborder: var(--ck-focus-ring)\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4046: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-special-characters/theme/charactergrid.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/charactergrid.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
            ],
            names: [],
            mappings:
              "AAKA,sBACC,cAKD,CAHC,gDACC,YACD,CCFD,MACC,kCACD,CAEA,sBAIC,gBAAiB,CAFjB,iBAAkB,CADlB,eAAgB,CAEhB,WAyCD,CClDC,oCDMD,sBAOE,WAqCF,CChDC,CDcA,gDAGC,mCAAoC,CAFpC,oCAAsC,CACtC,yDAMD,CCxBA,oCDgBA,gDAME,mCAEF,CCtBA,CDwBA,+CAQC,QAAS,CAHT,eAAgB,CAHhB,yCAA0C,CAE1C,6CAA8C,CAD9C,4CAA6C,CAG7C,SAAU,CACV,8BAA+B,CAN/B,wCAsBD,CAbC,8IAGC,QAAS,CACT,iGACD,CAGA,iEACC,8CAA+C,CAE/C,iBAAkB,CADlB,UAED",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-character-grid {\\n\\tmax-width: 100%;\\n\\t\\n\\t& .ck-character-grid__tiles {\\n\\t\\tdisplay: grid;\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n@import "../mixins/_rounded.css";\\n\\n:root {\\n\\t--ck-character-grid-tile-size: 24px;\\n}\\n\\n.ck.ck-character-grid {\\n\\toverflow-y: auto;\\n\\toverflow-x: hidden;\\n\\twidth: 350px;\\n\\tmax-height: 200px;\\n\\n\\t@mixin ck-media-phone {\\n\\t\\twidth: 190px;\\n\\t}\\n\\n\\t& .ck-character-grid__tiles {\\n\\t\\tgrid-template-columns: repeat(10, 1fr);\\n\\t\\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\\n\\t\\tgrid-gap: var(--ck-spacing-standard);\\n\\n\\t\\t@mixin ck-media-phone {\\n\\t\\t\\tgrid-template-columns: repeat(5, 1fr);\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-character-grid__tile {\\n\\t\\twidth: var(--ck-character-grid-tile-size);\\n\\t\\theight: var(--ck-character-grid-tile-size);\\n\\t\\tmin-width: var(--ck-character-grid-tile-size);\\n\\t\\tmin-height: var(--ck-character-grid-tile-size);\\n\\t\\tfont-size: 1.2em;\\n\\t\\tpadding: 0;\\n\\t\\ttransition: .2s ease box-shadow;\\n\\t\\tborder: 0;\\n\\n\\t\\t&:focus:not( .ck-disabled ),\\n\\t\\t&:hover:not( .ck-disabled ) {\\n\\t\\t\\t/* Disable the default .ck-button\\'s border ring. */\\n\\t\\t\\tborder: 0;\\n\\t\\t\\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\\n\\t\\t}\\n\\n\\t\\t/* Make sure the glyph is rendered in the center of the button */\\n\\t\\t& .ck-button__label {\\n\\t\\t\\tline-height: var(--ck-character-grid-tile-size);\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\ttext-align: center;\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4779: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-special-characters/theme/characterinfo.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/characterinfo.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
            ],
            names: [],
            mappings:
              "AAKA,sBCIC,gDAAiD,CDHjD,YAAa,CACb,6BAA8B,CCC9B,uDDAD,CCGC,wBAEC,mCAAoC,CADpC,wBAED,CAEA,+CACC,eAAgB,CAEhB,eAAgB,CADhB,sBAED,CAEA,+CACC,UACD,CClBA,oCDCD,sBAoBE,eAEF,CCrBC",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-character-info {\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck.ck-character-info {\\n\\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\\n\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\n\\t& > * {\\n\\t\\ttext-transform: uppercase;\\n\\t\\tfont-size: var(--ck-font-size-small);\\n\\t}\\n\\n\\t& .ck-character-info__name {\\n\\t\\tmax-width: 280px;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t}\\n\\n\\t& .ck-character-info__code {\\n\\t\\topacity: .6;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tmax-width: 190px;\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      8170: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/specialcharacters.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
            ],
            names: [],
            mappings:
              "AAUC,+CACC,eAAgB,CAEhB,eAAgB,CADhB,sBAED,CAEA,sEAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED,CCfA,oCDED,qCAgBE,eAOF,CALE,6DAEC,eAAgB,CADhB,sBAED,CCrBD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck.ck-special-characters-navigation {\\n\\n\\t& > .ck-label {\\n\\t\\tmax-width: 160px;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t}\\n\\n\\t& > .ck-dropdown .ck-dropdown__panel {\\n\\t\\t/* There could be dozens of categories available. Use scroll to prevent a 10e6px dropdown. */\\n\\t\\tmax-height: 250px;\\n\\t\\toverflow-y: auto;\\n\\t\\toverflow-x: hidden;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tmax-width: 190px;\\n\\n\\t\\t& > .ck-form__header__label {\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4082: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-input-color {\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: row-reverse;\\n\\n\\t& > input.ck.ck-input-text {\\n\\t\\tmin-width: auto;\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t& > div.ck.ck-dropdown {\\n\\t\\tmin-width: auto;\\n\\n\\t\\t/* This dropdown has no arrow but a color preview instead. */\\n\\t\\t& > .ck-input-color__button .ck-dropdown__arrow {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-input-color__button {\\n\\t\\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\\n\\t\\tdisplay: flex;\\n\\n\\t\\t& .ck.ck-input-color__button__preview {\\n\\t\\t\\tposition: relative;\\n\\t\\t\\toverflow: hidden;\\n\\n\\t\\t\\t& > .ck.ck-input-color__button__preview__no-color-indicator {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n@import "../mixins/_rounded.css";\\n\\n.ck.ck-input-color {\\n\\t& > .ck.ck-input-text {\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t}\\n\\n\\t\\t/* Make sure the focused input is always on top of the dropdown button so its\\n\\t\\t   outline and border are never cropped (also when the input is read-only). */\\n\\t\\t&:focus {\\n\\t\\t\\tz-index: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck.ck-dropdown {\\n\\t\\t& > .ck.ck-button.ck-input-color__button {\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\t\\tborder-bottom-left-radius: 0;\\n\\n\\t\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\t\\tborder-left: 1px solid transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\t\\tborder-bottom-right-radius: 0;\\n\\n\\t\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\t\\tborder-right: 1px solid transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.ck-disabled {\\n\\t\\t\\t\\tbackground: var(--ck-color-input-disabled-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& > .ck.ck-input-color__button__preview {\\n\\t\\t\\t\\t@mixin ck-rounded-corners;\\n\\n\\t\\t\\t\\twidth: 20px;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tborder: 1px solid var(--ck-color-input-border);\\n\\n\\t\\t\\t\\t& > .ck.ck-input-color__button__preview__no-color-indicator {\\n\\t\\t\\t\\t\\ttop: -30%;\\n\\t\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\t\\theight: 150%;\\n\\t\\t\\t\\t\\twidth: 8%;\\n\\t\\t\\t\\t\\tbackground: hsl(0, 100%, 50%);\\n\\t\\t\\t\\t\\tborder-radius: 2px;\\n\\t\\t\\t\\t\\ttransform: rotate(45deg);\\n\\t\\t\\t\\t\\ttransform-origin: 50%;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-input-color__remove-color {\\n\\t\\twidth: 100%;\\n\\t\\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\\n\\n\\t\\tborder-bottom-left-radius: 0;\\n\\t\\tborder-bottom-right-radius: 0;\\n\\n\\t\\t&:not(:focus) {\\n\\t\\t\\tborder-bottom: 1px solid var(--ck-color-input-border);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t}\\n\\n\\t\\t& .ck.ck-icon {\\n\\t\\t\\tmargin-right: var(--ck-spacing-standard);\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4880: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css",
            ],
            names: [],
            mappings:
              "AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-form {\\n\\tpadding: 0 0 var(--ck-spacing-large);\\n\\n\\t&:focus {\\n\\t\\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t& .ck.ck-input-text {\\n\\t\\tmin-width: 100%;\\n\\t\\twidth: 0;\\n\\t}\\n\\n\\t& .ck.ck-dropdown {\\n\\t\\tmin-width: 100%;\\n\\n\\t\\t& .ck-dropdown__button {\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9865: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-table/theme/formrow.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css",
            ],
            names: [],
            mappings:
              "AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-form__row {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\tjustify-content: space-between;\\n\\n\\t/* Ignore labels that work as fieldset legends */\\n\\t& > *:not(.ck-label) {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t&.ck-table-form__action-row {\\n\\t\\t& .ck-button-save,\\n\\t\\t& .ck-button-cancel {\\n\\t\\t\\tjustify-content: center;\\n\\t\\t}\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n.ck.ck-form__row {\\n\\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\\n\\n\\t/* Ignore labels that work as fieldset legends */\\n\\t& > *:not(.ck-label) {\\n\\t\\t& + * {\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck-label {\\n\\t\\twidth: 100%;\\n\\t\\tmin-width: 100%;\\n\\t}\\n\\n\\t&.ck-table-form__action-row {\\n\\t\\tmargin-top: var(--ck-spacing-large);\\n\\n\\t\\t& .ck-button .ck-button__label {\\n\\t\\t\\tcolor: var(--ck-color-text);\\n\\t\\t}\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      8085: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css",
            ],
            names: [],
            mappings:
              "AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-insert-table-dropdown__grid {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-insert-table-dropdown-padding: 10px;\\n\\t--ck-insert-table-dropdown-box-height: 11px;\\n\\t--ck-insert-table-dropdown-box-width: 12px;\\n\\t--ck-insert-table-dropdown-box-margin: 1px;\\n}\\n\\n.ck .ck-insert-table-dropdown__grid {\\n\\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\\n\\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\\n\\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\\n}\\n\\n.ck .ck-insert-table-dropdown__label,\\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\\n\\ttext-align: center;\\n}\\n\\n.ck .ck-insert-table-dropdown-grid-box {\\n\\tmin-width: var(--ck-insert-table-dropdown-box-width);\\n\\tmin-height: var(--ck-insert-table-dropdown-box-height);\\n\\tmargin: var(--ck-insert-table-dropdown-box-margin);\\n\\tborder: 1px solid var(--ck-color-base-border);\\n\\tborder-radius: 1px;\\n\\toutline: none;\\n\\ttransition: none;\\n\\n\\t&:focus {\\n\\t\\tbox-shadow: none;\\n\\t}\\n\\n\\t&.ck-on {\\n\\t\\tborder-color: var(--ck-color-focus-border);\\n\\t\\tbackground: var(--ck-color-focus-outer-shadow);\\n\\t}\\n}\\n\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4104: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css",
            ],
            names: [],
            mappings:
              "AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content .table {\\n\\t/* Give the table widget some air and center it horizontally */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em auto;\\n\\tdisplay: table;\\n\\n\\t& table {\\n\\t\\t/* The table cells should have slight borders */\\n\\t\\tborder-collapse: collapse;\\n\\t\\tborder-spacing: 0;\\n\\n\\t\\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\\n\\t\\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\n\\t\\t/* The outer border of the table should be slightly darker than the inner lines.\\n\\t\\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\\n\\t\\tborder: 1px double hsl(0, 0%, 70%);\\n\\n\\t\\t& td,\\n\\t\\t& th {\\n\\t\\t\\tmin-width: 2em;\\n\\t\\t\\tpadding: .4em;\\n\\n\\t\\t\\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\\'s not necessary here.\\n\\t\\t\\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\\n\\t\\t\\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\\n\\t\\t\\tborder: 1px solid hsl(0, 0%, 75%);\\n\\t\\t}\\n\\n\\t\\t& th {\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t\\tbackground: hsla(0, 0%, 0%, 5%);\\n\\t\\t}\\n\\t}\\n}\\n\\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\\n.ck-content[dir="rtl"] .table th {\\n\\ttext-align: right;\\n}\\n\\n.ck-content[dir="ltr"] .table th {\\n\\ttext-align: left;\\n}\\n\\n.ck-editor__editable .ck-table-bogus-paragraph {\\n\\t/*\\n\\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\\n\\t */\\n\\tdisplay: inline-block;\\n\\n\\t/*\\n\\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\\n\\t */\\n\\twidth: 100%;\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      728: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAEC,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-table-column-resizer-hover: var(--ck-color-base-active);\\n\\t--ck-table-column-resizer-width: 7px;\\n\\n\\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\\n\\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\\n\\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\\n}\\n\\n.ck-content .table .ck-table-resized {\\n\\ttable-layout: fixed;\\n}\\n\\n.ck-content .table table {\\n\\toverflow: hidden;\\n}\\n\\n.ck-content .table td,\\n.ck-content .table th {\\n\\tposition: relative;\\n}\\n\\n.ck.ck-editor__editable .table .ck-table-column-resizer {\\n\\tposition: absolute;\\n\\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\\n\\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\\n\\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\\n\\t   unrealistic height for a single table. */\\n\\ttop: -999999px;\\n\\tbottom: -999999px;\\n\\tright: var(--ck-table-column-resizer-position-offset);\\n\\twidth: var(--ck-table-column-resizer-width);\\n\\tcursor: col-resize;\\n\\tuser-select: none;\\n\\tz-index: var(--ck-z-default);\\n}\\n\\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\\n\\tdisplay: none;\\n}\\n\\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\\n   all resizers must be hidden while the table is dragged. */\\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\\n\\tdisplay: none;\\n}\\n\\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\\n\\tbackground-color: var(--ck-color-table-column-resizer-hover);\\n\\topacity: 0.25;\\n}\\n\\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\\n\\tleft: var(--ck-table-column-resizer-position-offset);\\n\\tright: unset;\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4777: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\\n}\\n\\n.ck-widget.table {\\n\\t& td,\\n\\t& th {\\n\\t\\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\\n\\t\\t&.ck-editor__nested-editable:focus {\\n\\t\\t\\t/* A very slight background to highlight the focused cell */\\n\\t\\t\\tbackground: var(--ck-color-table-focused-cell-background);\\n\\n\\t\\t\\t/* Fixes the problem where surrounding cells cover the focused cell's border.\\n\\t\\t\\tIt does not fix the problem in all places but the UX is improved.\\n\\t\\t\\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\\n\\t\\t\\tborder-style: none;\\n\\t\\t\\toutline: 1px solid var(--ck-color-focus-border);\\n\\t\\t\\toutline-offset: -1px; /* progressive enhancement - no IE support */\\n\\t\\t}\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      198: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableform.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-form__border-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__background-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__dimensions-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: column-reverse;\\n\\t\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t\\t& .ck.ck-dropdown {\\n\\t\\t\\t\\t\\tflex-grow: 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__dimension-operator {\\n\\t\\t\\t\\tflex-grow: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-labeled-field-view {\\n\\t\\t/* Allow absolute positioning of the status (error) balloons. */\\n\\t\\tposition: relative;\\n\\n\\t\\t& .ck.ck-labeled-field-view__status {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\tleft: 50%;\\n\\t\\t\\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\\n\\t\\t\\ttransform: translate(-50%,100%);\\n\\n\\t\\t\\t/* Make sure the balloon status stays on top of other form elements. */\\n\\t\\t\\tz-index: 1;\\n\\n\\t\\t\\t/* The arrow pointing towards the field. */\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: "";\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\\n\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\ttransform: translateX( -50% );\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../mixins/_rounded.css";\\n\\n:root {\\n\\t--ck-table-properties-error-arrow-size: 6px;\\n\\t--ck-table-properties-min-error-width: 150px;\\n}\\n\\n.ck.ck-table-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-form__border-row {\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\t& > .ck-label {\\n\\t\\t\\t\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__border-style,\\n\\t\\t\\t& .ck-table-form__border-width {\\n\\t\\t\\t\\twidth: 80px;\\n\\t\\t\\t\\tmin-width: 80px;\\n\\t\\t\\t\\tmax-width: 80px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__dimensions-row {\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t& .ck-table-form__dimensions-row__width,\\n\\t\\t\\t& .ck-table-form__dimensions-row__height {\\n\\t\\t\\t\\tmargin: 0\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__dimension-operator {\\n\\t\\t\\t\\talign-self: flex-end;\\n\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\theight: var(--ck-ui-component-min-height);\\n\\t\\t\\t\\tline-height: var(--ck-ui-component-min-height);\\n\\t\\t\\t\\tmargin: 0 var(--ck-spacing-small);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-labeled-field-view {\\n\\t\\tpadding-top: var(--ck-spacing-standard);\\n\\n\\t\\t& .ck.ck-labeled-field-view__status {\\n\\t\\t\\t@mixin ck-rounded-corners;\\n\\n\\t\\t\\tbackground: var(--ck-color-base-error);\\n\\t\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\t\\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\\n\\t\\t\\tmin-width: var(--ck-table-properties-min-error-width);\\n\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t/* The arrow pointing towards the field. */\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\\n\\t\\t\\t\\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t}\\n\\n\\t\\t\\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\\n\\t\\t}\\n\\n\\t\\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\\n\\t\\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n\\n@keyframes ck-table-form-labeled-view-status-appear {\\n\\t0% {\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9221: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css",
            ],
            names: [],
            mappings:
              "AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-properties-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-properties-form__alignment-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\tflex-basis: 0;\\n\\t\\t\\talign-content: baseline;\\n\\n\\t\\t\\t& .ck.ck-toolbar .ck-toolbar__items {\\n\\t\\t\\t\\tflex-wrap: nowrap;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-properties-form {\\n\\twidth: 320px;\\n\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-properties-form__alignment-row {\\n\\t\\t\\talign-self: flex-end;\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t& .ck.ck-toolbar {\\n\\t\\t\\t\\tbackground: none;\\n\\n\\t\\t\\t\\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\n\\t\\t\\t\\t& .ck-toolbar__items > * {\\n\\t\\t\\t\\t\\twidth: 40px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5593: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\\n}\\n\\n.ck.ck-editor__editable .table table {\\n\\t& td.ck-editor__editable_selected,\\n\\t& th.ck-editor__editable_selected {\\n\\t\\tposition: relative;\\n\\t\\tcaret-color: transparent;\\n\\t\\toutline: unset;\\n\\t\\tbox-shadow: unset;\\n\\n\\t\\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\\n\\t\\t&:after {\\n\\t\\t\\tcontent: '';\\n\\t\\t\\tpointer-events: none;\\n\\t\\t\\tbackground-color: var(--ck-table-selected-cell-background);\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\tleft: 0;\\n\\t\\t\\tright: 0;\\n\\t\\t\\tbottom: 0;\\n\\t\\t}\\n\\n\\t\\t& ::selection,\\n\\t\\t&:focus {\\n\\t\\t\\tbackground-color: transparent;\\n\\t\\t}\\n\\n\\t\\t/*\\n\\t\\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\\n\\t\\t */\\n\\t\\t& .ck-widget {\\n\\t\\t\\toutline: unset;\\n\\n\\t\\t\\t& > .ck-widget__selection-handle {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4499: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css",
            ],
            names: [],
            mappings:
              "AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../mixins/_unselectable.css";\\n\\n.ck.ck-button,\\na.ck.ck-button {\\n\\t@mixin ck-unselectable;\\n\\n\\tposition: relative;\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tjustify-content: left;\\n\\n\\t& .ck-button__label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t&.ck-button_with-text {\\n\\t\\t& .ck-button__label {\\n\\t\\t\\tdisplay: inline-block;\\n\\t\\t}\\n\\t}\\n\\n\\t/* Center the icon horizontally in a button without text. */\\n\\t&:not(.ck-button_with-text)  {\\n\\t\\tjustify-content: center;\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Makes element unselectable.\\n */\\n@define-mixin ck-unselectable {\\n\\t-moz-user-select: none;\\n\\t-webkit-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_focus.css";\\n@import "../../../mixins/_shadow.css";\\n@import "../../../mixins/_disabled.css";\\n@import "../../../mixins/_rounded.css";\\n@import "../../mixins/_button.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n.ck.ck-button,\\na.ck.ck-button {\\n\\t@mixin ck-button-colors --ck-color-button-default;\\n\\t@mixin ck-rounded-corners;\\n\\n\\twhite-space: nowrap;\\n\\tcursor: default;\\n\\tvertical-align: middle;\\n\\tpadding: var(--ck-spacing-tiny);\\n\\ttext-align: center;\\n\\n\\t/* A very important piece of styling. Go to variable declaration to learn more. */\\n\\tmin-width: var(--ck-ui-component-min-height);\\n\\tmin-height: var(--ck-ui-component-min-height);\\n\\n\\t/* Normalize the height of the line. Removing this will break consistent height\\n\\tamong text and text-less buttons (with icons). */\\n\\tline-height: 1;\\n\\n\\t/* Enable font size inheritance, which allows fluid UI scaling. */\\n\\tfont-size: inherit;\\n\\n\\t/* Avoid flickering when the foucs border shows up. */\\n\\tborder: 1px solid transparent;\\n\\n\\t/* Apply some smooth transition to the box-shadow and border. */\\n\\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\\n\\t-webkit-appearance: none;\\n\\n\\t&:active,\\n\\t&:focus {\\n\\t\\t@mixin ck-focus-ring;\\n\\t\\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\\n\\t}\\n\\n\\t/* Allow icon coloring using the text "color" property. */\\n\\t& .ck-button__icon {\\n\\t\\t& use,\\n\\t\\t& use * {\\n\\t\\t\\tcolor: inherit;\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-button__label {\\n\\t\\t/* Enable font size inheritance, which allows fluid UI scaling. */\\n\\t\\tfont-size: inherit;\\n\\t\\tfont-weight: inherit;\\n\\t\\tcolor: inherit;\\n\\t\\tcursor: inherit;\\n\\n\\t\\t/* Must be consistent with .ck-icon\\'s vertical align. Otherwise, buttons with and\\n\\t\\twithout labels (but with icons) have different sizes in Chrome */\\n\\t\\tvertical-align: middle;\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\ttext-align: left;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\ttext-align: right;\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-button__keystroke {\\n\\t\\tcolor: inherit;\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tmargin-left: var(--ck-spacing-large);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tmargin-right: var(--ck-spacing-large);\\n\\t\\t}\\n\\n\\t\\tfont-weight: bold;\\n\\t\\topacity: .7;\\n\\t}\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\\n\\t&.ck-disabled {\\n\\t\\t&:active,\\n\\t\\t&:focus {\\n\\t\\t\\t/* The disabled button should have a slightly less visible shadow when focused. */\\n\\t\\t\\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\\n\\t\\t}\\n\\n\\t\\t& .ck-button__icon {\\n\\t\\t\\t@mixin ck-disabled;\\n\\t\\t}\\n\\n\\t\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\\n\\t\\t& .ck-button__label {\\n\\t\\t\\t@mixin ck-disabled;\\n\\t\\t}\\n\\n\\t\\t& .ck-button__keystroke {\\n\\t\\t\\topacity: .3;\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-button_with-text {\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\\n\\n\\t\\t/* stylelint-disable-next-line no-descending-specificity */\\n\\t\\t& .ck-button__icon {\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: calc(-1 * var(--ck-spacing-small));\\n\\t\\t\\t\\tmargin-right: var(--ck-spacing-small);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: calc(-1 * var(--ck-spacing-small));\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-small);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-button_with-keystroke {\\n\\t\\t/* stylelint-disable-next-line no-descending-specificity */\\n\\t\\t& .ck-button__label {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t}\\n\\t}\\n\\n\\t/* A style of the button which is currently on, e.g. its feature is active. */\\n\\t&.ck-on {\\n\\t\\t@mixin ck-button-colors --ck-color-button-on;\\n\\n\\t\\tcolor: var(--ck-color-button-on-color);\\n\\t}\\n\\n\\t&.ck-button-save {\\n\\t\\tcolor: var(--ck-color-button-save);\\n\\t}\\n\\n\\t&.ck-button-cancel {\\n\\t\\tcolor: var(--ck-color-button-cancel);\\n\\t}\\n}\\n\\n/* A style of the button which handles the primary action. */\\n.ck.ck-button-action,\\na.ck.ck-button-action {\\n\\t@mixin ck-button-colors --ck-color-button-action;\\n\\n\\tcolor: var(--ck-color-button-action-text);\\n}\\n\\n.ck.ck-button-bold,\\na.ck.ck-button-bold {\\n\\tfont-weight: bold;\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements a button of given background color.\\n *\\n * @param {String} $background - Background color of the button.\\n * @param {String} $border - Border color of the button.\\n */\\n@define-mixin ck-button-colors $prefix {\\n\\tbackground: var($(prefix)-background);\\n\\n\\t&:not(.ck-disabled) {\\n\\t\\t&:hover {\\n\\t\\t\\tbackground: var($(prefix)-hover-background);\\n\\t\\t}\\n\\n\\t\\t&:active {\\n\\t\\t\\tbackground: var($(prefix)-active-background);\\n\\t\\t}\\n\\t}\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\\n\\t&.ck-disabled {\\n\\t\\tbackground: var($(prefix)-disabled-background);\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A visual style of focused element's border.\\n */\\n@define-mixin ck-focus-ring {\\n\\t/* Disable native outline. */\\n\\toutline: none;\\n\\tborder: var(--ck-focus-ring)\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A class which indicates that an element holding it is disabled.\\n */\\n@define-mixin ck-disabled {\\n\\topacity: var(--ck-disabled-opacity);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9681: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css",
            ],
            names: [],
            mappings:
              "AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-button.ck-switchbutton {\\n\\t& .ck-button__toggle {\\n\\t\\tdisplay: block;\\n\\n\\t\\t& .ck-button__toggle__inner {\\n\\t\\t\\tdisplay: block;\\n\\t\\t}\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n@import "../../../mixins/_disabled.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\\nof the component, floating\u2013point numbers have been used which, for the default font size\\n(see: --ck-font-size-base), will generate simple integers. */\\n:root {\\n\\t/* 34px at 13px font-size */\\n\\t--ck-switch-button-toggle-width: 2.6153846154em;\\n\\t/* 14px at 13px font-size */\\n\\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\\n\\t--ck-switch-button-translation: calc(\\n\\t\\tvar(--ck-switch-button-toggle-width) -\\n\\t\\tvar(--ck-switch-button-toggle-inner-size) -\\n\\t\\t2px /* Border */\\n\\t);\\n\\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\\n}\\n\\n.ck.ck-button.ck-switchbutton {\\n\\t/* Unlike a regular button, the switch button text color and background should never change.\\n\\t * Changing toggle switch (background, outline) is enough to carry the information about the\\n\\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\\n\\t */\\n\\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\\n\\t\\tcolor: inherit;\\n\\t\\tbackground: transparent;\\n\\t}\\n\\n\\t& .ck-button__label {\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t/* Separate the label from the switch */\\n\\t\\t\\tmargin-right: calc(2 * var(--ck-spacing-large));\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t/* Separate the label from the switch */\\n\\t\\t\\tmargin-left: calc(2 * var(--ck-spacing-large));\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-button__toggle {\\n\\t\\t@mixin ck-rounded-corners;\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t/* Make sure the toggle is always to the right as far as possible. */\\n\\t\\t\\tmargin-left: auto;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t/* Make sure the toggle is always to the left as far as possible. */\\n\\t\\t\\tmargin-right: auto;\\n\\t\\t}\\n\\n\\t\\t/* Apply some smooth transition to the box-shadow and border. */\\n\\t\\t/* Gently animate the background color of the toggle switch */\\n\\t\\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\\n\\t\\tborder: 1px solid transparent;\\n\\t\\twidth: var(--ck-switch-button-toggle-width);\\n\\t\\tbackground: var(--ck-color-switch-button-off-background);\\n\\n\\t\\t& .ck-button__toggle__inner {\\n\\t\\t\\t@mixin ck-rounded-corners {\\n\\t\\t\\t\\tborder-radius: calc(.5 * var(--ck-border-radius));\\n\\t\\t\\t}\\n\\n\\t\\t\\twidth: var(--ck-switch-button-toggle-inner-size);\\n\\t\\t\\theight: var(--ck-switch-button-toggle-inner-size);\\n\\t\\t\\tbackground: var(--ck-color-switch-button-inner-background);\\n\\n\\t\\t\\t/* Gently animate the inner part of the toggle switch */\\n\\t\\t\\ttransition: all 300ms ease;\\n\\t\\t}\\n\\n\\t\\t&:hover {\\n\\t\\t\\tbackground: var(--ck-color-switch-button-off-hover-background);\\n\\n\\t\\t\\t& .ck-button__toggle__inner {\\n\\t\\t\\t\\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-disabled .ck-button__toggle {\\n\\t\\t@mixin ck-disabled;\\n\\t}\\n\\n\\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\\n\\t&:focus {\\n\\t\\tborder-color: transparent;\\n\\t\\toutline: none;\\n\\t\\tbox-shadow: none;\\n\\n\\t\\t& .ck-button__toggle {\\n\\t\\t\\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\\n\\t\\t\\toutline-offset: 1px;\\n\\t\\t\\toutline: var(--ck-focus-ring);\\n\\t\\t}\\n\\t}\\n\\n\\t/* stylelint-disable-next-line no-descending-specificity */\\n\\t&.ck-on {\\n\\t\\t& .ck-button__toggle {\\n\\t\\t\\tbackground: var(--ck-color-switch-button-on-background);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tbackground: var(--ck-color-switch-button-on-hover-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-button__toggle__inner {\\n\\t\\t\\t\\t/*\\n\\t\\t\\t\\t* Move the toggle switch to the right. It will be animated.\\n\\t\\t\\t\\t*/\\n\\t\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\t\\ttransform: translateX( var( --ck-switch-button-translation ) );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\t\\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A class which indicates that an element holding it is disabled.\\n */\\n@define-mixin ck-disabled {\\n\\topacity: var(--ck-disabled-opacity);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4923: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css",
            ],
            names: [],
            mappings:
              "AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-color-grid {\\n\\tdisplay: grid;\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n\\n:root {\\n\\t--ck-color-grid-tile-size: 24px;\\n\\n\\t/* Not using global colors here because these may change but some colors in a pallette\\n\\t * require special treatment. For instance, this ensures no matter what the UI text color is,\\n\\t * the check icon will look good on the black color tile. */\\n\\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\\n}\\n\\n.ck.ck-color-grid {\\n\\tgrid-gap: 5px;\\n\\tpadding: 8px;\\n}\\n\\n.ck.ck-color-grid__tile {\\n\\twidth: var(--ck-color-grid-tile-size);\\n\\theight: var(--ck-color-grid-tile-size);\\n\\tmin-width: var(--ck-color-grid-tile-size);\\n\\tmin-height: var(--ck-color-grid-tile-size);\\n\\tpadding: 0;\\n\\ttransition: .2s ease box-shadow;\\n\\tborder: 0;\\n\\n\\t&.ck-disabled {\\n\\t\\tcursor: unset;\\n\\t\\ttransition: unset;\\n\\t}\\n\\n\\t&.ck-color-table__color-tile_bordered {\\n\\t\\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\\n\\t}\\n\\n\\t& .ck.ck-icon {\\n\\t\\tdisplay: none;\\n\\t\\tcolor: var(--ck-color-color-grid-check-icon);\\n\\t}\\n\\n\\t&.ck-on {\\n\\t\\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\\n\\n\\t\\t& .ck.ck-icon {\\n\\t\\t\\tdisplay: block;\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-on,\\n\\t&:focus:not( .ck-disabled ),\\n\\t&:hover:not( .ck-disabled ) {\\n\\t\\t/* Disable the default .ck-button\\'s border ring. */\\n\\t\\tborder: 0;\\n\\t}\\n\\n\\t&:focus:not( .ck-disabled ),\\n\\t&:hover:not( .ck-disabled ) {\\n\\t\\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\\n\\t}\\n}\\n\\n.ck.ck-color-grid__label {\\n\\tpadding: 0 var(--ck-spacing-standard);\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3488: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-dropdown-max-width: 75vw;\\n}\\n\\n.ck.ck-dropdown {\\n\\tdisplay: inline-block;\\n\\tposition: relative;\\n\\n\\t& .ck-dropdown__arrow {\\n\\t\\tpointer-events: none;\\n\\t\\tz-index: var(--ck-z-default);\\n\\t}\\n\\n\\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\\n\\t& .ck-button.ck-dropdown__button {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& .ck-dropdown__panel {\\n\\t\\tdisplay: none;\\n\\t\\tz-index: var(--ck-z-modal);\\n\\t\\tmax-width: var(--ck-dropdown-max-width);\\n\\n\\t\\tposition: absolute;\\n\\n\\t\\t&.ck-dropdown__panel-visible {\\n\\t\\t\\tdisplay: inline-block;\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__panel_ne,\\n\\t\\t&.ck-dropdown__panel_nw,\\n\\t\\t&.ck-dropdown__panel_n,\\n\\t\\t&.ck-dropdown__panel_nmw,\\n\\t\\t&.ck-dropdown__panel_nme {\\n\\t\\t\\tbottom: 100%;\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__panel_se,\\n\\t\\t&.ck-dropdown__panel_sw,\\n\\t\\t&.ck-dropdown__panel_smw,\\n\\t\\t&.ck-dropdown__panel_sme,\\n\\t\\t&.ck-dropdown__panel_s {\\n\\t\\t\\t/*\\n\\t\\t\\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\\n\\t\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\\n\\t\\t\\t */\\n\\t\\t\\ttop: 100%;\\n\\t\\t\\tbottom: auto;\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__panel_ne,\\n\\t\\t&.ck-dropdown__panel_se {\\n\\t\\t\\tleft: 0px;\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__panel_nw,\\n\\t\\t&.ck-dropdown__panel_sw {\\n\\t\\t\\tright: 0px;\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__panel_s,\\n\\t\\t&.ck-dropdown__panel_n {\\n\\t\\t\\t/* Positioning panels relative to the center of the button */\\n\\t\\t\\tleft: 50%;\\n\\t\\t\\ttransform: translateX(-50%);\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__panel_nmw,\\n\\t\\t&.ck-dropdown__panel_smw {\\n\\t\\t\\t/* Positioning panels relative to the middle-west of the button */\\n\\t\\t\\tleft: 75%;\\n\\t\\t\\ttransform: translateX(-75%);\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__panel_nme,\\n\\t\\t&.ck-dropdown__panel_sme {\\n\\t\\t\\t/* Positioning panels relative to the middle-east of the button */\\n\\t\\t\\tleft: 25%;\\n\\t\\t\\ttransform: translateX(-25%);\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\\n * See https://github.com/ckeditor/ckeditor5/issues/7874\\n */\\n.ck.ck-toolbar .ck-dropdown__panel {\\n\\tz-index: calc( var(--ck-z-modal) + 1 );\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n@import "../../../mixins/_disabled.css";\\n@import "../../../mixins/_shadow.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n:root {\\n\\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\\n}\\n\\n.ck.ck-dropdown {\\n\\t/* Enable font size inheritance, which allows fluid UI scaling. */\\n\\tfont-size: inherit;\\n\\n\\t& .ck-dropdown__arrow {\\n\\t\\twidth: var(--ck-dropdown-arrow-size);\\n\\t}\\n\\n\\t@mixin ck-dir ltr {\\n\\t\\t& .ck-dropdown__arrow {\\n\\t\\t\\tright: var(--ck-spacing-standard);\\n\\n\\t\\t\\t/* A space to accommodate the triangle. */\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir rtl {\\n\\t\\t& .ck-dropdown__arrow {\\n\\t\\t\\tleft: var(--ck-spacing-standard);\\n\\n\\t\\t\\t/* A space to accommodate the triangle. */\\n\\t\\t\\tmargin-right: var(--ck-spacing-small);\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-disabled .ck-dropdown__arrow {\\n\\t\\t@mixin ck-disabled;\\n\\t}\\n\\n\\t& .ck-button.ck-dropdown__button {\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t&:not(.ck-button_with-text) {\\n\\t\\t\\t\\t/* Make sure dropdowns with just an icon have the right inner spacing */\\n\\t\\t\\t\\tpadding-left: var(--ck-spacing-small);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t&:not(.ck-button_with-text) {\\n\\t\\t\\t\\t/* Make sure dropdowns with just an icon have the right inner spacing */\\n\\t\\t\\t\\tpadding-right: var(--ck-spacing-small);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* #23 */\\n\\t\\t& .ck-button__label {\\n\\t\\t\\twidth: 7em;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t}\\n\\n\\t\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\\n\\t\\t&.ck-disabled .ck-button__label {\\n\\t\\t\\t@mixin ck-disabled;\\n\\t\\t}\\n\\n\\t\\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\\n\\t\\t&.ck-on {\\n\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t&.ck-dropdown__button_label-width_auto .ck-button__label {\\n\\t\\t\\twidth: auto;\\n\\t\\t}\\n\\n\\t\\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\\n\\t\\t&.ck-off:active,\\n\\t\\t&.ck-on:active {\\n\\t\\t\\tbox-shadow: none;\\n\\t\\t\\t\\n\\t\\t\\t&:focus {\\n\\t\\t\\t\\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-dropdown__panel {\\n\\t@mixin ck-rounded-corners;\\n\\t@mixin ck-drop-shadow;\\n\\n\\tbackground: var(--ck-color-dropdown-panel-background);\\n\\tborder: 1px solid var(--ck-color-dropdown-panel-border);\\n\\tbottom: 0;\\n\\n\\t/* Make sure the panel is at least as wide as the drop-down\\'s button. */\\n\\tmin-width: 100%;\\n\\n\\t/* Disabled corner border radius to be consistent with the .dropdown__button\\n\\thttps://github.com/ckeditor/ckeditor5/issues/816 */\\n\\t&.ck-dropdown__panel_se {\\n\\t\\tborder-top-left-radius: 0;\\n\\t}\\n\\n\\t&.ck-dropdown__panel_sw {\\n\\t\\tborder-top-right-radius: 0;\\n\\t}\\n\\n\\t&.ck-dropdown__panel_ne {\\n\\t\\tborder-bottom-left-radius: 0;\\n\\t}\\n\\n\\t&.ck-dropdown__panel_nw {\\n\\t\\tborder-bottom-right-radius: 0;\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A class which indicates that an element holding it is disabled.\\n */\\n@define-mixin ck-disabled {\\n\\topacity: var(--ck-disabled-opacity);\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6875: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n\\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\\n\\t/* Disabled radius of top-left border to be consistent with .dropdown__button\\n\\thttps://github.com/ckeditor/ckeditor5/issues/816 */\\n\\t@mixin ck-rounded-corners {\\n\\t\\tborder-top-left-radius: 0;\\n\\t}\\n\\n\\t/* Make sure the button belonging to the first/last child of the list goes well with the\\n\\tborder radius of the entire panel. */\\n\\t& .ck-list__item {\\n\\t\\t&:first-child .ck-button {\\n\\t\\t\\t@mixin ck-rounded-corners {\\n\\t\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:last-child .ck-button {\\n\\t\\t\\t@mixin ck-rounded-corners {\\n\\t\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      66: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-splitbutton {\\n\\t/* Enable font size inheritance, which allows fluid UI scaling. */\\n\\tfont-size: inherit;\\n\\n\\t& .ck-splitbutton__action:focus {\\n\\t\\tz-index: calc(var(--ck-z-default) + 1);\\n\\t}\\n}\\n\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n\\n:root {\\n\\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\\n\\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\\n}\\n\\n.ck.ck-splitbutton {\\n\\t/*\\n\\t * Note: ck-rounded and ck-dir mixins don\\'t go together (because they both use @nest).\\n\\t */\\n\\t&:hover > .ck-splitbutton__action,\\n\\t&.ck-splitbutton_open > .ck-splitbutton__action {\\n\\t\\t@nest [dir="ltr"] & {\\n\\t\\t\\t/* Don\\'t round the action button on the right side */\\n\\t\\t\\tborder-top-right-radius: unset;\\n\\t\\t\\tborder-bottom-right-radius: unset;\\n\\t\\t}\\n\\n\\t\\t@nest [dir="rtl"] & {\\n\\t\\t\\t/* Don\\'t round the action button on the left side */\\n\\t\\t\\tborder-top-left-radius: unset;\\n\\t\\t\\tborder-bottom-left-radius: unset;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck-splitbutton__arrow {\\n\\t\\t/* It\\'s a text-less button and since the icon is positioned absolutely in such situation,\\n\\t\\tit must get some arbitrary min-width. */\\n\\t\\tmin-width: unset;\\n\\n\\t\\t@nest [dir="ltr"] & {\\n\\t\\t\\t/* Don\\'t round the arrow button on the left side */\\n\\t\\t\\tborder-top-left-radius: unset;\\n\\t\\t\\tborder-bottom-left-radius: unset;\\n\\t\\t}\\n\\n\\t\\t@nest [dir="rtl"] & {\\n\\t\\t\\t/* Don\\'t round the arrow button on the right side */\\n\\t\\t\\tborder-top-right-radius: unset;\\n\\t\\t\\tborder-bottom-right-radius: unset;\\n\\t\\t}\\n\\n\\t\\t& svg {\\n\\t\\t\\twidth: var(--ck-dropdown-arrow-size);\\n\\t\\t}\\n\\t}\\n\\n\\t/* Make sure the divider stretches 100% height of the button\\n\\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\\n\\t& > .ck-splitbutton__arrow:not(:focus) {\\n\\t\\tborder-top-width: 0px;\\n\\t\\tborder-bottom-width: 0px;\\n\\t}\\n\\n\\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\\n\\tas a whole. The background of both buttons should stand out and there should be a visual\\n\\tseparation between both buttons. */\\n\\t&.ck-splitbutton_open,\\n\\t&:hover {\\n\\t\\t/* When the split button hovered as a whole, not as individual buttons. */\\n\\t\\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\\n\\t\\t\\tbackground: var(--ck-color-split-button-hover-background);\\n\\t\\t}\\n\\n\\t\\t/* Splitbutton separator needs to be set with the ::after pseudoselector\\n\\t\\tto display properly the borders on focus */\\n\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\\n\\t\\t\\tcontent: \\'\\';\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\twidth: 1px;\\n\\t\\t\\theight: 100%;\\n\\t\\t\\tbackground-color: var(--ck-color-split-button-hover-border);\\n\\t\\t}\\n\\n\\t\\t/* Make sure the divider between the buttons looks fine when the button is focused */\\n\\t\\t& > .ck-splitbutton__arrow:focus::after {\\n\\t\\t\\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\\n\\t\\t}\\n\\n\\t\\t@nest [dir="ltr"] & {\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\\n\\t\\t\\t\\tleft: -1px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t@nest [dir="rtl"] & {\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\\n\\t\\t\\t\\tright: -1px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Don\\'t round the bottom left and right corners of the buttons when "open"\\n\\thttps://github.com/ckeditor/ckeditor5/issues/816 */\\n\\t&.ck-splitbutton_open {\\n\\t\\t@mixin ck-rounded-corners {\\n\\t\\t\\t& > .ck-splitbutton__action {\\n\\t\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t& > .ck-splitbutton__arrow {\\n\\t\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5075: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-toolbar-dropdown-max-width: 60vw;\\n}\\n\\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\\n\\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\\n\\twidth: max-content;\\n\\tmax-width: var(--ck-toolbar-dropdown-max-width);\\n\\n\\t& .ck-button {\\n\\t\\t&:focus {\\n\\t\\t\\tz-index: calc(var(--ck-z-default) + 1);\\n\\t\\t}\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-toolbar-dropdown .ck-toolbar {\\n\\tborder: 0;\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      4547: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
            ],
            names: [],
            mappings:
              "AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n@import "../../../mixins/_disabled.css";\\n@import "../../../mixins/_shadow.css";\\n@import "../../../mixins/_focus.css";\\n@import "../../mixins/_button.css";\\n\\n:root {\\n\\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\\n}\\n\\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\\n\\t@mixin ck-rounded-corners;\\n\\n\\t&.ck-focused {\\n\\t\\t@mixin ck-focus-ring;\\n\\t\\t@mixin ck-box-shadow var(--ck-inner-shadow);\\n\\t}\\n}\\n\\n.ck.ck-editor__editable_inline {\\n\\toverflow: auto;\\n\\tpadding: 0 var(--ck-spacing-standard);\\n\\tborder: 1px solid transparent;\\n\\n\\t&[dir="ltr"] {\\n\\t\\ttext-align: left;\\n\\t}\\n\\n\\t&[dir="rtl"] {\\n\\t\\ttext-align: right;\\n\\t}\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\\n\\t& > *:first-child {\\n\\t\\tmargin-top: var(--ck-spacing-large);\\n\\t}\\n\\n\\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\\n\\t& > *:last-child {\\n\\t\\t/*\\n\\t\\t * This value should match with the default margins of the block elements (like .media or .image)\\n\\t\\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\\n\\t\\t */\\n\\t\\tmargin-bottom: var(--ck-spacing-large);\\n\\t}\\n\\n\\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\\n\\t&.ck-blurred ::selection {\\n\\t\\tbackground: var(--ck-color-editable-blur-selection);\\n\\t}\\n}\\n\\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\\n\\t&::after {\\n\\t\\tborder-bottom-color: var(--ck-color-base-foreground);\\n\\t}\\n}\\n\\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\\n\\t&::after {\\n\\t\\tborder-top-color: var(--ck-color-base-foreground);\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A visual style of focused element's border.\\n */\\n@define-mixin ck-focus-ring {\\n\\t/* Disable native outline. */\\n\\toutline: none;\\n\\tborder: var(--ck-focus-ring)\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5523: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css",
            ],
            names: [],
            mappings:
              "AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-form__header {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-form-header-height: 38px;\\n}\\n\\n.ck.ck-form__header {\\n\\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\\n\\theight: var(--ck-form-header-height);\\n\\tline-height: var(--ck-form-header-height);\\n\\tborder-bottom: 1px solid var(--ck-color-base-border);\\n\\n\\t& .ck-form__header__label {\\n\\t\\tfont-weight: bold;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      1174: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css",
            ],
            names: [],
            mappings:
              "AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-icon {\\n\\tvertical-align: middle;\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\\n}\\n\\n.ck.ck-icon {\\n\\twidth: var(--ck-icon-size);\\n\\theight: var(--ck-icon-size);\\n\\n\\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\\n\\tfont-size: .8333350694em;\\n\\n\\t/* Inherit cursor style (#5). */\\n\\tcursor: inherit;\\n\\n\\t/* This will prevent blurry icons on Firefox. See #340. */\\n\\twill-change: transform;\\n\\n\\t& * {\\n\\t\\t/* Inherit cursor style (#5). */\\n\\t\\tcursor: inherit;\\n\\t}\\n\\n\\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\\n\\t&.ck-icon_inherit-color {\\n\\t\\tcolor: inherit;\\n\\n\\t\\t& * {\\n\\t\\t\\tcolor: inherit;\\n\\n\\t\\t\\t&:not([fill]) {\\n\\t\\t\\t\\t/* Needed by FF. */\\n\\t\\t\\t\\tfill: currentColor;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6985: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
            ],
            names: [],
            mappings:
              "AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n@import "../../../mixins/_focus.css";\\n@import "../../../mixins/_shadow.css";\\n\\n:root {\\n\\t--ck-input-width: 18em;\\n\\n\\t/* Backward compatibility. */\\n\\t--ck-input-text-width: var(--ck-input-width);\\n}\\n\\n.ck.ck-input {\\n\\t@mixin ck-rounded-corners;\\n\\n\\tbackground: var(--ck-color-input-background);\\n\\tborder: 1px solid var(--ck-color-input-border);\\n\\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\\n\\tmin-width: var(--ck-input-width);\\n\\n\\t/* This is important to stay of the same height as surrounding buttons */\\n\\tmin-height: var(--ck-ui-component-min-height);\\n\\n\\t/* Apply some smooth transition to the box-shadow and border. */\\n\\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\\n\\n\\t&:focus {\\n\\t\\t@mixin ck-focus-ring;\\n\\t\\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\\n\\t}\\n\\n\\t&[readonly] {\\n\\t\\tborder: 1px solid var(--ck-color-input-disabled-border);\\n\\t\\tbackground: var(--ck-color-input-disabled-background);\\n\\t\\tcolor: var(--ck-color-input-disabled-text);\\n\\n\\t\\t&:focus {\\n\\t\\t\\t/* The read-only input should have a slightly less visible shadow when focused. */\\n\\t\\t\\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-error {\\n\\t\\tborder-color: var(--ck-color-input-error-border);\\n\\t\\tanimation: ck-input-shake .3s ease both;\\n\\n\\t\\t&:focus {\\n\\t\\t\\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\\n\\t\\t}\\n\\t}\\n}\\n\\n@keyframes ck-input-shake {\\n\\t20% {\\n\\t\\ttransform: translateX(-2px);\\n\\t}\\n\\n\\t40% {\\n\\t\\ttransform: translateX(2px);\\n\\t}\\n\\n\\t60% {\\n\\t\\ttransform: translateX(-1px);\\n\\t}\\n\\n\\t80% {\\n\\t\\ttransform: translateX(1px);\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A visual style of focused element's border.\\n */\\n@define-mixin ck-focus-ring {\\n\\t/* Disable native outline. */\\n\\toutline: none;\\n\\tborder: var(--ck-focus-ring)\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      2751: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css",
            ],
            names: [],
            mappings: "AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-label {\\n\\tdisplay: block;\\n}\\n\\n.ck.ck-voice-label {\\n\\tdisplay: none;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-label {\\n\\tfont-weight: bold;\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      8111: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-labeled-field-view {\\n\\t& > .ck.ck-labeled-field-view__input-wrapper {\\n\\t\\tdisplay: flex;\\n\\t\\tposition: relative;\\n\\t}\\n\\n\\t& .ck.ck-label {\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n@import "../../../mixins/_rounded.css";\\n\\n:root {\\n\\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\\n\\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\\n\\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\\n\\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\\n\\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\\n}\\n\\n.ck.ck-labeled-field-view {\\n\\t@mixin ck-rounded-corners;\\n\\n\\t& > .ck.ck-labeled-field-view__input-wrapper {\\n\\t\\twidth: 100%;\\n\\n\\t\\t& > .ck.ck-label {\\n\\t\\t\\ttop: 0px;\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tleft: 0px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tright: 0px;\\n\\t\\t\\t}\\n\\n\\t\\t\\tpointer-events: none;\\n\\t\\t\\ttransform-origin: 0 0;\\n\\n\\t\\t\\t/* By default, display the label scaled down above the field. */\\n\\t\\t\\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\\n\\n\\t\\t\\tbackground: var(--ck-color-labeled-field-label-background);\\n\\t\\t\\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\\n\\t\\t\\tline-height: initial;\\n\\t\\t\\tfont-weight: normal;\\n\\n\\t\\t\\t/* Prevent overflow when the label is longer than the input */\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\toverflow: hidden;\\n\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\ttransition:\\n\\t\\t\\t\\ttransform var(--ck-labeled-field-view-transition),\\n\\t\\t\\t\\tpadding var(--ck-labeled-field-view-transition),\\n\\t\\t\\t\\tbackground var(--ck-labeled-field-view-transition);\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-error {\\n\\t\\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\\n\\t\\t\\tcolor: var(--ck-color-base-error);\\n\\t\\t}\\n\\n\\t\\t& .ck-input:not([readonly]) + .ck.ck-label {\\n\\t\\t\\tcolor: var(--ck-color-base-error);\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-labeled-field-view__status {\\n\\t\\tfont-size: var(--ck-font-size-small);\\n\\t\\tmargin-top: var(--ck-spacing-small);\\n\\n\\t\\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\\n\\t\\tThe status could be very long. */\\n\\t\\twhite-space: normal;\\n\\n\\t\\t&.ck-labeled-field-view__status_error {\\n\\t\\t\\tcolor: var(--ck-color-base-error);\\n\\t\\t}\\n\\t}\\n\\n\\t/* Disabled fields and fields that have no focus should fade out. */\\n\\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\\n\\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\\n\\t\\tcolor: var(--ck-color-input-disabled-text);\\n\\t}\\n\\n\\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\\n\\t/* stylelint-disable-next-line no-descending-specificity */\\n\\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\\n\\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\\n\\t\\t}\\n\\n\\t\\t/* Compensate for the default translate position. */\\n\\t\\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\\n\\n\\t\\tbackground: transparent;\\n\\t\\tpadding: 0;\\n\\t}\\n\\n\\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\\n\\n\\t/* Make sure dropdown\\' background color in any of dropdown\\'s state does not collide with labeled field. */\\n\\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\\n\\t\\tbackground: transparent;\\n\\t}\\n\\n\\t/* When the dropdown is "empty", the labeled field label replaces its label. */\\n\\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\\n\\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\\n\\t\\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      1162: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../mixins/_unselectable.css";\\n\\n.ck.ck-list {\\n\\t@mixin ck-unselectable;\\n\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\n\\t& .ck-list__item,\\n\\t& .ck-list__separator {\\n\\t\\tdisplay: block;\\n\\t}\\n\\n\\t/* Make sure that whatever child of the list item gets focus, it remains on the\\n\\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\\n\\tadjacent list items. */\\n\\t& .ck-list__item > *:focus {\\n\\t\\tposition: relative;\\n\\t\\tz-index: var(--ck-z-default);\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Makes element unselectable.\\n */\\n@define-mixin ck-unselectable {\\n\\t-moz-user-select: none;\\n\\t-webkit-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_disabled.css";\\n@import "../../../mixins/_rounded.css";\\n@import "../../../mixins/_shadow.css";\\n\\n.ck.ck-list {\\n\\t@mixin ck-rounded-corners;\\n\\n\\tlist-style-type: none;\\n\\tbackground: var(--ck-color-list-background);\\n}\\n\\n.ck.ck-list__item {\\n\\tcursor: default;\\n\\tmin-width: 12em;\\n\\n\\t& .ck-button {\\n\\t\\tmin-height: unset;\\n\\t\\twidth: 100%;\\n\\t\\ttext-align: left;\\n\\t\\tborder-radius: 0;\\n\\n\\t\\t/* List items should have the same height. Use absolute units to make sure it is so\\n\\t\\t   because e.g. different heading styles may have different height\\n\\t\\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\\n\\t\\tpadding:\\n\\t\\t\\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\\n\\t\\t\\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\\n\\t\\t\\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\\n\\t\\t}\\n\\n\\t\\t&:active {\\n\\t\\t\\tbox-shadow: none;\\n\\t\\t}\\n\\n\\t\\t&.ck-on {\\n\\t\\t\\tbackground: var(--ck-color-list-button-on-background);\\n\\t\\t\\tcolor: var(--ck-color-list-button-on-text);\\n\\n\\t\\t\\t&:active {\\n\\t\\t\\t\\tbox-shadow: none;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:hover:not(.ck-disabled) {\\n\\t\\t\\t\\tbackground: var(--ck-color-list-button-on-background-focus);\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\\n\\t\\t\\t\\tborder-color: var(--ck-color-base-background);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:hover:not(.ck-disabled) {\\n\\t\\t\\tbackground: var(--ck-color-list-button-hover-background);\\n\\t\\t}\\n\\t}\\n\\n\\t/* It\\'s unnecessary to change the background/text of a switch toggle; it has different ways\\n\\tof conveying its state (like the switcher) */\\n\\t& .ck-switchbutton {\\n\\t\\t&.ck-on {\\n\\t\\t\\tbackground: var(--ck-color-list-background);\\n\\t\\t\\tcolor: inherit;\\n\\n\\t\\t\\t&:hover:not(.ck-disabled) {\\n\\t\\t\\t\\tbackground: var(--ck-color-list-button-hover-background);\\n\\t\\t\\t\\tcolor: inherit;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-list__separator {\\n\\theight: 1px;\\n\\twidth: 100%;\\n\\tbackground: var(--ck-color-base-border);\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      8245: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
            ],
            names: [],
            mappings:
              "AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t/* Make sure the balloon arrow does not float over its children. */\\n\\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\\n}\\n\\n.ck.ck-balloon-panel {\\n\\tdisplay: none;\\n\\tposition: absolute;\\n\\n\\tz-index: var(--ck-z-modal);\\n\\n\\t&.ck-balloon-panel_with-arrow {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tcontent: "";\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\n\\t\\t&::before {\\n\\t\\t\\tz-index: var(--ck-balloon-panel-arrow-z-index);\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\\n\\t\\t}\\n\\t}\\n\\n\\t&[class*="arrow_n"] {\\n\\t\\t&::before {\\n\\t\\t\\tz-index: var(--ck-balloon-panel-arrow-z-index);\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\\n\\t\\t}\\n\\t}\\n\\n\\t&[class*="arrow_s"] {\\n\\t\\t&::before {\\n\\t\\t\\tz-index: var(--ck-balloon-panel-arrow-z-index);\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_visible {\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n',
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n@import "../../../mixins/_shadow.css";\\n\\n:root {\\n\\t--ck-balloon-border-width: 1px;\\n\\t--ck-balloon-arrow-offset: 2px;\\n\\t--ck-balloon-arrow-height: 10px;\\n\\t--ck-balloon-arrow-half-width: 8px;\\n\\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\\n}\\n\\n.ck.ck-balloon-panel {\\n\\t@mixin ck-rounded-corners;\\n\\t@mixin ck-drop-shadow;\\n\\n\\tmin-height: 15px;\\n\\n\\tbackground: var(--ck-color-panel-background);\\n\\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\\n\\n\\t&.ck-balloon-panel_with-arrow {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\twidth: 0;\\n\\t\\t\\theight: 0;\\n\\t\\t\\tborder-style: solid;\\n\\t\\t}\\n\\t}\\n\\n\\t&[class*="arrow_n"] {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\\n\\t\\t}\\n\\n\\t\\t&::before {\\n\\t\\t\\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\\n\\t\\t\\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\\n\\t\\t\\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\t}\\n\\n\\t&[class*="arrow_s"] {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\\n\\t\\t}\\n\\n\\t\\t&::before {\\n\\t\\t\\tborder-color: var(--ck-color-panel-border) transparent transparent;\\n\\t\\t\\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\\n\\t\\t\\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\\n\\t\\t\\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\t}\\n\\n\\t&[class*="arrow_e"] {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\\n\\t\\t}\\n\\n\\t\\t&::before {\\n\\t\\t\\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\\n\\t\\t\\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\\n\\t\\t\\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\t}\\n\\n\\t&[class*="arrow_w"] {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\\n\\t\\t}\\n\\n\\t\\t&::before {\\n\\t\\t\\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\\n\\t\\t\\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\\n\\t\\t\\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_n {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tleft: 50%;\\n\\t\\t\\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\ttop: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_nw {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\ttop: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_ne {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tright: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\ttop: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_s {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tleft: 50%;\\n\\t\\t\\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_sw {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_se {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tright: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_sme {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tright: 25%;\\n\\t\\t\\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_smw {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tleft: 25%;\\n\\t\\t\\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_nme {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tright: 25%;\\n\\t\\t\\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\ttop: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_nmw {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tleft: 25%;\\n\\t\\t\\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\ttop: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_e {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tright: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t\\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\ttop: 50%;\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-balloon-panel_arrow_w {\\n\\t\\t&::before,\\n\\t\\t&::after {\\n\\t\\t\\tleft: calc(-1 * var(--ck-balloon-arrow-height));\\n\\t\\t\\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\\n\\t\\t\\ttop: 50%;\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      1757: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css",
            ],
            names: [],
            mappings:
              "AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-balloon-rotator__navigation {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\\n */\\n.ck .ck-balloon-rotator__content .ck-toolbar {\\n\\tjustify-content: center;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-balloon-rotator__navigation {\\n\\tbackground: var(--ck-color-toolbar-background);\\n\\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\\n\\tpadding: 0 var(--ck-spacing-small);\\n\\n\\t/* Let's keep similar appearance to \`ck-toolbar\`. */\\n\\t& > * {\\n\\t\\tmargin-right: var(--ck-spacing-small);\\n\\t\\tmargin-top: var(--ck-spacing-small);\\n\\t\\tmargin-bottom: var(--ck-spacing-small);\\n\\t}\\n\\n\\t/* Gives counter more breath than buttons. */\\n\\t& .ck-balloon-rotator__counter {\\n\\t\\tmargin-right: var(--ck-spacing-standard);\\n\\n\\t\\t/* We need to use smaller margin because of previous button's right margin. */\\n\\t\\tmargin-left: var(--ck-spacing-small);\\n\\t}\\n}\\n\\n.ck .ck-balloon-rotator__content {\\n\\n\\t/* Disable default annotation shadow inside rotator with fake panels. */\\n\\t& .ck.ck-annotation-wrapper {\\n\\t\\tbox-shadow: none;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3553: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
            ],
            names: [],
            mappings:
              "AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-fake-panel {\\n\\tposition: absolute;\\n\\n\\t/* Fake panels should be placed under main balloon content. */\\n\\tz-index: calc(var(--ck-z-modal) - 1);\\n}\\n\\n.ck .ck-fake-panel div {\\n\\tposition: absolute;\\n}\\n\\n.ck .ck-fake-panel div:nth-child( 1 ) {\\n\\tz-index: 2;\\n}\\n\\n.ck .ck-fake-panel div:nth-child( 2 ) {\\n\\tz-index: 1;\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_shadow.css";\\n\\n:root {\\n\\t--ck-balloon-fake-panel-offset-horizontal: 6px;\\n\\t--ck-balloon-fake-panel-offset-vertical: 6px;\\n}\\n\\n/* Let\\'s use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */\\n.ck .ck-fake-panel div {\\n\\t@mixin ck-drop-shadow;\\n\\n\\tmin-height: 15px;\\n\\n\\tbackground: var(--ck-color-panel-background);\\n\\tborder: 1px solid var(--ck-color-panel-border);\\n\\tborder-radius: var(--ck-border-radius);\\n\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n\\n.ck .ck-fake-panel div:nth-child( 1 ) {\\n\\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\\n\\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\\n}\\n\\n.ck .ck-fake-panel div:nth-child( 2 ) {\\n\\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\\n\\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\\n}\\n.ck .ck-fake-panel div:nth-child( 3 ) {\\n\\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\\n\\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\\n}\\n\\n/* If balloon is positioned above element, we need to move fake panel to the top. */\\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\\n\\t--ck-balloon-fake-panel-offset-vertical: -6px;\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3609: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
            ],
            names: [],
            mappings:
              "AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-sticky-panel {\\n\\t& .ck-sticky-panel__content_sticky {\\n\\t\\tz-index: var(--ck-z-modal); /* #315 */\\n\\t\\tposition: fixed;\\n\\t\\ttop: 0;\\n\\t}\\n\\n\\t& .ck-sticky-panel__content_sticky_bottom-limit {\\n\\t\\ttop: auto;\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_shadow.css";\\n\\n.ck.ck-sticky-panel {\\n\\t& .ck-sticky-panel__content_sticky {\\n\\t\\t@mixin ck-drop-shadow;\\n\\n\\t\\tborder-width: 0 1px 1px;\\n\\t\\tborder-top-left-radius: 0;\\n\\t\\tborder-top-right-radius: 0;\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      1590: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css",
            ],
            names: [],
            mappings:
              "AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n\\n.ck-vertical-form .ck-button {\\n\\t&::after {\\n\\t\\tcontent: "";\\n\\t\\twidth: 0;\\n\\t\\tposition: absolute;\\n\\t\\tright: -1px;\\n\\t\\ttop: -1px;\\n\\t\\tbottom: -1px;\\n\\t\\tz-index: 1;\\n\\t}\\n\\n\\t&:focus::after {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n\\n.ck.ck-responsive-form {\\n\\t@mixin ck-media-phone {\\n\\t\\t& .ck-button {\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: "";\\n\\t\\t\\t\\twidth: 0;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tright: -1px;\\n\\t\\t\\t\\ttop: -1px;\\n\\t\\t\\t\\tbottom: -1px;\\n\\t\\t\\t\\tz-index: 1;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:focus::after {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\\n\\tborder-right: 1px solid var(--ck-color-base-border);\\n}\\n\\n.ck.ck-responsive-form {\\n\\tpadding: var(--ck-spacing-large);\\n\\n\\t&:focus {\\n\\t\\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t@mixin ck-dir ltr {\\n\\t\\t& > :not(:first-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir rtl {\\n\\t\\t& > :not(:last-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tpadding: 0;\\n\\t\\twidth: calc(.8 * var(--ck-input-width));\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\\n\\n\\t\\t\\t& .ck-input-text {\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Let the long error messages wrap in the narrow form. */\\n\\t\\t\\t& .ck-labeled-field-view__error {\\n\\t\\t\\t\\twhite-space: normal;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\\n\\t\\t& > .ck-button:nth-last-child(2) {\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& > .ck-button:nth-last-child(1),\\n\\t\\t& > .ck-button:nth-last-child(2) {\\n\\t\\t\\tpadding: var(--ck-spacing-standard);\\n\\t\\t\\tmargin-top: var(--ck-spacing-large);\\n\\t\\t\\tborder-radius: 0;\\n\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\n\\t\\t\\t\\t&:last-of-type {\\n\\t\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6706: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css",
            ],
            names: [],
            mappings:
              "AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-block-toolbar-button {\\n\\tposition: absolute;\\n\\tz-index: var(--ck-z-default);\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-block-toolbar-button: var(--ck-color-text);\\n\\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\\n}\\n\\n.ck.ck-block-toolbar-button {\\n\\tcolor: var(--ck-color-block-toolbar-button);\\n\\tfont-size: var(--ck-block-toolbar-size);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5571: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css",
            ],
            names: [],
            mappings:
              "AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../mixins/_unselectable.css";\\n\\n.ck.ck-toolbar {\\n\\t@mixin ck-unselectable;\\n\\n\\tdisplay: flex;\\n\\tflex-flow: row nowrap;\\n\\talign-items: center;\\n\\n\\t& > .ck-toolbar__items {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-flow: row wrap;\\n\\t\\talign-items: center;\\n\\t\\tflex-grow: 1;\\n\\n\\t}\\n\\n\\t& .ck.ck-toolbar__separator {\\n\\t\\tdisplay: inline-block;\\n\\n\\t\\t/*\\n\\t\\t * A leading or trailing separator makes no sense (separates from nothing on one side).\\n\\t\\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\\n\\t\\t * moved to another toolbar in the dropdown.\\n\\t\\t */\\n\\t\\t&:first-child,\\n\\t\\t&:last-child {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-toolbar__line-break {\\n\\t\\tflex-basis: 100%;\\n\\t}\\n\\n\\t&.ck-toolbar_grouping > .ck-toolbar__items {\\n\\t\\tflex-wrap: nowrap;\\n\\t}\\n\\n\\t&.ck-toolbar_vertical > .ck-toolbar__items {\\n\\t\\tflex-direction: column;\\n\\t}\\n\\n\\t&.ck-toolbar_floating > .ck-toolbar__items {\\n\\t\\tflex-wrap: nowrap;\\n\\t}\\n\\n\\t& > .ck.ck-toolbar__grouped-dropdown {\\n\\t\\t& > .ck-dropdown__button .ck-dropdown__arrow {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Makes element unselectable.\\n */\\n@define-mixin ck-unselectable {\\n\\t-moz-user-select: none;\\n\\t-webkit-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\\n\\n.ck.ck-toolbar {\\n\\t@mixin ck-rounded-corners;\\n\\n\\tbackground: var(--ck-color-toolbar-background);\\n\\tpadding: 0 var(--ck-spacing-small);\\n\\tborder: 1px solid var(--ck-color-toolbar-border);\\n\\n\\t& .ck.ck-toolbar__separator {\\n\\t\\talign-self: stretch;\\n\\t\\twidth: 1px;\\n\\t\\tmin-width: 1px;\\n\\t\\tbackground: var(--ck-color-toolbar-border);\\n\\n\\t\\t/*\\n\\t\\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\\n\\t\\t */\\n\\t\\tmargin-top: var(--ck-spacing-small);\\n\\t\\tmargin-bottom: var(--ck-spacing-small);\\n\\t}\\n\\n\\t& .ck-toolbar__line-break {\\n\\t\\theight: 0;\\n\\t}\\n\\n\\t& > .ck-toolbar__items {\\n\\t\\t& > *:not(.ck-toolbar__line-break) {\\n\\t\\t\\t/* (#11) Separate toolbar items. */\\n\\t\\t\\tmargin-right: var(--ck-spacing-small);\\n\\t\\t}\\n\\n\\t\\t/* Don\\'t display a separator after an empty items container, for instance,\\n\\t\\twhen all items were grouped */\\n\\t\\t&:empty + .ck.ck-toolbar__separator {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\\n\\t& > .ck.ck-toolbar__grouped-dropdown {\\n\\t\\t/* Make sure items wrapped to the next line have v-spacing */\\n\\t\\tmargin-top: var(--ck-spacing-small);\\n\\t\\tmargin-bottom: var(--ck-spacing-small);\\n\\t}\\n\\n\\t&.ck-toolbar_vertical {\\n\\t\\t/* Items in a vertical toolbar span the entire width. */\\n\\t\\tpadding: 0;\\n\\n\\t\\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\\n\\t\\t& > .ck-toolbar__items > .ck {\\n\\t\\t\\t/* Items in a vertical toolbar should span the horizontal space. */\\n\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t/* Items in a vertical toolbar should have no margin. */\\n\\t\\t\\tmargin: 0;\\n\\n\\t\\t\\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\\n\\t\\t\\tborder-radius: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-toolbar_compact {\\n\\t\\t/* No spacing around items. */\\n\\t\\tpadding: 0;\\n\\n\\t\\t& > .ck-toolbar__items > * {\\n\\t\\t\\t/* Compact toolbar items have no spacing between them. */\\n\\t\\t\\tmargin: 0;\\n\\n\\t\\t\\t/* "Middle" children should have no rounded corners. */\\n\\t\\t\\t&:not(:first-child):not(:last-child) {\\n\\t\\t\\t\\tborder-radius: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck.ck-toolbar__grouped-dropdown {\\n\\t\\t/*\\n\\t\\t * Dropdown button has asymmetric padding to fit the arrow.\\n\\t\\t * This button has no arrow so let\\'s revert that padding back to normal.\\n\\t\\t */\\n\\t\\t& > .ck.ck-button.ck-dropdown__button {\\n\\t\\t\\tpadding-left: var(--ck-spacing-tiny);\\n\\t\\t}\\n\\t}\\n\\n\\t/* A drop-down containing the nested toolbar with configured items. */\\n\\t& .ck-toolbar__nested-toolbar-dropdown {\\n\\t\\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\\n\\t\\t& > .ck-dropdown__panel {\\n\\t\\t\\tmin-width: auto;\\n\\t\\t}\\n\\n\\t\\t& > .ck-button > .ck-button__label {\\n\\t\\t\\tmax-width: 7em;\\n\\t\\t\\twidth: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t@nest .ck-toolbar-container & {\\n\\t\\tborder: 0;\\n\\t}\\n}\\n\\n/* stylelint-disable */\\n\\n/*\\n * Styles for RTL toolbars.\\n *\\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\\n * because its parent is not controlled by the editor framework.\\n */\\n[dir="rtl"] .ck.ck-toolbar,\\n.ck.ck-toolbar[dir="rtl"] {\\n\\t& > .ck-toolbar__items > .ck {\\n\\t\\tmargin-right: 0;\\n\\t}\\n\\n\\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\\n\\t\\t/* (#11) Separate toolbar items. */\\n\\t\\tmargin-left: var(--ck-spacing-small);\\n\\t}\\n\\n\\t& > .ck-toolbar__items > .ck:last-child {\\n\\t\\tmargin-left: 0;\\n\\t}\\n\\n\\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\\n\\t\\t/* No rounded corners on the right side of the first child. */\\n\\t\\t&:first-child {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t}\\n\\n\\t\\t/* No rounded corners on the left side of the last child. */\\n\\t\\t&:last-child {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\\n\\t& > .ck.ck-toolbar__separator {\\n\\t\\tmargin-left: var(--ck-spacing-small);\\n\\t}\\n\\n\\t/* Some spacing between the items and the separator before the grouped items dropdown. */\\n\\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\\n\\t\\tmargin-left: var(--ck-spacing-small);\\n\\t}\\n}\\n\\n/*\\n * Styles for LTR toolbars.\\n *\\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\\n * because its parent is not controlled by the editor framework.\\n */\\n[dir="ltr"] .ck.ck-toolbar,\\n.ck.ck-toolbar[dir="ltr"] {\\n\\t& > .ck-toolbar__items > .ck:last-child {\\n\\t\\tmargin-right: 0;\\n\\t}\\n\\n\\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\\n\\t\\t/* No rounded corners on the right side of the first child. */\\n\\t\\t&:first-child {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t/* No rounded corners on the left side of the last child. */\\n\\t\\t&:last-child {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\\n\\t& > .ck.ck-toolbar__separator {\\n\\t\\tmargin-right: var(--ck-spacing-small);\\n\\t}\\n\\n\\t/* Some spacing between the items and the separator before the grouped items dropdown. */\\n\\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\\n\\t\\tmargin-right: var(--ck-spacing-small);\\n\\t}\\n}\\n\\n/* stylelint-enable */\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t@nest .ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      9948: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css",
            ],
            names: [],
            mappings:
              "AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-balloon-panel.ck-tooltip {\\n\\t/* Keep tooltips transparent for any interactions. */\\n\\tpointer-events: none;\\n\\n\\tz-index: calc( var(--ck-z-modal) + 100 );\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../../../mixins/_rounded.css";\\n\\n.ck.ck-balloon-panel.ck-tooltip {\\n\\t--ck-balloon-border-width: 0px;\\n\\t--ck-balloon-arrow-offset: 0px;\\n\\t--ck-balloon-arrow-half-width: 4px;\\n\\t--ck-balloon-arrow-height: 4px;\\n\\t--ck-color-panel-background: var(--ck-color-tooltip-background);\\n\\n\\tpadding: 0 var(--ck-spacing-medium);\\n\\n\\t& .ck-tooltip__text {\\n\\t\\tfont-size: .9em;\\n\\t\\tline-height: 1.5;\\n\\t\\tcolor: var(--ck-color-tooltip-text);\\n\\t}\\n\\n\\t/* Reset balloon panel styles */\\n\\tbox-shadow: none;\\n\\n\\t/* Hide the default shadow of the .ck-balloon-panel tip */\\n\\t&::before {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6150: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css",
            ],
            names: [],
            mappings:
              "AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A class which hides an element in DOM.\\n */\\n.ck-hidden {\\n\\t/* Override selector specificity. Otherwise, all elements with some display\\n\\tstyle defined will override this one, which is not a desired result. */\\n\\tdisplay: none !important;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-reset,\\n.ck.ck-reset_all,\\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\\n\\tbox-sizing: border-box;\\n\\twidth: auto;\\n\\theight: auto;\\n\\tposition: static;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-z-default: 1;\\n\\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A class that disables all transitions of the element and its children.\\n */\\n.ck-transitions-disabled,\\n.ck-transitions-disabled * {\\n\\ttransition: none !important;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-base-foreground: \\t\\t\\t\\t\\t\\t\\t\\thsl(0, 0%, 98%);\\n\\t--ck-color-base-background: \\t\\t\\t\\t\\t\\t\\t\\thsl(0, 0%, 100%);\\n\\t--ck-color-base-border: \\t\\t\\t\\t\\t\\t\\t\\t\\thsl(220, 6%, 81%);\\n\\t--ck-color-base-action: \\t\\t\\t\\t\\t\\t\\t\\t\\thsl(104, 50.2%, 42.5%);\\n\\t--ck-color-base-focus: \\t\\t\\t\\t\\t\\t\\t\\t\\t\\thsl(209, 92%, 70%);\\n\\t--ck-color-base-text: \\t\\t\\t\\t\\t\\t\\t\\t\\t\\thsl(0, 0%, 20%);\\n\\t--ck-color-base-active: \\t\\t\\t\\t\\t\\t\\t\\t\\thsl(218.1, 100%, 58%);\\n\\t--ck-color-base-active-focus:\\t\\t\\t\\t\\t\\t\\t\\thsl(218.2, 100%, 52.5%);\\n\\t--ck-color-base-error:\\t\\t\\t\\t\\t\\t\\t\\t\\t\\thsl(15, 100%, 43%);\\n\\n\\t/* -- Generic colors ------------------------------------------------------------------------ */\\n\\n\\t--ck-color-focus-border-coordinates: \\t\\t\\t\\t\\t\\t218, 81.8%, 56.9%;\\n\\t--ck-color-focus-border: \\t\\t\\t\\t\\t\\t\\t\\t\\thsl(var(--ck-color-focus-border-coordinates));\\n\\t--ck-color-focus-outer-shadow:\\t\\t\\t\\t\\t\\t\\t\\thsl(212.4, 89.3%, 89%);\\n\\t--ck-color-focus-disabled-shadow:\\t\\t\\t\\t\\t\\t\\thsla(209, 90%, 72%,.3);\\n\\t--ck-color-focus-error-shadow:\\t\\t\\t\\t\\t\\t\\t\\thsla(9,100%,56%,.3);\\n\\t--ck-color-text: \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-text);\\n\\t--ck-color-shadow-drop: \\t\\t\\t\\t\\t\\t\\t\\t\\thsla(0, 0%, 0%, 0.15);\\n\\t--ck-color-shadow-drop-active:\\t\\t\\t\\t\\t\\t\\t\\thsla(0, 0%, 0%, 0.2);\\n\\t--ck-color-shadow-inner: \\t\\t\\t\\t\\t\\t\\t\\t\\thsla(0, 0%, 0%, 0.1);\\n\\n\\t/* -- Buttons ------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-button-default-background: \\t\\t\\t\\t\\t\\ttransparent;\\n\\t--ck-color-button-default-hover-background: \\t\\t\\t\\thsl(0, 0%, 94.1%);\\n\\t--ck-color-button-default-active-background: \\t\\t\\t\\thsl(0, 0%, 94.1%);\\n\\t--ck-color-button-default-disabled-background: \\t\\t\\t\\ttransparent;\\n\\n\\t--ck-color-button-on-background: \\t\\t\\t\\t\\t\\t\\thsl(212, 100%, 97.1%);\\n\\t--ck-color-button-on-hover-background: \\t\\t\\t\\t\\t\\thsl(211.7, 100%, 92.9%);\\n\\t--ck-color-button-on-active-background: \\t\\t\\t\\t\\thsl(211.7, 100%, 92.9%);\\n\\t--ck-color-button-on-disabled-background: \\t\\t\\t\\t\\thsl(211, 15%, 95%);\\n\\t--ck-color-button-on-color:\\t\\t\\t\\t\\t\\t\\t\\t\\thsl(218.1, 100%, 58%);\\n\\n\\n\\t--ck-color-button-action-background: \\t\\t\\t\\t\\t\\tvar(--ck-color-base-action);\\n\\t--ck-color-button-action-hover-background: \\t\\t\\t\\t\\thsl(104, 53.2%, 40.2%);\\n\\t--ck-color-button-action-active-background: \\t\\t\\t\\thsl(104, 53.2%, 40.2%);\\n\\t--ck-color-button-action-disabled-background: \\t\\t\\t\\thsl(104, 44%, 58%);\\n\\t--ck-color-button-action-text: \\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\n\\t--ck-color-button-save: \\t\\t\\t\\t\\t\\t\\t\\t\\thsl(120, 100%, 27%);\\n\\t--ck-color-button-cancel: \\t\\t\\t\\t\\t\\t\\t\\t\\thsl(15, 100%, 43%);\\n\\n\\t--ck-color-switch-button-off-background:\\t\\t\\t\\t\\thsl(0, 0%, 57.6%);\\n\\t--ck-color-switch-button-off-hover-background:\\t\\t\\t\\thsl(0, 0%, 49%);\\n\\t--ck-color-switch-button-on-background:\\t\\t\\t\\t\\t\\tvar(--ck-color-button-action-background);\\n\\t--ck-color-switch-button-on-hover-background:\\t\\t\\t\\thsl(104, 53.2%, 40.2%);\\n\\t--ck-color-switch-button-inner-background:\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\t--ck-color-switch-button-inner-shadow:\\t\\t\\t\\t\\t\\thsla(0, 0%, 0%, 0.1);\\n\\n\\t/* -- Dropdown ------------------------------------------------------------------------------ */\\n\\n\\t--ck-color-dropdown-panel-background: \\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\t--ck-color-dropdown-panel-border: \\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-border);\\n\\n\\t/* -- Input --------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-input-background: \\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\t--ck-color-input-border: \\t\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-border);\\n\\t--ck-color-input-error-border:\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-error);\\n\\t--ck-color-input-text: \\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-text);\\n\\t--ck-color-input-disabled-background: \\t\\t\\t\\t\\t\\thsl(0, 0%, 95%);\\n\\t--ck-color-input-disabled-border: \\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-border);\\n\\t--ck-color-input-disabled-text: \\t\\t\\t\\t\\t\\t\\thsl(0, 0%, 46%);\\n\\n\\t/* -- List ---------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-list-background: \\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\t--ck-color-list-button-hover-background: \\t\\t\\t\\t\\tvar(--ck-color-button-default-hover-background);\\n\\t--ck-color-list-button-on-background: \\t\\t\\t\\t\\t\\tvar(--ck-color-button-on-color);\\n\\t--ck-color-list-button-on-background-focus: \\t\\t\\t\\tvar(--ck-color-button-on-color);\\n\\t--ck-color-list-button-on-text:\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\n\\t/* -- Panel --------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-panel-background: \\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\t--ck-color-panel-border: \\t\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-border);\\n\\n\\t/* -- Toolbar ------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-toolbar-background: \\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\t--ck-color-toolbar-border: \\t\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-border);\\n\\n\\t/* -- Tooltip ------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-tooltip-background: \\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-text);\\n\\t--ck-color-tooltip-text: \\t\\t\\t\\t\\t\\t\\t\\t\\tvar(--ck-color-base-background);\\n\\n\\t/* -- Engine -------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-engine-placeholder-text: \\t\\t\\t\\t\\t\\thsl(0, 0%, 44%);\\n\\n\\t/* -- Upload -------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-upload-bar-background:\\t\\t \\t\\t\\t\\t\\thsl(209, 92%, 70%);\\n\\n\\t/* -- Link -------------------------------------------------------------------------------- */\\n\\n\\t--ck-color-link-default:\\t\\t\\t\\t\\t\\t\\t\\t\\thsl(240, 100%, 47%);\\n\\t--ck-color-link-selected-background:\\t\\t\\t\\t\\t\\thsla(201, 100%, 56%, 0.1);\\n\\t--ck-color-link-fake-selection:\\t\\t\\t\\t\\t\\t\\t\\thsla(201, 100%, 56%, 0.3);\\n\\n\\t/* -- Search result highlight ---------------------------------------------------------------- */\\n\\n\\t--ck-color-highlight-background:\\t\\t\\t\\t\\t\\t\\thsl(60, 100%, 50%)\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t/**\\n\\t * An opacity value of disabled UI item.\\n\\t */\\n\\t--ck-disabled-opacity: .5;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t/**\\n\\t * The geometry of the of focused element's outer shadow.\\n\\t */\\n\\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\\n\\n\\t/**\\n\\t * A visual style of focused element's outer shadow.\\n\\t */\\n\\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\\n\\n\\t/**\\n\\t * A visual style of focused element's outer shadow (when disabled).\\n\\t */\\n\\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\\n\\n\\t/**\\n\\t * A visual style of focused element's outer shadow (when has errors).\\n\\t */\\n\\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\\n\\n\\t/**\\n\\t * A visual style of focused element's border or outline.\\n\\t */\\n\\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-font-size-base: 13px;\\n\\t--ck-line-height-base: 1.84615;\\n\\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\\n\\n\\t--ck-font-size-tiny: 0.7em;\\n\\t--ck-font-size-small: 0.75em;\\n\\t--ck-font-size-normal: 1em;\\n\\t--ck-font-size-big: 1.4em;\\n\\t--ck-font-size-large: 1.8em;\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t/* This is super-important. This is **manually** adjusted so a button without an icon\\n\\tis never smaller than a button with icon, additionally making sure that text-less buttons\\n\\tare perfect squares. The value is also shared by other components which should stay "in-line"\\n\\twith buttons. */\\n\\t--ck-ui-component-min-height: 2.3em;\\n}\\n\\n/**\\n * Resets an element, ignoring its children.\\n */\\n.ck.ck-reset,\\n.ck.ck-reset_all,\\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\\n\\t/* Do not include inheritable rules here. */\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\tbackground: transparent;\\n\\ttext-decoration: none;\\n\\tvertical-align: middle;\\n\\ttransition: none;\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\\n\\tword-wrap: break-word;\\n}\\n\\n/**\\n * Resets an element AND its children.\\n */\\n.ck.ck-reset_all,\\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\\n\\t/* These are rule inherited by all children elements. */\\n\\tborder-collapse: collapse;\\n\\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\\n\\tcolor: var(--ck-color-text);\\n\\ttext-align: left;\\n\\twhite-space: nowrap;\\n\\tcursor: auto;\\n\\tfloat: none;\\n}\\n\\n.ck-reset_all {\\n\\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\\n\\t\\ttext-align: right;\\n\\t}\\n\\n\\t& iframe:not(.ck-reset_all-excluded *) {\\n\\t\\t/* For IE */\\n\\t\\tvertical-align: inherit;\\n\\t}\\n\\n\\t& textarea:not(.ck-reset_all-excluded *) {\\n\\t\\twhite-space: pre-wrap;\\n\\t}\\n\\n\\t& textarea:not(.ck-reset_all-excluded *),\\n\\t& input[type="text"]:not(.ck-reset_all-excluded *),\\n\\t& input[type="password"]:not(.ck-reset_all-excluded *) {\\n\\t\\tcursor: text;\\n\\t}\\n\\n\\t& textarea[disabled]:not(.ck-reset_all-excluded *),\\n\\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\\n\\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\\n\\t\\tcursor: default;\\n\\t}\\n\\n\\t& fieldset:not(.ck-reset_all-excluded *) {\\n\\t\\tpadding: 10px;\\n\\t\\tborder: 2px groove hsl(255, 7%, 88%);\\n\\t}\\n\\n\\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\\n\\t\\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\\n\\t\\tpadding: 0;\\n\\t\\tborder: 0\\n\\t}\\n}\\n\\n/**\\n * Default UI rules for RTL languages.\\n */\\n.ck[dir="rtl"],\\n.ck[dir="rtl"] .ck {\\n\\ttext-align: right;\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Default border-radius value.\\n */\\n:root{\\n\\t--ck-border-radius: 2px;\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t/**\\n\\t * A visual style of element's inner shadow (i.e. input).\\n\\t */\\n\\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\\n\\n\\t/**\\n\\t * A visual style of element's drop shadow (i.e. panel).\\n\\t */\\n\\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\\n\\n\\t/**\\n\\t * A visual style of element's active shadow (i.e. comment or suggestion).\\n\\t */\\n\\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-spacing-unit: \\t\\t\\t\\t\\t\\t0.6em;\\n\\t--ck-spacing-large: \\t\\t\\t\\t\\tcalc(var(--ck-spacing-unit) * 1.5);\\n\\t--ck-spacing-standard: \\t\\t\\t\\t\\tvar(--ck-spacing-unit);\\n\\t--ck-spacing-medium: \\t\\t\\t\\t\\tcalc(var(--ck-spacing-unit) * 0.8);\\n\\t--ck-spacing-small: \\t\\t\\t\\t\\tcalc(var(--ck-spacing-unit) * 0.5);\\n\\t--ck-spacing-tiny: \\t\\t\\t\\t\\t\\tcalc(var(--ck-spacing-unit) * 0.3);\\n\\t--ck-spacing-extra-tiny: \\t\\t\\t\\tcalc(var(--ck-spacing-unit) * 0.16);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      6507: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css",
            ],
            names: [],
            mappings:
              "AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-resizer: var(--ck-color-focus-border);\\n\\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\\n\\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\\n\\n\\t--ck-resizer-border-radius: var(--ck-border-radius);\\n\\t--ck-resizer-tooltip-offset: 10px;\\n\\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\\n}\\n\\n.ck .ck-widget {\\n\\t/* This is neccessary for type around UI to be positioned properly. */\\n\\tposition: relative;\\n}\\n\\n.ck .ck-widget.ck-widget_with-selection-handle {\\n\\t/* Make the widget wrapper a relative positioning container for the drag handle. */\\n\\tposition: relative;\\n\\n\\t& .ck-widget__selection-handle {\\n\\t\\tposition: absolute;\\n\\n\\t\\t& .ck-icon {\\n\\t\\t\\t/* Make sure the icon in not a subject to font-size or line-height to avoid\\n\\t\\t\\tunnecessary spacing around it. */\\n\\t\\t\\tdisplay: block;\\n\\t\\t}\\n\\t}\\n\\n\\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\\n\\t&:hover > .ck-widget__selection-handle {\\n\\t\\tvisibility: visible;\\n\\t}\\n\\n\\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\\n\\t&.ck-widget_selected > .ck-widget__selection-handle {\\n\\t\\tvisibility: visible;\\n\\t}\\n}\\n\\n.ck .ck-size-view {\\n\\tbackground: var(--ck-color-resizer-tooltip-background);\\n\\tcolor: var(--ck-color-resizer-tooltip-text);\\n\\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\\n\\tborder-radius: var(--ck-resizer-border-radius);\\n\\tfont-size: var(--ck-font-size-tiny);\\n\\tdisplay: block;\\n\\tpadding: 0 var(--ck-spacing-small);\\n\\theight: var(--ck-resizer-tooltip-height);\\n\\tline-height: var(--ck-resizer-tooltip-height);\\n\\n\\t&.ck-orientation-top-left,\\n\\t&.ck-orientation-top-right,\\n\\t&.ck-orientation-bottom-right,\\n\\t&.ck-orientation-bottom-left,\\n\\t&.ck-orientation-above-center {\\n\\t\\tposition: absolute;\\n\\t}\\n\\n\\t&.ck-orientation-top-left {\\n\\t\\ttop: var(--ck-resizer-tooltip-offset);\\n\\t\\tleft: var(--ck-resizer-tooltip-offset);\\n\\t}\\n\\n\\t&.ck-orientation-top-right {\\n\\t\\ttop: var(--ck-resizer-tooltip-offset);\\n\\t\\tright: var(--ck-resizer-tooltip-offset);\\n\\t}\\n\\n\\t&.ck-orientation-bottom-right {\\n\\t\\tbottom: var(--ck-resizer-tooltip-offset);\\n\\t\\tright: var(--ck-resizer-tooltip-offset);\\n\\t}\\n\\n\\t&.ck-orientation-bottom-left {\\n\\t\\tbottom: var(--ck-resizer-tooltip-offset);\\n\\t\\tleft: var(--ck-resizer-tooltip-offset);\\n\\t}\\n\\n\\t/* Class applied if the widget is too small to contain the size label */\\n\\t&.ck-orientation-above-center {\\n\\t\\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\\n\\t\\tleft: 50%;\\n\\t\\ttransform: translate(-50%);\\n\\t}\\n}\\n",
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import "../mixins/_focus.css";\\n@import "../mixins/_shadow.css";\\n\\n:root {\\n\\t--ck-widget-outline-thickness: 3px;\\n\\t--ck-widget-handler-icon-size: 16px;\\n\\t--ck-widget-handler-animation-duration: 200ms;\\n\\t--ck-widget-handler-animation-curve: ease;\\n\\n\\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\\n\\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\\n\\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\\n\\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\\n}\\n\\n.ck .ck-widget {\\n\\toutline-width: var(--ck-widget-outline-thickness);\\n\\toutline-style: solid;\\n\\toutline-color: transparent;\\n\\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\n\\t&.ck-widget_selected,\\n\\t&.ck-widget_selected:hover {\\n\\t\\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\\n\\t}\\n\\n\\t&:hover {\\n\\t\\toutline-color: var(--ck-color-widget-hover-border);\\n\\t}\\n}\\n\\n.ck .ck-editor__nested-editable {\\n\\tborder: 1px solid transparent;\\n\\n\\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\\n\\tThese styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */\\n\\t&.ck-editor__nested-editable_focused,\\n\\t&:focus {\\n\\t\\t@mixin ck-focus-ring;\\n\\t\\t@mixin ck-box-shadow var(--ck-inner-shadow);\\n\\n\\t\\tbackground-color: var(--ck-color-widget-editable-focus-background);\\n\\t}\\n}\\n\\n.ck .ck-widget.ck-widget_with-selection-handle {\\n\\t& .ck-widget__selection-handle {\\n\\t\\tpadding: 4px;\\n\\t\\tbox-sizing: border-box;\\n\\n\\t\\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\\n\\t\\tbackground-color: transparent;\\n\\t\\topacity: 0;\\n\\n\\t\\t/* Transition:\\n\\t\\t   * background-color for the .ck-widget_selected state change,\\n\\t\\t   * visibility for hiding the handler,\\n\\t\\t   * opacity for the proper look of the icon when the handler disappears. */\\n\\t\\ttransition:\\n\\t\\t\\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\\n\\t\\t\\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\\n\\t\\t\\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\n\\t\\t/* Make only top corners round. */\\n\\t\\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\\n\\n\\t\\t/* Place the drag handler outside the widget wrapper. */\\n\\t\\ttransform: translateY(-100%);\\n\\t\\tleft: calc(0px - var(--ck-widget-outline-thickness));\\n\\t\\ttop: 0;\\n\\n\\t\\t& .ck-icon {\\n\\t\\t\\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\\n\\t\\t\\twidth: var(--ck-widget-handler-icon-size);\\n\\t\\t\\theight: var(--ck-widget-handler-icon-size);\\n\\t\\t\\tcolor: var(--ck-color-widget-drag-handler-icon-color);\\n\\n\\t\\t\\t/* The "selected" part of the icon is invisible by default */\\n\\t\\t\\t& .ck-icon__selected-indicator {\\n\\t\\t\\t\\topacity: 0;\\n\\n\\t\\t\\t\\t/* Note: The animation is longer on purpose. Simply feels better. */\\n\\t\\t\\t\\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\\n\\t\\t&:hover .ck-icon .ck-icon__selected-indicator {\\n\\t\\t\\topacity: 1;\\n\\t\\t}\\n\\t}\\n\\n\\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\\n\\t&:hover > .ck-widget__selection-handle {\\n\\t\\topacity: 1;\\n\\t\\tbackground-color: var(--ck-color-widget-hover-border);\\n\\t}\\n\\n\\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\\n\\t&.ck-widget_selected,\\n\\t&.ck-widget_selected:hover {\\n\\t\\t& > .ck-widget__selection-handle {\\n\\t\\t\\topacity: 1;\\n\\t\\t\\tbackground-color: var(--ck-color-focus-border);\\n\\n\\t\\t\\t/* When the widget is selected, notify the user using the proper look of the icon. */\\n\\t\\t\\t& .ck-icon .ck-icon__selected-indicator {\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n/* In a RTL environment, align the selection handler to the right side of the widget */\\n/* stylelint-disable-next-line no-descending-specificity */\\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\\n\\tleft: auto;\\n\\tright: calc(0px - var(--ck-widget-outline-thickness));\\n}\\n\\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\\n.ck.ck-editor__editable.ck-read-only .ck-widget {\\n\\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\\n\\ttransition: none;\\n\\n\\t&:not(.ck-widget_selected) {\\n\\t\\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\\n\\t\\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\\n\\t\\t *\\n\\t\\t * Leave the unit because this custom property is used in calc() by other features.\\n\\t\\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\\n\\t\\t */\\n\\t\\t--ck-widget-outline-thickness: 0px;\\n\\t}\\n\\n\\t&.ck-widget_with-selection-handle {\\n\\t\\t& .ck-widget__selection-handle,\\n\\t\\t& .ck-widget__selection-handle:hover {\\n\\t\\t\\tbackground: var(--ck-color-widget-blurred-border);\\n\\t\\t}\\n\\t}\\n}\\n\\n/* Style the widget when it\\'s selected but the editable it belongs to lost focus. */\\n/* stylelint-disable-next-line no-descending-specificity */\\n.ck.ck-editor__editable.ck-blurred .ck-widget {\\n\\t&.ck-widget_selected,\\n\\t&.ck-widget_selected:hover {\\n\\t\\toutline-color: var(--ck-color-widget-blurred-border);\\n\\n\\t\\t&.ck-widget_with-selection-handle {\\n\\t\\t\\t& > .ck-widget__selection-handle,\\n\\t\\t\\t& > .ck-widget__selection-handle:hover {\\n\\t\\t\\t\\tbackground: var(--ck-color-widget-blurred-border);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\\n\\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\\n\\tIn fact, anything with overflow: hidden.\\n\\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\\n\\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\\n\\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\\n\\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\\n}\\n',
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A visual style of focused element's border.\\n */\\n@define-mixin ck-focus-ring {\\n\\t/* Disable native outline. */\\n\\toutline: none;\\n\\tborder: var(--ck-focus-ring)\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      2263: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          ".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css",
            ],
            names: [],
            mappings:
              "AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",
            sourcesContent: [
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-widget_with-resizer {\\n\\t/* Make the widget wrapper a relative positioning container for the drag handle. */\\n\\tposition: relative;\\n}\\n\\n.ck .ck-widget__resizer {\\n\\tdisplay: none;\\n\\tposition: absolute;\\n\\n\\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\\n\\tpointer-events: none;\\n\\n\\tleft: 0;\\n\\ttop: 0;\\n}\\n\\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\\n\\t& > .ck-widget__resizer {\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n\\n.ck .ck-widget__resizer__handle {\\n\\tposition: absolute;\\n\\n\\t/* Resizers are the only UI elements that should interfere with a pointer device. */\\n\\tpointer-events: all;\\n\\n\\t&.ck-widget__resizer__handle-top-left,\\n\\t&.ck-widget__resizer__handle-bottom-right {\\n\\t\\tcursor: nwse-resize;\\n\\t}\\n\\n\\t&.ck-widget__resizer__handle-top-right,\\n\\t&.ck-widget__resizer__handle-bottom-left {\\n\\t\\tcursor: nesw-resize;\\n\\t}\\n}\\n",
              "/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-resizer-size: 10px;\\n\\n\\t/* Set the resizer with a 50% offset. */\\n\\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\\n\\t--ck-resizer-border-width: 1px;\\n}\\n\\n.ck .ck-widget__resizer {\\n\\toutline: 1px solid var(--ck-color-resizer);\\n}\\n\\n.ck .ck-widget__resizer__handle {\\n\\twidth: var(--ck-resizer-size);\\n\\theight: var(--ck-resizer-size);\\n\\tbackground: var(--ck-color-focus-border);\\n\\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\\n\\tborder-radius: var(--ck-resizer-border-radius);\\n\\n\\t&.ck-widget__resizer__handle-top-left {\\n\\t\\ttop: var(--ck-resizer-offset);\\n\\t\\tleft: var(--ck-resizer-offset);\\n\\t}\\n\\n\\t&.ck-widget__resizer__handle-top-right {\\n\\t\\ttop: var(--ck-resizer-offset);\\n\\t\\tright: var(--ck-resizer-offset);\\n\\t}\\n\\n\\t&.ck-widget__resizer__handle-bottom-right {\\n\\t\\tbottom: var(--ck-resizer-offset);\\n\\t\\tright: var(--ck-resizer-offset);\\n\\t}\\n\\n\\t&.ck-widget__resizer__handle-bottom-left {\\n\\t\\tbottom: var(--ck-resizer-offset);\\n\\t\\tleft: var(--ck-resizer-offset);\\n\\t}\\n}\\n",
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      5137: (t, e, n) => {
        n.d(e, { Z: () => c });
        var i = n(4015);
        var o = n.n(i);
        var r = n(3645);
        var s = n.n(r);
        var a = s()(o());
        a.push([
          t.id,
          '.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',
          "",
          {
            version: 3,
            sources: [
              "webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css",
              "webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css",
            ],
            names: [],
            mappings:
              "AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",
            sourcesContent: [
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-widget {\\n\\t/*\\n\\t * Styles of the type around buttons\\n\\t */\\n\\t& .ck-widget__type-around__button {\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t\\toverflow: hidden;\\n\\t\\tz-index: var(--ck-z-default);\\n\\n\\t\\t& svg {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 50%;\\n\\t\\t\\tleft: 50%;\\n\\t\\t\\tz-index: calc(var(--ck-z-default) + 2);\\n\\t\\t}\\n\\n\\t\\t&.ck-widget__type-around__button_before {\\n\\t\\t\\t/* Place it in the middle of the outline */\\n\\t\\t\\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\\n\\t\\t\\tleft: min(10%, 30px);\\n\\n\\t\\t\\ttransform: translateY(-50%);\\n\\t\\t}\\n\\n\\t\\t&.ck-widget__type-around__button_after {\\n\\t\\t\\t/* Place it in the middle of the outline */\\n\\t\\t\\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\\n\\t\\t\\tright: min(10%, 30px);\\n\\n\\t\\t\\ttransform: translateY(50%);\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the buttons when:\\n\\t * - the widget is selected,\\n\\t * - or the button is being hovered (regardless of the widget state).\\n\\t */\\n\\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\\n\\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\\n\\t\\t&::after {\\n\\t\\t\\tcontent: "";\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 1px;\\n\\t\\t\\tleft: 1px;\\n\\t\\t\\tz-index: calc(var(--ck-z-default) + 1);\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\\n\\t */\\n\\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\\n\\t\\tdisplay: none;\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\tright: 0;\\n\\t}\\n\\n\\t/*\\n\\t * When the widget is hovered the "fake caret" would normally be narrower than the\\n\\t * extra outline displayed around the widget. Let\\'s extend the "fake caret" to match\\n\\t * the full width of the widget.\\n\\t */\\n\\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\\n\\t\\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\\n\\t\\tright: calc( -1 * var(--ck-widget-outline-thickness) );\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\\n\\t */\\n\\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\\n\\t\\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\\n\\t\\tdisplay: block;\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\\n\\t */\\n\\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\\n\\t\\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n\\n/*\\n * Integration with the read-only mode of the editor.\\n */\\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\\n\\tdisplay: none;\\n}\\n\\n/*\\n * Integration with the restricted editing mode (feature) of the editor.\\n */\\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\\n\\tdisplay: none;\\n}\\n\\n/*\\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\\n */\\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\\n\\tdisplay: none;\\n}\\n',
              '/*\\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-widget-type-around-button-size: 20px;\\n\\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\\n\\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\\n\\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\\n\\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\\n\\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\\n\\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\\n}\\n\\n@define-mixin ck-widget-type-around-button-visible {\\n\\topacity: 1;\\n\\tpointer-events: auto;\\n}\\n\\n@define-mixin ck-widget-type-around-button-hidden {\\n\\topacity: 0;\\n\\tpointer-events: none;\\n}\\n\\n.ck .ck-widget {\\n\\t/*\\n\\t * Styles of the type around buttons\\n\\t */\\n\\t& .ck-widget__type-around__button {\\n\\t\\twidth: var(--ck-widget-type-around-button-size);\\n\\t\\theight: var(--ck-widget-type-around-button-size);\\n\\t\\tbackground: var(--ck-color-widget-type-around-button);\\n\\t\\tborder-radius: 100px;\\n\\t\\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\n\\t\\t@mixin ck-widget-type-around-button-hidden;\\n\\n\\t\\t& svg {\\n\\t\\t\\twidth: 10px;\\n\\t\\t\\theight: 8px;\\n\\t\\t\\ttransform: translate(-50%,-50%);\\n\\t\\t\\ttransition: transform .5s ease;\\n\\t\\t\\tmargin-top: 1px;\\n\\n\\t\\t\\t& * {\\n\\t\\t\\t\\tstroke-dasharray: 10;\\n\\t\\t\\t\\tstroke-dashoffset: 0;\\n\\n\\t\\t\\t\\tfill: none;\\n\\t\\t\\t\\tstroke: var(--ck-color-widget-type-around-button-icon);\\n\\t\\t\\t\\tstroke-width: 1.5px;\\n\\t\\t\\t\\tstroke-linecap: round;\\n\\t\\t\\t\\tstroke-linejoin: round;\\n\\t\\t\\t}\\n\\n\\t\\t\\t& line {\\n\\t\\t\\t\\tstroke-dasharray: 7;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:hover {\\n\\t\\t\\t/*\\n\\t\\t\\t * Display the "sonar" around the button when hovered.\\n\\t\\t\\t */\\n\\t\\t\\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\\n\\n\\t\\t\\t/*\\n\\t\\t\\t * Animate active button\\'s icon.\\n\\t\\t\\t */\\n\\t\\t\\t& svg {\\n\\t\\t\\t\\t& polyline {\\n\\t\\t\\t\\t\\tanimation: ck-widget-type-around-arrow-dash 2s linear;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t& line {\\n\\t\\t\\t\\t\\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Show type around buttons when the widget gets selected or being hovered.\\n\\t */\\n\\t&.ck-widget_selected,\\n\\t&:hover {\\n\\t\\t& > .ck-widget__type-around > .ck-widget__type-around__button {\\n\\t\\t\\t@mixin ck-widget-type-around-button-visible;\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\\n\\t * and still can be hovered).\\n\\t */\\n\\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\\n\\t\\tbackground: var(--ck-color-widget-type-around-button-hover);\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the buttons when:\\n\\t * - the widget is selected,\\n\\t * - or the button is being hovered (regardless of the widget state).\\n\\t */\\n\\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\\n\\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\\n\\t\\tbackground: var(--ck-color-widget-type-around-button-active);\\n\\n\\t\\t&::after {\\n\\t\\t\\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\\n\\t\\t\\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\\n\\t\\t\\tborder-radius: 100px;\\n\\t\\t\\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the "before" button when the widget has a selection handle. Because some space\\n\\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\\n\\t */\\n\\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\\n\\t\\tmargin-left: 20px;\\n\\t}\\n\\n\\t/*\\n\\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\\n\\t */\\n\\t& .ck-widget__type-around__fake-caret {\\n\\t\\tpointer-events: none;\\n\\t\\theight: 1px;\\n\\t\\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\\n\\n\\t\\t/*\\n\\t\\t * The semi-transparent-outline+background combo improves the contrast\\n\\t\\t * when the background underneath the fake caret is dark.\\n\\t\\t */\\n\\t\\toutline: solid 1px hsla(0, 0%, 100%, .5);\\n\\t\\tbackground: var(--ck-color-base-text);\\n\\t}\\n\\n\\t/*\\n\\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\\n\\t * Despite the widget being physically selected in the model, its outline should disappear.\\n\\t */\\n\\t&.ck-widget_selected {\\n\\t\\t&.ck-widget_type-around_show-fake-caret_before,\\n\\t\\t&.ck-widget_type-around_show-fake-caret_after {\\n\\t\\t\\toutline-color: transparent;\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-widget_type-around_show-fake-caret_before,\\n\\t&.ck-widget_type-around_show-fake-caret_after {\\n\\t\\t/*\\n\\t\\t * When the "fake caret" is visible we simulate that the widget is not selected\\n\\t\\t * (despite being physically selected), so the outline color should be for the\\n\\t\\t * unselected widget.\\n\\t\\t */\\n\\t\\t&.ck-widget_selected:hover {\\n\\t\\t\\toutline-color: var(--ck-color-widget-hover-border);\\n\\t\\t}\\n\\n\\t\\t/*\\n\\t\\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\\n\\t\\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\\n\\t\\t */\\n\\t\\t& > .ck-widget__type-around > .ck-widget__type-around__button {\\n\\t\\t\\t@mixin ck-widget-type-around-button-hidden;\\n\\t\\t}\\n\\n\\t\\t/*\\n\\t\\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\\n\\t\\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\\n\\t\\t */\\n\\t\\t&.ck-widget_with-selection-handle {\\n\\t\\t\\t&.ck-widget_selected,\\n\\t\\t\\t&.ck-widget_selected:hover {\\n\\t\\t\\t\\t& > .ck-widget__selection-handle {\\n\\t\\t\\t\\t\\topacity: 0\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/*\\n\\t\\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\\n\\t\\t * hide the resize UI because it creates too much noise. It can be visible when the user\\n\\t\\t * hovers the widget, though.\\n\\t\\t */\\n\\t\\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\\n\\t\\t\\topacity: 0\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\\n * The selection handler is aligned to the right side of the widget so there is no need to create\\n * additional space for it next to the "before" button.\\n */\\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\\n\\tmargin-left: 0;\\n\\tmargin-right: 20px;\\n}\\n\\n/*\\n * Hide type around buttons when the widget is selected as a child of a selected\\n * nested editable (e.g. mulit-cell table selection).\\n *\\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\\n */\\n.ck-editor__nested-editable.ck-editor__editable_selected {\\n\\t& .ck-widget {\\n\\t\\t&.ck-widget_selected,\\n\\t\\t&:hover {\\n\\t\\t\\t& > .ck-widget__type-around > .ck-widget__type-around__button {\\n\\t\\t\\t\\t@mixin ck-widget-type-around-button-hidden;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\\n */\\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\\n\\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\\n\\n\\t& svg * {\\n\\t\\tstroke: hsl(0,0%,60%);\\n\\t}\\n}\\n\\n@keyframes ck-widget-type-around-arrow-dash {\\n\\t0% {\\n\\t\\tstroke-dashoffset: 10;\\n\\t}\\n\\t20%, 100% {\\n\\t\\tstroke-dashoffset: 0;\\n\\t}\\n}\\n\\n@keyframes ck-widget-type-around-arrow-tip-dash {\\n\\t0%, 20% {\\n\\t\\tstroke-dashoffset: 7;\\n\\t}\\n\\t40%, 100% {\\n\\t\\tstroke-dashoffset: 0;\\n\\t}\\n}\\n\\n@keyframes ck-widget-type-around-button-sonar {\\n\\t0% {\\n\\t\\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\\n\\t}\\n\\t50% {\\n\\t\\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\\n\\t}\\n\\t100% {\\n\\t\\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\\n\\t}\\n}\\n\\n@keyframes ck-widget-type-around-fake-caret-pulse {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t49% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t50% {\\n\\t\\topacity: 0;\\n\\t}\\n\\t99% {\\n\\t\\topacity: 0;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n',
            ],
            sourceRoot: "",
          },
        ]);
        const c = a;
      },
      3645: (t) => {
        t.exports = function (t) {
          var e = [];
          e.toString = function e() {
            return this.map(function (e) {
              var n = t(e);
              if (e[2]) {
                return "@media ".concat(e[2], " {").concat(n, "}");
              }
              return n;
            }).join("");
          };
          e.i = function (t, n, i) {
            if (typeof t === "string") {
              t = [[null, t, ""]];
            }
            var o = {};
            if (i) {
              for (var r = 0; r < this.length; r++) {
                var s = this[r][0];
                if (s != null) {
                  o[s] = true;
                }
              }
            }
            for (var a = 0; a < t.length; a++) {
              var c = [].concat(t[a]);
              if (i && o[c[0]]) {
                continue;
              }
              if (n) {
                if (!c[2]) {
                  c[2] = n;
                } else {
                  c[2] = "".concat(n, " and ").concat(c[2]);
                }
              }
              e.push(c);
            }
          };
          return e;
        };
      },
      4015: (t) => {
        function e(t, e) {
          return s(t) || r(t, e) || i(t, e) || n();
        }
        function n() {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        }
        function i(t, e) {
          if (!t) return;
          if (typeof t === "string") return o(t, e);
          var n = Object.prototype.toString.call(t).slice(8, -1);
          if (n === "Object" && t.constructor) n = t.constructor.name;
          if (n === "Map" || n === "Set") return Array.from(t);
          if (
            n === "Arguments" ||
            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
          )
            return o(t, e);
        }
        function o(t, e) {
          if (e == null || e > t.length) e = t.length;
          for (var n = 0, i = new Array(e); n < e; n++) {
            i[n] = t[n];
          }
          return i;
        }
        function r(t, e) {
          var n =
            t &&
            ((typeof Symbol !== "undefined" && t[Symbol.iterator]) ||
              t["@@iterator"]);
          if (n == null) return;
          var i = [];
          var o = true;
          var r = false;
          var s, a;
          try {
            for (n = n.call(t); !(o = (s = n.next()).done); o = true) {
              i.push(s.value);
              if (e && i.length === e) break;
            }
          } catch (t) {
            r = true;
            a = t;
          } finally {
            try {
              if (!o && n["return"] != null) n["return"]();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        function s(t) {
          if (Array.isArray(t)) return t;
        }
        t.exports = function t(n) {
          var i = e(n, 4),
            o = i[1],
            r = i[3];
          if (!r) {
            return o;
          }
          if (typeof btoa === "function") {
            var s = btoa(unescape(encodeURIComponent(JSON.stringify(r))));
            var a =
              "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(
                s
              );
            var c = "/*# ".concat(a, " */");
            var l = r.sources.map(function (t) {
              return "/*# sourceURL="
                .concat(r.sourceRoot || "")
                .concat(t, " */");
            });
            return [o].concat(l).concat([c]).join("\\n");
          }
          return [o].join("\\n");
        };
      },
      3379: (t, e, n) => {
        var i = (function t() {
          var e;
          return function t() {
            if (typeof e === "undefined") {
              e = Boolean(window && document && document.all && !window.atob);
            }
            return e;
          };
        })();
        var o = (function t() {
          var e = {};
          return function t(n) {
            if (typeof e[n] === "undefined") {
              var i = document.querySelector(n);
              if (
                window.HTMLIFrameElement &&
                i instanceof window.HTMLIFrameElement
              ) {
                try {
                  i = i.contentDocument.head;
                } catch (t) {
                  i = null;
                }
              }
              e[n] = i;
            }
            return e[n];
          };
        })();
        var r = [];
        function s(t) {
          var e = -1;
          for (var n = 0; n < r.length; n++) {
            if (r[n].identifier === t) {
              e = n;
              break;
            }
          }
          return e;
        }
        function a(t, e) {
          var n = {};
          var i = [];
          for (var o = 0; o < t.length; o++) {
            var a = t[o];
            var c = e.base ? a[0] + e.base : a[0];
            var l = n[c] || 0;
            var d = "".concat(c, " ").concat(l);
            n[c] = l + 1;
            var u = s(d);
            var h = { css: a[1], media: a[2], sourceMap: a[3] };
            if (u !== -1) {
              r[u].references++;
              r[u].updater(h);
            } else {
              r.push({ identifier: d, updater: f(h, e), references: 1 });
            }
            i.push(d);
          }
          return i;
        }
        function c(t) {
          var e = document.createElement("style");
          var i = t.attributes || {};
          if (typeof i.nonce === "undefined") {
            var r = true ? n.nc : 0;
            if (r) {
              i.nonce = r;
            }
          }
          Object.keys(i).forEach(function (t) {
            e.setAttribute(t, i[t]);
          });
          if (typeof t.insert === "function") {
            t.insert(e);
          } else {
            var s = o(t.insert || "head");
            if (!s) {
              throw new Error(
                "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
              );
            }
            s.appendChild(e);
          }
          return e;
        }
        function l(t) {
          if (t.parentNode === null) {
            return false;
          }
          t.parentNode.removeChild(t);
        }
        var d = (function t() {
          var e = [];
          return function t(n, i) {
            e[n] = i;
            return e.filter(Boolean).join("\\n");
          };
        })();
        function u(t, e, n, i) {
          var o = n
            ? ""
            : i.media
            ? "@media ".concat(i.media, " {").concat(i.css, "}")
            : i.css;
          if (t.styleSheet) {
            t.styleSheet.cssText = d(e, o);
          } else {
            var r = document.createTextNode(o);
            var s = t.childNodes;
            if (s[e]) {
              t.removeChild(s[e]);
            }
            if (s.length) {
              t.insertBefore(r, s[e]);
            } else {
              t.appendChild(r);
            }
          }
        }
        function h(t, e, n) {
          var i = n.css;
          var o = n.media;
          var r = n.sourceMap;
          if (o) {
            t.setAttribute("media", o);
          } else {
            t.removeAttribute("media");
          }
          if (r && typeof btoa !== "undefined") {
            i += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(
              btoa(unescape(encodeURIComponent(JSON.stringify(r)))),
              " */"
            );
          }
          if (t.styleSheet) {
            t.styleSheet.cssText = i;
          } else {
            while (t.firstChild) {
              t.removeChild(t.firstChild);
            }
            t.appendChild(document.createTextNode(i));
          }
        }
        var m = null;
        var g = 0;
        function f(t, e) {
          var n;
          var i;
          var o;
          if (e.singleton) {
            var r = g++;
            n = m || (m = c(e));
            i = u.bind(null, n, r, false);
            o = u.bind(null, n, r, true);
          } else {
            n = c(e);
            i = h.bind(null, n, e);
            o = function t() {
              l(n);
            };
          }
          i(t);
          return function e(n) {
            if (n) {
              if (
                n.css === t.css &&
                n.media === t.media &&
                n.sourceMap === t.sourceMap
              ) {
                return;
              }
              i((t = n));
            } else {
              o();
            }
          };
        }
        t.exports = function (t, e) {
          e = e || {};
          if (!e.singleton && typeof e.singleton !== "boolean") {
            e.singleton = i();
          }
          t = t || [];
          var n = a(t, e);
          return function t(i) {
            i = i || [];
            if (Object.prototype.toString.call(i) !== "[object Array]") {
              return;
            }
            for (var o = 0; o < n.length; o++) {
              var c = n[o];
              var l = s(c);
              r[l].references--;
            }
            var d = a(i, e);
            for (var u = 0; u < n.length; u++) {
              var h = n[u];
              var m = s(h);
              if (r[m].references === 0) {
                r[m].updater();
                r.splice(m, 1);
              }
            }
            n = d;
          };
        };
      },
    };
    var e = {};
    function n(i) {
      var o = e[i];
      if (o !== undefined) {
        return o.exports;
      }
      var r = (e[i] = { id: i, exports: {} });
      t[i](r, r.exports, n);
      return r.exports;
    }
    (() => {
      n.n = (t) => {
        var e = t && t.__esModule ? () => t["default"] : () => t;
        n.d(e, { a: e });
        return e;
      };
    })();
    (() => {
      n.d = (t, e) => {
        for (var i in e) {
          if (n.o(e, i) && !n.o(t, i)) {
            Object.defineProperty(t, i, { enumerable: true, get: e[i] });
          }
        }
      };
    })();
    (() => {
      n.g = (function () {
        if (typeof globalThis === "object") return globalThis;
        try {
          return this || new Function("return this")();
        } catch (t) {
          if (typeof window === "object") return window;
        }
      })();
    })();
    (() => {
      n.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e);
    })();
    (() => {
      n.nc = undefined;
    })();
    var i = {};
    (() => {
      n.d(i, { default: () => iK });
      function t() {
        try {
          return navigator.userAgent.toLowerCase();
        } catch (t) {
          return "";
        }
      }
      const e = t();
      const o = {
        isMac: s(e),
        isWindows: a(e),
        isGecko: c(e),
        isSafari: l(e),
        isiOS: d(e),
        isAndroid: u(e),
        isBlink: h(e),
        features: { isRegExpUnicodePropertySupported: m() },
      };
      const r = o;
      function s(t) {
        return t.indexOf("macintosh") > -1;
      }
      function a(t) {
        return t.indexOf("windows") > -1;
      }
      function c(t) {
        return !!t.match(/gecko\\/\\d+/);
      }
      function l(t) {
        return t.indexOf(" applewebkit/") > -1 && t.indexOf("chrome") === -1;
      }
      function d(t) {
        return (
          !!t.match(/iphone|ipad/i) || (s(t) && navigator.maxTouchPoints > 0)
        );
      }
      function u(t) {
        return t.indexOf("android") > -1;
      }
      function h(t) {
        return t.indexOf("chrome/") > -1 && t.indexOf("edge/") < 0;
      }
      function m() {
        let t = false;
        try {
          t = "\u0107".search(new RegExp("[\\\\p{L}]", "u")) === 0;
        } catch (t) {}
        return t;
      }
      function g(t, e, n, i) {
        n =
          n ||
          function (t, e) {
            return t === e;
          };
        const o = Array.isArray(t) ? t : Array.prototype.slice.call(t);
        const r = Array.isArray(e) ? e : Array.prototype.slice.call(e);
        const s = f(o, r, n);
        const a = i ? w(s, r.length) : k(r, s);
        return a;
      }
      function f(t, e, n) {
        const i = p(t, e, n);
        if (i === -1) {
          return { firstIndex: -1, lastIndexOld: -1, lastIndexNew: -1 };
        }
        const o = b(t, i);
        const r = b(e, i);
        const s = p(o, r, n);
        const a = t.length - s;
        const c = e.length - s;
        return { firstIndex: i, lastIndexOld: a, lastIndexNew: c };
      }
      function p(t, e, n) {
        for (let i = 0; i < Math.max(t.length, e.length); i++) {
          if (t[i] === undefined || e[i] === undefined || !n(t[i], e[i])) {
            return i;
          }
        }
        return -1;
      }
      function b(t, e) {
        return t.slice(e).reverse();
      }
      function k(t, e) {
        const n = [];
        const { firstIndex: i, lastIndexOld: o, lastIndexNew: r } = e;
        if (r - i > 0) {
          n.push({ index: i, type: "insert", values: t.slice(i, r) });
        }
        if (o - i > 0) {
          n.push({ index: i + (r - i), type: "delete", howMany: o - i });
        }
        return n;
      }
      function w(t, e) {
        const { firstIndex: n, lastIndexOld: i, lastIndexNew: o } = t;
        if (n === -1) {
          return Array(e).fill("equal");
        }
        let r = [];
        if (n > 0) {
          r = r.concat(Array(n).fill("equal"));
        }
        if (o - n > 0) {
          r = r.concat(Array(o - n).fill("insert"));
        }
        if (i - n > 0) {
          r = r.concat(Array(i - n).fill("delete"));
        }
        if (o < e) {
          r = r.concat(Array(e - o).fill("equal"));
        }
        return r;
      }
      function A(t, e, n) {
        n =
          n ||
          function (t, e) {
            return t === e;
          };
        const i = t.length;
        const o = e.length;
        if (i > 200 || o > 200 || i + o > 300) {
          return A.fastDiff(t, e, n, true);
        }
        let r, s;
        if (o < i) {
          const n = t;
          t = e;
          e = n;
          r = "delete";
          s = "insert";
        } else {
          r = "insert";
          s = "delete";
        }
        const a = t.length;
        const c = e.length;
        const l = c - a;
        const d = {};
        const u = {};
        function h(i) {
          const o = (u[i - 1] !== undefined ? u[i - 1] : -1) + 1;
          const l = u[i + 1] !== undefined ? u[i + 1] : -1;
          const h = o > l ? -1 : 1;
          if (d[i + h]) {
            d[i] = d[i + h].slice(0);
          }
          if (!d[i]) {
            d[i] = [];
          }
          d[i].push(o > l ? r : s);
          let m = Math.max(o, l);
          let g = m - i;
          while (g < a && m < c && n(t[g], e[m])) {
            g++;
            m++;
            d[i].push("equal");
          }
          return m;
        }
        let m = 0;
        let g;
        do {
          for (g = -m; g < l; g++) {
            u[g] = h(g);
          }
          for (g = l + m; g > l; g--) {
            u[g] = h(g);
          }
          u[l] = h(l);
          m++;
        } while (u[l] !== c);
        return d[l].slice(1);
      }
      A.fastDiff = g;
      function C(t, ...e) {
        e.forEach((e) => {
          const n = Object.getOwnPropertyNames(e);
          const i = Object.getOwnPropertySymbols(e);
          n.concat(i).forEach((n) => {
            if (n in t.prototype) {
              return;
            }
            if (
              typeof e == "function" &&
              (n == "length" || n == "name" || n == "prototype")
            ) {
              return;
            }
            const i = Object.getOwnPropertyDescriptor(e, n);
            i.enumerable = false;
            Object.defineProperty(t.prototype, n, i);
          });
        });
      }
      function _() {
        return function t() {
          t.called = true;
        };
      }
      const v = _;
      class y {
        constructor(t, e) {
          this.source = t;
          this.name = e;
          this.path = [];
          this.stop = v();
          this.off = v();
        }
      }
      const x = new Array(256)
        .fill("")
        .map((t, e) => ("0" + e.toString(16)).slice(-2));
      function E() {
        const t = (Math.random() * 4294967296) >>> 0;
        const e = (Math.random() * 4294967296) >>> 0;
        const n = (Math.random() * 4294967296) >>> 0;
        const i = (Math.random() * 4294967296) >>> 0;
        return (
          "e" +
          x[(t >> 0) & 255] +
          x[(t >> 8) & 255] +
          x[(t >> 16) & 255] +
          x[(t >> 24) & 255] +
          x[(e >> 0) & 255] +
          x[(e >> 8) & 255] +
          x[(e >> 16) & 255] +
          x[(e >> 24) & 255] +
          x[(n >> 0) & 255] +
          x[(n >> 8) & 255] +
          x[(n >> 16) & 255] +
          x[(n >> 24) & 255] +
          x[(i >> 0) & 255] +
          x[(i >> 8) & 255] +
          x[(i >> 16) & 255] +
          x[(i >> 24) & 255]
        );
      }
      const D = {
        get(t = "normal") {
          if (typeof t != "number") {
            return this[t] || this.normal;
          } else {
            return t;
          }
        },
        highest: 1e5,
        high: 1e3,
        normal: 0,
        low: -1e3,
        lowest: -1e5,
      };
      const S = D;
      function T(t, e) {
        const n = S.get(e.priority);
        for (let i = 0; i < t.length; i++) {
          if (S.get(t[i].priority) < n) {
            t.splice(i, 0, e);
            return;
          }
        }
        t.push(e);
      }
      const I =
        "https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";
      class M extends Error {
        constructor(t, e, n) {
          super(z(t, n));
          this.name = "CKEditorError";
          this.context = e;
          this.data = n;
        }
        is(t) {
          return t === "CKEditorError";
        }
        static rethrowUnexpectedError(t, e) {
          if (t.is && t.is("CKEditorError")) {
            throw t;
          }
          const n = new M(t.message, e);
          n.stack = t.stack;
          throw n;
        }
      }
      function B(t, e) {
        console.warn(...P(t, e));
      }
      function L(t, e) {
        console.error(...P(t, e));
      }
      function N(t) {
        return \`\\nRead more: \${I}#error-\${t}\`;
      }
      function z(t, e) {
        const n = new WeakSet();
        const i = (t, e) => {
          if (typeof e === "object" && e !== null) {
            if (n.has(e)) {
              return \`[object \${e.constructor.name}]\`;
            }
            n.add(e);
          }
          return e;
        };
        const o = e ? \` \${JSON.stringify(e, i)}\` : "";
        const r = N(t);
        return t + o + r;
      }
      function P(t, e) {
        const n = N(t);
        return e ? [t, e, n] : [t, n];
      }
      const R = "35.4.0";
      const O = null && R;
      const j = typeof window === "object" ? window : n.g;
      if (j.CKEDITOR_VERSION) {
        throw new M("ckeditor-duplicated-modules", null);
      } else {
        j.CKEDITOR_VERSION = R;
      }
      const F = Symbol("listeningTo");
      const V = Symbol("emitterId");
      const H = Symbol("delegations");
      const U = q(Object);
      function q(t) {
        if (!t) {
          return U;
        }
        class e extends t {
          on(t, e, n) {
            this.listenTo(this, t, e, n);
          }
          once(t, e, n) {
            let i = false;
            const o = (t, ...n) => {
              if (!i) {
                i = true;
                t.off();
                e.call(this, t, ...n);
              }
            };
            this.listenTo(this, t, o, n);
          }
          off(t, e) {
            this.stopListening(this, t, e);
          }
          listenTo(t, e, n, i = {}) {
            let o, r;
            if (!this[F]) {
              this[F] = {};
            }
            const s = this[F];
            if (!$(t)) {
              G(t);
            }
            const a = $(t);
            if (!(o = s[a])) {
              o = s[a] = { emitter: t, callbacks: {} };
            }
            if (!(r = o.callbacks[e])) {
              r = o.callbacks[e] = [];
            }
            r.push(n);
            tt(this, t, e, n, i);
          }
          stopListening(t, e, n) {
            const i = this[F];
            let o = t && $(t);
            const r = i && o ? i[o] : undefined;
            const s = r && e ? r.callbacks[e] : undefined;
            if (!i || (t && !r) || (e && !s)) {
              return;
            }
            if (n) {
              et(this, t, e, n);
              const i = s.indexOf(n);
              if (i !== -1) {
                if (s.length === 1) {
                  delete r.callbacks[e];
                } else {
                  et(this, t, e, n);
                }
              }
            } else if (s) {
              while ((n = s.pop())) {
                et(this, t, e, n);
              }
              delete r.callbacks[e];
            } else if (r) {
              for (e in r.callbacks) {
                this.stopListening(t, e);
              }
              delete i[o];
            } else {
              for (o in i) {
                this.stopListening(i[o].emitter);
              }
              delete this[F];
            }
          }
          fire(t, ...e) {
            try {
              const n = t instanceof y ? t : new y(this, t);
              const i = n.name;
              let o = J(this, i);
              n.path.push(this);
              if (o) {
                const t = [n, ...e];
                o = Array.from(o);
                for (let e = 0; e < o.length; e++) {
                  o[e].callback.apply(this, t);
                  if (n.off.called) {
                    delete n.off.called;
                    this._removeEventListener(i, o[e].callback);
                  }
                  if (n.stop.called) {
                    break;
                  }
                }
              }
              const r = this[H];
              if (r) {
                const t = r.get(i);
                const o = r.get("*");
                if (t) {
                  X(t, n, e);
                }
                if (o) {
                  X(o, n, e);
                }
              }
              return n.return;
            } catch (t) {
              M.rethrowUnexpectedError(t, this);
            }
          }
          delegate(...t) {
            return {
              to: (e, n) => {
                if (!this[H]) {
                  this[H] = new Map();
                }
                t.forEach((t) => {
                  const i = this[H].get(t);
                  if (!i) {
                    this[H].set(t, new Map([[e, n]]));
                  } else {
                    i.set(e, n);
                  }
                });
              },
            };
          }
          stopDelegating(t, e) {
            if (!this[H]) {
              return;
            }
            if (!t) {
              this[H].clear();
            } else if (!e) {
              this[H].delete(t);
            } else {
              const n = this[H].get(t);
              if (n) {
                n.delete(e);
              }
            }
          }
          _addEventListener(t, e, n) {
            Z(this, t);
            const i = Q(this, t);
            const o = S.get(n.priority);
            const r = { callback: e, priority: o };
            for (const t of i) {
              T(t, r);
            }
          }
          _removeEventListener(t, e) {
            const n = Q(this, t);
            for (const t of n) {
              for (let n = 0; n < t.length; n++) {
                if (t[n].callback == e) {
                  t.splice(n, 1);
                  n--;
                }
              }
            }
          }
        }
        return e;
      }
      [
        "on",
        "once",
        "off",
        "listenTo",
        "stopListening",
        "fire",
        "delegate",
        "stopDelegating",
        "_addEventListener",
        "_removeEventListener",
      ].forEach((t) => {
        q[t] = U.prototype[t];
      });
      function W(t, e) {
        const n = t[F];
        if (n && n[e]) {
          return n[e].emitter;
        }
        return null;
      }
      function G(t, e) {
        if (!t[V]) {
          t[V] = e || E();
        }
      }
      function $(t) {
        return t[V];
      }
      function K(t) {
        if (!t._events) {
          Object.defineProperty(t, "_events", { value: {} });
        }
        return t._events;
      }
      function Y() {
        return { callbacks: [], childEvents: [] };
      }
      function Z(t, e) {
        const n = K(t);
        if (n[e]) {
          return;
        }
        let i = e;
        let o = null;
        const r = [];
        while (i !== "") {
          if (n[i]) {
            break;
          }
          n[i] = Y();
          r.push(n[i]);
          if (o) {
            n[i].childEvents.push(o);
          }
          o = i;
          i = i.substr(0, i.lastIndexOf(":"));
        }
        if (i !== "") {
          for (const t of r) {
            t.callbacks = n[i].callbacks.slice();
          }
          n[i].childEvents.push(o);
        }
      }
      function Q(t, e) {
        const n = K(t)[e];
        if (!n) {
          return [];
        }
        let i = [n.callbacks];
        for (let e = 0; e < n.childEvents.length; e++) {
          const o = Q(t, n.childEvents[e]);
          i = i.concat(o);
        }
        return i;
      }
      function J(t, e) {
        let n;
        if (!t._events || !(n = t._events[e]) || !n.callbacks.length) {
          if (e.indexOf(":") > -1) {
            return J(t, e.substr(0, e.lastIndexOf(":")));
          } else {
            return null;
          }
        }
        return n.callbacks;
      }
      function X(t, e, n) {
        for (let [i, o] of t) {
          if (!o) {
            o = e.name;
          } else if (typeof o == "function") {
            o = o(e.name);
          }
          const t = new y(e.source, o);
          t.path = [...e.path];
          i.fire(t, ...n);
        }
      }
      function tt(t, e, n, i, o) {
        if (e._addEventListener) {
          e._addEventListener(n, i, o);
        } else {
          t._addEventListener.call(e, n, i, o);
        }
      }
      function et(t, e, n, i) {
        if (e._removeEventListener) {
          e._removeEventListener(n, i);
        } else {
          t._removeEventListener.call(e, n, i);
        }
      }
      function nt(t) {
        var e = typeof t;
        return t != null && (e == "object" || e == "function");
      }
      const it = nt;
      const ot = Symbol("observableProperties");
      const rt = Symbol("boundObservables");
      const st = Symbol("boundProperties");
      const at = Symbol("decoratedMethods");
      const ct = Symbol("decoratedOriginal");
      const lt = dt(q());
      function dt(t) {
        if (!t) {
          return lt;
        }
        class e extends t {
          set(t, e) {
            if (it(t)) {
              Object.keys(t).forEach((e) => {
                this.set(e, t[e]);
              }, this);
              return;
            }
            ut(this);
            const n = this[ot];
            if (t in this && !n.has(t)) {
              throw new M("observable-set-cannot-override", this);
            }
            Object.defineProperty(this, t, {
              enumerable: true,
              configurable: true,
              get() {
                return n.get(t);
              },
              set(e) {
                const i = n.get(t);
                let o = this.fire(\`set:\${t}\`, t, e, i);
                if (o === undefined) {
                  o = e;
                }
                if (i !== o || !n.has(t)) {
                  n.set(t, o);
                  this.fire(\`change:\${t}\`, t, o, i);
                }
              },
            });
            this[t] = e;
          }
          bind(...t) {
            if (!t.length || !ft(t)) {
              throw new M("observable-bind-wrong-properties", this);
            }
            if (new Set(t).size !== t.length) {
              throw new M("observable-bind-duplicate-properties", this);
            }
            ut(this);
            const e = this[st];
            t.forEach((t) => {
              if (e.has(t)) {
                throw new M("observable-bind-rebind", this);
              }
            });
            const n = new Map();
            t.forEach((t) => {
              const i = { property: t, to: [] };
              e.set(t, i);
              n.set(t, i);
            });
            return {
              to: ht,
              toMany: mt,
              _observable: this,
              _bindProperties: t,
              _to: [],
              _bindings: n,
            };
          }
          unbind(...t) {
            if (!this[ot]) {
              return;
            }
            const e = this[st];
            const n = this[rt];
            if (t.length) {
              if (!ft(t)) {
                throw new M("observable-unbind-wrong-properties", this);
              }
              t.forEach((t) => {
                const i = e.get(t);
                if (!i) {
                  return;
                }
                i.to.forEach(([t, e]) => {
                  const o = n.get(t);
                  const r = o[e];
                  r.delete(i);
                  if (!r.size) {
                    delete o[e];
                  }
                  if (!Object.keys(o).length) {
                    n.delete(t);
                    this.stopListening(t, "change");
                  }
                });
                e.delete(t);
              });
            } else {
              n.forEach((t, e) => {
                this.stopListening(e, "change");
              });
              n.clear();
              e.clear();
            }
          }
          decorate(t) {
            ut(this);
            const e = this[t];
            if (!e) {
              throw new M("observablemixin-cannot-decorate-undefined", this, {
                object: this,
                methodName: t,
              });
            }
            this.on(t, (t, n) => {
              t.return = e.apply(this, n);
            });
            this[t] = function (...e) {
              return this.fire(t, e);
            };
            this[t][ct] = e;
            if (!this[at]) {
              this[at] = [];
            }
            this[at].push(t);
          }
          stopListening(t, e, n) {
            if (!t && this[at]) {
              for (const t of this[at]) {
                this[t] = this[t][ct];
              }
              delete this[at];
            }
            super.stopListening(t, e, n);
          }
        }
        return e;
      }
      [
        "set",
        "bind",
        "unbind",
        "decorate",
        "on",
        "once",
        "off",
        "listenTo",
        "stopListening",
        "fire",
        "delegate",
        "stopDelegating",
        "_addEventListener",
        "_removeEventListener",
      ].forEach((t) => {
        dt[t] = lt.prototype[t];
      });
      function ut(t) {
        if (t[ot]) {
          return;
        }
        Object.defineProperty(t, ot, { value: new Map() });
        Object.defineProperty(t, rt, { value: new Map() });
        Object.defineProperty(t, st, { value: new Map() });
      }
      function ht(...t) {
        const e = pt(...t);
        const n = Array.from(this._bindings.keys());
        const i = n.length;
        if (!e.callback && e.to.length > 1) {
          throw new M("observable-bind-to-no-callback", this);
        }
        if (i > 1 && e.callback) {
          throw new M("observable-bind-to-extra-callback", this);
        }
        e.to.forEach((t) => {
          if (t.properties.length && t.properties.length !== i) {
            throw new M("observable-bind-to-properties-length", this);
          }
          if (!t.properties.length) {
            t.properties = this._bindProperties;
          }
        });
        this._to = e.to;
        if (e.callback) {
          this._bindings.get(n[0]).callback = e.callback;
        }
        At(this._observable, this._to);
        kt(this);
        this._bindProperties.forEach((t) => {
          wt(this._observable, t);
        });
      }
      function mt(t, e, n) {
        if (this._bindings.size > 1) {
          throw new M("observable-bind-to-many-not-one-binding", this);
        }
        this.to(...gt(t, e), n);
      }
      function gt(t, e) {
        const n = t.map((t) => [t, e]);
        return Array.prototype.concat.apply([], n);
      }
      function ft(t) {
        return t.every((t) => typeof t == "string");
      }
      function pt(...t) {
        if (!t.length) {
          throw new M("observable-bind-to-parse-error", null);
        }
        const e = { to: [] };
        let n;
        if (typeof t[t.length - 1] == "function") {
          e.callback = t.pop();
        }
        t.forEach((t) => {
          if (typeof t == "string") {
            n.properties.push(t);
          } else if (typeof t == "object") {
            n = { observable: t, properties: [] };
            e.to.push(n);
          } else {
            throw new M("observable-bind-to-parse-error", null);
          }
        });
        return e;
      }
      function bt(t, e, n, i) {
        const o = t[rt];
        const r = o.get(n);
        const s = r || {};
        if (!s[i]) {
          s[i] = new Set();
        }
        s[i].add(e);
        if (!r) {
          o.set(n, s);
        }
      }
      function kt(t) {
        let e;
        t._bindings.forEach((n, i) => {
          t._to.forEach((o) => {
            e = o.properties[n.callback ? 0 : t._bindProperties.indexOf(i)];
            n.to.push([o.observable, e]);
            bt(t._observable, n, o.observable, e);
          });
        });
      }
      function wt(t, e) {
        const n = t[st];
        const i = n.get(e);
        let o;
        if (i.callback) {
          o = i.callback.apply(
            t,
            i.to.map((t) => t[0][t[1]])
          );
        } else {
          o = i.to[0];
          o = o[0][o[1]];
        }
        if (Object.prototype.hasOwnProperty.call(t, e)) {
          t[e] = o;
        } else {
          t.set(e, o);
        }
      }
      function At(t, e) {
        e.forEach((e) => {
          const n = t[rt];
          let i;
          if (!n.get(e.observable)) {
            t.listenTo(e.observable, "change", (o, r) => {
              i = n.get(e.observable)[r];
              if (i) {
                i.forEach((e) => {
                  wt(t, e.property);
                });
              }
            });
          }
        });
      }
      class Ct {
        constructor() {
          this._replacedElements = [];
        }
        replace(t, e) {
          this._replacedElements.push({ element: t, newElement: e });
          t.style.display = "none";
          if (e) {
            t.parentNode.insertBefore(e, t.nextSibling);
          }
        }
        restore() {
          this._replacedElements.forEach(({ element: t, newElement: e }) => {
            t.style.display = "";
            if (e) {
              e.remove();
            }
          });
          this._replacedElements = [];
        }
      }
      function _t(t) {
        let e = 0;
        for (const n of t) {
          e++;
        }
        return e;
      }
      function vt(t, e) {
        const n = Math.min(t.length, e.length);
        for (let i = 0; i < n; i++) {
          if (t[i] != e[i]) {
            return i;
          }
        }
        if (t.length == e.length) {
          return "same";
        } else if (t.length < e.length) {
          return "prefix";
        } else {
          return "extension";
        }
      }
      function yt(t) {
        return !!(t && t[Symbol.iterator]);
      }
      var xt =
        typeof global == "object" &&
        global &&
        global.Object === Object &&
        global;
      const Et = xt;
      var Dt =
        typeof self == "object" && self && self.Object === Object && self;
      var St = Et || Dt || Function("return this")();
      const Tt = St;
      var It = Tt.Symbol;
      const Mt = It;
      var Bt = Object.prototype;
      var Lt = Bt.hasOwnProperty;
      var Nt = Bt.toString;
      var zt = Mt ? Mt.toStringTag : undefined;
      function Pt(t) {
        var e = Lt.call(t, zt),
          n = t[zt];
        try {
          t[zt] = undefined;
          var i = true;
        } catch (t) {}
        var o = Nt.call(t);
        if (i) {
          if (e) {
            t[zt] = n;
          } else {
            delete t[zt];
          }
        }
        return o;
      }
      const Rt = Pt;
      var Ot = Object.prototype;
      var jt = Ot.toString;
      function Ft(t) {
        return jt.call(t);
      }
      const Vt = Ft;
      var Ht = "[object Null]",
        Ut = "[object Undefined]";
      var qt = Mt ? Mt.toStringTag : undefined;
      function Wt(t) {
        if (t == null) {
          return t === undefined ? Ut : Ht;
        }
        return qt && qt in Object(t) ? Rt(t) : Vt(t);
      }
      const Gt = Wt;
      var $t = Array.isArray;
      const Kt = $t;
      function Yt(t) {
        return t != null && typeof t == "object";
      }
      const Zt = Yt;
      var Qt = "[object String]";
      function Jt(t) {
        return typeof t == "string" || (!Kt(t) && Zt(t) && Gt(t) == Qt);
      }
      const Xt = Jt;
      function te(t, e, n = {}, i = []) {
        const o = n && n.xmlns;
        const r = o ? t.createElementNS(o, e) : t.createElement(e);
        for (const t in n) {
          r.setAttribute(t, n[t]);
        }
        if (Xt(i) || !yt(i)) {
          i = [i];
        }
        for (let e of i) {
          if (Xt(e)) {
            e = t.createTextNode(e);
          }
          r.appendChild(e);
        }
        return r;
      }
      function ee(t, e) {
        return function (n) {
          return t(e(n));
        };
      }
      const ne = ee;
      var ie = ne(Object.getPrototypeOf, Object);
      const oe = ie;
      var re = "[object Object]";
      var se = Function.prototype,
        ae = Object.prototype;
      var ce = se.toString;
      var le = ae.hasOwnProperty;
      var de = ce.call(Object);
      function ue(t) {
        if (!Zt(t) || Gt(t) != re) {
          return false;
        }
        var e = oe(t);
        if (e === null) {
          return true;
        }
        var n = le.call(e, "constructor") && e.constructor;
        return typeof n == "function" && n instanceof n && ce.call(n) == de;
      }
      const he = ue;
      function me() {
        this.__data__ = [];
        this.size = 0;
      }
      const ge = me;
      function fe(t, e) {
        return t === e || (t !== t && e !== e);
      }
      const pe = fe;
      function be(t, e) {
        var n = t.length;
        while (n--) {
          if (pe(t[n][0], e)) {
            return n;
          }
        }
        return -1;
      }
      const ke = be;
      var we = Array.prototype;
      var Ae = we.splice;
      function Ce(t) {
        var e = this.__data__,
          n = ke(e, t);
        if (n < 0) {
          return false;
        }
        var i = e.length - 1;
        if (n == i) {
          e.pop();
        } else {
          Ae.call(e, n, 1);
        }
        --this.size;
        return true;
      }
      const _e = Ce;
      function ve(t) {
        var e = this.__data__,
          n = ke(e, t);
        return n < 0 ? undefined : e[n][1];
      }
      const ye = ve;
      function xe(t) {
        return ke(this.__data__, t) > -1;
      }
      const Ee = xe;
      function De(t, e) {
        var n = this.__data__,
          i = ke(n, t);
        if (i < 0) {
          ++this.size;
          n.push([t, e]);
        } else {
          n[i][1] = e;
        }
        return this;
      }
      const Se = De;
      function Te(t) {
        var e = -1,
          n = t == null ? 0 : t.length;
        this.clear();
        while (++e < n) {
          var i = t[e];
          this.set(i[0], i[1]);
        }
      }
      Te.prototype.clear = ge;
      Te.prototype["delete"] = _e;
      Te.prototype.get = ye;
      Te.prototype.has = Ee;
      Te.prototype.set = Se;
      const Ie = Te;
      function Me() {
        this.__data__ = new Ie();
        this.size = 0;
      }
      const Be = Me;
      function Le(t) {
        var e = this.__data__,
          n = e["delete"](t);
        this.size = e.size;
        return n;
      }
      const Ne = Le;
      function ze(t) {
        return this.__data__.get(t);
      }
      const Pe = ze;
      function Re(t) {
        return this.__data__.has(t);
      }
      const Oe = Re;
      var je = "[object AsyncFunction]",
        Fe = "[object Function]",
        Ve = "[object GeneratorFunction]",
        He = "[object Proxy]";
      function Ue(t) {
        if (!it(t)) {
          return false;
        }
        var e = Gt(t);
        return e == Fe || e == Ve || e == je || e == He;
      }
      const qe = Ue;
      var We = Tt["__core-js_shared__"];
      const Ge = We;
      var $e = (function () {
        var t = /[^.]+$/.exec((Ge && Ge.keys && Ge.keys.IE_PROTO) || "");
        return t ? "Symbol(src)_1." + t : "";
      })();
      function Ke(t) {
        return !!$e && $e in t;
      }
      const Ye = Ke;
      var Ze = Function.prototype;
      var Qe = Ze.toString;
      function Je(t) {
        if (t != null) {
          try {
            return Qe.call(t);
          } catch (t) {}
          try {
            return t + "";
          } catch (t) {}
        }
        return "";
      }
      const Xe = Je;
      var tn = /[\\\\^$.*+?()[\\]{}|]/g;
      var en = /^\\[object .+?Constructor\\]$/;
      var nn = Function.prototype,
        on = Object.prototype;
      var rn = nn.toString;
      var sn = on.hasOwnProperty;
      var an = RegExp(
        "^" +
          rn
            .call(sn)
            .replace(tn, "\\\\$&")
            .replace(
              /hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,
              "$1.*?"
            ) +
          "$"
      );
      function cn(t) {
        if (!it(t) || Ye(t)) {
          return false;
        }
        var e = qe(t) ? an : en;
        return e.test(Xe(t));
      }
      const ln = cn;
      function dn(t, e) {
        return t == null ? undefined : t[e];
      }
      const un = dn;
      function hn(t, e) {
        var n = un(t, e);
        return ln(n) ? n : undefined;
      }
      const mn = hn;
      var gn = mn(Tt, "Map");
      const fn = gn;
      var pn = mn(Object, "create");
      const bn = pn;
      function kn() {
        this.__data__ = bn ? bn(null) : {};
        this.size = 0;
      }
      const wn = kn;
      function An(t) {
        var e = this.has(t) && delete this.__data__[t];
        this.size -= e ? 1 : 0;
        return e;
      }
      const Cn = An;
      var _n = "__lodash_hash_undefined__";
      var vn = Object.prototype;
      var yn = vn.hasOwnProperty;
      function xn(t) {
        var e = this.__data__;
        if (bn) {
          var n = e[t];
          return n === _n ? undefined : n;
        }
        return yn.call(e, t) ? e[t] : undefined;
      }
      const En = xn;
      var Dn = Object.prototype;
      var Sn = Dn.hasOwnProperty;
      function Tn(t) {
        var e = this.__data__;
        return bn ? e[t] !== undefined : Sn.call(e, t);
      }
      const In = Tn;
      var Mn = "__lodash_hash_undefined__";
      function Bn(t, e) {
        var n = this.__data__;
        this.size += this.has(t) ? 0 : 1;
        n[t] = bn && e === undefined ? Mn : e;
        return this;
      }
      const Ln = Bn;
      function Nn(t) {
        var e = -1,
          n = t == null ? 0 : t.length;
        this.clear();
        while (++e < n) {
          var i = t[e];
          this.set(i[0], i[1]);
        }
      }
      Nn.prototype.clear = wn;
      Nn.prototype["delete"] = Cn;
      Nn.prototype.get = En;
      Nn.prototype.has = In;
      Nn.prototype.set = Ln;
      const zn = Nn;
      function Pn() {
        this.size = 0;
        this.__data__ = {
          hash: new zn(),
          map: new (fn || Ie)(),
          string: new zn(),
        };
      }
      const Rn = Pn;
      function On(t) {
        var e = typeof t;
        return e == "string" || e == "number" || e == "symbol" || e == "boolean"
          ? t !== "__proto__"
          : t === null;
      }
      const jn = On;
      function Fn(t, e) {
        var n = t.__data__;
        return jn(e) ? n[typeof e == "string" ? "string" : "hash"] : n.map;
      }
      const Vn = Fn;
      function Hn(t) {
        var e = Vn(this, t)["delete"](t);
        this.size -= e ? 1 : 0;
        return e;
      }
      const Un = Hn;
      function qn(t) {
        return Vn(this, t).get(t);
      }
      const Wn = qn;
      function Gn(t) {
        return Vn(this, t).has(t);
      }
      const $n = Gn;
      function Kn(t, e) {
        var n = Vn(this, t),
          i = n.size;
        n.set(t, e);
        this.size += n.size == i ? 0 : 1;
        return this;
      }
      const Yn = Kn;
      function Zn(t) {
        var e = -1,
          n = t == null ? 0 : t.length;
        this.clear();
        while (++e < n) {
          var i = t[e];
          this.set(i[0], i[1]);
        }
      }
      Zn.prototype.clear = Rn;
      Zn.prototype["delete"] = Un;
      Zn.prototype.get = Wn;
      Zn.prototype.has = $n;
      Zn.prototype.set = Yn;
      const Qn = Zn;
      var Jn = 200;
      function Xn(t, e) {
        var n = this.__data__;
        if (n instanceof Ie) {
          var i = n.__data__;
          if (!fn || i.length < Jn - 1) {
            i.push([t, e]);
            this.size = ++n.size;
            return this;
          }
          n = this.__data__ = new Qn(i);
        }
        n.set(t, e);
        this.size = n.size;
        return this;
      }
      const ti = Xn;
      function ei(t) {
        var e = (this.__data__ = new Ie(t));
        this.size = e.size;
      }
      ei.prototype.clear = Be;
      ei.prototype["delete"] = Ne;
      ei.prototype.get = Pe;
      ei.prototype.has = Oe;
      ei.prototype.set = ti;
      const ni = ei;
      function ii(t, e) {
        var n = -1,
          i = t == null ? 0 : t.length;
        while (++n < i) {
          if (e(t[n], n, t) === false) {
            break;
          }
        }
        return t;
      }
      const oi = ii;
      var ri = (function () {
        try {
          var t = mn(Object, "defineProperty");
          t({}, "", {});
          return t;
        } catch (t) {}
      })();
      const si = ri;
      function ai(t, e, n) {
        if (e == "__proto__" && si) {
          si(t, e, {
            configurable: true,
            enumerable: true,
            value: n,
            writable: true,
          });
        } else {
          t[e] = n;
        }
      }
      const ci = ai;
      var li = Object.prototype;
      var di = li.hasOwnProperty;
      function ui(t, e, n) {
        var i = t[e];
        if (!(di.call(t, e) && pe(i, n)) || (n === undefined && !(e in t))) {
          ci(t, e, n);
        }
      }
      const hi = ui;
      function mi(t, e, n, i) {
        var o = !n;
        n || (n = {});
        var r = -1,
          s = e.length;
        while (++r < s) {
          var a = e[r];
          var c = i ? i(n[a], t[a], a, n, t) : undefined;
          if (c === undefined) {
            c = t[a];
          }
          if (o) {
            ci(n, a, c);
          } else {
            hi(n, a, c);
          }
        }
        return n;
      }
      const gi = mi;
      function fi(t, e) {
        var n = -1,
          i = Array(t);
        while (++n < t) {
          i[n] = e(n);
        }
        return i;
      }
      const pi = fi;
      var bi = "[object Arguments]";
      function ki(t) {
        return Zt(t) && Gt(t) == bi;
      }
      const wi = ki;
      var Ai = Object.prototype;
      var Ci = Ai.hasOwnProperty;
      var _i = Ai.propertyIsEnumerable;
      var vi = wi(
        (function () {
          return arguments;
        })()
      )
        ? wi
        : function (t) {
            return Zt(t) && Ci.call(t, "callee") && !_i.call(t, "callee");
          };
      const yi = vi;
      function xi() {
        return false;
      }
      const Ei = xi;
      var Di =
        typeof exports == "object" && exports && !exports.nodeType && exports;
      var Si =
        Di && typeof module == "object" && module && !module.nodeType && module;
      var Ti = Si && Si.exports === Di;
      var Ii = Ti ? Tt.Buffer : undefined;
      var Mi = Ii ? Ii.isBuffer : undefined;
      var Bi = Mi || Ei;
      const Li = Bi;
      var Ni = 9007199254740991;
      var zi = /^(?:0|[1-9]\\d*)$/;
      function Pi(t, e) {
        var n = typeof t;
        e = e == null ? Ni : e;
        return (
          !!e &&
          (n == "number" || (n != "symbol" && zi.test(t))) &&
          t > -1 &&
          t % 1 == 0 &&
          t < e
        );
      }
      const Ri = Pi;
      var Oi = 9007199254740991;
      function ji(t) {
        return typeof t == "number" && t > -1 && t % 1 == 0 && t <= Oi;
      }
      const Fi = ji;
      var Vi = "[object Arguments]",
        Hi = "[object Array]",
        Ui = "[object Boolean]",
        qi = "[object Date]",
        Wi = "[object Error]",
        Gi = "[object Function]",
        $i = "[object Map]",
        Ki = "[object Number]",
        Yi = "[object Object]",
        Zi = "[object RegExp]",
        Qi = "[object Set]",
        Ji = "[object String]",
        Xi = "[object WeakMap]";
      var to = "[object ArrayBuffer]",
        eo = "[object DataView]",
        no = "[object Float32Array]",
        io = "[object Float64Array]",
        oo = "[object Int8Array]",
        ro = "[object Int16Array]",
        so = "[object Int32Array]",
        ao = "[object Uint8Array]",
        co = "[object Uint8ClampedArray]",
        lo = "[object Uint16Array]",
        uo = "[object Uint32Array]";
      var ho = {};
      ho[no] =
        ho[io] =
        ho[oo] =
        ho[ro] =
        ho[so] =
        ho[ao] =
        ho[co] =
        ho[lo] =
        ho[uo] =
          true;
      ho[Vi] =
        ho[Hi] =
        ho[to] =
        ho[Ui] =
        ho[eo] =
        ho[qi] =
        ho[Wi] =
        ho[Gi] =
        ho[$i] =
        ho[Ki] =
        ho[Yi] =
        ho[Zi] =
        ho[Qi] =
        ho[Ji] =
        ho[Xi] =
          false;
      function mo(t) {
        return Zt(t) && Fi(t.length) && !!ho[Gt(t)];
      }
      const go = mo;
      function fo(t) {
        return function (e) {
          return t(e);
        };
      }
      const po = fo;
      var bo =
        typeof exports == "object" && exports && !exports.nodeType && exports;
      var ko =
        bo && typeof module == "object" && module && !module.nodeType && module;
      var wo = ko && ko.exports === bo;
      var Ao = wo && Et.process;
      var Co = (function () {
        try {
          var t = ko && ko.require && ko.require("util").types;
          if (t) {
            return t;
          }
          return Ao && Ao.binding && Ao.binding("util");
        } catch (t) {}
      })();
      const _o = Co;
      var vo = _o && _o.isTypedArray;
      var yo = vo ? po(vo) : go;
      const xo = yo;
      var Eo = Object.prototype;
      var Do = Eo.hasOwnProperty;
      function So(t, e) {
        var n = Kt(t),
          i = !n && yi(t),
          o = !n && !i && Li(t),
          r = !n && !i && !o && xo(t),
          s = n || i || o || r,
          a = s ? pi(t.length, String) : [],
          c = a.length;
        for (var l in t) {
          if (
            (e || Do.call(t, l)) &&
            !(
              s &&
              (l == "length" ||
                (o && (l == "offset" || l == "parent")) ||
                (r &&
                  (l == "buffer" || l == "byteLength" || l == "byteOffset")) ||
                Ri(l, c))
            )
          ) {
            a.push(l);
          }
        }
        return a;
      }
      const To = So;
      var Io = Object.prototype;
      function Mo(t) {
        var e = t && t.constructor,
          n = (typeof e == "function" && e.prototype) || Io;
        return t === n;
      }
      const Bo = Mo;
      var Lo = ne(Object.keys, Object);
      const No = Lo;
      var zo = Object.prototype;
      var Po = zo.hasOwnProperty;
      function Ro(t) {
        if (!Bo(t)) {
          return No(t);
        }
        var e = [];
        for (var n in Object(t)) {
          if (Po.call(t, n) && n != "constructor") {
            e.push(n);
          }
        }
        return e;
      }
      const Oo = Ro;
      function jo(t) {
        return t != null && Fi(t.length) && !qe(t);
      }
      const Fo = jo;
      function Vo(t) {
        return Fo(t) ? To(t) : Oo(t);
      }
      const Ho = Vo;
      function Uo(t, e) {
        return t && gi(e, Ho(e), t);
      }
      const qo = Uo;
      function Wo(t) {
        var e = [];
        if (t != null) {
          for (var n in Object(t)) {
            e.push(n);
          }
        }
        return e;
      }
      const Go = Wo;
      var $o = Object.prototype;
      var Ko = $o.hasOwnProperty;
      function Yo(t) {
        if (!it(t)) {
          return Go(t);
        }
        var e = Bo(t),
          n = [];
        for (var i in t) {
          if (!(i == "constructor" && (e || !Ko.call(t, i)))) {
            n.push(i);
          }
        }
        return n;
      }
      const Zo = Yo;
      function Qo(t) {
        return Fo(t) ? To(t, true) : Zo(t);
      }
      const Jo = Qo;
      function Xo(t, e) {
        return t && gi(e, Jo(e), t);
      }
      const tr = Xo;
      var er =
        typeof exports == "object" && exports && !exports.nodeType && exports;
      var nr =
        er && typeof module == "object" && module && !module.nodeType && module;
      var ir = nr && nr.exports === er;
      var or = ir ? Tt.Buffer : undefined,
        rr = or ? or.allocUnsafe : undefined;
      function sr(t, e) {
        if (e) {
          return t.slice();
        }
        var n = t.length,
          i = rr ? rr(n) : new t.constructor(n);
        t.copy(i);
        return i;
      }
      const ar = sr;
      function cr(t, e) {
        var n = -1,
          i = t.length;
        e || (e = Array(i));
        while (++n < i) {
          e[n] = t[n];
        }
        return e;
      }
      const lr = cr;
      function dr(t, e) {
        var n = -1,
          i = t == null ? 0 : t.length,
          o = 0,
          r = [];
        while (++n < i) {
          var s = t[n];
          if (e(s, n, t)) {
            r[o++] = s;
          }
        }
        return r;
      }
      const ur = dr;
      function hr() {
        return [];
      }
      const mr = hr;
      var gr = Object.prototype;
      var fr = gr.propertyIsEnumerable;
      var pr = Object.getOwnPropertySymbols;
      var br = !pr
        ? mr
        : function (t) {
            if (t == null) {
              return [];
            }
            t = Object(t);
            return ur(pr(t), function (e) {
              return fr.call(t, e);
            });
          };
      const kr = br;
      function wr(t, e) {
        return gi(t, kr(t), e);
      }
      const Ar = wr;
      function Cr(t, e) {
        var n = -1,
          i = e.length,
          o = t.length;
        while (++n < i) {
          t[o + n] = e[n];
        }
        return t;
      }
      const _r = Cr;
      var vr = Object.getOwnPropertySymbols;
      var yr = !vr
        ? mr
        : function (t) {
            var e = [];
            while (t) {
              _r(e, kr(t));
              t = oe(t);
            }
            return e;
          };
      const xr = yr;
      function Er(t, e) {
        return gi(t, xr(t), e);
      }
      const Dr = Er;
      function Sr(t, e, n) {
        var i = e(t);
        return Kt(t) ? i : _r(i, n(t));
      }
      const Tr = Sr;
      function Ir(t) {
        return Tr(t, Ho, kr);
      }
      const Mr = Ir;
      function Br(t) {
        return Tr(t, Jo, xr);
      }
      const Lr = Br;
      var Nr = mn(Tt, "DataView");
      const zr = Nr;
      var Pr = mn(Tt, "Promise");
      const Rr = Pr;
      var Or = mn(Tt, "Set");
      const jr = Or;
      var Fr = mn(Tt, "WeakMap");
      const Vr = Fr;
      var Hr = "[object Map]",
        Ur = "[object Object]",
        qr = "[object Promise]",
        Wr = "[object Set]",
        Gr = "[object WeakMap]";
      var $r = "[object DataView]";
      var Kr = Xe(zr),
        Yr = Xe(fn),
        Zr = Xe(Rr),
        Qr = Xe(jr),
        Jr = Xe(Vr);
      var Xr = Gt;
      if (
        (zr && Xr(new zr(new ArrayBuffer(1))) != $r) ||
        (fn && Xr(new fn()) != Hr) ||
        (Rr && Xr(Rr.resolve()) != qr) ||
        (jr && Xr(new jr()) != Wr) ||
        (Vr && Xr(new Vr()) != Gr)
      ) {
        Xr = function (t) {
          var e = Gt(t),
            n = e == Ur ? t.constructor : undefined,
            i = n ? Xe(n) : "";
          if (i) {
            switch (i) {
              case Kr:
                return $r;
              case Yr:
                return Hr;
              case Zr:
                return qr;
              case Qr:
                return Wr;
              case Jr:
                return Gr;
            }
          }
          return e;
        };
      }
      const ts = Xr;
      var es = Object.prototype;
      var ns = es.hasOwnProperty;
      function is(t) {
        var e = t.length,
          n = new t.constructor(e);
        if (e && typeof t[0] == "string" && ns.call(t, "index")) {
          n.index = t.index;
          n.input = t.input;
        }
        return n;
      }
      const os = is;
      var rs = Tt.Uint8Array;
      const ss = rs;
      function as(t) {
        var e = new t.constructor(t.byteLength);
        new ss(e).set(new ss(t));
        return e;
      }
      const cs = as;
      function ls(t, e) {
        var n = e ? cs(t.buffer) : t.buffer;
        return new t.constructor(n, t.byteOffset, t.byteLength);
      }
      const ds = ls;
      var us = /\\w*$/;
      function hs(t) {
        var e = new t.constructor(t.source, us.exec(t));
        e.lastIndex = t.lastIndex;
        return e;
      }
      const ms = hs;
      var gs = Mt ? Mt.prototype : undefined,
        fs = gs ? gs.valueOf : undefined;
      function ps(t) {
        return fs ? Object(fs.call(t)) : {};
      }
      const bs = ps;
      function ks(t, e) {
        var n = e ? cs(t.buffer) : t.buffer;
        return new t.constructor(n, t.byteOffset, t.length);
      }
      const ws = ks;
      var As = "[object Boolean]",
        Cs = "[object Date]",
        _s = "[object Map]",
        vs = "[object Number]",
        ys = "[object RegExp]",
        xs = "[object Set]",
        Es = "[object String]",
        Ds = "[object Symbol]";
      var Ss = "[object ArrayBuffer]",
        Ts = "[object DataView]",
        Is = "[object Float32Array]",
        Ms = "[object Float64Array]",
        Bs = "[object Int8Array]",
        Ls = "[object Int16Array]",
        Ns = "[object Int32Array]",
        zs = "[object Uint8Array]",
        Ps = "[object Uint8ClampedArray]",
        Rs = "[object Uint16Array]",
        Os = "[object Uint32Array]";
      function js(t, e, n) {
        var i = t.constructor;
        switch (e) {
          case Ss:
            return cs(t);
          case As:
          case Cs:
            return new i(+t);
          case Ts:
            return ds(t, n);
          case Is:
          case Ms:
          case Bs:
          case Ls:
          case Ns:
          case zs:
          case Ps:
          case Rs:
          case Os:
            return ws(t, n);
          case _s:
            return new i();
          case vs:
          case Es:
            return new i(t);
          case ys:
            return ms(t);
          case xs:
            return new i();
          case Ds:
            return bs(t);
        }
      }
      const Fs = js;
      var Vs = Object.create;
      var Hs = (function () {
        function t() {}
        return function (e) {
          if (!it(e)) {
            return {};
          }
          if (Vs) {
            return Vs(e);
          }
          t.prototype = e;
          var n = new t();
          t.prototype = undefined;
          return n;
        };
      })();
      const Us = Hs;
      function qs(t) {
        return typeof t.constructor == "function" && !Bo(t) ? Us(oe(t)) : {};
      }
      const Ws = qs;
      var Gs = "[object Map]";
      function $s(t) {
        return Zt(t) && ts(t) == Gs;
      }
      const Ks = $s;
      var Ys = _o && _o.isMap;
      var Zs = Ys ? po(Ys) : Ks;
      const Qs = Zs;
      var Js = "[object Set]";
      function Xs(t) {
        return Zt(t) && ts(t) == Js;
      }
      const ta = Xs;
      var ea = _o && _o.isSet;
      var na = ea ? po(ea) : ta;
      const ia = na;
      var oa = 1,
        ra = 2,
        sa = 4;
      var aa = "[object Arguments]",
        ca = "[object Array]",
        la = "[object Boolean]",
        da = "[object Date]",
        ua = "[object Error]",
        ha = "[object Function]",
        ma = "[object GeneratorFunction]",
        ga = "[object Map]",
        fa = "[object Number]",
        pa = "[object Object]",
        ba = "[object RegExp]",
        ka = "[object Set]",
        wa = "[object String]",
        Aa = "[object Symbol]",
        Ca = "[object WeakMap]";
      var _a = "[object ArrayBuffer]",
        va = "[object DataView]",
        ya = "[object Float32Array]",
        xa = "[object Float64Array]",
        Ea = "[object Int8Array]",
        Da = "[object Int16Array]",
        Sa = "[object Int32Array]",
        Ta = "[object Uint8Array]",
        Ia = "[object Uint8ClampedArray]",
        Ma = "[object Uint16Array]",
        Ba = "[object Uint32Array]";
      var La = {};
      La[aa] =
        La[ca] =
        La[_a] =
        La[va] =
        La[la] =
        La[da] =
        La[ya] =
        La[xa] =
        La[Ea] =
        La[Da] =
        La[Sa] =
        La[ga] =
        La[fa] =
        La[pa] =
        La[ba] =
        La[ka] =
        La[wa] =
        La[Aa] =
        La[Ta] =
        La[Ia] =
        La[Ma] =
        La[Ba] =
          true;
      La[ua] = La[ha] = La[Ca] = false;
      function Na(t, e, n, i, o, r) {
        var s,
          a = e & oa,
          c = e & ra,
          l = e & sa;
        if (n) {
          s = o ? n(t, i, o, r) : n(t);
        }
        if (s !== undefined) {
          return s;
        }
        if (!it(t)) {
          return t;
        }
        var d = Kt(t);
        if (d) {
          s = os(t);
          if (!a) {
            return lr(t, s);
          }
        } else {
          var u = ts(t),
            h = u == ha || u == ma;
          if (Li(t)) {
            return ar(t, a);
          }
          if (u == pa || u == aa || (h && !o)) {
            s = c || h ? {} : Ws(t);
            if (!a) {
              return c ? Dr(t, tr(s, t)) : Ar(t, qo(s, t));
            }
          } else {
            if (!La[u]) {
              return o ? t : {};
            }
            s = Fs(t, u, a);
          }
        }
        r || (r = new ni());
        var m = r.get(t);
        if (m) {
          return m;
        }
        r.set(t, s);
        if (ia(t)) {
          t.forEach(function (i) {
            s.add(Na(i, e, n, i, t, r));
          });
        } else if (Qs(t)) {
          t.forEach(function (i, o) {
            s.set(o, Na(i, e, n, o, t, r));
          });
        }
        var g = l ? (c ? Lr : Mr) : c ? Jo : Ho;
        var f = d ? undefined : g(t);
        oi(f || t, function (i, o) {
          if (f) {
            o = i;
            i = t[o];
          }
          hi(s, o, Na(i, e, n, o, t, r));
        });
        return s;
      }
      const za = Na;
      var Pa = 1,
        Ra = 4;
      function Oa(t, e) {
        e = typeof e == "function" ? e : undefined;
        return za(t, Pa | Ra, e);
      }
      const ja = Oa;
      function Fa(t) {
        return Zt(t) && t.nodeType === 1 && !he(t);
      }
      const Va = Fa;
      class Ha {
        constructor(t, e) {
          this._config = {};
          if (e) {
            this.define(Ua(e));
          }
          if (t) {
            this._setObjectToTarget(this._config, t);
          }
        }
        set(t, e) {
          this._setToTarget(this._config, t, e);
        }
        define(t, e) {
          const n = true;
          this._setToTarget(this._config, t, e, n);
        }
        get(t) {
          return this._getFromSource(this._config, t);
        }
        *names() {
          for (const t of Object.keys(this._config)) {
            yield t;
          }
        }
        _setToTarget(t, e, n, i = false) {
          if (he(e)) {
            this._setObjectToTarget(t, e, i);
            return;
          }
          const o = e.split(".");
          e = o.pop();
          for (const e of o) {
            if (!he(t[e])) {
              t[e] = {};
            }
            t = t[e];
          }
          if (he(n)) {
            if (!he(t[e])) {
              t[e] = {};
            }
            t = t[e];
            this._setObjectToTarget(t, n, i);
            return;
          }
          if (i && typeof t[e] != "undefined") {
            return;
          }
          t[e] = n;
        }
        _getFromSource(t, e) {
          const n = e.split(".");
          e = n.pop();
          for (const e of n) {
            if (!he(t[e])) {
              t = null;
              break;
            }
            t = t[e];
          }
          return t ? Ua(t[e]) : undefined;
        }
        _setObjectToTarget(t, e, n) {
          Object.keys(e).forEach((i) => {
            this._setToTarget(t, i, e[i], n);
          });
        }
      }
      function Ua(t) {
        return ja(t, qa);
      }
      function qa(t) {
        return Va(t) ? t : undefined;
      }
      function Wa(t) {
        if (t) {
          if (t.defaultView) {
            return t instanceof t.defaultView.Document;
          } else if (t.ownerDocument && t.ownerDocument.defaultView) {
            return t instanceof t.ownerDocument.defaultView.Node;
          }
        }
        return false;
      }
      function Ga(t) {
        const e = Object.prototype.toString.apply(t);
        if (e == "[object Window]") {
          return true;
        }
        if (e == "[object global]") {
          return true;
        }
        return false;
      }
      const $a = Ka(q());
      function Ka(t) {
        if (!t) {
          return $a;
        }
        class e extends t {
          listenTo(t, e, n, i = {}) {
            if (Wa(t) || Ga(t)) {
              const o = { capture: !!i.useCapture, passive: !!i.usePassive };
              const r = this._getProxyEmitter(t, o) || new Ya(t, o);
              this.listenTo(r, e, n, i);
            } else {
              super.listenTo(t, e, n, i);
            }
          }
          stopListening(t, e, n) {
            if (Wa(t) || Ga(t)) {
              const i = this._getAllProxyEmitters(t);
              for (const t of i) {
                this.stopListening(t, e, n);
              }
            } else {
              super.stopListening(t, e, n);
            }
          }
          _getProxyEmitter(t, e) {
            return W(this, Qa(t, e));
          }
          _getAllProxyEmitters(t) {
            return [
              { capture: false, passive: false },
              { capture: false, passive: true },
              { capture: true, passive: false },
              { capture: true, passive: true },
            ]
              .map((e) => this._getProxyEmitter(t, e))
              .filter((t) => !!t);
          }
        }
        return e;
      }
      [
        "_getProxyEmitter",
        "_getAllProxyEmitters",
        "on",
        "once",
        "off",
        "listenTo",
        "stopListening",
        "fire",
        "delegate",
        "stopDelegating",
        "_addEventListener",
        "_removeEventListener",
      ].forEach((t) => {
        Ka[t] = $a.prototype[t];
      });
      class Ya extends q() {
        constructor(t, e) {
          super();
          G(this, Qa(t, e));
          this._domNode = t;
          this._options = e;
        }
        attach(t) {
          if (this._domListeners && this._domListeners[t]) {
            return;
          }
          const e = this._createDomListener(t);
          this._domNode.addEventListener(t, e, this._options);
          if (!this._domListeners) {
            this._domListeners = {};
          }
          this._domListeners[t] = e;
        }
        detach(t) {
          let e;
          if (
            this._domListeners[t] &&
            (!(e = this._events[t]) || !e.callbacks.length)
          ) {
            this._domListeners[t].removeListener();
          }
        }
        _addEventListener(t, e, n) {
          this.attach(t);
          q().prototype._addEventListener.call(this, t, e, n);
        }
        _removeEventListener(t, e) {
          q().prototype._removeEventListener.call(this, t, e);
          this.detach(t);
        }
        _createDomListener(t) {
          const e = (e) => {
            this.fire(t, e);
          };
          e.removeListener = () => {
            this._domNode.removeEventListener(t, e, this._options);
            delete this._domListeners[t];
          };
          return e;
        }
      }
      function Za(t) {
        return t["data-ck-expando"] || (t["data-ck-expando"] = E());
      }
      function Qa(t, e) {
        let n = Za(t);
        for (const t of Object.keys(e).sort()) {
          if (e[t]) {
            n += "-" + t;
          }
        }
        return n;
      }
      let Ja;
      try {
        Ja = { window, document };
      } catch (t) {
        Ja = { window: {}, document: {} };
      }
      const Xa = Ja;
      function tc(t) {
        const e = [];
        let n = t;
        while (n && n.nodeType != Node.DOCUMENT_NODE) {
          e.unshift(n);
          n = n.parentNode;
        }
        return e;
      }
      function ec(t) {
        if (t instanceof HTMLTextAreaElement) {
          return t.value;
        }
        return t.innerHTML;
      }
      function nc(t) {
        return Object.prototype.toString.call(t) == "[object Text]";
      }
      function ic(t) {
        return Object.prototype.toString.apply(t) == "[object Range]";
      }
      function oc(t) {
        const e = t.ownerDocument.defaultView.getComputedStyle(t);
        return {
          top: parseInt(e.borderTopWidth, 10),
          right: parseInt(e.borderRightWidth, 10),
          bottom: parseInt(e.borderBottomWidth, 10),
          left: parseInt(e.borderLeftWidth, 10),
        };
      }
      const rc = ["top", "right", "bottom", "left", "width", "height"];
      class sc {
        constructor(t) {
          const e = ic(t);
          Object.defineProperty(this, "_source", {
            value: t._source || t,
            writable: true,
            enumerable: false,
          });
          if (lc(t) || e) {
            if (e) {
              const e = sc.getDomRangeRects(t);
              ac(this, sc.getBoundingRect(e));
            } else {
              ac(this, t.getBoundingClientRect());
            }
          } else if (Ga(t)) {
            const { innerWidth: e, innerHeight: n } = t;
            ac(this, {
              top: 0,
              right: e,
              bottom: n,
              left: 0,
              width: e,
              height: n,
            });
          } else {
            ac(this, t);
          }
        }
        clone() {
          return new sc(this);
        }
        moveTo(t, e) {
          this.top = e;
          this.right = t + this.width;
          this.bottom = e + this.height;
          this.left = t;
          return this;
        }
        moveBy(t, e) {
          this.top += e;
          this.right += t;
          this.left += t;
          this.bottom += e;
          return this;
        }
        getIntersection(t) {
          const e = {
            top: Math.max(this.top, t.top),
            right: Math.min(this.right, t.right),
            bottom: Math.min(this.bottom, t.bottom),
            left: Math.max(this.left, t.left),
            width: 0,
            height: 0,
          };
          e.width = e.right - e.left;
          e.height = e.bottom - e.top;
          if (e.width < 0 || e.height < 0) {
            return null;
          } else {
            return new sc(e);
          }
        }
        getIntersectionArea(t) {
          const e = this.getIntersection(t);
          if (e) {
            return e.getArea();
          } else {
            return 0;
          }
        }
        getArea() {
          return this.width * this.height;
        }
        getVisible() {
          const t = this._source;
          let e = this.clone();
          if (!cc(t)) {
            let n = t.parentNode || t.commonAncestorContainer;
            while (n && !cc(n)) {
              const t = new sc(n);
              const i = e.getIntersection(t);
              if (i) {
                if (i.getArea() < e.getArea()) {
                  e = i;
                }
              } else {
                return null;
              }
              n = n.parentNode;
            }
          }
          return e;
        }
        isEqual(t) {
          for (const e of rc) {
            if (this[e] !== t[e]) {
              return false;
            }
          }
          return true;
        }
        contains(t) {
          const e = this.getIntersection(t);
          return !!(e && e.isEqual(t));
        }
        excludeScrollbarsAndBorders() {
          const t = this._source;
          let e, n, i;
          if (Ga(t)) {
            e = t.innerWidth - t.document.documentElement.clientWidth;
            n = t.innerHeight - t.document.documentElement.clientHeight;
            i = t.getComputedStyle(t.document.documentElement).direction;
          } else {
            const o = oc(t);
            e = t.offsetWidth - t.clientWidth - o.left - o.right;
            n = t.offsetHeight - t.clientHeight - o.top - o.bottom;
            i = t.ownerDocument.defaultView.getComputedStyle(t).direction;
            this.left += o.left;
            this.top += o.top;
            this.right -= o.right;
            this.bottom -= o.bottom;
            this.width = this.right - this.left;
            this.height = this.bottom - this.top;
          }
          this.width -= e;
          if (i === "ltr") {
            this.right -= e;
          } else {
            this.left += e;
          }
          this.height -= n;
          this.bottom -= n;
          return this;
        }
        static getDomRangeRects(t) {
          const e = [];
          const n = Array.from(t.getClientRects());
          if (n.length) {
            for (const t of n) {
              e.push(new sc(t));
            }
          } else {
            let n = t.startContainer;
            if (nc(n)) {
              n = n.parentNode;
            }
            const i = new sc(n.getBoundingClientRect());
            i.right = i.left;
            i.width = 0;
            e.push(i);
          }
          return e;
        }
        static getBoundingRect(t) {
          const e = {
            left: Number.POSITIVE_INFINITY,
            top: Number.POSITIVE_INFINITY,
            right: Number.NEGATIVE_INFINITY,
            bottom: Number.NEGATIVE_INFINITY,
            width: 0,
            height: 0,
          };
          let n = 0;
          for (const i of t) {
            n++;
            e.left = Math.min(e.left, i.left);
            e.top = Math.min(e.top, i.top);
            e.right = Math.max(e.right, i.right);
            e.bottom = Math.max(e.bottom, i.bottom);
          }
          if (n == 0) {
            return null;
          }
          e.width = e.right - e.left;
          e.height = e.bottom - e.top;
          return new sc(e);
        }
      }
      function ac(t, e) {
        for (const n of rc) {
          t[n] = e[n];
        }
      }
      function cc(t) {
        if (!lc(t)) {
          return false;
        }
        return t === t.ownerDocument.body;
      }
      function lc(t) {
        return (
          t !== null &&
          typeof t === "object" &&
          t.nodeType === 1 &&
          typeof t.getBoundingClientRect === "function"
        );
      }
      class dc {
        constructor(t, e) {
          if (!dc._observerInstance) {
            dc._createObserver();
          }
          this._element = t;
          this._callback = e;
          dc._addElementCallback(t, e);
          dc._observerInstance.observe(t);
        }
        destroy() {
          dc._deleteElementCallback(this._element, this._callback);
        }
        static _addElementCallback(t, e) {
          if (!dc._elementCallbacks) {
            dc._elementCallbacks = new Map();
          }
          let n = dc._elementCallbacks.get(t);
          if (!n) {
            n = new Set();
            dc._elementCallbacks.set(t, n);
          }
          n.add(e);
        }
        static _deleteElementCallback(t, e) {
          const n = dc._getElementCallbacks(t);
          if (n) {
            n.delete(e);
            if (!n.size) {
              dc._elementCallbacks.delete(t);
              dc._observerInstance.unobserve(t);
            }
          }
          if (dc._elementCallbacks && !dc._elementCallbacks.size) {
            dc._observerInstance = null;
            dc._elementCallbacks = null;
          }
        }
        static _getElementCallbacks(t) {
          if (!dc._elementCallbacks) {
            return null;
          }
          return dc._elementCallbacks.get(t);
        }
        static _createObserver() {
          dc._observerInstance = new Xa.window.ResizeObserver((t) => {
            for (const e of t) {
              const t = dc._getElementCallbacks(e.target);
              if (t) {
                for (const n of t) {
                  n(e);
                }
              }
            }
          });
        }
      }
      dc._observerInstance = null;
      dc._elementCallbacks = null;
      function uc(t, e) {
        if (t instanceof HTMLTextAreaElement) {
          t.value = e;
        }
        t.innerHTML = e;
      }
      function hc(t) {
        return (e) => e + t;
      }
      function mc(t) {
        let e = 0;
        while (t.previousSibling) {
          t = t.previousSibling;
          e++;
        }
        return e;
      }
      function gc(t, e, n) {
        t.insertBefore(n, t.childNodes[e] || null);
      }
      function fc(t) {
        return t && t.nodeType === Node.COMMENT_NODE;
      }
      function pc(t) {
        return !!(t && t.getClientRects && t.getClientRects().length);
      }
      function bc(t) {
        if (!t || !t.parentNode) {
          return null;
        }
        if (t.offsetParent === Xa.document.body) {
          return null;
        }
        return t.offsetParent;
      }
      function kc({
        element: t,
        target: e,
        positions: n,
        limiter: i,
        fitInViewport: o,
        viewportOffsetConfig: r,
      }) {
        if (qe(e)) {
          e = e();
        }
        if (qe(i)) {
          i = i();
        }
        const s = bc(t);
        const a = new sc(t);
        const c = new sc(e);
        let l;
        const d = (o && wc(r)) || null;
        const u = {
          targetRect: c,
          elementRect: a,
          positionedElementAncestor: s,
          viewportRect: d,
        };
        if (!i && !o) {
          l = new vc(n[0], u);
        } else {
          const t = i && new sc(i).getVisible();
          Object.assign(u, { limiterRect: t, viewportRect: d });
          l = Ac(n, u) || new vc(n[0], u);
        }
        return l;
      }
      function wc(t) {
        t = Object.assign({ top: 0, bottom: 0, left: 0, right: 0 }, t);
        const e = new sc(Xa.window);
        e.top += t.top;
        e.height -= t.top;
        e.bottom -= t.bottom;
        e.height -= t.bottom;
        return e;
      }
      function Ac(t, e) {
        const { elementRect: n } = e;
        const i = n.getArea();
        const o = t.map((t) => new vc(t, e)).filter((t) => !!t.name);
        let r = 0;
        let s = null;
        for (const t of o) {
          const { limiterIntersectionArea: e, viewportIntersectionArea: n } = t;
          if (e === i) {
            return t;
          }
          const o = n ** 2 + e ** 2;
          if (o > r) {
            r = o;
            s = t;
          }
        }
        return s;
      }
      function Cc(t, e) {
        const n = _c(new sc(e));
        const i = oc(e);
        let o = 0;
        let r = 0;
        o -= n.left;
        r -= n.top;
        o += e.scrollLeft;
        r += e.scrollTop;
        o -= i.left;
        r -= i.top;
        t.moveBy(o, r);
      }
      function _c(t) {
        const { scrollX: e, scrollY: n } = Xa.window;
        return t.clone().moveBy(e, n);
      }
      class vc {
        constructor(t, e) {
          const n = t(e.targetRect, e.elementRect, e.viewportRect);
          if (!n) {
            return;
          }
          const { left: i, top: o, name: r, config: s } = n;
          this.name = r;
          this.config = s;
          this._positioningFunctionCorrdinates = { left: i, top: o };
          this._options = e;
        }
        get left() {
          return this._absoluteRect.left;
        }
        get top() {
          return this._absoluteRect.top;
        }
        get limiterIntersectionArea() {
          const t = this._options.limiterRect;
          if (t) {
            const e = this._options.viewportRect;
            if (e) {
              const n = t.getIntersection(e);
              if (n) {
                return n.getIntersectionArea(this._rect);
              }
            } else {
              return t.getIntersectionArea(this._rect);
            }
          }
          return 0;
        }
        get viewportIntersectionArea() {
          const t = this._options.viewportRect;
          if (t) {
            return t.getIntersectionArea(this._rect);
          }
          return 0;
        }
        get _rect() {
          if (this._cachedRect) {
            return this._cachedRect;
          }
          this._cachedRect = this._options.elementRect
            .clone()
            .moveTo(
              this._positioningFunctionCorrdinates.left,
              this._positioningFunctionCorrdinates.top
            );
          return this._cachedRect;
        }
        get _absoluteRect() {
          if (this._cachedAbsoluteRect) {
            return this._cachedAbsoluteRect;
          }
          this._cachedAbsoluteRect = _c(this._rect);
          if (this._options.positionedElementAncestor) {
            Cc(
              this._cachedAbsoluteRect,
              this._options.positionedElementAncestor
            );
          }
          return this._cachedAbsoluteRect;
        }
      }
      function yc(t) {
        const e = t.parentNode;
        if (e) {
          e.removeChild(t);
        }
      }
      function xc({ target: t, viewportOffset: e = 0 }) {
        const n = Lc(t);
        let i = n;
        let o = null;
        while (i) {
          let r;
          if (i == n) {
            r = Nc(t);
          } else {
            r = Nc(o);
          }
          Sc(r, () => zc(t, i));
          const s = zc(t, i);
          Dc(i, s, e);
          if (i.parent != i) {
            o = i.frameElement;
            i = i.parent;
            if (!o) {
              return;
            }
          } else {
            i = null;
          }
        }
      }
      function Ec(t) {
        const e = Nc(t);
        Sc(e, () => new Rect(t));
      }
      function Dc(t, e, n) {
        const i = e.clone().moveBy(0, n);
        const o = e.clone().moveBy(0, -n);
        const r = new sc(t).excludeScrollbarsAndBorders();
        const s = [o, i];
        if (!s.every((t) => r.contains(t))) {
          let { scrollX: s, scrollY: a } = t;
          if (Ic(o, r)) {
            a -= r.top - e.top + n;
          } else if (Tc(i, r)) {
            a += e.bottom - r.bottom + n;
          }
          if (Mc(e, r)) {
            s -= r.left - e.left + n;
          } else if (Bc(e, r)) {
            s += e.right - r.right + n;
          }
          t.scrollTo(s, a);
        }
      }
      function Sc(t, e) {
        const n = Lc(t);
        let i, o;
        while (t != n.document.body) {
          o = e();
          i = new sc(t).excludeScrollbarsAndBorders();
          if (!i.contains(o)) {
            if (Ic(o, i)) {
              t.scrollTop -= i.top - o.top;
            } else if (Tc(o, i)) {
              t.scrollTop += o.bottom - i.bottom;
            }
            if (Mc(o, i)) {
              t.scrollLeft -= i.left - o.left;
            } else if (Bc(o, i)) {
              t.scrollLeft += o.right - i.right;
            }
          }
          t = t.parentNode;
        }
      }
      function Tc(t, e) {
        return t.bottom > e.bottom;
      }
      function Ic(t, e) {
        return t.top < e.top;
      }
      function Mc(t, e) {
        return t.left < e.left;
      }
      function Bc(t, e) {
        return t.right > e.right;
      }
      function Lc(t) {
        if (ic(t)) {
          return t.startContainer.ownerDocument.defaultView;
        } else {
          return t.ownerDocument.defaultView;
        }
      }
      function Nc(t) {
        if (ic(t)) {
          let e = t.commonAncestorContainer;
          if (nc(e)) {
            e = e.parentNode;
          }
          return e;
        } else {
          return t.parentNode;
        }
      }
      function zc(t, e) {
        const n = Lc(t);
        const i = new sc(t);
        if (n === e) {
          return i;
        } else {
          let t = n;
          while (t != e) {
            const e = t.frameElement;
            const n = new sc(e).excludeScrollbarsAndBorders();
            i.moveBy(n.left, n.top);
            t = t.parent;
          }
        }
        return i;
      }
      const Pc = { ctrl: "\u2303", cmd: "\u2318", alt: "\u2325", shift: "\u21E7" };
      const Rc = { ctrl: "Ctrl+", alt: "Alt+", shift: "Shift+" };
      const Oc = $c();
      const jc = Object.fromEntries(
        Object.entries(Oc).map(([t, e]) => [
          e,
          t.charAt(0).toUpperCase() + t.slice(1),
        ])
      );
      function Fc(t) {
        let e;
        if (typeof t == "string") {
          e = Oc[t.toLowerCase()];
          if (!e) {
            throw new M("keyboard-unknown-key", null, { key: t });
          }
        } else {
          e =
            t.keyCode +
            (t.altKey ? Oc.alt : 0) +
            (t.ctrlKey ? Oc.ctrl : 0) +
            (t.shiftKey ? Oc.shift : 0) +
            (t.metaKey ? Oc.cmd : 0);
        }
        return e;
      }
      function Vc(t) {
        if (typeof t == "string") {
          t = Kc(t);
        }
        return t
          .map((t) => (typeof t == "string" ? Wc(t) : t))
          .reduce((t, e) => e + t, 0);
      }
      function Hc(t) {
        let e = Vc(t);
        const n = Object.entries(r.isMac ? Pc : Rc);
        const i = n.reduce((t, [n, i]) => {
          if ((e & Oc[n]) != 0) {
            e &= ~Oc[n];
            t += i;
          }
          return t;
        }, "");
        return i + (e ? jc[e] : "");
      }
      function Uc(t) {
        return (
          t == Oc.arrowright ||
          t == Oc.arrowleft ||
          t == Oc.arrowup ||
          t == Oc.arrowdown
        );
      }
      function qc(t, e) {
        const n = e === "ltr";
        switch (t) {
          case Oc.arrowleft:
            return n ? "left" : "right";
          case Oc.arrowright:
            return n ? "right" : "left";
          case Oc.arrowup:
            return "up";
          case Oc.arrowdown:
            return "down";
        }
      }
      function Wc(t) {
        if (t.endsWith("!")) {
          return Fc(t.slice(0, -1));
        }
        const e = Fc(t);
        return r.isMac && e == Oc.ctrl ? Oc.cmd : e;
      }
      function Gc(t, e) {
        const n = qc(t, e);
        return n === "down" || n === "right";
      }
      function $c() {
        const t = {
          arrowleft: 37,
          arrowup: 38,
          arrowright: 39,
          arrowdown: 40,
          backspace: 8,
          delete: 46,
          enter: 13,
          space: 32,
          esc: 27,
          tab: 9,
          ctrl: 1114112,
          shift: 2228224,
          alt: 4456448,
          cmd: 8912896,
        };
        for (let e = 65; e <= 90; e++) {
          const n = String.fromCharCode(e);
          t[n.toLowerCase()] = e;
        }
        for (let e = 48; e <= 57; e++) {
          t[e - 48] = e;
        }
        for (let e = 112; e <= 123; e++) {
          t["f" + (e - 111)] = e;
        }
        for (const e of "\`-=[];',./\\\\") {
          t[e] = e.charCodeAt(0);
        }
        return t;
      }
      function Kc(t) {
        return t.split("+").map((t) => t.trim());
      }
      function Yc(t) {
        return Array.isArray(t) ? t : [t];
      }
      if (!Xa.window.CKEDITOR_TRANSLATIONS) {
        Xa.window.CKEDITOR_TRANSLATIONS = {};
      }
      function Zc(t, e, n) {
        if (!global.window.CKEDITOR_TRANSLATIONS[t]) {
          global.window.CKEDITOR_TRANSLATIONS[t] = {};
        }
        const i = global.window.CKEDITOR_TRANSLATIONS[t];
        i.dictionary = i.dictionary || {};
        i.getPluralForm = n || i.getPluralForm;
        Object.assign(i.dictionary, e);
      }
      function Qc(t, e, n = 1) {
        if (typeof n !== "number") {
          throw new M("translation-service-quantity-not-a-number", null, {
            quantity: n,
          });
        }
        const i = tl();
        if (i === 1) {
          t = Object.keys(Xa.window.CKEDITOR_TRANSLATIONS)[0];
        }
        const o = e.id || e.string;
        if (i === 0 || !Xc(t, o)) {
          if (n !== 1) {
            return e.plural;
          }
          return e.string;
        }
        const r = Xa.window.CKEDITOR_TRANSLATIONS[t].dictionary;
        const s =
          Xa.window.CKEDITOR_TRANSLATIONS[t].getPluralForm ||
          ((t) => (t === 1 ? 0 : 1));
        const a = r[o];
        if (typeof a === "string") {
          return a;
        }
        const c = Number(s(n));
        return a[c];
      }
      function Jc() {
        global.window.CKEDITOR_TRANSLATIONS = {};
      }
      function Xc(t, e) {
        return (
          !!Xa.window.CKEDITOR_TRANSLATIONS[t] &&
          !!Xa.window.CKEDITOR_TRANSLATIONS[t].dictionary[e]
        );
      }
      function tl() {
        return Object.keys(Xa.window.CKEDITOR_TRANSLATIONS).length;
      }
      const el = [
        "ar",
        "ara",
        "fa",
        "per",
        "fas",
        "he",
        "heb",
        "ku",
        "kur",
        "ug",
        "uig",
      ];
      function nl(t) {
        return el.includes(t) ? "rtl" : "ltr";
      }
      class il {
        constructor({ uiLanguage: t = "en", contentLanguage: e } = {}) {
          this.uiLanguage = t;
          this.contentLanguage = e || this.uiLanguage;
          this.uiLanguageDirection = nl(this.uiLanguage);
          this.contentLanguageDirection = nl(this.contentLanguage);
          this.t = (t, e) => this._t(t, e);
        }
        get language() {
          console.warn(
            "locale-deprecated-language-property: " +
              "The Locale#language property has been deprecated and will be removed in the near future. " +
              "Please use #uiLanguage and #contentLanguage properties instead."
          );
          return this.uiLanguage;
        }
        _t(t, e = []) {
          e = Yc(e);
          if (typeof t === "string") {
            t = { string: t };
          }
          const n = !!t.plural;
          const i = n ? e[0] : 1;
          const o = Qc(this.uiLanguage, t, i);
          return ol(o, e);
        }
      }
      function ol(t, e) {
        return t.replace(/%(\\d+)/g, (t, n) => (n < e.length ? e[n] : t));
      }
      class rl extends q() {
        constructor(t = {}, e = {}) {
          super();
          const n = yt(t);
          if (!n) {
            e = t;
          }
          this._items = [];
          this._itemMap = new Map();
          this._idProperty = e.idProperty || "id";
          this._bindToExternalToInternalMap = new WeakMap();
          this._bindToInternalToExternalMap = new WeakMap();
          this._skippedIndexesFromExternal = [];
          if (n) {
            for (const e of t) {
              this._items.push(e);
              this._itemMap.set(this._getItemIdBeforeAdding(e), e);
            }
          }
        }
        get length() {
          return this._items.length;
        }
        get first() {
          return this._items[0] || null;
        }
        get last() {
          return this._items[this.length - 1] || null;
        }
        add(t, e) {
          return this.addMany([t], e);
        }
        addMany(t, e) {
          if (e === undefined) {
            e = this._items.length;
          } else if (e > this._items.length || e < 0) {
            throw new M("collection-add-item-invalid-index", this);
          }
          let n = 0;
          for (const i of t) {
            const t = this._getItemIdBeforeAdding(i);
            const o = e + n;
            this._items.splice(o, 0, i);
            this._itemMap.set(t, i);
            this.fire("add", i, o);
            n++;
          }
          this.fire("change", { added: t, removed: [], index: e });
          return this;
        }
        get(t) {
          let e;
          if (typeof t == "string") {
            e = this._itemMap.get(t);
          } else if (typeof t == "number") {
            e = this._items[t];
          } else {
            throw new M("collection-get-invalid-arg", this);
          }
          return e || null;
        }
        has(t) {
          if (typeof t == "string") {
            return this._itemMap.has(t);
          } else {
            const e = this._idProperty;
            const n = t[e];
            return n && this._itemMap.has(n);
          }
        }
        getIndex(t) {
          let e;
          if (typeof t == "string") {
            e = this._itemMap.get(t);
          } else {
            e = t;
          }
          return e ? this._items.indexOf(e) : -1;
        }
        remove(t) {
          const [e, n] = this._remove(t);
          this.fire("change", { added: [], removed: [e], index: n });
          return e;
        }
        map(t, e) {
          return this._items.map(t, e);
        }
        find(t, e) {
          return this._items.find(t, e);
        }
        filter(t, e) {
          return this._items.filter(t, e);
        }
        clear() {
          if (this._bindToCollection) {
            this.stopListening(this._bindToCollection);
            this._bindToCollection = null;
          }
          const t = Array.from(this._items);
          while (this.length) {
            this._remove(0);
          }
          this.fire("change", { added: [], removed: t, index: 0 });
        }
        bindTo(t) {
          if (this._bindToCollection) {
            throw new M("collection-bind-to-rebind", this);
          }
          this._bindToCollection = t;
          return {
            as: (t) => {
              this._setUpBindToBinding((e) => new t(e));
            },
            using: (t) => {
              if (typeof t == "function") {
                this._setUpBindToBinding(t);
              } else {
                this._setUpBindToBinding((e) => e[t]);
              }
            },
          };
        }
        _setUpBindToBinding(t) {
          const e = this._bindToCollection;
          const n = (n, i, o) => {
            const r = e._bindToCollection == this;
            const s = e._bindToInternalToExternalMap.get(i);
            if (r && s) {
              this._bindToExternalToInternalMap.set(i, s);
              this._bindToInternalToExternalMap.set(s, i);
            } else {
              const n = t(i);
              if (!n) {
                this._skippedIndexesFromExternal.push(o);
                return;
              }
              let r = o;
              for (const t of this._skippedIndexesFromExternal) {
                if (o > t) {
                  r--;
                }
              }
              for (const t of e._skippedIndexesFromExternal) {
                if (r >= t) {
                  r++;
                }
              }
              this._bindToExternalToInternalMap.set(i, n);
              this._bindToInternalToExternalMap.set(n, i);
              this.add(n, r);
              for (let t = 0; t < e._skippedIndexesFromExternal.length; t++) {
                if (r <= e._skippedIndexesFromExternal[t]) {
                  e._skippedIndexesFromExternal[t]++;
                }
              }
            }
          };
          for (const t of e) {
            n(null, t, e.getIndex(t));
          }
          this.listenTo(e, "add", n);
          this.listenTo(e, "remove", (t, e, n) => {
            const i = this._bindToExternalToInternalMap.get(e);
            if (i) {
              this.remove(i);
            }
            this._skippedIndexesFromExternal =
              this._skippedIndexesFromExternal.reduce((t, e) => {
                if (n < e) {
                  t.push(e - 1);
                }
                if (n > e) {
                  t.push(e);
                }
                return t;
              }, []);
          });
        }
        _getItemIdBeforeAdding(t) {
          const e = this._idProperty;
          let n;
          if (e in t) {
            n = t[e];
            if (typeof n != "string") {
              throw new M("collection-add-invalid-id", this);
            }
            if (this.get(n)) {
              throw new M("collection-add-item-already-exists", this);
            }
          } else {
            t[e] = n = E();
          }
          return n;
        }
        _remove(t) {
          let e, n, i;
          let o = false;
          const r = this._idProperty;
          if (typeof t == "string") {
            n = t;
            i = this._itemMap.get(n);
            o = !i;
            if (i) {
              e = this._items.indexOf(i);
            }
          } else if (typeof t == "number") {
            e = t;
            i = this._items[e];
            o = !i;
            if (i) {
              n = i[r];
            }
          } else {
            i = t;
            n = i[r];
            e = this._items.indexOf(i);
            o = e == -1 || !this._itemMap.get(n);
          }
          if (o) {
            throw new M("collection-remove-404", this);
          }
          this._items.splice(e, 1);
          this._itemMap.delete(n);
          const s = this._bindToInternalToExternalMap.get(i);
          this._bindToInternalToExternalMap.delete(i);
          this._bindToExternalToInternalMap.delete(s);
          this.fire("remove", i, e);
          return [i, e];
        }
        [Symbol.iterator]() {
          return this._items[Symbol.iterator]();
        }
      }
      function sl(t) {
        const e = t.next();
        if (e.done) {
          return null;
        }
        return e.value;
      }
      class al extends Ka(dt()) {
        constructor() {
          super();
          this._elements = new Set();
          this._nextEventLoopTimeout = null;
          this.set("isFocused", false);
          this.set("focusedElement", null);
        }
        add(t) {
          if (this._elements.has(t)) {
            throw new M("focustracker-add-element-already-exist", this);
          }
          this.listenTo(t, "focus", () => this._focus(t), { useCapture: true });
          this.listenTo(t, "blur", () => this._blur(), { useCapture: true });
          this._elements.add(t);
        }
        remove(t) {
          if (t === this.focusedElement) {
            this._blur();
          }
          if (this._elements.has(t)) {
            this.stopListening(t);
            this._elements.delete(t);
          }
        }
        destroy() {
          this.stopListening();
        }
        _focus(t) {
          clearTimeout(this._nextEventLoopTimeout);
          this.focusedElement = t;
          this.isFocused = true;
        }
        _blur() {
          clearTimeout(this._nextEventLoopTimeout);
          this._nextEventLoopTimeout = setTimeout(() => {
            this.focusedElement = null;
            this.isFocused = false;
          }, 0);
        }
      }
      class cl {
        constructor() {
          this._listener = new (Ka())();
        }
        listenTo(t) {
          this._listener.listenTo(t, "keydown", (t, e) => {
            this._listener.fire("_keydown:" + Fc(e), e);
          });
        }
        set(t, e, n = {}) {
          const i = Vc(t);
          const o = n.priority;
          this._listener.listenTo(
            this._listener,
            "_keydown:" + i,
            (t, n) => {
              e(n, () => {
                n.preventDefault();
                n.stopPropagation();
                t.stop();
              });
              t.return = true;
            },
            { priority: o }
          );
        }
        press(t) {
          return !!this._listener.fire("_keydown:" + Fc(t), t);
        }
        destroy() {
          this._listener.stopListening();
        }
      }
      function ll(t) {
        const e = new Map();
        for (const n in t) {
          e.set(n, t[n]);
        }
        return e;
      }
      function dl(t) {
        if (yt(t)) {
          return new Map(t);
        } else {
          return ll(t);
        }
      }
      const ul = 1e4;
      function hl(t, e, n, i) {
        if (Math.max(e.length, t.length) > ul) {
          return t
            .slice(0, n)
            .concat(e)
            .concat(t.slice(n + i, t.length));
        } else {
          const o = Array.from(t);
          o.splice(n, i, ...e);
          return o;
        }
      }
      function ml(t) {
        return (
          !!t &&
          t.length == 1 &&
          /[\\u0300-\\u036f\\u1ab0-\\u1aff\\u1dc0-\\u1dff\\u20d0-\\u20ff\\ufe20-\\ufe2f]/.test(
            t
          )
        );
      }
      function gl(t) {
        return !!t && t.length == 1 && /[\\ud800-\\udbff]/.test(t);
      }
      function fl(t) {
        return !!t && t.length == 1 && /[\\udc00-\\udfff]/.test(t);
      }
      function pl(t, e) {
        return gl(t.charAt(e - 1)) && fl(t.charAt(e));
      }
      function bl(t, e) {
        return ml(t.charAt(e));
      }
      const kl = Al();
      function wl(t, e) {
        const n = String(t).matchAll(kl);
        return Array.from(n).some(
          (t) => t.index < e && e < t.index + t[0].length
        );
      }
      function Al() {
        const t = [
          /\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}/u,
          /\\p{Emoji}\\u{FE0F}?\\u{20E3}/u,
          /\\p{Emoji}\\u{FE0F}/u,
          /(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*/u,
        ];
        const e = /\\p{Regional_Indicator}{2}/u.source;
        const n = "(?:" + t.map((t) => t.source).join("|") + ")";
        const i = \`\${e}|\${n}(?:\u200D\${n})*\`;
        return new RegExp(i, "ug");
      }
      class Cl extends dt() {
        constructor(t) {
          super();
          this.editor = t;
          this.set("isEnabled", true);
          this._disableStack = new Set();
        }
        forceDisabled(t) {
          this._disableStack.add(t);
          if (this._disableStack.size == 1) {
            this.on("set:isEnabled", _l, { priority: "highest" });
            this.isEnabled = false;
          }
        }
        clearForceDisabled(t) {
          this._disableStack.delete(t);
          if (this._disableStack.size == 0) {
            this.off("set:isEnabled", _l);
            this.isEnabled = true;
          }
        }
        destroy() {
          this.stopListening();
        }
        static get isContextPlugin() {
          return false;
        }
      }
      function _l(t) {
        t.return = false;
        t.stop();
      }
      class vl extends dt() {
        constructor(t) {
          super();
          this.editor = t;
          this.set("value", undefined);
          this.set("isEnabled", false);
          this._affectsData = true;
          this._disableStack = new Set();
          this.decorate("execute");
          this.listenTo(this.editor.model.document, "change", () => {
            this.refresh();
          });
          this.on(
            "execute",
            (t) => {
              if (!this.isEnabled) {
                t.stop();
              }
            },
            { priority: "high" }
          );
          this.listenTo(t, "change:isReadOnly", (t, e, n) => {
            if (n && this.affectsData) {
              this.forceDisabled("readOnlyMode");
            } else {
              this.clearForceDisabled("readOnlyMode");
            }
          });
        }
        get affectsData() {
          return this._affectsData;
        }
        set affectsData(t) {
          this._affectsData = t;
        }
        refresh() {
          this.isEnabled = true;
        }
        forceDisabled(t) {
          this._disableStack.add(t);
          if (this._disableStack.size == 1) {
            this.on("set:isEnabled", yl, { priority: "highest" });
            this.isEnabled = false;
          }
        }
        clearForceDisabled(t) {
          this._disableStack.delete(t);
          if (this._disableStack.size == 0) {
            this.off("set:isEnabled", yl);
            this.refresh();
          }
        }
        execute(...t) {
          return undefined;
        }
        destroy() {
          this.stopListening();
        }
      }
      function yl(t) {
        t.return = false;
        t.stop();
      }
      class xl extends vl {
        constructor(t) {
          super(t);
          this._childCommandsDefinitions = [];
        }
        refresh() {}
        execute(...t) {
          const e = this._getFirstEnabledCommand();
          return !!e && e.execute(t);
        }
        registerChildCommand(t, e = {}) {
          T(this._childCommandsDefinitions, {
            command: t,
            priority: e.priority || "normal",
          });
          t.on("change:isEnabled", () => this._checkEnabled());
          this._checkEnabled();
        }
        _checkEnabled() {
          this.isEnabled = !!this._getFirstEnabledCommand();
        }
        _getFirstEnabledCommand() {
          const t = this._childCommandsDefinitions.find(
            ({ command: t }) => t.isEnabled
          );
          return t && t.command;
        }
      }
      class El extends q() {
        constructor(t, e = [], n = []) {
          super();
          this._context = t;
          this._plugins = new Map();
          this._availablePlugins = new Map();
          for (const t of e) {
            if (t.pluginName) {
              this._availablePlugins.set(t.pluginName, t);
            }
          }
          this._contextPlugins = new Map();
          for (const [t, e] of n) {
            this._contextPlugins.set(t, e);
            this._contextPlugins.set(e, t);
            if (t.pluginName) {
              this._availablePlugins.set(t.pluginName, t);
            }
          }
        }
        *[Symbol.iterator]() {
          for (const t of this._plugins) {
            if (typeof t[0] == "function") {
              yield t;
            }
          }
        }
        get(t) {
          const e = this._plugins.get(t);
          if (!e) {
            let e = t;
            if (typeof t == "function") {
              e = t.pluginName || t.name;
            }
            throw new M("plugincollection-plugin-not-loaded", this._context, {
              plugin: e,
            });
          }
          return e;
        }
        has(t) {
          return this._plugins.has(t);
        }
        init(t, e = [], n = []) {
          const i = this;
          const o = this._context;
          h(t);
          g(t);
          const r = t.filter((t) => !d(t, e));
          const s = [...m(r)];
          A(s, n);
          const a = k(s);
          return w(a, "init")
            .then(() => w(a, "afterInit"))
            .then(() => a);
          function c(t) {
            return typeof t === "function";
          }
          function l(t) {
            return c(t) && t.isContextPlugin;
          }
          function d(t, e) {
            return e.some((e) => {
              if (e === t) {
                return true;
              }
              if (u(t) === e) {
                return true;
              }
              if (u(e) === t) {
                return true;
              }
              return false;
            });
          }
          function u(t) {
            return c(t) ? t.pluginName || t.name : t;
          }
          function h(t, e = new Set()) {
            t.forEach((t) => {
              if (!c(t)) {
                return;
              }
              if (e.has(t)) {
                return;
              }
              e.add(t);
              if (t.pluginName && !i._availablePlugins.has(t.pluginName)) {
                i._availablePlugins.set(t.pluginName, t);
              }
              if (t.requires) {
                h(t.requires, e);
              }
            });
          }
          function m(t, e = new Set()) {
            return t
              .map((t) => (c(t) ? t : i._availablePlugins.get(t)))
              .reduce((t, n) => {
                if (e.has(n)) {
                  return t;
                }
                e.add(n);
                if (n.requires) {
                  g(n.requires, n);
                  m(n.requires, e).forEach((e) => t.add(e));
                }
                return t.add(n);
              }, new Set());
          }
          function g(t, e = null) {
            t.map((t) => (c(t) ? t : i._availablePlugins.get(t) || t)).forEach(
              (t) => {
                f(t, e);
                p(t, e);
                b(t, e);
              }
            );
          }
          function f(t, e) {
            if (c(t)) {
              return;
            }
            if (e) {
              throw new M("plugincollection-soft-required", o, {
                missingPlugin: t,
                requiredBy: u(e),
              });
            }
            throw new M("plugincollection-plugin-not-found", o, { plugin: t });
          }
          function p(t, e) {
            if (!l(e)) {
              return;
            }
            if (l(t)) {
              return;
            }
            throw new M("plugincollection-context-required", o, {
              plugin: u(t),
              requiredBy: u(e),
            });
          }
          function b(t, n) {
            if (!n) {
              return;
            }
            if (!d(t, e)) {
              return;
            }
            throw new M("plugincollection-required", o, {
              plugin: u(t),
              requiredBy: u(n),
            });
          }
          function k(t) {
            return t.map((t) => {
              let e = i._contextPlugins.get(t);
              e = e || new t(o);
              i._add(t, e);
              return e;
            });
          }
          function w(t, e) {
            return t.reduce((t, n) => {
              if (!n[e]) {
                return t;
              }
              if (i._contextPlugins.has(n)) {
                return t;
              }
              return t.then(n[e].bind(n));
            }, Promise.resolve());
          }
          function A(t, e) {
            for (const n of e) {
              if (typeof n != "function") {
                throw new M(
                  "plugincollection-replace-plugin-invalid-type",
                  null,
                  { pluginItem: n }
                );
              }
              const e = n.pluginName;
              if (!e) {
                throw new M(
                  "plugincollection-replace-plugin-missing-name",
                  null,
                  { pluginItem: n }
                );
              }
              if (n.requires && n.requires.length) {
                throw new M(
                  "plugincollection-plugin-for-replacing-cannot-have-dependencies",
                  null,
                  { pluginName: e }
                );
              }
              const o = i._availablePlugins.get(e);
              if (!o) {
                throw new M(
                  "plugincollection-plugin-for-replacing-not-exist",
                  null,
                  { pluginName: e }
                );
              }
              const r = t.indexOf(o);
              if (r === -1) {
                if (i._contextPlugins.has(o)) {
                  return;
                }
                throw new M(
                  "plugincollection-plugin-for-replacing-not-loaded",
                  null,
                  { pluginName: e }
                );
              }
              if (o.requires && o.requires.length) {
                throw new M(
                  "plugincollection-replaced-plugin-cannot-have-dependencies",
                  null,
                  { pluginName: e }
                );
              }
              t.splice(r, 1, n);
              i._availablePlugins.set(e, n);
            }
          }
        }
        destroy() {
          const t = [];
          for (const [, e] of this) {
            if (
              typeof e.destroy == "function" &&
              !this._contextPlugins.has(e)
            ) {
              t.push(e.destroy());
            }
          }
          return Promise.all(t);
        }
        _add(t, e) {
          this._plugins.set(t, e);
          const n = t.pluginName;
          if (!n) {
            return;
          }
          if (this._plugins.has(n)) {
            throw new M("plugincollection-plugin-name-conflict", null, {
              pluginName: n,
              plugin1: this._plugins.get(n).constructor,
              plugin2: t,
            });
          }
          this._plugins.set(n, e);
        }
      }
      class Dl {
        constructor(t) {
          this.config = new Ha(t, this.constructor.defaultConfig);
          const e = this.constructor.builtinPlugins;
          this.config.define("plugins", e);
          this.plugins = new El(this, e);
          const n = this.config.get("language") || {};
          this.locale = new il({
            uiLanguage: typeof n === "string" ? n : n.ui,
            contentLanguage: this.config.get("language.content"),
          });
          this.t = this.locale.t;
          this.editors = new rl();
          this._contextOwner = null;
        }
        initPlugins() {
          const t = this.config.get("plugins") || [];
          const e = this.config.get("substitutePlugins") || [];
          for (const n of t.concat(e)) {
            if (typeof n != "function") {
              throw new M("context-initplugins-constructor-only", null, {
                Plugin: n,
              });
            }
            if (n.isContextPlugin !== true) {
              throw new M("context-initplugins-invalid-plugin", null, {
                Plugin: n,
              });
            }
          }
          return this.plugins.init(t, [], e);
        }
        destroy() {
          return Promise.all(Array.from(this.editors, (t) => t.destroy())).then(
            () => this.plugins.destroy()
          );
        }
        _addEditor(t, e) {
          if (this._contextOwner) {
            throw new M("context-addeditor-private-context");
          }
          this.editors.add(t);
          if (e) {
            this._contextOwner = t;
          }
        }
        _removeEditor(t) {
          if (this.editors.has(t)) {
            this.editors.remove(t);
          }
          if (this._contextOwner === t) {
            return this.destroy();
          }
          return Promise.resolve();
        }
        _getEditorConfig() {
          const t = {};
          for (const e of this.config.names()) {
            if (!["plugins", "removePlugins", "extraPlugins"].includes(e)) {
              t[e] = this.config.get(e);
            }
          }
          return t;
        }
        static create(t) {
          return new Promise((e) => {
            const n = new this(t);
            e(n.initPlugins().then(() => n));
          });
        }
      }
      class Sl extends dt() {
        constructor(t) {
          super();
          this.context = t;
        }
        destroy() {
          this.stopListening();
        }
        static get isContextPlugin() {
          return true;
        }
      }
      var Tl = n(3379);
      var Il = n.n(Tl);
      var Ml = n(8894);
      var Bl = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Bl.insert = "head";
      Bl.singleton = true;
      var Ll = Il()(Ml.Z, Bl);
      const Nl = Ml.Z.locals || {};
      const zl = new WeakMap();
      function Pl(t) {
        const {
          view: e,
          element: n,
          text: i,
          isDirectHost: o = true,
          keepOnFocus: r = false,
        } = t;
        const s = e.document;
        if (!zl.has(s)) {
          zl.set(s, new Map());
          s.registerPostFixer((t) => Vl(s, t));
          s.on(
            "change:isComposing",
            () => {
              e.change((t) => Vl(s, t));
            },
            { priority: "high" }
          );
        }
        zl.get(s).set(n, {
          text: i,
          isDirectHost: o,
          keepOnFocus: r,
          hostElement: o ? n : null,
        });
        e.change((t) => Vl(s, t));
      }
      function Rl(t, e) {
        const n = e.document;
        t.change((t) => {
          if (!zl.has(n)) {
            return;
          }
          const i = zl.get(n);
          const o = i.get(e);
          t.removeAttribute("data-placeholder", o.hostElement);
          jl(t, o.hostElement);
          i.delete(e);
        });
      }
      function Ol(t, e) {
        if (!e.hasClass("ck-placeholder")) {
          t.addClass("ck-placeholder", e);
          return true;
        }
        return false;
      }
      function jl(t, e) {
        if (e.hasClass("ck-placeholder")) {
          t.removeClass("ck-placeholder", e);
          return true;
        }
        return false;
      }
      function Fl(t, e) {
        if (!t.isAttached()) {
          return false;
        }
        const n = Array.from(t.getChildren()).some((t) => !t.is("uiElement"));
        if (n) {
          return false;
        }
        const i = t.document;
        const o = i.selection;
        const r = o.anchor;
        if (i.isComposing && r && r.parent === t) {
          return false;
        }
        if (e) {
          return true;
        }
        if (!i.isFocused) {
          return true;
        }
        return !!r && r.parent !== t;
      }
      function Vl(t, e) {
        const n = zl.get(t);
        const i = [];
        let o = false;
        for (const [t, r] of n) {
          if (r.isDirectHost) {
            i.push(t);
            if (Hl(e, t, r)) {
              o = true;
            }
          }
        }
        for (const [t, r] of n) {
          if (r.isDirectHost) {
            continue;
          }
          const n = Ul(t);
          if (!n) {
            continue;
          }
          if (i.includes(n)) {
            continue;
          }
          r.hostElement = n;
          if (Hl(e, t, r)) {
            o = true;
          }
        }
        return o;
      }
      function Hl(t, e, n) {
        const { text: i, isDirectHost: o, hostElement: r } = n;
        let s = false;
        if (r.getAttribute("data-placeholder") !== i) {
          t.setAttribute("data-placeholder", i, r);
          s = true;
        }
        const a = o || e.childCount == 1;
        if (a && Fl(r, n.keepOnFocus)) {
          if (Ol(t, r)) {
            s = true;
          }
        } else if (jl(t, r)) {
          s = true;
        }
        return s;
      }
      function Ul(t) {
        if (t.childCount) {
          const e = t.getChild(0);
          if (
            e.is("element") &&
            !e.is("uiElement") &&
            !e.is("attributeElement")
          ) {
            return e;
          }
        }
        return null;
      }
      class ql {
        is() {
          throw new Error("is() method is abstract");
        }
      }
      var Wl = 4;
      function Gl(t) {
        return za(t, Wl);
      }
      const $l = Gl;
      class Kl extends q(ql) {
        constructor(t) {
          super();
          this.document = t;
          this.parent = null;
        }
        get index() {
          let t;
          if (!this.parent) {
            return null;
          }
          if ((t = this.parent.getChildIndex(this)) == -1) {
            throw new M("view-node-not-found-in-parent", this);
          }
          return t;
        }
        get nextSibling() {
          const t = this.index;
          return (t !== null && this.parent.getChild(t + 1)) || null;
        }
        get previousSibling() {
          const t = this.index;
          return (t !== null && this.parent.getChild(t - 1)) || null;
        }
        get root() {
          let t = this;
          while (t.parent) {
            t = t.parent;
          }
          return t;
        }
        isAttached() {
          return this.root.is("rootElement");
        }
        getPath() {
          const t = [];
          let e = this;
          while (e.parent) {
            t.unshift(e.index);
            e = e.parent;
          }
          return t;
        }
        getAncestors(t = {}) {
          const e = [];
          let n = t.includeSelf ? this : this.parent;
          while (n) {
            e[t.parentFirst ? "push" : "unshift"](n);
            n = n.parent;
          }
          return e;
        }
        getCommonAncestor(t, e = {}) {
          const n = this.getAncestors(e);
          const i = t.getAncestors(e);
          let o = 0;
          while (n[o] == i[o] && n[o]) {
            o++;
          }
          return o === 0 ? null : n[o - 1];
        }
        isBefore(t) {
          if (this == t) {
            return false;
          }
          if (this.root !== t.root) {
            return false;
          }
          const e = this.getPath();
          const n = t.getPath();
          const i = vt(e, n);
          switch (i) {
            case "prefix":
              return true;
            case "extension":
              return false;
            default:
              return e[i] < n[i];
          }
        }
        isAfter(t) {
          if (this == t) {
            return false;
          }
          if (this.root !== t.root) {
            return false;
          }
          return !this.isBefore(t);
        }
        _remove() {
          this.parent._removeChildren(this.index);
        }
        _fireChange(t, e) {
          this.fire(\`change:\${t}\`, e);
          if (this.parent) {
            this.parent._fireChange(t, e);
          }
        }
        toJSON() {
          const t = $l(this);
          delete t.parent;
          return t;
        }
      }
      Kl.prototype.is = function (t) {
        return t === "node" || t === "view:node";
      };
      class Yl extends Kl {
        constructor(t, e) {
          super(t);
          this._textData = e;
        }
        get data() {
          return this._textData;
        }
        get _data() {
          return this.data;
        }
        set _data(t) {
          this._fireChange("text", this);
          this._textData = t;
        }
        isSimilar(t) {
          if (!(t instanceof Yl)) {
            return false;
          }
          return this === t || this.data === t.data;
        }
        _clone() {
          return new Yl(this.document, this.data);
        }
      }
      Yl.prototype.is = function (t) {
        return (
          t === "$text" ||
          t === "view:$text" ||
          t === "text" ||
          t === "view:text" ||
          t === "node" ||
          t === "view:node"
        );
      };
      class Zl extends ql {
        constructor(t, e, n) {
          super();
          this.textNode = t;
          if (e < 0 || e > t.data.length) {
            throw new M("view-textproxy-wrong-offsetintext", this);
          }
          if (n < 0 || e + n > t.data.length) {
            throw new M("view-textproxy-wrong-length", this);
          }
          this.data = t.data.substring(e, e + n);
          this.offsetInText = e;
        }
        get offsetSize() {
          return this.data.length;
        }
        get isPartial() {
          return this.data.length !== this.textNode.data.length;
        }
        get parent() {
          return this.textNode.parent;
        }
        get root() {
          return this.textNode.root;
        }
        get document() {
          return this.textNode.document;
        }
        getAncestors(t = {}) {
          const e = [];
          let n = t.includeSelf ? this.textNode : this.parent;
          while (n !== null) {
            e[t.parentFirst ? "push" : "unshift"](n);
            n = n.parent;
          }
          return e;
        }
      }
      Zl.prototype.is = function (t) {
        return (
          t === "$textProxy" ||
          t === "view:$textProxy" ||
          t === "textProxy" ||
          t === "view:textProxy"
        );
      };
      class Ql {
        constructor(...t) {
          this._patterns = [];
          this.add(...t);
        }
        add(...t) {
          for (let e of t) {
            if (typeof e == "string" || e instanceof RegExp) {
              e = { name: e };
            }
            this._patterns.push(e);
          }
        }
        match(...t) {
          for (const e of t) {
            for (const t of this._patterns) {
              const n = Jl(e, t);
              if (n) {
                return { element: e, pattern: t, match: n };
              }
            }
          }
          return null;
        }
        matchAll(...t) {
          const e = [];
          for (const n of t) {
            for (const t of this._patterns) {
              const i = Jl(n, t);
              if (i) {
                e.push({ element: n, pattern: t, match: i });
              }
            }
          }
          return e.length > 0 ? e : null;
        }
        getElementName() {
          if (this._patterns.length !== 1) {
            return null;
          }
          const t = this._patterns[0];
          const e = t.name;
          return typeof t != "function" && e && !(e instanceof RegExp)
            ? e
            : null;
        }
      }
      function Jl(t, e) {
        if (typeof e == "function") {
          return e(t);
        }
        const n = {};
        if (e.name) {
          n.name = Xl(e.name, t.name);
          if (!n.name) {
            return null;
          }
        }
        if (e.attributes) {
          n.attributes = od(e.attributes, t);
          if (!n.attributes) {
            return null;
          }
        }
        if (e.classes) {
          n.classes = rd(e.classes, t);
          if (!n.classes) {
            return null;
          }
        }
        if (e.styles) {
          n.styles = sd(e.styles, t);
          if (!n.styles) {
            return null;
          }
        }
        return n;
      }
      function Xl(t, e) {
        if (t instanceof RegExp) {
          return !!e.match(t);
        }
        return t === e;
      }
      function td(t, e, n) {
        const i = ed(t);
        const o = Array.from(e);
        const r = [];
        i.forEach(([t, e]) => {
          o.forEach((i) => {
            if (nd(t, i) && id(e, i, n)) {
              r.push(i);
            }
          });
        });
        if (!i.length || r.length < i.length) {
          return undefined;
        }
        return r;
      }
      function ed(t) {
        if (Array.isArray(t)) {
          return t.map((t) => {
            if (he(t)) {
              if (t.key === undefined || t.value === undefined) {
                B("matcher-pattern-missing-key-or-value", t);
              }
              return [t.key, t.value];
            }
            return [t, true];
          });
        }
        if (he(t)) {
          return Object.entries(t);
        }
        return [[t, true]];
      }
      function nd(t, e) {
        return t === true || t === e || (t instanceof RegExp && e.match(t));
      }
      function id(t, e, n) {
        if (t === true) {
          return true;
        }
        const i = n(e);
        return t === i || (t instanceof RegExp && !!String(i).match(t));
      }
      function od(t, e) {
        const n = new Set(e.getAttributeKeys());
        if (he(t)) {
          if (t.style !== undefined) {
            B("matcher-pattern-deprecated-attributes-style-key", t);
          }
          if (t.class !== undefined) {
            B("matcher-pattern-deprecated-attributes-class-key", t);
          }
        } else {
          n.delete("style");
          n.delete("class");
        }
        return td(t, n, (t) => e.getAttribute(t));
      }
      function rd(t, e) {
        return td(t, e.getClassNames(), () => {});
      }
      function sd(t, e) {
        return td(t, e.getStyleNames(true), (t) => e.getStyle(t));
      }
      var ad = "[object Symbol]";
      function cd(t) {
        return typeof t == "symbol" || (Zt(t) && Gt(t) == ad);
      }
      const ld = cd;
      var dd = /\\.|\\[(?:[^[\\]]*|(["'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,
        ud = /^\\w*$/;
      function hd(t, e) {
        if (Kt(t)) {
          return false;
        }
        var n = typeof t;
        if (
          n == "number" ||
          n == "symbol" ||
          n == "boolean" ||
          t == null ||
          ld(t)
        ) {
          return true;
        }
        return ud.test(t) || !dd.test(t) || (e != null && t in Object(e));
      }
      const md = hd;
      var gd = "Expected a function";
      function fd(t, e) {
        if (typeof t != "function" || (e != null && typeof e != "function")) {
          throw new TypeError(gd);
        }
        var n = function () {
          var i = arguments,
            o = e ? e.apply(this, i) : i[0],
            r = n.cache;
          if (r.has(o)) {
            return r.get(o);
          }
          var s = t.apply(this, i);
          n.cache = r.set(o, s) || r;
          return s;
        };
        n.cache = new (fd.Cache || Qn)();
        return n;
      }
      fd.Cache = Qn;
      const pd = fd;
      var bd = 500;
      function kd(t) {
        var e = pd(t, function (t) {
          if (n.size === bd) {
            n.clear();
          }
          return t;
        });
        var n = e.cache;
        return e;
      }
      const wd = kd;
      var Ad =
        /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;
      var Cd = /\\\\(\\\\)?/g;
      var _d = wd(function (t) {
        var e = [];
        if (t.charCodeAt(0) === 46) {
          e.push("");
        }
        t.replace(Ad, function (t, n, i, o) {
          e.push(i ? o.replace(Cd, "$1") : n || t);
        });
        return e;
      });
      const vd = _d;
      function yd(t, e) {
        var n = -1,
          i = t == null ? 0 : t.length,
          o = Array(i);
        while (++n < i) {
          o[n] = e(t[n], n, t);
        }
        return o;
      }
      const xd = yd;
      var Ed = 1 / 0;
      var Dd = Mt ? Mt.prototype : undefined,
        Sd = Dd ? Dd.toString : undefined;
      function Td(t) {
        if (typeof t == "string") {
          return t;
        }
        if (Kt(t)) {
          return xd(t, Td) + "";
        }
        if (ld(t)) {
          return Sd ? Sd.call(t) : "";
        }
        var e = t + "";
        return e == "0" && 1 / t == -Ed ? "-0" : e;
      }
      const Id = Td;
      function Md(t) {
        return t == null ? "" : Id(t);
      }
      const Bd = Md;
      function Ld(t, e) {
        if (Kt(t)) {
          return t;
        }
        return md(t, e) ? [t] : vd(Bd(t));
      }
      const Nd = Ld;
      function zd(t) {
        var e = t == null ? 0 : t.length;
        return e ? t[e - 1] : undefined;
      }
      const Pd = zd;
      var Rd = 1 / 0;
      function Od(t) {
        if (typeof t == "string" || ld(t)) {
          return t;
        }
        var e = t + "";
        return e == "0" && 1 / t == -Rd ? "-0" : e;
      }
      const jd = Od;
      function Fd(t, e) {
        e = Nd(e, t);
        var n = 0,
          i = e.length;
        while (t != null && n < i) {
          t = t[jd(e[n++])];
        }
        return n && n == i ? t : undefined;
      }
      const Vd = Fd;
      function Hd(t, e, n) {
        var i = -1,
          o = t.length;
        if (e < 0) {
          e = -e > o ? 0 : o + e;
        }
        n = n > o ? o : n;
        if (n < 0) {
          n += o;
        }
        o = e > n ? 0 : (n - e) >>> 0;
        e >>>= 0;
        var r = Array(o);
        while (++i < o) {
          r[i] = t[i + e];
        }
        return r;
      }
      const Ud = Hd;
      function qd(t, e) {
        return e.length < 2 ? t : Vd(t, Ud(e, 0, -1));
      }
      const Wd = qd;
      function Gd(t, e) {
        e = Nd(e, t);
        t = Wd(t, e);
        return t == null || delete t[jd(Pd(e))];
      }
      const $d = Gd;
      function Kd(t, e) {
        return t == null ? true : $d(t, e);
      }
      const Yd = Kd;
      function Zd(t, e, n) {
        var i = t == null ? undefined : Vd(t, e);
        return i === undefined ? n : i;
      }
      const Qd = Zd;
      function Jd(t, e, n) {
        if (
          (n !== undefined && !pe(t[e], n)) ||
          (n === undefined && !(e in t))
        ) {
          ci(t, e, n);
        }
      }
      const Xd = Jd;
      function tu(t) {
        return function (e, n, i) {
          var o = -1,
            r = Object(e),
            s = i(e),
            a = s.length;
          while (a--) {
            var c = s[t ? a : ++o];
            if (n(r[c], c, r) === false) {
              break;
            }
          }
          return e;
        };
      }
      const eu = tu;
      var nu = eu();
      const iu = nu;
      function ou(t) {
        return Zt(t) && Fo(t);
      }
      const ru = ou;
      function su(t, e) {
        if (e === "constructor" && typeof t[e] === "function") {
          return;
        }
        if (e == "__proto__") {
          return;
        }
        return t[e];
      }
      const au = su;
      function cu(t) {
        return gi(t, Jo(t));
      }
      const lu = cu;
      function du(t, e, n, i, o, r, s) {
        var a = au(t, n),
          c = au(e, n),
          l = s.get(c);
        if (l) {
          Xd(t, n, l);
          return;
        }
        var d = r ? r(a, c, n + "", t, e, s) : undefined;
        var u = d === undefined;
        if (u) {
          var h = Kt(c),
            m = !h && Li(c),
            g = !h && !m && xo(c);
          d = c;
          if (h || m || g) {
            if (Kt(a)) {
              d = a;
            } else if (ru(a)) {
              d = lr(a);
            } else if (m) {
              u = false;
              d = ar(c, true);
            } else if (g) {
              u = false;
              d = ws(c, true);
            } else {
              d = [];
            }
          } else if (he(c) || yi(c)) {
            d = a;
            if (yi(a)) {
              d = lu(a);
            } else if (!it(a) || qe(a)) {
              d = Ws(c);
            }
          } else {
            u = false;
          }
        }
        if (u) {
          s.set(c, d);
          o(d, c, i, r, s);
          s["delete"](c);
        }
        Xd(t, n, d);
      }
      const uu = du;
      function hu(t, e, n, i, o) {
        if (t === e) {
          return;
        }
        iu(
          e,
          function (r, s) {
            o || (o = new ni());
            if (it(r)) {
              uu(t, e, s, n, hu, i, o);
            } else {
              var a = i ? i(au(t, s), r, s + "", t, e, o) : undefined;
              if (a === undefined) {
                a = r;
              }
              Xd(t, s, a);
            }
          },
          Jo
        );
      }
      const mu = hu;
      function gu(t) {
        return t;
      }
      const fu = gu;
      function pu(t, e, n) {
        switch (n.length) {
          case 0:
            return t.call(e);
          case 1:
            return t.call(e, n[0]);
          case 2:
            return t.call(e, n[0], n[1]);
          case 3:
            return t.call(e, n[0], n[1], n[2]);
        }
        return t.apply(e, n);
      }
      const bu = pu;
      var ku = Math.max;
      function wu(t, e, n) {
        e = ku(e === undefined ? t.length - 1 : e, 0);
        return function () {
          var i = arguments,
            o = -1,
            r = ku(i.length - e, 0),
            s = Array(r);
          while (++o < r) {
            s[o] = i[e + o];
          }
          o = -1;
          var a = Array(e + 1);
          while (++o < e) {
            a[o] = i[o];
          }
          a[e] = n(s);
          return bu(t, this, a);
        };
      }
      const Au = wu;
      function Cu(t) {
        return function () {
          return t;
        };
      }
      const _u = Cu;
      var vu = !si
        ? fu
        : function (t, e) {
            return si(t, "toString", {
              configurable: true,
              enumerable: false,
              value: _u(e),
              writable: true,
            });
          };
      const yu = vu;
      var xu = 800,
        Eu = 16;
      var Du = Date.now;
      function Su(t) {
        var e = 0,
          n = 0;
        return function () {
          var i = Du(),
            o = Eu - (i - n);
          n = i;
          if (o > 0) {
            if (++e >= xu) {
              return arguments[0];
            }
          } else {
            e = 0;
          }
          return t.apply(undefined, arguments);
        };
      }
      const Tu = Su;
      var Iu = Tu(yu);
      const Mu = Iu;
      function Bu(t, e) {
        return Mu(Au(t, e, fu), t + "");
      }
      const Lu = Bu;
      function Nu(t, e, n) {
        if (!it(n)) {
          return false;
        }
        var i = typeof e;
        if (
          i == "number" ? Fo(n) && Ri(e, n.length) : i == "string" && e in n
        ) {
          return pe(n[e], t);
        }
        return false;
      }
      const zu = Nu;
      function Pu(t) {
        return Lu(function (e, n) {
          var i = -1,
            o = n.length,
            r = o > 1 ? n[o - 1] : undefined,
            s = o > 2 ? n[2] : undefined;
          r = t.length > 3 && typeof r == "function" ? (o--, r) : undefined;
          if (s && zu(n[0], n[1], s)) {
            r = o < 3 ? undefined : r;
            o = 1;
          }
          e = Object(e);
          while (++i < o) {
            var a = n[i];
            if (a) {
              t(e, a, i, r);
            }
          }
          return e;
        });
      }
      const Ru = Pu;
      var Ou = Ru(function (t, e, n) {
        mu(t, e, n);
      });
      const ju = Ou;
      function Fu(t, e, n, i) {
        if (!it(t)) {
          return t;
        }
        e = Nd(e, t);
        var o = -1,
          r = e.length,
          s = r - 1,
          a = t;
        while (a != null && ++o < r) {
          var c = jd(e[o]),
            l = n;
          if (c === "__proto__" || c === "constructor" || c === "prototype") {
            return t;
          }
          if (o != s) {
            var d = a[c];
            l = i ? i(d, c, a) : undefined;
            if (l === undefined) {
              l = it(d) ? d : Ri(e[o + 1]) ? [] : {};
            }
          }
          hi(a, c, l);
          a = a[c];
        }
        return t;
      }
      const Vu = Fu;
      function Hu(t, e, n) {
        return t == null ? t : Vu(t, e, n);
      }
      const Uu = Hu;
      class qu {
        constructor(t) {
          this._styles = {};
          this._styleProcessor = t;
        }
        get isEmpty() {
          const t = Object.entries(this._styles);
          const e = Array.from(t);
          return !e.length;
        }
        get size() {
          if (this.isEmpty) {
            return 0;
          }
          return this.getStyleNames().length;
        }
        setTo(t) {
          this.clear();
          const e = Array.from(Gu(t).entries());
          for (const [t, n] of e) {
            this._styleProcessor.toNormalizedForm(t, n, this._styles);
          }
        }
        has(t) {
          if (this.isEmpty) {
            return false;
          }
          const e = this._styleProcessor.getReducedForm(t, this._styles);
          const n = e.find(([e]) => e === t);
          return Array.isArray(n);
        }
        set(t, e) {
          if (it(t)) {
            for (const [e, n] of Object.entries(t)) {
              this._styleProcessor.toNormalizedForm(e, n, this._styles);
            }
          } else {
            this._styleProcessor.toNormalizedForm(t, e, this._styles);
          }
        }
        remove(t) {
          const e = $u(t);
          Yd(this._styles, e);
          delete this._styles[t];
          this._cleanEmptyObjectsOnPath(e);
        }
        getNormalized(t) {
          return this._styleProcessor.getNormalized(t, this._styles);
        }
        toString() {
          if (this.isEmpty) {
            return "";
          }
          return (
            this._getStylesEntries()
              .map((t) => t.join(":"))
              .sort()
              .join(";") + ";"
          );
        }
        getAsString(t) {
          if (this.isEmpty) {
            return;
          }
          if (this._styles[t] && !it(this._styles[t])) {
            return this._styles[t];
          }
          const e = this._styleProcessor.getReducedForm(t, this._styles);
          const n = e.find(([e]) => e === t);
          if (Array.isArray(n)) {
            return n[1];
          }
        }
        getStyleNames(t = false) {
          if (this.isEmpty) {
            return [];
          }
          if (t) {
            return this._styleProcessor.getStyleNames(this._styles);
          }
          const e = this._getStylesEntries();
          return e.map(([t]) => t);
        }
        clear() {
          this._styles = {};
        }
        _getStylesEntries() {
          const t = [];
          const e = Object.keys(this._styles);
          for (const n of e) {
            t.push(...this._styleProcessor.getReducedForm(n, this._styles));
          }
          return t;
        }
        _cleanEmptyObjectsOnPath(t) {
          const e = t.split(".");
          const n = e.length > 1;
          if (!n) {
            return;
          }
          const i = e.splice(0, e.length - 1).join(".");
          const o = Qd(this._styles, i);
          if (!o) {
            return;
          }
          const r = !Array.from(Object.keys(o)).length;
          if (r) {
            this.remove(i);
          }
        }
      }
      class Wu {
        constructor() {
          this._normalizers = new Map();
          this._extractors = new Map();
          this._reducers = new Map();
          this._consumables = new Map();
        }
        toNormalizedForm(t, e, n) {
          if (it(e)) {
            Ku(n, $u(t), e);
            return;
          }
          if (this._normalizers.has(t)) {
            const i = this._normalizers.get(t);
            const { path: o, value: r } = i(e);
            Ku(n, o, r);
          } else {
            Ku(n, t, e);
          }
        }
        getNormalized(t, e) {
          if (!t) {
            return ju({}, e);
          }
          if (e[t] !== undefined) {
            return e[t];
          }
          if (this._extractors.has(t)) {
            const n = this._extractors.get(t);
            if (typeof n === "string") {
              return Qd(e, n);
            }
            const i = n(t, e);
            if (i) {
              return i;
            }
          }
          return Qd(e, $u(t));
        }
        getReducedForm(t, e) {
          const n = this.getNormalized(t, e);
          if (n === undefined) {
            return [];
          }
          if (this._reducers.has(t)) {
            const e = this._reducers.get(t);
            return e(n);
          }
          return [[t, n]];
        }
        getStyleNames(t) {
          const e = Array.from(this._consumables.keys()).filter((e) => {
            const n = this.getNormalized(e, t);
            if (n && typeof n == "object") {
              return Object.keys(n).length;
            }
            return n;
          });
          const n = new Set([...e, ...Object.keys(t)]);
          return Array.from(n.values());
        }
        getRelatedStyles(t) {
          return this._consumables.get(t) || [];
        }
        setNormalizer(t, e) {
          this._normalizers.set(t, e);
        }
        setExtractor(t, e) {
          this._extractors.set(t, e);
        }
        setReducer(t, e) {
          this._reducers.set(t, e);
        }
        setStyleRelation(t, e) {
          this._mapStyleNames(t, e);
          for (const n of e) {
            this._mapStyleNames(n, [t]);
          }
        }
        _mapStyleNames(t, e) {
          if (!this._consumables.has(t)) {
            this._consumables.set(t, []);
          }
          this._consumables.get(t).push(...e);
        }
      }
      function Gu(t) {
        let e = null;
        let n = 0;
        let i = 0;
        let o = null;
        const r = new Map();
        if (t === "") {
          return r;
        }
        if (t.charAt(t.length - 1) != ";") {
          t = t + ";";
        }
        for (let s = 0; s < t.length; s++) {
          const a = t.charAt(s);
          if (e === null) {
            switch (a) {
              case ":":
                if (!o) {
                  o = t.substr(n, s - n);
                  i = s + 1;
                }
                break;
              case '"':
              case "'":
                e = a;
                break;
              case ";": {
                const e = t.substr(i, s - i);
                if (o) {
                  r.set(o.trim(), e.trim());
                }
                o = null;
                n = s + 1;
                break;
              }
            }
          } else if (a === e) {
            e = null;
          }
        }
        return r;
      }
      function $u(t) {
        return t.replace("-", ".");
      }
      function Ku(t, e, n) {
        let i = n;
        if (it(n)) {
          i = ju({}, Qd(t, e), n);
        }
        Uu(t, e, i);
      }
      class Yu extends Kl {
        constructor(t, e, n, i) {
          super(t);
          this.name = e;
          this._attrs = Zu(n);
          this._children = [];
          if (i) {
            this._insertChild(0, i);
          }
          this._classes = new Set();
          if (this._attrs.has("class")) {
            const t = this._attrs.get("class");
            Qu(this._classes, t);
            this._attrs.delete("class");
          }
          this._styles = new qu(this.document.stylesProcessor);
          if (this._attrs.has("style")) {
            this._styles.setTo(this._attrs.get("style"));
            this._attrs.delete("style");
          }
          this._customProperties = new Map();
          this._unsafeAttributesToRender = [];
        }
        get childCount() {
          return this._children.length;
        }
        get isEmpty() {
          return this._children.length === 0;
        }
        getChild(t) {
          return this._children[t];
        }
        getChildIndex(t) {
          return this._children.indexOf(t);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        *getAttributeKeys() {
          if (this._classes.size > 0) {
            yield "class";
          }
          if (!this._styles.isEmpty) {
            yield "style";
          }
          yield* this._attrs.keys();
        }
        *getAttributes() {
          yield* this._attrs.entries();
          if (this._classes.size > 0) {
            yield ["class", this.getAttribute("class")];
          }
          if (!this._styles.isEmpty) {
            yield ["style", this.getAttribute("style")];
          }
        }
        getAttribute(t) {
          if (t == "class") {
            if (this._classes.size > 0) {
              return [...this._classes].join(" ");
            }
            return undefined;
          }
          if (t == "style") {
            const t = this._styles.toString();
            return t == "" ? undefined : t;
          }
          return this._attrs.get(t);
        }
        hasAttribute(t) {
          if (t == "class") {
            return this._classes.size > 0;
          }
          if (t == "style") {
            return !this._styles.isEmpty;
          }
          return this._attrs.has(t);
        }
        isSimilar(t) {
          if (!(t instanceof Yu)) {
            return false;
          }
          if (this === t) {
            return true;
          }
          if (this.name != t.name) {
            return false;
          }
          if (
            this._attrs.size !== t._attrs.size ||
            this._classes.size !== t._classes.size ||
            this._styles.size !== t._styles.size
          ) {
            return false;
          }
          for (const [e, n] of this._attrs) {
            if (!t._attrs.has(e) || t._attrs.get(e) !== n) {
              return false;
            }
          }
          for (const e of this._classes) {
            if (!t._classes.has(e)) {
              return false;
            }
          }
          for (const e of this._styles.getStyleNames()) {
            if (
              !t._styles.has(e) ||
              t._styles.getAsString(e) !== this._styles.getAsString(e)
            ) {
              return false;
            }
          }
          return true;
        }
        hasClass(...t) {
          for (const e of t) {
            if (!this._classes.has(e)) {
              return false;
            }
          }
          return true;
        }
        getClassNames() {
          return this._classes.keys();
        }
        getStyle(t) {
          return this._styles.getAsString(t);
        }
        getNormalizedStyle(t) {
          return this._styles.getNormalized(t);
        }
        getStyleNames(t) {
          return this._styles.getStyleNames(t);
        }
        hasStyle(...t) {
          for (const e of t) {
            if (!this._styles.has(e)) {
              return false;
            }
          }
          return true;
        }
        findAncestor(...t) {
          const e = new Ql(...t);
          let n = this.parent;
          while (n && !n.is("documentFragment")) {
            if (e.match(n)) {
              return n;
            }
            n = n.parent;
          }
          return null;
        }
        getCustomProperty(t) {
          return this._customProperties.get(t);
        }
        *getCustomProperties() {
          yield* this._customProperties.entries();
        }
        getIdentity() {
          const t = Array.from(this._classes).sort().join(",");
          const e = this._styles.toString();
          const n = Array.from(this._attrs)
            .map((t) => \`\${t[0]}="\${t[1]}"\`)
            .sort()
            .join(" ");
          return (
            this.name +
            (t == "" ? "" : \` class="\${t}"\`) +
            (!e ? "" : \` style="\${e}"\`) +
            (n == "" ? "" : \` \${n}\`)
          );
        }
        shouldRenderUnsafeAttribute(t) {
          return this._unsafeAttributesToRender.includes(t);
        }
        _clone(t = false) {
          const e = [];
          if (t) {
            for (const n of this.getChildren()) {
              e.push(n._clone(t));
            }
          }
          const n = new this.constructor(
            this.document,
            this.name,
            this._attrs,
            e
          );
          n._classes = new Set(this._classes);
          n._styles.set(this._styles.getNormalized());
          n._customProperties = new Map(this._customProperties);
          n.getFillerOffset = this.getFillerOffset;
          n._unsafeAttributesToRender = this._unsafeAttributesToRender;
          return n;
        }
        _appendChild(t) {
          return this._insertChild(this.childCount, t);
        }
        _insertChild(t, e) {
          this._fireChange("children", this);
          let n = 0;
          const i = Ju(this.document, e);
          for (const e of i) {
            if (e.parent !== null) {
              e._remove();
            }
            e.parent = this;
            e.document = this.document;
            this._children.splice(t, 0, e);
            t++;
            n++;
          }
          return n;
        }
        _removeChildren(t, e = 1) {
          this._fireChange("children", this);
          for (let n = t; n < t + e; n++) {
            this._children[n].parent = null;
          }
          return this._children.splice(t, e);
        }
        _setAttribute(t, e) {
          e = String(e);
          this._fireChange("attributes", this);
          if (t == "class") {
            Qu(this._classes, e);
          } else if (t == "style") {
            this._styles.setTo(e);
          } else {
            this._attrs.set(t, e);
          }
        }
        _removeAttribute(t) {
          this._fireChange("attributes", this);
          if (t == "class") {
            if (this._classes.size > 0) {
              this._classes.clear();
              return true;
            }
            return false;
          }
          if (t == "style") {
            if (!this._styles.isEmpty) {
              this._styles.clear();
              return true;
            }
            return false;
          }
          return this._attrs.delete(t);
        }
        _addClass(t) {
          this._fireChange("attributes", this);
          for (const e of Yc(t)) {
            this._classes.add(e);
          }
        }
        _removeClass(t) {
          this._fireChange("attributes", this);
          for (const e of Yc(t)) {
            this._classes.delete(e);
          }
        }
        _setStyle(t, e) {
          this._fireChange("attributes", this);
          if (he(t)) {
            this._styles.set(t);
          } else {
            this._styles.set(t, e);
          }
        }
        _removeStyle(t) {
          this._fireChange("attributes", this);
          for (const e of Yc(t)) {
            this._styles.remove(e);
          }
        }
        _setCustomProperty(t, e) {
          this._customProperties.set(t, e);
        }
        _removeCustomProperty(t) {
          return this._customProperties.delete(t);
        }
      }
      Yu.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return e === this.name && (t === "element" || t === "view:element");
        }
      };
      function Zu(t) {
        const e = dl(t);
        for (const [t, n] of e) {
          if (n === null) {
            e.delete(t);
          } else if (typeof n != "string") {
            e.set(t, String(n));
          }
        }
        return e;
      }
      function Qu(t, e) {
        const n = e.split(/\\s+/);
        t.clear();
        n.forEach((e) => t.add(e));
      }
      function Ju(t, e) {
        if (typeof e == "string") {
          return [new Yl(t, e)];
        }
        if (!yt(e)) {
          e = [e];
        }
        return Array.from(e).map((e) => {
          if (typeof e == "string") {
            return new Yl(t, e);
          }
          if (e instanceof Zl) {
            return new Yl(t, e.data);
          }
          return e;
        });
      }
      class Xu extends Yu {
        constructor(...t) {
          super(...t);
          this.getFillerOffset = th;
        }
      }
      Xu.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "containerElement" ||
            t === "view:containerElement" ||
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return (
            e === this.name &&
            (t === "containerElement" ||
              t === "view:containerElement" ||
              t === "element" ||
              t === "view:element")
          );
        }
      };
      function th() {
        const t = [...this.getChildren()];
        const e = t[this.childCount - 1];
        if (e && e.is("element", "br")) {
          return this.childCount;
        }
        for (const e of t) {
          if (!e.is("uiElement")) {
            return null;
          }
        }
        return this.childCount;
      }
      class eh extends dt(Xu) {
        constructor(...t) {
          super(...t);
          const e = t[0];
          this.set("isReadOnly", false);
          this.set("isFocused", false);
          this.bind("isReadOnly").to(e);
          this.bind("isFocused").to(
            e,
            "isFocused",
            (t) => t && e.selection.editableElement == this
          );
          this.listenTo(e.selection, "change", () => {
            this.isFocused = e.isFocused && e.selection.editableElement == this;
          });
        }
        destroy() {
          this.stopListening();
        }
      }
      eh.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "editableElement" ||
            t === "view:editableElement" ||
            t === "containerElement" ||
            t === "view:containerElement" ||
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return (
            e === this.name &&
            (t === "editableElement" ||
              t === "view:editableElement" ||
              t === "containerElement" ||
              t === "view:containerElement" ||
              t === "element" ||
              t === "view:element")
          );
        }
      };
      const nh = Symbol("rootName");
      class ih extends eh {
        constructor(t, e) {
          super(t, e);
          this.rootName = "main";
        }
        get rootName() {
          return this.getCustomProperty(nh);
        }
        set rootName(t) {
          this._setCustomProperty(nh, t);
        }
        set _name(t) {
          this.name = t;
        }
      }
      ih.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "rootElement" ||
            t === "view:rootElement" ||
            t === "editableElement" ||
            t === "view:editableElement" ||
            t === "containerElement" ||
            t === "view:containerElement" ||
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return (
            e === this.name &&
            (t === "rootElement" ||
              t === "view:rootElement" ||
              t === "editableElement" ||
              t === "view:editableElement" ||
              t === "containerElement" ||
              t === "view:containerElement" ||
              t === "element" ||
              t === "view:element")
          );
        }
      };
      class oh {
        constructor(t = {}) {
          if (!t.boundaries && !t.startPosition) {
            throw new M("view-tree-walker-no-start-position", null);
          }
          if (
            t.direction &&
            t.direction != "forward" &&
            t.direction != "backward"
          ) {
            throw new M("view-tree-walker-unknown-direction", t.startPosition, {
              direction: t.direction,
            });
          }
          this.boundaries = t.boundaries || null;
          if (t.startPosition) {
            this.position = rh._createAt(t.startPosition);
          } else {
            this.position = rh._createAt(
              t.boundaries[t.direction == "backward" ? "end" : "start"]
            );
          }
          this.direction = t.direction || "forward";
          this.singleCharacters = !!t.singleCharacters;
          this.shallow = !!t.shallow;
          this.ignoreElementEnd = !!t.ignoreElementEnd;
          this._boundaryStartParent = this.boundaries
            ? this.boundaries.start.parent
            : null;
          this._boundaryEndParent = this.boundaries
            ? this.boundaries.end.parent
            : null;
        }
        [Symbol.iterator]() {
          return this;
        }
        skip(t) {
          let e, n, i;
          do {
            i = this.position;
            ({ done: e, value: n } = this.next());
          } while (!e && t(n));
          if (!e) {
            this.position = i;
          }
        }
        next() {
          if (this.direction == "forward") {
            return this._next();
          } else {
            return this._previous();
          }
        }
        _next() {
          let t = this.position.clone();
          const e = this.position;
          const n = t.parent;
          if (n.parent === null && t.offset === n.childCount) {
            return { done: true, value: undefined };
          }
          if (
            n === this._boundaryEndParent &&
            t.offset == this.boundaries.end.offset
          ) {
            return { done: true, value: undefined };
          }
          let i;
          if (n instanceof Yl) {
            if (t.isAtEnd) {
              this.position = rh._createAfter(n);
              return this._next();
            }
            i = n.data[t.offset];
          } else {
            i = n.getChild(t.offset);
          }
          if (i instanceof Yu) {
            if (!this.shallow) {
              t = new rh(i, 0);
            } else {
              t.offset++;
            }
            this.position = t;
            return this._formatReturnValue("elementStart", i, e, t, 1);
          } else if (i instanceof Yl) {
            if (this.singleCharacters) {
              t = new rh(i, 0);
              this.position = t;
              return this._next();
            } else {
              let n = i.data.length;
              let o;
              if (i == this._boundaryEndParent) {
                n = this.boundaries.end.offset;
                o = new Zl(i, 0, n);
                t = rh._createAfter(o);
              } else {
                o = new Zl(i, 0, i.data.length);
                t.offset++;
              }
              this.position = t;
              return this._formatReturnValue("text", o, e, t, n);
            }
          } else if (typeof i == "string") {
            let i;
            if (this.singleCharacters) {
              i = 1;
            } else {
              const e =
                n === this._boundaryEndParent
                  ? this.boundaries.end.offset
                  : n.data.length;
              i = e - t.offset;
            }
            const o = new Zl(n, t.offset, i);
            t.offset += i;
            this.position = t;
            return this._formatReturnValue("text", o, e, t, i);
          } else {
            t = rh._createAfter(n);
            this.position = t;
            if (this.ignoreElementEnd) {
              return this._next();
            } else {
              return this._formatReturnValue("elementEnd", n, e, t);
            }
          }
        }
        _previous() {
          let t = this.position.clone();
          const e = this.position;
          const n = t.parent;
          if (n.parent === null && t.offset === 0) {
            return { done: true, value: undefined };
          }
          if (
            n == this._boundaryStartParent &&
            t.offset == this.boundaries.start.offset
          ) {
            return { done: true, value: undefined };
          }
          let i;
          if (n instanceof Yl) {
            if (t.isAtStart) {
              this.position = rh._createBefore(n);
              return this._previous();
            }
            i = n.data[t.offset - 1];
          } else {
            i = n.getChild(t.offset - 1);
          }
          if (i instanceof Yu) {
            if (!this.shallow) {
              t = new rh(i, i.childCount);
              this.position = t;
              if (this.ignoreElementEnd) {
                return this._previous();
              } else {
                return this._formatReturnValue("elementEnd", i, e, t);
              }
            } else {
              t.offset--;
              this.position = t;
              return this._formatReturnValue("elementStart", i, e, t, 1);
            }
          } else if (i instanceof Yl) {
            if (this.singleCharacters) {
              t = new rh(i, i.data.length);
              this.position = t;
              return this._previous();
            } else {
              let n = i.data.length;
              let o;
              if (i == this._boundaryStartParent) {
                const e = this.boundaries.start.offset;
                o = new Zl(i, e, i.data.length - e);
                n = o.data.length;
                t = rh._createBefore(o);
              } else {
                o = new Zl(i, 0, i.data.length);
                t.offset--;
              }
              this.position = t;
              return this._formatReturnValue("text", o, e, t, n);
            }
          } else if (typeof i == "string") {
            let i;
            if (!this.singleCharacters) {
              const e =
                n === this._boundaryStartParent
                  ? this.boundaries.start.offset
                  : 0;
              i = t.offset - e;
            } else {
              i = 1;
            }
            t.offset -= i;
            const o = new Zl(n, t.offset, i);
            this.position = t;
            return this._formatReturnValue("text", o, e, t, i);
          } else {
            t = rh._createBefore(n);
            this.position = t;
            return this._formatReturnValue("elementStart", n, e, t, 1);
          }
        }
        _formatReturnValue(t, e, n, i, o) {
          if (e instanceof Zl) {
            if (e.offsetInText + e.data.length == e.textNode.data.length) {
              if (
                this.direction == "forward" &&
                !(this.boundaries && this.boundaries.end.isEqual(this.position))
              ) {
                i = rh._createAfter(e.textNode);
                this.position = i;
              } else {
                n = rh._createAfter(e.textNode);
              }
            }
            if (e.offsetInText === 0) {
              if (
                this.direction == "backward" &&
                !(
                  this.boundaries &&
                  this.boundaries.start.isEqual(this.position)
                )
              ) {
                i = rh._createBefore(e.textNode);
                this.position = i;
              } else {
                n = rh._createBefore(e.textNode);
              }
            }
          }
          return {
            done: false,
            value: {
              type: t,
              item: e,
              previousPosition: n,
              nextPosition: i,
              length: o,
            },
          };
        }
      }
      class rh extends ql {
        constructor(t, e) {
          super();
          this.parent = t;
          this.offset = e;
        }
        get nodeAfter() {
          if (this.parent.is("$text")) {
            return null;
          }
          return this.parent.getChild(this.offset) || null;
        }
        get nodeBefore() {
          if (this.parent.is("$text")) {
            return null;
          }
          return this.parent.getChild(this.offset - 1) || null;
        }
        get isAtStart() {
          return this.offset === 0;
        }
        get isAtEnd() {
          const t = this.parent.is("$text")
            ? this.parent.data.length
            : this.parent.childCount;
          return this.offset === t;
        }
        get root() {
          return this.parent.root;
        }
        get editableElement() {
          let t = this.parent;
          while (!(t instanceof eh)) {
            if (t.parent) {
              t = t.parent;
            } else {
              return null;
            }
          }
          return t;
        }
        getShiftedBy(t) {
          const e = rh._createAt(this);
          const n = e.offset + t;
          e.offset = n < 0 ? 0 : n;
          return e;
        }
        getLastMatchingPosition(t, e = {}) {
          e.startPosition = this;
          const n = new oh(e);
          n.skip(t);
          return n.position;
        }
        getAncestors() {
          if (this.parent.is("documentFragment")) {
            return [this.parent];
          } else {
            return this.parent.getAncestors({ includeSelf: true });
          }
        }
        getCommonAncestor(t) {
          const e = this.getAncestors();
          const n = t.getAncestors();
          let i = 0;
          while (e[i] == n[i] && e[i]) {
            i++;
          }
          return i === 0 ? null : e[i - 1];
        }
        isEqual(t) {
          return this.parent == t.parent && this.offset == t.offset;
        }
        isBefore(t) {
          return this.compareWith(t) == "before";
        }
        isAfter(t) {
          return this.compareWith(t) == "after";
        }
        compareWith(t) {
          if (this.root !== t.root) {
            return "different";
          }
          if (this.isEqual(t)) {
            return "same";
          }
          const e = this.parent.is("node") ? this.parent.getPath() : [];
          const n = t.parent.is("node") ? t.parent.getPath() : [];
          e.push(this.offset);
          n.push(t.offset);
          const i = vt(e, n);
          switch (i) {
            case "prefix":
              return "before";
            case "extension":
              return "after";
            default:
              return e[i] < n[i] ? "before" : "after";
          }
        }
        getWalker(t = {}) {
          t.startPosition = this;
          return new oh(t);
        }
        clone() {
          return new rh(this.parent, this.offset);
        }
        static _createAt(t, e) {
          if (t instanceof rh) {
            return new this(t.parent, t.offset);
          } else {
            const n = t;
            if (e == "end") {
              e = n.is("$text") ? n.data.length : n.childCount;
            } else if (e == "before") {
              return this._createBefore(n);
            } else if (e == "after") {
              return this._createAfter(n);
            } else if (e !== 0 && !e) {
              throw new M("view-createpositionat-offset-required", n);
            }
            return new rh(n, e);
          }
        }
        static _createAfter(t) {
          if (t.is("$textProxy")) {
            return new rh(t.textNode, t.offsetInText + t.data.length);
          }
          if (!t.parent) {
            throw new M("view-position-after-root", t, { root: t });
          }
          return new rh(t.parent, t.index + 1);
        }
        static _createBefore(t) {
          if (t.is("$textProxy")) {
            return new rh(t.textNode, t.offsetInText);
          }
          if (!t.parent) {
            throw new M("view-position-before-root", t, { root: t });
          }
          return new rh(t.parent, t.index);
        }
      }
      rh.prototype.is = function (t) {
        return t === "position" || t === "view:position";
      };
      class sh extends ql {
        constructor(t, e = null) {
          super();
          this.start = t.clone();
          this.end = e ? e.clone() : t.clone();
        }
        *[Symbol.iterator]() {
          yield* new oh({ boundaries: this, ignoreElementEnd: true });
        }
        get isCollapsed() {
          return this.start.isEqual(this.end);
        }
        get isFlat() {
          return this.start.parent === this.end.parent;
        }
        get root() {
          return this.start.root;
        }
        getEnlarged() {
          let t = this.start.getLastMatchingPosition(ah, {
            direction: "backward",
          });
          let e = this.end.getLastMatchingPosition(ah);
          if (t.parent.is("$text") && t.isAtStart) {
            t = rh._createBefore(t.parent);
          }
          if (e.parent.is("$text") && e.isAtEnd) {
            e = rh._createAfter(e.parent);
          }
          return new sh(t, e);
        }
        getTrimmed() {
          let t = this.start.getLastMatchingPosition(ah);
          if (t.isAfter(this.end) || t.isEqual(this.end)) {
            return new sh(t, t);
          }
          let e = this.end.getLastMatchingPosition(ah, {
            direction: "backward",
          });
          const n = t.nodeAfter;
          const i = e.nodeBefore;
          if (n && n.is("$text")) {
            t = new rh(n, 0);
          }
          if (i && i.is("$text")) {
            e = new rh(i, i.data.length);
          }
          return new sh(t, e);
        }
        isEqual(t) {
          return (
            this == t ||
            (this.start.isEqual(t.start) && this.end.isEqual(t.end))
          );
        }
        containsPosition(t) {
          return t.isAfter(this.start) && t.isBefore(this.end);
        }
        containsRange(t, e = false) {
          if (t.isCollapsed) {
            e = false;
          }
          const n =
            this.containsPosition(t.start) ||
            (e && this.start.isEqual(t.start));
          const i =
            this.containsPosition(t.end) || (e && this.end.isEqual(t.end));
          return n && i;
        }
        getDifference(t) {
          const e = [];
          if (this.isIntersecting(t)) {
            if (this.containsPosition(t.start)) {
              e.push(new sh(this.start, t.start));
            }
            if (this.containsPosition(t.end)) {
              e.push(new sh(t.end, this.end));
            }
          } else {
            e.push(this.clone());
          }
          return e;
        }
        getIntersection(t) {
          if (this.isIntersecting(t)) {
            let e = this.start;
            let n = this.end;
            if (this.containsPosition(t.start)) {
              e = t.start;
            }
            if (this.containsPosition(t.end)) {
              n = t.end;
            }
            return new sh(e, n);
          }
          return null;
        }
        getWalker(t = {}) {
          t.boundaries = this;
          return new oh(t);
        }
        getCommonAncestor() {
          return this.start.getCommonAncestor(this.end);
        }
        getContainedElement() {
          if (this.isCollapsed) {
            return null;
          }
          let t = this.start.nodeAfter;
          let e = this.end.nodeBefore;
          if (
            this.start.parent.is("$text") &&
            this.start.isAtEnd &&
            this.start.parent.nextSibling
          ) {
            t = this.start.parent.nextSibling;
          }
          if (
            this.end.parent.is("$text") &&
            this.end.isAtStart &&
            this.end.parent.previousSibling
          ) {
            e = this.end.parent.previousSibling;
          }
          if (t && t.is("element") && t === e) {
            return t;
          }
          return null;
        }
        clone() {
          return new sh(this.start, this.end);
        }
        *getItems(t = {}) {
          t.boundaries = this;
          t.ignoreElementEnd = true;
          const e = new oh(t);
          for (const t of e) {
            yield t.item;
          }
        }
        *getPositions(t = {}) {
          t.boundaries = this;
          const e = new oh(t);
          yield e.position;
          for (const t of e) {
            yield t.nextPosition;
          }
        }
        isIntersecting(t) {
          return this.start.isBefore(t.end) && this.end.isAfter(t.start);
        }
        static _createFromParentsAndOffsets(t, e, n, i) {
          return new this(new rh(t, e), new rh(n, i));
        }
        static _createFromPositionAndShift(t, e) {
          const n = t;
          const i = t.getShiftedBy(e);
          return e > 0 ? new this(n, i) : new this(i, n);
        }
        static _createIn(t) {
          return this._createFromParentsAndOffsets(t, 0, t, t.childCount);
        }
        static _createOn(t) {
          const e = t.is("$textProxy") ? t.offsetSize : 1;
          return this._createFromPositionAndShift(rh._createBefore(t), e);
        }
      }
      sh.prototype.is = function (t) {
        return t === "range" || t === "view:range";
      };
      function ah(t) {
        if (t.item.is("attributeElement") || t.item.is("uiElement")) {
          return true;
        }
        return false;
      }
      class ch extends q(ql) {
        constructor(...t) {
          super();
          this._ranges = [];
          this._lastRangeBackward = false;
          this._isFake = false;
          this._fakeSelectionLabel = "";
          if (t.length) {
            this.setTo(...t);
          }
        }
        get isFake() {
          return this._isFake;
        }
        get fakeSelectionLabel() {
          return this._fakeSelectionLabel;
        }
        get anchor() {
          if (!this._ranges.length) {
            return null;
          }
          const t = this._ranges[this._ranges.length - 1];
          const e = this._lastRangeBackward ? t.end : t.start;
          return e.clone();
        }
        get focus() {
          if (!this._ranges.length) {
            return null;
          }
          const t = this._ranges[this._ranges.length - 1];
          const e = this._lastRangeBackward ? t.start : t.end;
          return e.clone();
        }
        get isCollapsed() {
          return this.rangeCount === 1 && this._ranges[0].isCollapsed;
        }
        get rangeCount() {
          return this._ranges.length;
        }
        get isBackward() {
          return !this.isCollapsed && this._lastRangeBackward;
        }
        get editableElement() {
          if (this.anchor) {
            return this.anchor.editableElement;
          }
          return null;
        }
        *getRanges() {
          for (const t of this._ranges) {
            yield t.clone();
          }
        }
        getFirstRange() {
          let t = null;
          for (const e of this._ranges) {
            if (!t || e.start.isBefore(t.start)) {
              t = e;
            }
          }
          return t ? t.clone() : null;
        }
        getLastRange() {
          let t = null;
          for (const e of this._ranges) {
            if (!t || e.end.isAfter(t.end)) {
              t = e;
            }
          }
          return t ? t.clone() : null;
        }
        getFirstPosition() {
          const t = this.getFirstRange();
          return t ? t.start.clone() : null;
        }
        getLastPosition() {
          const t = this.getLastRange();
          return t ? t.end.clone() : null;
        }
        isEqual(t) {
          if (this.isFake != t.isFake) {
            return false;
          }
          if (this.isFake && this.fakeSelectionLabel != t.fakeSelectionLabel) {
            return false;
          }
          if (this.rangeCount != t.rangeCount) {
            return false;
          } else if (this.rangeCount === 0) {
            return true;
          }
          if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus)) {
            return false;
          }
          for (const e of this._ranges) {
            let n = false;
            for (const i of t._ranges) {
              if (e.isEqual(i)) {
                n = true;
                break;
              }
            }
            if (!n) {
              return false;
            }
          }
          return true;
        }
        isSimilar(t) {
          if (this.isBackward != t.isBackward) {
            return false;
          }
          const e = _t(this.getRanges());
          const n = _t(t.getRanges());
          if (e != n) {
            return false;
          }
          if (e == 0) {
            return true;
          }
          for (let e of this.getRanges()) {
            e = e.getTrimmed();
            let n = false;
            for (let i of t.getRanges()) {
              i = i.getTrimmed();
              if (e.start.isEqual(i.start) && e.end.isEqual(i.end)) {
                n = true;
                break;
              }
            }
            if (!n) {
              return false;
            }
          }
          return true;
        }
        getSelectedElement() {
          if (this.rangeCount !== 1) {
            return null;
          }
          return this.getFirstRange().getContainedElement();
        }
        setTo(...t) {
          let [e, n, i] = t;
          if (typeof n == "object") {
            i = n;
            n = undefined;
          }
          if (e === null) {
            this._setRanges([]);
            this._setFakeOptions(i);
          } else if (e instanceof ch || e instanceof lh) {
            this._setRanges(e.getRanges(), e.isBackward);
            this._setFakeOptions({
              fake: e.isFake,
              label: e.fakeSelectionLabel,
            });
          } else if (e instanceof sh) {
            this._setRanges([e], i && i.backward);
            this._setFakeOptions(i);
          } else if (e instanceof rh) {
            this._setRanges([new sh(e)]);
            this._setFakeOptions(i);
          } else if (e instanceof Kl) {
            const t = !!i && !!i.backward;
            let o;
            if (n === undefined) {
              throw new M(
                "view-selection-setto-required-second-parameter",
                this
              );
            } else if (n == "in") {
              o = sh._createIn(e);
            } else if (n == "on") {
              o = sh._createOn(e);
            } else {
              o = new sh(rh._createAt(e, n));
            }
            this._setRanges([o], t);
            this._setFakeOptions(i);
          } else if (yt(e)) {
            this._setRanges(e, i && i.backward);
            this._setFakeOptions(i);
          } else {
            throw new M("view-selection-setto-not-selectable", this);
          }
          this.fire("change");
        }
        setFocus(t, e) {
          if (this.anchor === null) {
            throw new M("view-selection-setfocus-no-ranges", this);
          }
          const n = rh._createAt(t, e);
          if (n.compareWith(this.focus) == "same") {
            return;
          }
          const i = this.anchor;
          this._ranges.pop();
          if (n.compareWith(i) == "before") {
            this._addRange(new sh(n, i), true);
          } else {
            this._addRange(new sh(i, n));
          }
          this.fire("change");
        }
        _setRanges(t, e = false) {
          t = Array.from(t);
          this._ranges = [];
          for (const e of t) {
            this._addRange(e);
          }
          this._lastRangeBackward = !!e;
        }
        _setFakeOptions(t = {}) {
          this._isFake = !!t.fake;
          this._fakeSelectionLabel = t.fake ? t.label || "" : "";
        }
        _addRange(t, e = false) {
          if (!(t instanceof sh)) {
            throw new M("view-selection-add-range-not-range", this);
          }
          this._pushRange(t);
          this._lastRangeBackward = !!e;
        }
        _pushRange(t) {
          for (const e of this._ranges) {
            if (t.isIntersecting(e)) {
              throw new M("view-selection-range-intersects", this, {
                addedRange: t,
                intersectingRange: e,
              });
            }
          }
          this._ranges.push(new sh(t.start, t.end));
        }
      }
      ch.prototype.is = function (t) {
        return t === "selection" || t === "view:selection";
      };
      class lh extends q(ql) {
        constructor(...t) {
          super();
          this._selection = new ch();
          this._selection.delegate("change").to(this);
          if (t.length) {
            this._selection.setTo(...t);
          }
        }
        get isFake() {
          return this._selection.isFake;
        }
        get fakeSelectionLabel() {
          return this._selection.fakeSelectionLabel;
        }
        get anchor() {
          return this._selection.anchor;
        }
        get focus() {
          return this._selection.focus;
        }
        get isCollapsed() {
          return this._selection.isCollapsed;
        }
        get rangeCount() {
          return this._selection.rangeCount;
        }
        get isBackward() {
          return this._selection.isBackward;
        }
        get editableElement() {
          return this._selection.editableElement;
        }
        get _ranges() {
          return this._selection._ranges;
        }
        *getRanges() {
          yield* this._selection.getRanges();
        }
        getFirstRange() {
          return this._selection.getFirstRange();
        }
        getLastRange() {
          return this._selection.getLastRange();
        }
        getFirstPosition() {
          return this._selection.getFirstPosition();
        }
        getLastPosition() {
          return this._selection.getLastPosition();
        }
        getSelectedElement() {
          return this._selection.getSelectedElement();
        }
        isEqual(t) {
          return this._selection.isEqual(t);
        }
        isSimilar(t) {
          return this._selection.isSimilar(t);
        }
        _setTo(...t) {
          this._selection.setTo(...t);
        }
        _setFocus(t, e) {
          this._selection.setFocus(t, e);
        }
      }
      lh.prototype.is = function (t) {
        return (
          t === "selection" ||
          t == "documentSelection" ||
          t == "view:selection" ||
          t == "view:documentSelection"
        );
      };
      class dh extends y {
        constructor(t, e, n) {
          super(t, e);
          this.startRange = n;
          this._eventPhase = "none";
          this._currentTarget = null;
        }
        get eventPhase() {
          return this._eventPhase;
        }
        get currentTarget() {
          return this._currentTarget;
        }
      }
      const uh = Symbol("bubbling contexts");
      function hh(t) {
        class e extends t {
          fire(t, ...e) {
            try {
              const n = t instanceof y ? t : new y(this, t);
              const i = ph(this);
              if (!i.size) {
                return;
              }
              mh(n, "capturing", this);
              if (gh(i, "$capture", n, ...e)) {
                return n.return;
              }
              const o = n.startRange || this.selection.getFirstRange();
              const r = o ? o.getContainedElement() : null;
              const s = r ? Boolean(fh(i, r)) : false;
              let a = r || bh(o);
              mh(n, "atTarget", a);
              if (!s) {
                if (gh(i, "$text", n, ...e)) {
                  return n.return;
                }
                mh(n, "bubbling", a);
              }
              while (a) {
                if (a.is("rootElement")) {
                  if (gh(i, "$root", n, ...e)) {
                    return n.return;
                  }
                } else if (a.is("element")) {
                  if (gh(i, a.name, n, ...e)) {
                    return n.return;
                  }
                }
                if (gh(i, a, n, ...e)) {
                  return n.return;
                }
                a = a.parent;
                mh(n, "bubbling", a);
              }
              mh(n, "bubbling", this);
              gh(i, "$document", n, ...e);
              return n.return;
            } catch (t) {
              M.rethrowUnexpectedError(t, this);
            }
          }
          _addEventListener(t, e, n) {
            const i = Yc(n.context || "$document");
            const o = ph(this);
            for (const r of i) {
              let i = o.get(r);
              if (!i) {
                i = new (q())();
                o.set(r, i);
              }
              this.listenTo(i, t, e, n);
            }
          }
          _removeEventListener(t, e) {
            const n = ph(this);
            for (const i of n.values()) {
              this.stopListening(i, t, e);
            }
          }
        }
        return e;
      }
      {
        const t = hh(Object);
        ["fire", "_addEventListener", "_removeEventListener"].forEach((e) => {
          hh[e] = t.prototype[e];
        });
      }
      function mh(t, e, n) {
        if (t instanceof dh) {
          t._eventPhase = e;
          t._currentTarget = n;
        }
      }
      function gh(t, e, n, ...i) {
        const o = typeof e == "string" ? t.get(e) : fh(t, e);
        if (!o) {
          return false;
        }
        o.fire(n, ...i);
        return n.stop.called;
      }
      function fh(t, e) {
        for (const [n, i] of t) {
          if (typeof n == "function" && n(e)) {
            return i;
          }
        }
        return null;
      }
      function ph(t) {
        if (!t[uh]) {
          t[uh] = new Map();
        }
        return t[uh];
      }
      function bh(t) {
        if (!t) {
          return null;
        }
        const e = t.start.parent;
        const n = t.end.parent;
        const i = e.getPath();
        const o = n.getPath();
        return i.length > o.length ? e : n;
      }
      class kh extends hh(dt()) {
        constructor(t) {
          super();
          this.selection = new lh();
          this.roots = new rl({ idProperty: "rootName" });
          this.stylesProcessor = t;
          this.set("isReadOnly", false);
          this.set("isFocused", false);
          this.set("_isFocusChanging", false);
          this.set("isSelecting", false);
          this.set("isComposing", false);
          this._postFixers = new Set();
        }
        getRoot(t = "main") {
          return this.roots.get(t);
        }
        registerPostFixer(t) {
          this._postFixers.add(t);
        }
        destroy() {
          this.roots.map((t) => t.destroy());
          this.stopListening();
        }
        _callPostFixers(t) {
          let e = false;
          do {
            for (const n of this._postFixers) {
              e = n(t);
              if (e) {
                break;
              }
            }
          } while (e);
        }
      }
      const wh = 10;
      class Ah extends Yu {
        constructor(...t) {
          super(...t);
          this.getFillerOffset = Ch;
          this._priority = wh;
          this._id = null;
          this._clonesGroup = null;
        }
        get priority() {
          return this._priority;
        }
        get id() {
          return this._id;
        }
        getElementsWithSameId() {
          if (this.id === null) {
            throw new M(
              "attribute-element-get-elements-with-same-id-no-id",
              this
            );
          }
          return new Set(this._clonesGroup);
        }
        isSimilar(t) {
          if (this.id !== null || t.id !== null) {
            return this.id === t.id;
          }
          return super.isSimilar(t) && this.priority == t.priority;
        }
        _clone(t = false) {
          const e = super._clone(t);
          e._priority = this._priority;
          e._id = this._id;
          return e;
        }
      }
      Ah.DEFAULT_PRIORITY = wh;
      Ah.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "attributeElement" ||
            t === "view:attributeElement" ||
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return (
            e === this.name &&
            (t === "attributeElement" ||
              t === "view:attributeElement" ||
              t === "element" ||
              t === "view:element")
          );
        }
      };
      function Ch() {
        if (_h(this)) {
          return null;
        }
        let t = this.parent;
        while (t && t.is("attributeElement")) {
          if (_h(t) > 1) {
            return null;
          }
          t = t.parent;
        }
        if (!t || _h(t) > 1) {
          return null;
        }
        return this.childCount;
      }
      function _h(t) {
        return Array.from(t.getChildren()).filter((t) => !t.is("uiElement"))
          .length;
      }
      class vh extends Yu {
        constructor(t, e, n, i) {
          super(t, e, n, i);
          this.getFillerOffset = yh;
        }
        _insertChild(t, e) {
          if (e && (e instanceof Kl || Array.from(e).length > 0)) {
            throw new M("view-emptyelement-cannot-add", [this, e]);
          }
          return 0;
        }
      }
      vh.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "emptyElement" ||
            t === "view:emptyElement" ||
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return (
            e === this.name &&
            (t === "emptyElement" ||
              t === "view:emptyElement" ||
              t === "element" ||
              t === "view:element")
          );
        }
      };
      function yh() {
        return null;
      }
      class xh extends Yu {
        constructor(...t) {
          super(...t);
          this.getFillerOffset = Dh;
        }
        _insertChild(t, e) {
          if (e && (e instanceof Kl || Array.from(e).length > 0)) {
            throw new M("view-uielement-cannot-add", [this, e]);
          }
          return 0;
        }
        render(t, e) {
          return this.toDomElement(t);
        }
        toDomElement(t) {
          const e = t.createElement(this.name);
          for (const t of this.getAttributeKeys()) {
            e.setAttribute(t, this.getAttribute(t));
          }
          return e;
        }
      }
      xh.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "uiElement" ||
            t === "view:uiElement" ||
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return (
            e === this.name &&
            (t === "uiElement" ||
              t === "view:uiElement" ||
              t === "element" ||
              t === "view:element")
          );
        }
      };
      function Eh(t) {
        t.document.on("arrowKey", (e, n) => Sh(e, n, t.domConverter), {
          priority: "low",
        });
      }
      function Dh() {
        return null;
      }
      function Sh(t, e, n) {
        if (e.keyCode == Oc.arrowright) {
          const t = e.domTarget.ownerDocument.defaultView.getSelection();
          const i = t.rangeCount == 1 && t.getRangeAt(0).collapsed;
          if (i || e.shiftKey) {
            const e = t.focusNode;
            const o = t.focusOffset;
            const r = n.domPositionToView(e, o);
            if (r === null) {
              return;
            }
            let s = false;
            const a = r.getLastMatchingPosition((t) => {
              if (t.item.is("uiElement")) {
                s = true;
              }
              if (t.item.is("uiElement") || t.item.is("attributeElement")) {
                return true;
              }
              return false;
            });
            if (s) {
              const e = n.viewPositionToDom(a);
              if (i) {
                t.collapse(e.parent, e.offset);
              } else {
                t.extend(e.parent, e.offset);
              }
            }
          }
        }
      }
      class Th extends Yu {
        constructor(...t) {
          super(...t);
          this.getFillerOffset = Ih;
        }
        _insertChild(t, e) {
          if (e && (e instanceof Kl || Array.from(e).length > 0)) {
            throw new M("view-rawelement-cannot-add", [this, e]);
          }
          return 0;
        }
        render() {}
      }
      Th.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "rawElement" ||
            t === "view:rawElement" ||
            t === this.name ||
            t === "view:" + this.name ||
            t === "element" ||
            t === "view:element" ||
            t === "node" ||
            t === "view:node"
          );
        } else {
          return (
            e === this.name &&
            (t === "rawElement" ||
              t === "view:rawElement" ||
              t === "element" ||
              t === "view:element")
          );
        }
      };
      function Ih() {
        return null;
      }
      class Mh extends q(ql) {
        constructor(t, e) {
          super();
          this.document = t;
          this._children = [];
          if (e) {
            this._insertChild(0, e);
          }
        }
        [Symbol.iterator]() {
          return this._children[Symbol.iterator]();
        }
        get childCount() {
          return this._children.length;
        }
        get isEmpty() {
          return this.childCount === 0;
        }
        get root() {
          return this;
        }
        get parent() {
          return null;
        }
        _appendChild(t) {
          return this._insertChild(this.childCount, t);
        }
        getChild(t) {
          return this._children[t];
        }
        getChildIndex(t) {
          return this._children.indexOf(t);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        _insertChild(t, e) {
          this._fireChange("children", this);
          let n = 0;
          const i = Bh(this.document, e);
          for (const e of i) {
            if (e.parent !== null) {
              e._remove();
            }
            e.parent = this;
            this._children.splice(t, 0, e);
            t++;
            n++;
          }
          return n;
        }
        _removeChildren(t, e = 1) {
          this._fireChange("children", this);
          for (let n = t; n < t + e; n++) {
            this._children[n].parent = null;
          }
          return this._children.splice(t, e);
        }
        _fireChange(t, e) {
          this.fire("change:" + t, e);
        }
      }
      Mh.prototype.is = function (t) {
        return t === "documentFragment" || t === "view:documentFragment";
      };
      function Bh(t, e) {
        if (typeof e == "string") {
          return [new Yl(t, e)];
        }
        if (!yt(e)) {
          e = [e];
        }
        return Array.from(e).map((e) => {
          if (typeof e == "string") {
            return new Yl(t, e);
          }
          if (e instanceof Zl) {
            return new Yl(t, e.data);
          }
          return e;
        });
      }
      class Lh {
        constructor(t) {
          this.document = t;
          this._cloneGroups = new Map();
          this._slotFactory = null;
        }
        setSelection(...t) {
          this.document.selection._setTo(...t);
        }
        setSelectionFocus(...t) {
          this.document.selection._setFocus(...t);
        }
        createDocumentFragment(t) {
          return new Mh(this.document, t);
        }
        createText(t) {
          return new Yl(this.document, t);
        }
        createAttributeElement(t, e, n = {}) {
          const i = new Ah(this.document, t, e);
          if (typeof n.priority === "number") {
            i._priority = n.priority;
          }
          if (n.id) {
            i._id = n.id;
          }
          if (n.renderUnsafeAttributes) {
            i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes);
          }
          return i;
        }
        createContainerElement(t, e, n = {}, i = {}) {
          let o = null;
          if (he(n)) {
            i = n;
          } else {
            o = n;
          }
          const r = new Xu(this.document, t, e, o);
          if (i.renderUnsafeAttributes) {
            r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes);
          }
          return r;
        }
        createEditableElement(t, e, n = {}) {
          const i = new eh(this.document, t, e);
          if (n.renderUnsafeAttributes) {
            i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes);
          }
          return i;
        }
        createEmptyElement(t, e, n = {}) {
          const i = new vh(this.document, t, e);
          if (n.renderUnsafeAttributes) {
            i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes);
          }
          return i;
        }
        createUIElement(t, e, n) {
          const i = new xh(this.document, t, e);
          if (n) {
            i.render = n;
          }
          return i;
        }
        createRawElement(t, e, n, i = {}) {
          const o = new Th(this.document, t, e);
          if (n) {
            o.render = n;
          }
          if (i.renderUnsafeAttributes) {
            o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes);
          }
          return o;
        }
        setAttribute(t, e, n) {
          n._setAttribute(t, e);
        }
        removeAttribute(t, e) {
          e._removeAttribute(t);
        }
        addClass(t, e) {
          e._addClass(t);
        }
        removeClass(t, e) {
          e._removeClass(t);
        }
        setStyle(t, e, n) {
          if (he(t) && n === undefined) {
            e._setStyle(t);
          } else {
            n._setStyle(t, e);
          }
        }
        removeStyle(t, e) {
          e._removeStyle(t);
        }
        setCustomProperty(t, e, n) {
          n._setCustomProperty(t, e);
        }
        removeCustomProperty(t, e) {
          return e._removeCustomProperty(t);
        }
        breakAttributes(t) {
          if (t instanceof rh) {
            return this._breakAttributes(t);
          } else {
            return this._breakAttributesRange(t);
          }
        }
        breakContainer(t) {
          const e = t.parent;
          if (!e.is("containerElement")) {
            throw new M(
              "view-writer-break-non-container-element",
              this.document
            );
          }
          if (!e.parent) {
            throw new M("view-writer-break-root", this.document);
          }
          if (t.isAtStart) {
            return rh._createBefore(e);
          } else if (!t.isAtEnd) {
            const n = e._clone(false);
            this.insert(rh._createAfter(e), n);
            const i = new sh(t, rh._createAt(e, "end"));
            const o = new rh(n, 0);
            this.move(i, o);
          }
          return rh._createAfter(e);
        }
        mergeAttributes(t) {
          const e = t.offset;
          const n = t.parent;
          if (n.is("$text")) {
            return t;
          }
          if (n.is("attributeElement") && n.childCount === 0) {
            const t = n.parent;
            const e = n.index;
            n._remove();
            this._removeFromClonedElementsGroup(n);
            return this.mergeAttributes(new rh(t, e));
          }
          const i = n.getChild(e - 1);
          const o = n.getChild(e);
          if (!i || !o) {
            return t;
          }
          if (i.is("$text") && o.is("$text")) {
            return jh(i, o);
          } else if (
            i.is("attributeElement") &&
            o.is("attributeElement") &&
            i.isSimilar(o)
          ) {
            const t = i.childCount;
            i._appendChild(o.getChildren());
            o._remove();
            this._removeFromClonedElementsGroup(o);
            return this.mergeAttributes(new rh(i, t));
          }
          return t;
        }
        mergeContainers(t) {
          const e = t.nodeBefore;
          const n = t.nodeAfter;
          if (
            !e ||
            !n ||
            !e.is("containerElement") ||
            !n.is("containerElement")
          ) {
            throw new M(
              "view-writer-merge-containers-invalid-position",
              this.document
            );
          }
          const i = e.getChild(e.childCount - 1);
          const o =
            i instanceof Yl ? rh._createAt(i, "end") : rh._createAt(e, "end");
          this.move(sh._createIn(n), rh._createAt(e, "end"));
          this.remove(sh._createOn(n));
          return o;
        }
        insert(t, e) {
          e = yt(e) ? [...e] : [e];
          Vh(e, this.document);
          const n = e.reduce((t, e) => {
            const n = t[t.length - 1];
            const i = !e.is("uiElement");
            if (!n || n.breakAttributes != i) {
              t.push({ breakAttributes: i, nodes: [e] });
            } else {
              n.nodes.push(e);
            }
            return t;
          }, []);
          let i = null;
          let o = t;
          for (const { nodes: t, breakAttributes: e } of n) {
            const n = this._insertNodes(o, t, e);
            if (!i) {
              i = n.start;
            }
            o = n.end;
          }
          if (!i) {
            return new sh(t);
          }
          return new sh(i, o);
        }
        remove(t) {
          const e = t instanceof sh ? t : sh._createOn(t);
          Uh(e, this.document);
          if (e.isCollapsed) {
            return new Mh(this.document);
          }
          const { start: n, end: i } = this._breakAttributesRange(e, true);
          const o = n.parent;
          const r = i.offset - n.offset;
          const s = o._removeChildren(n.offset, r);
          for (const t of s) {
            this._removeFromClonedElementsGroup(t);
          }
          const a = this.mergeAttributes(n);
          e.start = a;
          e.end = a.clone();
          return new Mh(this.document, s);
        }
        clear(t, e) {
          Uh(t, this.document);
          const n = t.getWalker({
            direction: "backward",
            ignoreElementEnd: true,
          });
          for (const i of n) {
            const n = i.item;
            let o;
            if (n.is("element") && e.isSimilar(n)) {
              o = sh._createOn(n);
            } else if (!i.nextPosition.isAfter(t.start) && n.is("$textProxy")) {
              const t = n
                .getAncestors()
                .find((t) => t.is("element") && e.isSimilar(t));
              if (t) {
                o = sh._createIn(t);
              }
            }
            if (o) {
              if (o.end.isAfter(t.end)) {
                o.end = t.end;
              }
              if (o.start.isBefore(t.start)) {
                o.start = t.start;
              }
              this.remove(o);
            }
          }
        }
        move(t, e) {
          let n;
          if (e.isAfter(t.end)) {
            e = this._breakAttributes(e, true);
            const i = e.parent;
            const o = i.childCount;
            t = this._breakAttributesRange(t, true);
            n = this.remove(t);
            e.offset += i.childCount - o;
          } else {
            n = this.remove(t);
          }
          return this.insert(e, n);
        }
        wrap(t, e) {
          if (!(e instanceof Ah)) {
            throw new M("view-writer-wrap-invalid-attribute", this.document);
          }
          Uh(t, this.document);
          if (!t.isCollapsed) {
            return this._wrapRange(t, e);
          } else {
            let n = t.start;
            if (n.parent.is("element") && !Nh(n.parent)) {
              n = n.getLastMatchingPosition((t) => t.item.is("uiElement"));
            }
            n = this._wrapPosition(n, e);
            const i = this.document.selection;
            if (i.isCollapsed && i.getFirstPosition().isEqual(t.start)) {
              this.setSelection(n);
            }
            return new sh(n);
          }
        }
        unwrap(t, e) {
          if (!(e instanceof Ah)) {
            throw new M("view-writer-unwrap-invalid-attribute", this.document);
          }
          Uh(t, this.document);
          if (t.isCollapsed) {
            return t;
          }
          const { start: n, end: i } = this._breakAttributesRange(t, true);
          const o = n.parent;
          const r = this._unwrapChildren(o, n.offset, i.offset, e);
          const s = this.mergeAttributes(r.start);
          if (!s.isEqual(r.start)) {
            r.end.offset--;
          }
          const a = this.mergeAttributes(r.end);
          return new sh(s, a);
        }
        rename(t, e) {
          const n = new Xu(this.document, t, e.getAttributes());
          this.insert(rh._createAfter(e), n);
          this.move(sh._createIn(e), rh._createAt(n, 0));
          this.remove(sh._createOn(e));
          return n;
        }
        clearClonedElementsGroup(t) {
          this._cloneGroups.delete(t);
        }
        createPositionAt(t, e) {
          return rh._createAt(t, e);
        }
        createPositionAfter(t) {
          return rh._createAfter(t);
        }
        createPositionBefore(t) {
          return rh._createBefore(t);
        }
        createRange(...t) {
          return new sh(...t);
        }
        createRangeOn(t) {
          return sh._createOn(t);
        }
        createRangeIn(t) {
          return sh._createIn(t);
        }
        createSelection(...t) {
          return new ch(...t);
        }
        createSlot(t) {
          if (!this._slotFactory) {
            throw new M(
              "view-writer-invalid-create-slot-context",
              this.document
            );
          }
          return this._slotFactory(this, t);
        }
        _registerSlotFactory(t) {
          this._slotFactory = t;
        }
        _clearSlotFactory() {
          this._slotFactory = null;
        }
        _insertNodes(t, e, n) {
          let i;
          if (n) {
            i = zh(t);
          } else {
            i = t.parent.is("$text") ? t.parent.parent : t.parent;
          }
          if (!i) {
            throw new M(
              "view-writer-invalid-position-container",
              this.document
            );
          }
          let o;
          if (n) {
            o = this._breakAttributes(t, true);
          } else {
            o = t.parent.is("$text") ? Oh(t) : t;
          }
          const r = i._insertChild(o.offset, e);
          for (const t of e) {
            this._addToClonedElementsGroup(t);
          }
          const s = o.getShiftedBy(r);
          const a = this.mergeAttributes(o);
          if (!a.isEqual(o)) {
            s.offset--;
          }
          const c = this.mergeAttributes(s);
          return new sh(a, c);
        }
        _wrapChildren(t, e, n, i) {
          let o = e;
          const r = [];
          while (o < n) {
            const e = t.getChild(o);
            const n = e.is("$text");
            const s = e.is("attributeElement");
            if (s && this._wrapAttributeElement(i, e)) {
              r.push(new rh(t, o));
            } else if (n || !s || Ph(i, e)) {
              const n = i._clone();
              e._remove();
              n._appendChild(e);
              t._insertChild(o, n);
              this._addToClonedElementsGroup(n);
              r.push(new rh(t, o));
            } else {
              this._wrapChildren(e, 0, e.childCount, i);
            }
            o++;
          }
          let s = 0;
          for (const t of r) {
            t.offset -= s;
            if (t.offset == e) {
              continue;
            }
            const i = this.mergeAttributes(t);
            if (!i.isEqual(t)) {
              s++;
              n--;
            }
          }
          return sh._createFromParentsAndOffsets(t, e, t, n);
        }
        _unwrapChildren(t, e, n, i) {
          let o = e;
          const r = [];
          while (o < n) {
            const e = t.getChild(o);
            if (!e.is("attributeElement")) {
              o++;
              continue;
            }
            if (e.isSimilar(i)) {
              const i = e.getChildren();
              const s = e.childCount;
              e._remove();
              t._insertChild(o, i);
              this._removeFromClonedElementsGroup(e);
              r.push(new rh(t, o), new rh(t, o + s));
              o += s;
              n += s - 1;
              continue;
            }
            if (this._unwrapAttributeElement(i, e)) {
              r.push(new rh(t, o), new rh(t, o + 1));
              o++;
              continue;
            }
            this._unwrapChildren(e, 0, e.childCount, i);
            o++;
          }
          let s = 0;
          for (const t of r) {
            t.offset -= s;
            if (t.offset == e || t.offset == n) {
              continue;
            }
            const i = this.mergeAttributes(t);
            if (!i.isEqual(t)) {
              s++;
              n--;
            }
          }
          return sh._createFromParentsAndOffsets(t, e, t, n);
        }
        _wrapRange(t, e) {
          const { start: n, end: i } = this._breakAttributesRange(t, true);
          const o = n.parent;
          const r = this._wrapChildren(o, n.offset, i.offset, e);
          const s = this.mergeAttributes(r.start);
          if (!s.isEqual(r.start)) {
            r.end.offset--;
          }
          const a = this.mergeAttributes(r.end);
          return new sh(s, a);
        }
        _wrapPosition(t, e) {
          if (e.isSimilar(t.parent)) {
            return Rh(t.clone());
          }
          if (t.parent.is("$text")) {
            t = Oh(t);
          }
          const n = this.createAttributeElement("_wrapPosition-fake-element");
          n._priority = Number.POSITIVE_INFINITY;
          n.isSimilar = () => false;
          t.parent._insertChild(t.offset, n);
          const i = new sh(t, t.getShiftedBy(1));
          this.wrap(i, e);
          const o = new rh(n.parent, n.index);
          n._remove();
          const r = o.nodeBefore;
          const s = o.nodeAfter;
          if (r instanceof Yl && s instanceof Yl) {
            return jh(r, s);
          }
          return Rh(o);
        }
        _wrapAttributeElement(t, e) {
          if (!qh(t, e)) {
            return false;
          }
          if (t.name !== e.name || t.priority !== e.priority) {
            return false;
          }
          for (const n of t.getAttributeKeys()) {
            if (n === "class" || n === "style") {
              continue;
            }
            if (e.hasAttribute(n) && e.getAttribute(n) !== t.getAttribute(n)) {
              return false;
            }
          }
          for (const n of t.getStyleNames()) {
            if (e.hasStyle(n) && e.getStyle(n) !== t.getStyle(n)) {
              return false;
            }
          }
          for (const n of t.getAttributeKeys()) {
            if (n === "class" || n === "style") {
              continue;
            }
            if (!e.hasAttribute(n)) {
              this.setAttribute(n, t.getAttribute(n), e);
            }
          }
          for (const n of t.getStyleNames()) {
            if (!e.hasStyle(n)) {
              this.setStyle(n, t.getStyle(n), e);
            }
          }
          for (const n of t.getClassNames()) {
            if (!e.hasClass(n)) {
              this.addClass(n, e);
            }
          }
          return true;
        }
        _unwrapAttributeElement(t, e) {
          if (!qh(t, e)) {
            return false;
          }
          if (t.name !== e.name || t.priority !== e.priority) {
            return false;
          }
          for (const n of t.getAttributeKeys()) {
            if (n === "class" || n === "style") {
              continue;
            }
            if (!e.hasAttribute(n) || e.getAttribute(n) !== t.getAttribute(n)) {
              return false;
            }
          }
          if (!e.hasClass(...t.getClassNames())) {
            return false;
          }
          for (const n of t.getStyleNames()) {
            if (!e.hasStyle(n) || e.getStyle(n) !== t.getStyle(n)) {
              return false;
            }
          }
          for (const n of t.getAttributeKeys()) {
            if (n === "class" || n === "style") {
              continue;
            }
            this.removeAttribute(n, e);
          }
          this.removeClass(Array.from(t.getClassNames()), e);
          this.removeStyle(Array.from(t.getStyleNames()), e);
          return true;
        }
        _breakAttributesRange(t, e = false) {
          const n = t.start;
          const i = t.end;
          Uh(t, this.document);
          if (t.isCollapsed) {
            const n = this._breakAttributes(t.start, e);
            return new sh(n, n);
          }
          const o = this._breakAttributes(i, e);
          const r = o.parent.childCount;
          const s = this._breakAttributes(n, e);
          o.offset += o.parent.childCount - r;
          return new sh(s, o);
        }
        _breakAttributes(t, e = false) {
          const n = t.offset;
          const i = t.parent;
          if (t.parent.is("emptyElement")) {
            throw new M(
              "view-writer-cannot-break-empty-element",
              this.document
            );
          }
          if (t.parent.is("uiElement")) {
            throw new M("view-writer-cannot-break-ui-element", this.document);
          }
          if (t.parent.is("rawElement")) {
            throw new M("view-writer-cannot-break-raw-element", this.document);
          }
          if (!e && i.is("$text") && Hh(i.parent)) {
            return t.clone();
          }
          if (Hh(i)) {
            return t.clone();
          }
          if (i.is("$text")) {
            return this._breakAttributes(Oh(t), e);
          }
          const o = i.childCount;
          if (n == o) {
            const t = new rh(i.parent, i.index + 1);
            return this._breakAttributes(t, e);
          } else {
            if (n === 0) {
              const t = new rh(i.parent, i.index);
              return this._breakAttributes(t, e);
            } else {
              const t = i.index + 1;
              const o = i._clone();
              i.parent._insertChild(t, o);
              this._addToClonedElementsGroup(o);
              const r = i.childCount - n;
              const s = i._removeChildren(n, r);
              o._appendChild(s);
              const a = new rh(i.parent, t);
              return this._breakAttributes(a, e);
            }
          }
        }
        _addToClonedElementsGroup(t) {
          if (!t.root.is("rootElement")) {
            return;
          }
          if (t.is("element")) {
            for (const e of t.getChildren()) {
              this._addToClonedElementsGroup(e);
            }
          }
          const e = t.id;
          if (!e) {
            return;
          }
          let n = this._cloneGroups.get(e);
          if (!n) {
            n = new Set();
            this._cloneGroups.set(e, n);
          }
          n.add(t);
          t._clonesGroup = n;
        }
        _removeFromClonedElementsGroup(t) {
          if (t.is("element")) {
            for (const e of t.getChildren()) {
              this._removeFromClonedElementsGroup(e);
            }
          }
          const e = t.id;
          if (!e) {
            return;
          }
          const n = this._cloneGroups.get(e);
          if (!n) {
            return;
          }
          n.delete(t);
        }
      }
      function Nh(t) {
        return Array.from(t.getChildren()).some((t) => !t.is("uiElement"));
      }
      function zh(t) {
        let e = t.parent;
        while (!Hh(e)) {
          if (!e) {
            return undefined;
          }
          e = e.parent;
        }
        return e;
      }
      function Ph(t, e) {
        if (t.priority < e.priority) {
          return true;
        } else if (t.priority > e.priority) {
          return false;
        }
        return t.getIdentity() < e.getIdentity();
      }
      function Rh(t) {
        const e = t.nodeBefore;
        if (e && e.is("$text")) {
          return new rh(e, e.data.length);
        }
        const n = t.nodeAfter;
        if (n && n.is("$text")) {
          return new rh(n, 0);
        }
        return t;
      }
      function Oh(t) {
        if (t.offset == t.parent.data.length) {
          return new rh(t.parent.parent, t.parent.index + 1);
        }
        if (t.offset === 0) {
          return new rh(t.parent.parent, t.parent.index);
        }
        const e = t.parent.data.slice(t.offset);
        t.parent._data = t.parent.data.slice(0, t.offset);
        t.parent.parent._insertChild(
          t.parent.index + 1,
          new Yl(t.root.document, e)
        );
        return new rh(t.parent.parent, t.parent.index + 1);
      }
      function jh(t, e) {
        const n = t.data.length;
        t._data += e.data;
        e._remove();
        return new rh(t, n);
      }
      const Fh = [Yl, Ah, Xu, vh, Th, xh];
      function Vh(t, e) {
        for (const n of t) {
          if (!Fh.some((t) => n instanceof t)) {
            throw new M("view-writer-insert-invalid-node-type", e);
          }
          if (!n.is("$text")) {
            Vh(n.getChildren(), e);
          }
        }
      }
      function Hh(t) {
        return t && (t.is("containerElement") || t.is("documentFragment"));
      }
      function Uh(t, e) {
        const n = zh(t.start);
        const i = zh(t.end);
        if (!n || !i || n !== i) {
          throw new M("view-writer-invalid-range-container", e);
        }
      }
      function qh(t, e) {
        return t.id === null && e.id === null;
      }
      const Wh = (t) => t.createTextNode("\xA0");
      const Gh = (t) => {
        const e = t.createElement("span");
        e.dataset.ckeFiller = "true";
        e.innerText = "\xA0";
        return e;
      };
      const $h = (t) => {
        const e = t.createElement("br");
        e.dataset.ckeFiller = "true";
        return e;
      };
      const Kh = 7;
      const Yh = "\u2060".repeat(Kh);
      function Zh(t) {
        return nc(t) && t.data.substr(0, Kh) === Yh;
      }
      function Qh(t) {
        return t.data.length == Kh && Zh(t);
      }
      function Jh(t) {
        if (Zh(t)) {
          return t.data.slice(Kh);
        } else {
          return t.data;
        }
      }
      function Xh(t) {
        t.document.on("arrowKey", tm, { priority: "low" });
      }
      function tm(t, e) {
        if (e.keyCode == Oc.arrowleft) {
          const t = e.domTarget.ownerDocument.defaultView.getSelection();
          if (t.rangeCount == 1 && t.getRangeAt(0).collapsed) {
            const e = t.getRangeAt(0).startContainer;
            const n = t.getRangeAt(0).startOffset;
            if (Zh(e) && n <= Kh) {
              t.collapse(e, 0);
            }
          }
        }
      }
      var em = n(4401);
      var nm = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      nm.insert = "head";
      nm.singleton = true;
      var im = Il()(em.Z, nm);
      const om = em.Z.locals || {};
      class rm extends dt() {
        constructor(t, e) {
          super();
          this.domDocuments = new Set();
          this.domConverter = t;
          this.markedAttributes = new Set();
          this.markedChildren = new Set();
          this.markedTexts = new Set();
          this.selection = e;
          this.set("isFocused", false);
          this.set("_isFocusChanging", false);
          this.set("isSelecting", false);
          if (r.isBlink && !r.isAndroid) {
            this.on("change:isSelecting", () => {
              if (!this.isSelecting) {
                this.render();
              }
            });
          }
          this.set("isComposing", false);
          this.on("change:isComposing", () => {
            if (!this.isComposing) {
              this.render();
            }
          });
          this._inlineFiller = null;
          this._fakeSelectionContainer = null;
        }
        markToSync(t, e) {
          if (t === "text") {
            if (this.domConverter.mapViewToDom(e.parent)) {
              this.markedTexts.add(e);
            }
          } else {
            if (!this.domConverter.mapViewToDom(e)) {
              return;
            }
            if (t === "attributes") {
              this.markedAttributes.add(e);
            } else if (t === "children") {
              this.markedChildren.add(e);
            } else {
              throw new M("view-renderer-unknown-type", this);
            }
          }
        }
        render() {
          if (this.isComposing && !r.isAndroid) {
            return;
          }
          let t = null;
          const e = r.isBlink && !r.isAndroid ? !this.isSelecting : true;
          for (const t of this.markedChildren) {
            this._updateChildrenMappings(t);
          }
          if (e) {
            if (this._inlineFiller && !this._isSelectionInInlineFiller()) {
              this._removeInlineFiller();
            }
            if (this._inlineFiller) {
              t = this._getInlineFillerPosition();
            } else if (this._needsInlineFillerAtSelection()) {
              t = this.selection.getFirstPosition();
              this.markedChildren.add(t.parent);
            }
          } else if (this._inlineFiller && this._inlineFiller.parentNode) {
            t = this.domConverter.domPositionToView(this._inlineFiller);
            if (t && t.parent.is("$text")) {
              t = rh._createBefore(t.parent);
            }
          }
          for (const t of this.markedAttributes) {
            this._updateAttrs(t);
          }
          for (const e of this.markedChildren) {
            this._updateChildren(e, { inlineFillerPosition: t });
          }
          for (const e of this.markedTexts) {
            if (
              !this.markedChildren.has(e.parent) &&
              this.domConverter.mapViewToDom(e.parent)
            ) {
              this._updateText(e, { inlineFillerPosition: t });
            }
          }
          if (e) {
            if (t) {
              const e = this.domConverter.viewPositionToDom(t);
              const n = e.parent.ownerDocument;
              if (!Zh(e.parent)) {
                this._inlineFiller = am(n, e.parent, e.offset);
              } else {
                this._inlineFiller = e.parent;
              }
            } else {
              this._inlineFiller = null;
            }
          }
          this._updateFocus();
          this._updateSelection();
          this.markedTexts.clear();
          this.markedAttributes.clear();
          this.markedChildren.clear();
        }
        _updateChildrenMappings(t) {
          const e = this.domConverter.mapViewToDom(t);
          if (!e) {
            return;
          }
          const n = Array.from(this.domConverter.mapViewToDom(t).childNodes);
          const i = Array.from(
            this.domConverter.viewChildrenToDom(t, { withChildren: false })
          );
          const o = this._diffNodeLists(n, i);
          const r = this._findReplaceActions(o, n, i);
          if (r.indexOf("replace") !== -1) {
            const e = { equal: 0, insert: 0, delete: 0 };
            for (const o of r) {
              if (o === "replace") {
                const o = e.equal + e.insert;
                const r = e.equal + e.delete;
                const s = t.getChild(o);
                if (s && !(s.is("uiElement") || s.is("rawElement"))) {
                  this._updateElementMappings(s, n[r]);
                }
                yc(i[o]);
                e.equal++;
              } else {
                e[o]++;
              }
            }
          }
        }
        _updateElementMappings(t, e) {
          this.domConverter.unbindDomElement(e);
          this.domConverter.bindElements(e, t);
          this.markedChildren.add(t);
          this.markedAttributes.add(t);
        }
        _getInlineFillerPosition() {
          const t = this.selection.getFirstPosition();
          if (t.parent.is("$text")) {
            return rh._createBefore(t.parent);
          } else {
            return t;
          }
        }
        _isSelectionInInlineFiller() {
          if (this.selection.rangeCount != 1 || !this.selection.isCollapsed) {
            return false;
          }
          const t = this.selection.getFirstPosition();
          const e = this.domConverter.viewPositionToDom(t);
          if (e && nc(e.parent) && Zh(e.parent)) {
            return true;
          }
          return false;
        }
        _removeInlineFiller() {
          const t = this._inlineFiller;
          if (!Zh(t)) {
            throw new M("view-renderer-filler-was-lost", this);
          }
          if (Qh(t)) {
            t.remove();
          } else {
            t.data = t.data.substr(Kh);
          }
          this._inlineFiller = null;
        }
        _needsInlineFillerAtSelection() {
          if (this.selection.rangeCount != 1 || !this.selection.isCollapsed) {
            return false;
          }
          const t = this.selection.getFirstPosition();
          const e = t.parent;
          const n = t.offset;
          if (!this.domConverter.mapViewToDom(e.root)) {
            return false;
          }
          if (!e.is("element")) {
            return false;
          }
          if (!sm(e)) {
            return false;
          }
          if (n === e.getFillerOffset()) {
            return false;
          }
          const i = t.nodeBefore;
          const o = t.nodeAfter;
          if (i instanceof Yl || o instanceof Yl) {
            return false;
          }
          if (r.isAndroid && (i || o)) {
            return false;
          }
          return true;
        }
        _updateText(t, e) {
          const n = this.domConverter.findCorrespondingDomText(t);
          const i = this.domConverter.viewToDom(t);
          let o = i.data;
          const r = e.inlineFillerPosition;
          if (r && r.parent == t.parent && r.offset == t.index) {
            o = Yh + o;
          }
          gm(n, o);
        }
        _updateAttrs(t) {
          const e = this.domConverter.mapViewToDom(t);
          if (!e) {
            return;
          }
          const n = Array.from(e.attributes).map((t) => t.name);
          const i = t.getAttributeKeys();
          for (const n of i) {
            this.domConverter.setDomElementAttribute(
              e,
              n,
              t.getAttribute(n),
              t
            );
          }
          for (const i of n) {
            if (!t.hasAttribute(i)) {
              this.domConverter.removeDomElementAttribute(e, i);
            }
          }
        }
        _updateChildren(t, e) {
          const n = this.domConverter.mapViewToDom(t);
          if (!n) {
            return;
          }
          if (r.isAndroid) {
            let t = null;
            for (const e of Array.from(n.childNodes)) {
              if (t && nc(t) && nc(e)) {
                n.normalize();
                break;
              }
              t = e;
            }
          }
          const i = e.inlineFillerPosition;
          const o = n.childNodes;
          const s = Array.from(
            this.domConverter.viewChildrenToDom(t, { bind: true })
          );
          if (i && i.parent === t) {
            am(n.ownerDocument, s, i.offset);
          }
          const a = this._diffNodeLists(o, s);
          const c = r.isAndroid
            ? this._findReplaceActions(a, o, s, { replaceText: true })
            : a;
          let l = 0;
          const d = new Set();
          for (const t of c) {
            if (t === "delete") {
              d.add(o[l]);
              yc(o[l]);
            } else if (t === "equal" || t === "replace") {
              l++;
            }
          }
          l = 0;
          for (const t of c) {
            if (t === "insert") {
              gc(n, l, s[l]);
              l++;
            } else if (t === "replace") {
              gm(o[l], s[l].data);
              l++;
            } else if (t === "equal") {
              this._markDescendantTextToSync(this.domConverter.domToView(s[l]));
              l++;
            }
          }
          for (const t of d) {
            if (!t.parentNode) {
              this.domConverter.unbindDomElement(t);
            }
          }
        }
        _diffNodeLists(t, e) {
          t = hm(t, this._fakeSelectionContainer);
          return A(t, e, dm.bind(null, this.domConverter));
        }
        _findReplaceActions(t, e, n, i = {}) {
          if (t.indexOf("insert") === -1 || t.indexOf("delete") === -1) {
            return t;
          }
          let o = [];
          let r = [];
          let s = [];
          const a = { equal: 0, insert: 0, delete: 0 };
          for (const c of t) {
            if (c === "insert") {
              s.push(n[a.equal + a.insert]);
            } else if (c === "delete") {
              r.push(e[a.equal + a.delete]);
            } else {
              o = o.concat(
                A(r, s, i.replaceText ? lm : cm).map((t) =>
                  t === "equal" ? "replace" : t
                )
              );
              o.push("equal");
              r = [];
              s = [];
            }
            a[c]++;
          }
          return o.concat(
            A(r, s, i.replaceText ? lm : cm).map((t) =>
              t === "equal" ? "replace" : t
            )
          );
        }
        _markDescendantTextToSync(t) {
          if (!t) {
            return;
          }
          if (t.is("$text")) {
            this.markedTexts.add(t);
          } else if (t.is("element")) {
            for (const e of t.getChildren()) {
              this._markDescendantTextToSync(e);
            }
          }
        }
        _updateSelection() {
          if (
            r.isBlink &&
            !r.isAndroid &&
            this.isSelecting &&
            !this.markedChildren.size
          ) {
            return;
          }
          if (this._isFocusChanging) {
            return;
          }
          if (this.selection.rangeCount === 0) {
            this._removeDomSelection();
            this._removeFakeSelection();
            return;
          }
          const t = this.domConverter.mapViewToDom(
            this.selection.editableElement
          );
          if (!this.isFocused || !t) {
            return;
          }
          if (this.selection.isFake) {
            this._updateFakeSelection(t);
          } else if (
            this._fakeSelectionContainer &&
            this._fakeSelectionContainer.isConnected
          ) {
            this._removeFakeSelection();
            this._updateDomSelection(t);
          } else if (!(this.isComposing && r.isAndroid)) {
            this._updateDomSelection(t);
          }
        }
        _updateFakeSelection(t) {
          const e = t.ownerDocument;
          if (!this._fakeSelectionContainer) {
            this._fakeSelectionContainer = mm(e);
          }
          const n = this._fakeSelectionContainer;
          this.domConverter.bindFakeSelection(n, this.selection);
          if (!this._fakeSelectionNeedsUpdate(t)) {
            return;
          }
          if (!n.parentElement || n.parentElement != t) {
            t.appendChild(n);
          }
          n.textContent = this.selection.fakeSelectionLabel || "\xA0";
          const i = e.getSelection();
          const o = e.createRange();
          i.removeAllRanges();
          o.selectNodeContents(n);
          i.addRange(o);
        }
        _updateDomSelection(t) {
          const e = t.ownerDocument.defaultView.getSelection();
          if (!this._domSelectionNeedsUpdate(e)) {
            return;
          }
          const n = this.domConverter.viewPositionToDom(this.selection.anchor);
          const i = this.domConverter.viewPositionToDom(this.selection.focus);
          e.collapse(n.parent, n.offset);
          e.extend(i.parent, i.offset);
          if (r.isGecko) {
            um(i, e);
          }
        }
        _domSelectionNeedsUpdate(t) {
          if (!this.domConverter.isDomSelectionCorrect(t)) {
            return true;
          }
          const e = t && this.domConverter.domSelectionToView(t);
          if (e && this.selection.isEqual(e)) {
            return false;
          }
          if (!this.selection.isCollapsed && this.selection.isSimilar(e)) {
            return false;
          }
          return true;
        }
        _fakeSelectionNeedsUpdate(t) {
          const e = this._fakeSelectionContainer;
          const n = t.ownerDocument.getSelection();
          if (!e || e.parentElement !== t) {
            return true;
          }
          if (n.anchorNode !== e && !e.contains(n.anchorNode)) {
            return true;
          }
          return e.textContent !== this.selection.fakeSelectionLabel;
        }
        _removeDomSelection() {
          for (const t of this.domDocuments) {
            const e = t.getSelection();
            if (e.rangeCount) {
              const n = t.activeElement;
              const i = this.domConverter.mapDomToView(n);
              if (n && i) {
                e.removeAllRanges();
              }
            }
          }
        }
        _removeFakeSelection() {
          const t = this._fakeSelectionContainer;
          if (t) {
            t.remove();
          }
        }
        _updateFocus() {
          if (this.isFocused) {
            const t = this.selection.editableElement;
            if (t) {
              this.domConverter.focus(t);
            }
          }
        }
      }
      function sm(t) {
        if (t.getAttribute("contenteditable") == "false") {
          return false;
        }
        const e = t.findAncestor((t) => t.hasAttribute("contenteditable"));
        return !e || e.getAttribute("contenteditable") == "true";
      }
      function am(t, e, n) {
        const i = e instanceof Array ? e : e.childNodes;
        const o = i[n];
        if (nc(o)) {
          o.data = Yh + o.data;
          return o;
        } else {
          const o = t.createTextNode(Yh);
          if (Array.isArray(e)) {
            i.splice(n, 0, o);
          } else {
            gc(e, n, o);
          }
          return o;
        }
      }
      function cm(t, e) {
        return (
          Wa(t) &&
          Wa(e) &&
          !nc(t) &&
          !nc(e) &&
          !fc(t) &&
          !fc(e) &&
          t.tagName.toLowerCase() === e.tagName.toLowerCase()
        );
      }
      function lm(t, e) {
        return Wa(t) && Wa(e) && nc(t) && nc(e);
      }
      function dm(t, e, n) {
        if (e === n) {
          return true;
        } else if (nc(e) && nc(n)) {
          return e.data === n.data;
        } else if (t.isBlockFiller(e) && t.isBlockFiller(n)) {
          return true;
        }
        return false;
      }
      function um(t, e) {
        const n = t.parent;
        if (
          n.nodeType != Node.ELEMENT_NODE ||
          t.offset != n.childNodes.length - 1
        ) {
          return;
        }
        const i = n.childNodes[t.offset];
        if (i && i.tagName == "BR") {
          e.addRange(e.getRangeAt(0));
        }
      }
      function hm(t, e) {
        const n = Array.from(t);
        if (n.length == 0 || !e) {
          return n;
        }
        const i = n[n.length - 1];
        if (i == e) {
          n.pop();
        }
        return n;
      }
      function mm(t) {
        const e = t.createElement("div");
        e.className = "ck-fake-selection-container";
        Object.assign(e.style, {
          position: "fixed",
          top: 0,
          left: "-9999px",
          width: "42px",
        });
        e.textContent = "\xA0";
        return e;
      }
      function gm(t, e) {
        const n = t.data;
        if (n == e) {
          return;
        }
        const i = g(n, e);
        for (const e of i) {
          if (e.type === "insert") {
            t.insertData(e.index, e.values.join(""));
          } else {
            t.deleteData(e.index, e.howMany);
          }
        }
      }
      const fm = $h(Xa.document);
      const pm = Wh(Xa.document);
      const bm = Gh(Xa.document);
      const km = "data-ck-unsafe-attribute-";
      const wm = "data-ck-unsafe-element";
      class Am {
        constructor(t, e = {}) {
          this.document = t;
          this.renderingMode = e.renderingMode || "editing";
          this.blockFillerMode =
            e.blockFillerMode ||
            (this.renderingMode === "editing" ? "br" : "nbsp");
          this.preElements = ["pre"];
          this.blockElements = [
            "address",
            "article",
            "aside",
            "blockquote",
            "caption",
            "center",
            "dd",
            "details",
            "dir",
            "div",
            "dl",
            "dt",
            "fieldset",
            "figcaption",
            "figure",
            "footer",
            "form",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "header",
            "hgroup",
            "legend",
            "li",
            "main",
            "menu",
            "nav",
            "ol",
            "p",
            "pre",
            "section",
            "summary",
            "table",
            "tbody",
            "td",
            "tfoot",
            "th",
            "thead",
            "tr",
            "ul",
          ];
          this.inlineObjectElements = [
            "object",
            "iframe",
            "input",
            "button",
            "textarea",
            "select",
            "option",
            "video",
            "embed",
            "audio",
            "img",
            "canvas",
          ];
          this.unsafeElements = ["script", "style"];
          this._domDocument =
            this.renderingMode === "editing"
              ? Xa.document
              : Xa.document.implementation.createHTMLDocument("");
          this._domToViewMapping = new WeakMap();
          this._viewToDomMapping = new WeakMap();
          this._fakeSelectionMapping = new WeakMap();
          this._rawContentElementMatcher = new Ql();
          this._encounteredRawContentDomNodes = new WeakSet();
        }
        bindFakeSelection(t, e) {
          this._fakeSelectionMapping.set(t, new ch(e));
        }
        fakeSelectionToView(t) {
          return this._fakeSelectionMapping.get(t);
        }
        bindElements(t, e) {
          this._domToViewMapping.set(t, e);
          this._viewToDomMapping.set(e, t);
        }
        unbindDomElement(t) {
          const e = this._domToViewMapping.get(t);
          if (e) {
            this._domToViewMapping.delete(t);
            this._viewToDomMapping.delete(e);
            for (const e of Array.from(t.children)) {
              this.unbindDomElement(e);
            }
          }
        }
        bindDocumentFragments(t, e) {
          this._domToViewMapping.set(t, e);
          this._viewToDomMapping.set(e, t);
        }
        shouldRenderAttribute(t, e, n) {
          if (this.renderingMode === "data") {
            return true;
          }
          t = t.toLowerCase();
          if (t.startsWith("on")) {
            return false;
          }
          if (
            t === "srcdoc" &&
            e.match(/\\bon\\S+\\s*=|javascript:|<\\s*\\/*script/i)
          ) {
            return false;
          }
          if (n === "img" && (t === "src" || t === "srcset")) {
            return true;
          }
          if (n === "source" && t === "srcset") {
            return true;
          }
          if (e.match(/^\\s*(javascript:|data:(image\\/svg|text\\/x?html))/i)) {
            return false;
          }
          return true;
        }
        setContentOf(t, e) {
          if (this.renderingMode === "data") {
            t.innerHTML = e;
            return;
          }
          const n = new DOMParser().parseFromString(e, "text/html");
          const i = n.createDocumentFragment();
          const o = n.body.childNodes;
          while (o.length > 0) {
            i.appendChild(o[0]);
          }
          const r = n.createTreeWalker(i, NodeFilter.SHOW_ELEMENT);
          const s = [];
          let a;
          while ((a = r.nextNode())) {
            s.push(a);
          }
          for (const t of s) {
            for (const e of t.getAttributeNames()) {
              this.setDomElementAttribute(t, e, t.getAttribute(e));
            }
            const e = t.tagName.toLowerCase();
            if (this._shouldRenameElement(e)) {
              xm(e);
              t.replaceWith(this._createReplacementDomElement(e, t));
            }
          }
          while (t.firstChild) {
            t.firstChild.remove();
          }
          t.append(i);
        }
        viewToDom(t, e = {}) {
          if (t.is("$text")) {
            const e = this._processDataFromViewText(t);
            return this._domDocument.createTextNode(e);
          } else {
            if (this.mapViewToDom(t)) {
              return this.mapViewToDom(t);
            }
            let n;
            if (t.is("documentFragment")) {
              n = this._domDocument.createDocumentFragment();
              if (e.bind) {
                this.bindDocumentFragments(n, t);
              }
            } else if (t.is("uiElement")) {
              if (t.name === "$comment") {
                n = this._domDocument.createComment(
                  t.getCustomProperty("$rawContent")
                );
              } else {
                n = t.render(this._domDocument, this);
              }
              if (e.bind) {
                this.bindElements(n, t);
              }
              return n;
            } else {
              if (this._shouldRenameElement(t.name)) {
                xm(t.name);
                n = this._createReplacementDomElement(t.name);
              } else if (t.hasAttribute("xmlns")) {
                n = this._domDocument.createElementNS(
                  t.getAttribute("xmlns"),
                  t.name
                );
              } else {
                n = this._domDocument.createElement(t.name);
              }
              if (t.is("rawElement")) {
                t.render(n, this);
              }
              if (e.bind) {
                this.bindElements(n, t);
              }
              for (const e of t.getAttributeKeys()) {
                this.setDomElementAttribute(n, e, t.getAttribute(e), t);
              }
            }
            if (e.withChildren !== false) {
              for (const i of this.viewChildrenToDom(t, e)) {
                n.appendChild(i);
              }
            }
            return n;
          }
        }
        setDomElementAttribute(t, e, n, i) {
          const o =
            this.shouldRenderAttribute(e, n, t.tagName.toLowerCase()) ||
            (i && i.shouldRenderUnsafeAttribute(e));
          if (!o) {
            B("domconverter-unsafe-attribute-detected", {
              domElement: t,
              key: e,
              value: n,
            });
          }
          if (t.hasAttribute(e) && !o) {
            t.removeAttribute(e);
          } else if (t.hasAttribute(km + e) && o) {
            t.removeAttribute(km + e);
          }
          t.setAttribute(o ? e : km + e, n);
        }
        removeDomElementAttribute(t, e) {
          if (e == wm) {
            return;
          }
          t.removeAttribute(e);
          t.removeAttribute(km + e);
        }
        *viewChildrenToDom(t, e = {}) {
          const n = t.getFillerOffset && t.getFillerOffset();
          let i = 0;
          for (const o of t.getChildren()) {
            if (n === i) {
              yield this._getBlockFiller();
            }
            const t =
              o.is("element") &&
              o.getCustomProperty("dataPipeline:transparentRendering");
            if (t && this.renderingMode == "data") {
              yield* this.viewChildrenToDom(o, e);
            } else {
              if (t) {
                B(
                  "domconverter-transparent-rendering-unsupported-in-editing-pipeline",
                  { viewElement: o }
                );
              }
              yield this.viewToDom(o, e);
            }
            i++;
          }
          if (n === i) {
            yield this._getBlockFiller();
          }
        }
        viewRangeToDom(t) {
          const e = this.viewPositionToDom(t.start);
          const n = this.viewPositionToDom(t.end);
          const i = this._domDocument.createRange();
          i.setStart(e.parent, e.offset);
          i.setEnd(n.parent, n.offset);
          return i;
        }
        viewPositionToDom(t) {
          const e = t.parent;
          if (e.is("$text")) {
            const n = this.findCorrespondingDomText(e);
            if (!n) {
              return null;
            }
            let i = t.offset;
            if (Zh(n)) {
              i += Kh;
            }
            return { parent: n, offset: i };
          } else {
            let n, i, o;
            if (t.offset === 0) {
              n = this.mapViewToDom(e);
              if (!n) {
                return null;
              }
              o = n.childNodes[0];
            } else {
              const e = t.nodeBefore;
              i = e.is("$text")
                ? this.findCorrespondingDomText(e)
                : this.mapViewToDom(e);
              if (!i) {
                return null;
              }
              n = i.parentNode;
              o = i.nextSibling;
            }
            if (nc(o) && Zh(o)) {
              return { parent: o, offset: Kh };
            }
            const r = i ? mc(i) + 1 : 0;
            return { parent: n, offset: r };
          }
        }
        domToView(t, e = {}) {
          if (this.isBlockFiller(t)) {
            return null;
          }
          const n = this.getHostViewElement(t);
          if (n) {
            return n;
          }
          if (fc(t) && e.skipComments) {
            return null;
          }
          if (nc(t)) {
            if (Qh(t)) {
              return null;
            } else {
              const e = this._processDataFromDomText(t);
              return e === "" ? null : new Yl(this.document, e);
            }
          } else {
            if (this.mapDomToView(t)) {
              return this.mapDomToView(t);
            }
            let n;
            if (this.isDocumentFragment(t)) {
              n = new Mh(this.document);
              if (e.bind) {
                this.bindDocumentFragments(t, n);
              }
            } else {
              n = this._createViewElement(t, e);
              if (e.bind) {
                this.bindElements(t, n);
              }
              const i = t.attributes;
              if (i) {
                for (let t = i.length, e = 0; e < t; e++) {
                  n._setAttribute(i[e].name, i[e].value);
                }
              }
              if (this._isViewElementWithRawContent(n, e) || fc(t)) {
                const e = fc(t) ? t.data : t.innerHTML;
                n._setCustomProperty("$rawContent", e);
                this._encounteredRawContentDomNodes.add(t);
                return n;
              }
            }
            if (e.withChildren !== false) {
              for (const i of this.domChildrenToView(t, e)) {
                n._appendChild(i);
              }
            }
            return n;
          }
        }
        *domChildrenToView(t, e) {
          for (let n = 0; n < t.childNodes.length; n++) {
            const i = t.childNodes[n];
            const o = this.domToView(i, e);
            if (o !== null) {
              yield o;
            }
          }
        }
        domSelectionToView(t) {
          if (t.rangeCount === 1) {
            let e = t.getRangeAt(0).startContainer;
            if (nc(e)) {
              e = e.parentNode;
            }
            const n = this.fakeSelectionToView(e);
            if (n) {
              return n;
            }
          }
          const e = this.isDomSelectionBackward(t);
          const n = [];
          for (let e = 0; e < t.rangeCount; e++) {
            const i = t.getRangeAt(e);
            const o = this.domRangeToView(i);
            if (o) {
              n.push(o);
            }
          }
          return new ch(n, { backward: e });
        }
        domRangeToView(t) {
          const e = this.domPositionToView(t.startContainer, t.startOffset);
          const n = this.domPositionToView(t.endContainer, t.endOffset);
          if (e && n) {
            return new sh(e, n);
          }
          return null;
        }
        domPositionToView(t, e = 0) {
          if (this.isBlockFiller(t)) {
            return this.domPositionToView(t.parentNode, mc(t));
          }
          const n = this.mapDomToView(t);
          if (n && (n.is("uiElement") || n.is("rawElement"))) {
            return rh._createBefore(n);
          }
          if (nc(t)) {
            if (Qh(t)) {
              return this.domPositionToView(t.parentNode, mc(t));
            }
            const n = this.findCorrespondingViewText(t);
            let i = e;
            if (!n) {
              return null;
            }
            if (Zh(t)) {
              i -= Kh;
              i = i < 0 ? 0 : i;
            }
            return new rh(n, i);
          } else {
            if (e === 0) {
              const e = this.mapDomToView(t);
              if (e) {
                return new rh(e, 0);
              }
            } else {
              const n = t.childNodes[e - 1];
              if (nc(n) && Qh(n)) {
                return this.domPositionToView(n.parentNode, mc(n));
              }
              const i = nc(n)
                ? this.findCorrespondingViewText(n)
                : this.mapDomToView(n);
              if (i && i.parent) {
                return new rh(i.parent, i.index + 1);
              }
            }
            return null;
          }
        }
        mapDomToView(t) {
          const e = this.getHostViewElement(t);
          return e || this._domToViewMapping.get(t);
        }
        findCorrespondingViewText(t) {
          if (Qh(t)) {
            return null;
          }
          const e = this.getHostViewElement(t);
          if (e) {
            return e;
          }
          const n = t.previousSibling;
          if (n) {
            if (!this.isElement(n)) {
              return null;
            }
            const t = this.mapDomToView(n);
            if (t) {
              const e = t.nextSibling;
              if (e instanceof Yl) {
                return e;
              } else {
                return null;
              }
            }
          } else {
            const e = this.mapDomToView(t.parentNode);
            if (e) {
              const t = e.getChild(0);
              if (t instanceof Yl) {
                return t;
              } else {
                return null;
              }
            }
          }
          return null;
        }
        mapViewToDom(t) {
          return this._viewToDomMapping.get(t);
        }
        findCorrespondingDomText(t) {
          const e = t.previousSibling;
          if (e && this.mapViewToDom(e)) {
            return this.mapViewToDom(e).nextSibling;
          }
          if (!e && t.parent && this.mapViewToDom(t.parent)) {
            return this.mapViewToDom(t.parent).childNodes[0];
          }
          return null;
        }
        focus(t) {
          const e = this.mapViewToDom(t);
          if (e && e.ownerDocument.activeElement !== e) {
            const { scrollX: t, scrollY: n } = Xa.window;
            const i = [];
            _m(e, (t) => {
              const { scrollLeft: e, scrollTop: n } = t;
              i.push([e, n]);
            });
            e.focus();
            _m(e, (t) => {
              const [e, n] = i.shift();
              t.scrollLeft = e;
              t.scrollTop = n;
            });
            Xa.window.scrollTo(t, n);
          }
        }
        isElement(t) {
          return t && t.nodeType == Node.ELEMENT_NODE;
        }
        isDocumentFragment(t) {
          return t && t.nodeType == Node.DOCUMENT_FRAGMENT_NODE;
        }
        isBlockFiller(t) {
          if (this.blockFillerMode == "br") {
            return t.isEqualNode(fm);
          }
          if (
            t.tagName === "BR" &&
            ym(t, this.blockElements) &&
            t.parentNode.childNodes.length === 1
          ) {
            return true;
          }
          return t.isEqualNode(bm) || vm(t, this.blockElements);
        }
        isDomSelectionBackward(t) {
          if (t.isCollapsed) {
            return false;
          }
          const e = this._domDocument.createRange();
          try {
            e.setStart(t.anchorNode, t.anchorOffset);
            e.setEnd(t.focusNode, t.focusOffset);
          } catch (t) {
            return false;
          }
          const n = e.collapsed;
          e.detach();
          return n;
        }
        getHostViewElement(t) {
          const e = tc(t);
          e.pop();
          while (e.length) {
            const t = e.pop();
            const n = this._domToViewMapping.get(t);
            if (n && (n.is("uiElement") || n.is("rawElement"))) {
              return n;
            }
          }
          return null;
        }
        isDomSelectionCorrect(t) {
          return (
            this._isDomSelectionPositionCorrect(t.anchorNode, t.anchorOffset) &&
            this._isDomSelectionPositionCorrect(t.focusNode, t.focusOffset)
          );
        }
        registerRawContentMatcher(t) {
          this._rawContentElementMatcher.add(t);
        }
        _getBlockFiller() {
          switch (this.blockFillerMode) {
            case "nbsp":
              return Wh(this._domDocument);
            case "markedNbsp":
              return Gh(this._domDocument);
            case "br":
              return $h(this._domDocument);
          }
        }
        _isDomSelectionPositionCorrect(t, e) {
          if (nc(t) && Zh(t) && e < Kh) {
            return false;
          }
          if (this.isElement(t) && Zh(t.childNodes[e])) {
            return false;
          }
          const n = this.mapDomToView(t);
          if (n && (n.is("uiElement") || n.is("rawElement"))) {
            return false;
          }
          return true;
        }
        _processDataFromViewText(t) {
          let e = t.data;
          if (t.getAncestors().some((t) => this.preElements.includes(t.name))) {
            return e;
          }
          if (e.charAt(0) == " ") {
            const n = this._getTouchingInlineViewNode(t, false);
            const i = n && n.is("$textProxy") && this._nodeEndsWithSpace(n);
            if (i || !n) {
              e = "\xA0" + e.substr(1);
            }
          }
          if (e.charAt(e.length - 1) == " ") {
            const n = this._getTouchingInlineViewNode(t, true);
            const i = n && n.is("$textProxy") && n.data.charAt(0) == " ";
            if (e.charAt(e.length - 2) == " " || !n || i) {
              e = e.substr(0, e.length - 1) + "\xA0";
            }
          }
          return e.replace(/ {2}/g, " \xA0");
        }
        _nodeEndsWithSpace(t) {
          if (t.getAncestors().some((t) => this.preElements.includes(t.name))) {
            return false;
          }
          const e = this._processDataFromViewText(t);
          return e.charAt(e.length - 1) == " ";
        }
        _processDataFromDomText(t) {
          let e = t.data;
          if (Cm(t, this.preElements)) {
            return Jh(t);
          }
          e = e.replace(/[ \\n\\t\\r]{1,}/g, " ");
          const n = this._getTouchingInlineDomNode(t, false);
          const i = this._getTouchingInlineDomNode(t, true);
          const o = this._checkShouldLeftTrimDomText(t, n);
          const r = this._checkShouldRightTrimDomText(t, i);
          if (o) {
            e = e.replace(/^ /, "");
          }
          if (r) {
            e = e.replace(/ $/, "");
          }
          e = Jh(new Text(e));
          e = e.replace(/ \\u00A0/g, "  ");
          const s = i && this.isElement(i) && i.tagName != "BR";
          const a = i && nc(i) && i.data.charAt(0) == " ";
          if (/( |\\u00A0)\\u00A0$/.test(e) || !i || s || a) {
            e = e.replace(/\\u00A0$/, " ");
          }
          if (o || (n && this.isElement(n) && n.tagName != "BR")) {
            e = e.replace(/^\\u00A0/, " ");
          }
          return e;
        }
        _checkShouldLeftTrimDomText(t, e) {
          if (!e) {
            return true;
          }
          if (this.isElement(e)) {
            return e.tagName === "BR";
          }
          if (this._encounteredRawContentDomNodes.has(t.previousSibling)) {
            return false;
          }
          return /[^\\S\\u00A0]/.test(e.data.charAt(e.data.length - 1));
        }
        _checkShouldRightTrimDomText(t, e) {
          if (e) {
            return false;
          }
          return !Zh(t);
        }
        _getTouchingInlineViewNode(t, e) {
          const n = new oh({
            startPosition: e ? rh._createAfter(t) : rh._createBefore(t),
            direction: e ? "forward" : "backward",
          });
          for (const t of n) {
            if (
              t.item.is("element") &&
              this.inlineObjectElements.includes(t.item.name)
            ) {
              return t.item;
            } else if (t.item.is("containerElement")) {
              return null;
            } else if (t.item.is("element", "br")) {
              return null;
            } else if (t.item.is("$textProxy")) {
              return t.item;
            }
          }
          return null;
        }
        _getTouchingInlineDomNode(t, e) {
          if (!t.parentNode) {
            return null;
          }
          const n = e ? "firstChild" : "lastChild";
          const i = e ? "nextSibling" : "previousSibling";
          let o = true;
          let r = t;
          do {
            if (!o && r[n]) {
              r = r[n];
            } else if (r[i]) {
              r = r[i];
              o = false;
            } else {
              r = r.parentNode;
              o = true;
            }
            if (!r || this._isBlockElement(r)) {
              return null;
            }
          } while (
            !(nc(r) || r.tagName == "BR" || this._isInlineObjectElement(r))
          );
          return r;
        }
        _isBlockElement(t) {
          return (
            this.isElement(t) &&
            this.blockElements.includes(t.tagName.toLowerCase())
          );
        }
        _isInlineObjectElement(t) {
          return (
            this.isElement(t) &&
            this.inlineObjectElements.includes(t.tagName.toLowerCase())
          );
        }
        _createViewElement(t, e) {
          if (fc(t)) {
            return new xh(this.document, "$comment");
          }
          const n = e.keepOriginalCase ? t.tagName : t.tagName.toLowerCase();
          return new Yu(this.document, n);
        }
        _isViewElementWithRawContent(t, e) {
          return (
            e.withChildren !== false &&
            !!this._rawContentElementMatcher.match(t)
          );
        }
        _shouldRenameElement(t) {
          const e = t.toLowerCase();
          return (
            this.renderingMode === "editing" && this.unsafeElements.includes(e)
          );
        }
        _createReplacementDomElement(t, e) {
          const n = this._domDocument.createElement("span");
          n.setAttribute(wm, t);
          if (e) {
            while (e.firstChild) {
              n.appendChild(e.firstChild);
            }
            for (const t of e.getAttributeNames()) {
              n.setAttribute(t, e.getAttribute(t));
            }
          }
          return n;
        }
      }
      function Cm(t, e) {
        const n = tc(t);
        return n.some((t) => t.tagName && e.includes(t.tagName.toLowerCase()));
      }
      function _m(t, e) {
        let n = t;
        while (n) {
          e(n);
          n = n.parentElement;
        }
      }
      function vm(t, e) {
        const n = t.isEqualNode(pm);
        return n && ym(t, e) && t.parentNode.childNodes.length === 1;
      }
      function ym(t, e) {
        const n = t.parentNode;
        return !!n && !!n.tagName && e.includes(n.tagName.toLowerCase());
      }
      function xm(t) {
        if (t === "script") {
          B("domconverter-unsafe-script-element-detected");
        }
        if (t === "style") {
          B("domconverter-unsafe-style-element-detected");
        }
      }
      class Em extends Ka() {
        constructor(t) {
          super();
          this.view = t;
          this.document = t.document;
          this.isEnabled = false;
        }
        enable() {
          this.isEnabled = true;
        }
        disable() {
          this.isEnabled = false;
        }
        destroy() {
          this.disable();
          this.stopListening();
        }
        checkShouldIgnoreEventFromTarget(t) {
          if (t && t.nodeType === 3) {
            t = t.parentNode;
          }
          if (!t || t.nodeType !== 1) {
            return false;
          }
          return t.matches(
            "[data-cke-ignore-events], [data-cke-ignore-events] *"
          );
        }
      }
      var Dm = Ru(function (t, e) {
        gi(e, Jo(e), t);
      });
      const Sm = Dm;
      class Tm {
        constructor(t, e, n) {
          this.view = t;
          this.document = t.document;
          this.domEvent = e;
          this.domTarget = e.target;
          Sm(this, n);
        }
        get target() {
          return this.view.domConverter.mapDomToView(this.domTarget);
        }
        preventDefault() {
          this.domEvent.preventDefault();
        }
        stopPropagation() {
          this.domEvent.stopPropagation();
        }
      }
      class Im extends Em {
        constructor(t) {
          super(t);
          this.useCapture = false;
        }
        observe(t) {
          const e =
            typeof this.domEventType == "string"
              ? [this.domEventType]
              : this.domEventType;
          e.forEach((e) => {
            this.listenTo(
              t,
              e,
              (t, e) => {
                if (
                  this.isEnabled &&
                  !this.checkShouldIgnoreEventFromTarget(e.target)
                ) {
                  this.onDomEvent(e);
                }
              },
              { useCapture: this.useCapture }
            );
          });
        }
        fire(t, e, n) {
          if (this.isEnabled) {
            this.document.fire(t, new Tm(this.view, e, n));
          }
        }
      }
      class Mm extends Im {
        constructor(t) {
          super(t);
          this.domEventType = ["keydown", "keyup"];
        }
        onDomEvent(t) {
          const e = {
            keyCode: t.keyCode,
            altKey: t.altKey,
            ctrlKey: t.ctrlKey,
            shiftKey: t.shiftKey,
            metaKey: t.metaKey,
            get keystroke() {
              return Fc(this);
            },
          };
          this.fire(t.type, t, e);
        }
      }
      var Bm = function () {
        return Tt.Date.now();
      };
      const Lm = Bm;
      var Nm = /\\s/;
      function zm(t) {
        var e = t.length;
        while (e-- && Nm.test(t.charAt(e))) {}
        return e;
      }
      const Pm = zm;
      var Rm = /^\\s+/;
      function Om(t) {
        return t ? t.slice(0, Pm(t) + 1).replace(Rm, "") : t;
      }
      const jm = Om;
      var Fm = 0 / 0;
      var Vm = /^[-+]0x[0-9a-f]+$/i;
      var Hm = /^0b[01]+$/i;
      var Um = /^0o[0-7]+$/i;
      var qm = parseInt;
      function Wm(t) {
        if (typeof t == "number") {
          return t;
        }
        if (ld(t)) {
          return Fm;
        }
        if (it(t)) {
          var e = typeof t.valueOf == "function" ? t.valueOf() : t;
          t = it(e) ? e + "" : e;
        }
        if (typeof t != "string") {
          return t === 0 ? t : +t;
        }
        t = jm(t);
        var n = Hm.test(t);
        return n || Um.test(t)
          ? qm(t.slice(2), n ? 2 : 8)
          : Vm.test(t)
          ? Fm
          : +t;
      }
      const Gm = Wm;
      var $m = "Expected a function";
      var Km = Math.max,
        Ym = Math.min;
      function Zm(t, e, n) {
        var i,
          o,
          r,
          s,
          a,
          c,
          l = 0,
          d = false,
          u = false,
          h = true;
        if (typeof t != "function") {
          throw new TypeError($m);
        }
        e = Gm(e) || 0;
        if (it(n)) {
          d = !!n.leading;
          u = "maxWait" in n;
          r = u ? Km(Gm(n.maxWait) || 0, e) : r;
          h = "trailing" in n ? !!n.trailing : h;
        }
        function m(e) {
          var n = i,
            r = o;
          i = o = undefined;
          l = e;
          s = t.apply(r, n);
          return s;
        }
        function g(t) {
          l = t;
          a = setTimeout(b, e);
          return d ? m(t) : s;
        }
        function f(t) {
          var n = t - c,
            i = t - l,
            o = e - n;
          return u ? Ym(o, r - i) : o;
        }
        function p(t) {
          var n = t - c,
            i = t - l;
          return c === undefined || n >= e || n < 0 || (u && i >= r);
        }
        function b() {
          var t = Lm();
          if (p(t)) {
            return k(t);
          }
          a = setTimeout(b, f(t));
        }
        function k(t) {
          a = undefined;
          if (h && i) {
            return m(t);
          }
          i = o = undefined;
          return s;
        }
        function w() {
          if (a !== undefined) {
            clearTimeout(a);
          }
          l = 0;
          i = c = o = a = undefined;
        }
        function A() {
          return a === undefined ? s : k(Lm());
        }
        function C() {
          var t = Lm(),
            n = p(t);
          i = arguments;
          o = this;
          c = t;
          if (n) {
            if (a === undefined) {
              return g(c);
            }
            if (u) {
              clearTimeout(a);
              a = setTimeout(b, e);
              return m(c);
            }
          }
          if (a === undefined) {
            a = setTimeout(b, e);
          }
          return s;
        }
        C.cancel = w;
        C.flush = A;
        return C;
      }
      const Qm = Zm;
      class Jm extends Em {
        constructor(t) {
          super(t);
          this._fireSelectionChangeDoneDebounced = Qm((t) => {
            this.document.fire("selectionChangeDone", t);
          }, 200);
        }
        observe() {
          const t = this.document;
          t.on(
            "arrowKey",
            (e, n) => {
              const i = t.selection;
              if (i.isFake && this.isEnabled) {
                n.preventDefault();
              }
            },
            { context: "$capture" }
          );
          t.on(
            "arrowKey",
            (e, n) => {
              const i = t.selection;
              if (i.isFake && this.isEnabled) {
                this._handleSelectionMove(n.keyCode);
              }
            },
            { priority: "lowest" }
          );
        }
        destroy() {
          super.destroy();
          this._fireSelectionChangeDoneDebounced.cancel();
        }
        _handleSelectionMove(t) {
          const e = this.document.selection;
          const n = new ch(e.getRanges(), {
            backward: e.isBackward,
            fake: false,
          });
          if (t == Oc.arrowleft || t == Oc.arrowup) {
            n.setTo(n.getFirstPosition());
          }
          if (t == Oc.arrowright || t == Oc.arrowdown) {
            n.setTo(n.getLastPosition());
          }
          const i = { oldSelection: e, newSelection: n, domSelection: null };
          this.document.fire("selectionChange", i);
          this._fireSelectionChangeDoneDebounced(i);
        }
      }
      var Xm = "__lodash_hash_undefined__";
      function tg(t) {
        this.__data__.set(t, Xm);
        return this;
      }
      const eg = tg;
      function ng(t) {
        return this.__data__.has(t);
      }
      const ig = ng;
      function og(t) {
        var e = -1,
          n = t == null ? 0 : t.length;
        this.__data__ = new Qn();
        while (++e < n) {
          this.add(t[e]);
        }
      }
      og.prototype.add = og.prototype.push = eg;
      og.prototype.has = ig;
      const rg = og;
      function sg(t, e) {
        var n = -1,
          i = t == null ? 0 : t.length;
        while (++n < i) {
          if (e(t[n], n, t)) {
            return true;
          }
        }
        return false;
      }
      const ag = sg;
      function cg(t, e) {
        return t.has(e);
      }
      const lg = cg;
      var dg = 1,
        ug = 2;
      function hg(t, e, n, i, o, r) {
        var s = n & dg,
          a = t.length,
          c = e.length;
        if (a != c && !(s && c > a)) {
          return false;
        }
        var l = r.get(t);
        var d = r.get(e);
        if (l && d) {
          return l == e && d == t;
        }
        var u = -1,
          h = true,
          m = n & ug ? new rg() : undefined;
        r.set(t, e);
        r.set(e, t);
        while (++u < a) {
          var g = t[u],
            f = e[u];
          if (i) {
            var p = s ? i(f, g, u, e, t, r) : i(g, f, u, t, e, r);
          }
          if (p !== undefined) {
            if (p) {
              continue;
            }
            h = false;
            break;
          }
          if (m) {
            if (
              !ag(e, function (t, e) {
                if (!lg(m, e) && (g === t || o(g, t, n, i, r))) {
                  return m.push(e);
                }
              })
            ) {
              h = false;
              break;
            }
          } else if (!(g === f || o(g, f, n, i, r))) {
            h = false;
            break;
          }
        }
        r["delete"](t);
        r["delete"](e);
        return h;
      }
      const mg = hg;
      function gg(t) {
        var e = -1,
          n = Array(t.size);
        t.forEach(function (t, i) {
          n[++e] = [i, t];
        });
        return n;
      }
      const fg = gg;
      function pg(t) {
        var e = -1,
          n = Array(t.size);
        t.forEach(function (t) {
          n[++e] = t;
        });
        return n;
      }
      const bg = pg;
      var kg = 1,
        wg = 2;
      var Ag = "[object Boolean]",
        Cg = "[object Date]",
        _g = "[object Error]",
        vg = "[object Map]",
        yg = "[object Number]",
        xg = "[object RegExp]",
        Eg = "[object Set]",
        Dg = "[object String]",
        Sg = "[object Symbol]";
      var Tg = "[object ArrayBuffer]",
        Ig = "[object DataView]";
      var Mg = Mt ? Mt.prototype : undefined,
        Bg = Mg ? Mg.valueOf : undefined;
      function Lg(t, e, n, i, o, r, s) {
        switch (n) {
          case Ig:
            if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) {
              return false;
            }
            t = t.buffer;
            e = e.buffer;
          case Tg:
            if (t.byteLength != e.byteLength || !r(new ss(t), new ss(e))) {
              return false;
            }
            return true;
          case Ag:
          case Cg:
          case yg:
            return pe(+t, +e);
          case _g:
            return t.name == e.name && t.message == e.message;
          case xg:
          case Dg:
            return t == e + "";
          case vg:
            var a = fg;
          case Eg:
            var c = i & kg;
            a || (a = bg);
            if (t.size != e.size && !c) {
              return false;
            }
            var l = s.get(t);
            if (l) {
              return l == e;
            }
            i |= wg;
            s.set(t, e);
            var d = mg(a(t), a(e), i, o, r, s);
            s["delete"](t);
            return d;
          case Sg:
            if (Bg) {
              return Bg.call(t) == Bg.call(e);
            }
        }
        return false;
      }
      const Ng = Lg;
      var zg = 1;
      var Pg = Object.prototype;
      var Rg = Pg.hasOwnProperty;
      function Og(t, e, n, i, o, r) {
        var s = n & zg,
          a = Mr(t),
          c = a.length,
          l = Mr(e),
          d = l.length;
        if (c != d && !s) {
          return false;
        }
        var u = c;
        while (u--) {
          var h = a[u];
          if (!(s ? h in e : Rg.call(e, h))) {
            return false;
          }
        }
        var m = r.get(t);
        var g = r.get(e);
        if (m && g) {
          return m == e && g == t;
        }
        var f = true;
        r.set(t, e);
        r.set(e, t);
        var p = s;
        while (++u < c) {
          h = a[u];
          var b = t[h],
            k = e[h];
          if (i) {
            var w = s ? i(k, b, h, e, t, r) : i(b, k, h, t, e, r);
          }
          if (!(w === undefined ? b === k || o(b, k, n, i, r) : w)) {
            f = false;
            break;
          }
          p || (p = h == "constructor");
        }
        if (f && !p) {
          var A = t.constructor,
            C = e.constructor;
          if (
            A != C &&
            "constructor" in t &&
            "constructor" in e &&
            !(
              typeof A == "function" &&
              A instanceof A &&
              typeof C == "function" &&
              C instanceof C
            )
          ) {
            f = false;
          }
        }
        r["delete"](t);
        r["delete"](e);
        return f;
      }
      const jg = Og;
      var Fg = 1;
      var Vg = "[object Arguments]",
        Hg = "[object Array]",
        Ug = "[object Object]";
      var qg = Object.prototype;
      var Wg = qg.hasOwnProperty;
      function Gg(t, e, n, i, o, r) {
        var s = Kt(t),
          a = Kt(e),
          c = s ? Hg : ts(t),
          l = a ? Hg : ts(e);
        c = c == Vg ? Ug : c;
        l = l == Vg ? Ug : l;
        var d = c == Ug,
          u = l == Ug,
          h = c == l;
        if (h && Li(t)) {
          if (!Li(e)) {
            return false;
          }
          s = true;
          d = false;
        }
        if (h && !d) {
          r || (r = new ni());
          return s || xo(t) ? mg(t, e, n, i, o, r) : Ng(t, e, c, n, i, o, r);
        }
        if (!(n & Fg)) {
          var m = d && Wg.call(t, "__wrapped__"),
            g = u && Wg.call(e, "__wrapped__");
          if (m || g) {
            var f = m ? t.value() : t,
              p = g ? e.value() : e;
            r || (r = new ni());
            return o(f, p, n, i, r);
          }
        }
        if (!h) {
          return false;
        }
        r || (r = new ni());
        return jg(t, e, n, i, o, r);
      }
      const $g = Gg;
      function Kg(t, e, n, i, o) {
        if (t === e) {
          return true;
        }
        if (t == null || e == null || (!Zt(t) && !Zt(e))) {
          return t !== t && e !== e;
        }
        return $g(t, e, n, i, Kg, o);
      }
      const Yg = Kg;
      function Zg(t, e, n) {
        n = typeof n == "function" ? n : undefined;
        var i = n ? n(t, e) : undefined;
        return i === undefined ? Yg(t, e, undefined, n) : !!i;
      }
      const Qg = Zg;
      class Jg extends Em {
        constructor(t) {
          super(t);
          this._config = {
            childList: true,
            characterData: true,
            subtree: true,
          };
          this.domConverter = t.domConverter;
          this.renderer = t._renderer;
          this._domElements = [];
          this._mutationObserver = new window.MutationObserver(
            this._onMutations.bind(this)
          );
        }
        flush() {
          this._onMutations(this._mutationObserver.takeRecords());
        }
        observe(t) {
          this._domElements.push(t);
          if (this.isEnabled) {
            this._mutationObserver.observe(t, this._config);
          }
        }
        enable() {
          super.enable();
          for (const t of this._domElements) {
            this._mutationObserver.observe(t, this._config);
          }
        }
        disable() {
          super.disable();
          this._mutationObserver.disconnect();
        }
        destroy() {
          super.destroy();
          this._mutationObserver.disconnect();
        }
        _onMutations(t) {
          if (t.length === 0) {
            return;
          }
          const e = this.domConverter;
          const n = new Set();
          const i = new Set();
          for (const n of t) {
            const t = e.mapDomToView(n.target);
            if (!t) {
              continue;
            }
            if (t.is("uiElement") || t.is("rawElement")) {
              continue;
            }
            if (n.type === "childList" && !this._isBogusBrMutation(n)) {
              i.add(t);
            }
          }
          for (const o of t) {
            const t = e.mapDomToView(o.target);
            if (t && (t.is("uiElement") || t.is("rawElement"))) {
              continue;
            }
            if (o.type === "characterData") {
              const t = e.findCorrespondingViewText(o.target);
              if (t && !i.has(t.parent)) {
                n.add(t);
              } else if (!t && Zh(o.target)) {
                i.add(e.mapDomToView(o.target.parentNode));
              }
            }
          }
          let o = false;
          for (const t of n) {
            o = true;
            this.renderer.markToSync("text", t);
          }
          for (const t of i) {
            const n = e.mapViewToDom(t);
            const i = Array.from(t.getChildren());
            const r = Array.from(
              e.domChildrenToView(n, { withChildren: false })
            );
            if (!Qg(i, r, Xg)) {
              o = true;
              this.renderer.markToSync("children", t);
            }
          }
          if (o) {
            this.view.forceRender();
          }
        }
        _isBogusBrMutation(t) {
          let e = null;
          if (
            t.nextSibling === null &&
            t.removedNodes.length === 0 &&
            t.addedNodes.length == 1
          ) {
            e = this.domConverter.domToView(t.addedNodes[0], {
              withChildren: false,
            });
          }
          return e && e.is("element", "br");
        }
      }
      function Xg(t, e) {
        if (Array.isArray(t)) {
          return;
        }
        if (t === e) {
          return true;
        } else if (t.is("$text") && e.is("$text")) {
          return t.data === e.data;
        }
        return false;
      }
      class tf extends Em {
        constructor(t) {
          super(t);
          this.mutationObserver = t.getObserver(Jg);
          this.selection = this.document.selection;
          this.domConverter = t.domConverter;
          this._documents = new WeakSet();
          this._fireSelectionChangeDoneDebounced = Qm((t) => {
            this.document.fire("selectionChangeDone", t);
          }, 200);
          this._clearInfiniteLoopInterval = setInterval(
            () => this._clearInfiniteLoop(),
            1e3
          );
          this._documentIsSelectingInactivityTimeoutDebounced = Qm(
            () => (this.document.isSelecting = false),
            5e3
          );
          this._loopbackCounter = 0;
        }
        observe(t) {
          const e = t.ownerDocument;
          const n = () => {
            this.document.isSelecting = true;
            this._documentIsSelectingInactivityTimeoutDebounced();
          };
          const i = () => {
            if (!this.document.isSelecting) {
              return;
            }
            this._handleSelectionChange(null, e);
            this.document.isSelecting = false;
            this._documentIsSelectingInactivityTimeoutDebounced.cancel();
          };
          this.listenTo(t, "selectstart", n, { priority: "highest" });
          this.listenTo(t, "keydown", i, {
            priority: "highest",
            useCapture: true,
          });
          this.listenTo(t, "keyup", i, {
            priority: "highest",
            useCapture: true,
          });
          if (this._documents.has(e)) {
            return;
          }
          this.listenTo(e, "mouseup", i, {
            priority: "highest",
            useCapture: true,
          });
          this.listenTo(e, "selectionchange", (t, n) => {
            if (this.document.isComposing && !r.isAndroid) {
              return;
            }
            this._handleSelectionChange(n, e);
            this._documentIsSelectingInactivityTimeoutDebounced();
          });
          this._documents.add(e);
        }
        destroy() {
          super.destroy();
          clearInterval(this._clearInfiniteLoopInterval);
          this._fireSelectionChangeDoneDebounced.cancel();
          this._documentIsSelectingInactivityTimeoutDebounced.cancel();
        }
        _handleSelectionChange(t, e) {
          if (!this.isEnabled) {
            return;
          }
          const n = e.defaultView.getSelection();
          if (this.checkShouldIgnoreEventFromTarget(n.anchorNode)) {
            return;
          }
          this.mutationObserver.flush();
          const i = this.domConverter.domSelectionToView(n);
          if (i.rangeCount == 0) {
            this.view.hasDomSelection = false;
            return;
          }
          this.view.hasDomSelection = true;
          if (
            this.selection.isEqual(i) &&
            this.domConverter.isDomSelectionCorrect(n)
          ) {
            return;
          }
          if (++this._loopbackCounter > 60) {
            return;
          }
          if (this.selection.isSimilar(i)) {
            this.view.forceRender();
          } else {
            const t = {
              oldSelection: this.selection,
              newSelection: i,
              domSelection: n,
            };
            this.document._isFocusChanging = false;
            this.document.fire("selectionChange", t);
            this._fireSelectionChangeDoneDebounced(t);
          }
        }
        _clearInfiniteLoop() {
          this._loopbackCounter = 0;
        }
      }
      class ef extends Im {
        constructor(t) {
          super(t);
          this.domEventType = ["focus", "blur"];
          this.useCapture = true;
          const e = this.document;
          e.on("focus", () => {
            e.isFocused = true;
            e._isFocusChanging = true;
            this._renderTimeoutId = setTimeout(() => {
              e._isFocusChanging = false;
              t.change(() => {});
            }, 50);
          });
          e.on("blur", (n, i) => {
            const o = e.selection.editableElement;
            if (o === null || o === i.target) {
              e.isFocused = false;
              t.change(() => {});
            }
          });
        }
        onDomEvent(t) {
          this.fire(t.type, t);
        }
        destroy() {
          if (this._renderTimeoutId) {
            clearTimeout(this._renderTimeoutId);
          }
          super.destroy();
        }
      }
      class nf extends Im {
        constructor(t) {
          super(t);
          this.domEventType = [
            "compositionstart",
            "compositionupdate",
            "compositionend",
          ];
          const e = this.document;
          e.on(
            "compositionstart",
            () => {
              e.isComposing = true;
            },
            { priority: "low" }
          );
          e.on(
            "compositionend",
            () => {
              e.isComposing = false;
            },
            { priority: "low" }
          );
        }
        onDomEvent(t) {
          this.fire(t.type, t, { data: t.data });
        }
      }
      class of {
        constructor(t) {
          this.files = rf(t);
          this._native = t;
        }
        get types() {
          return this._native.types;
        }
        getData(t) {
          return this._native.getData(t);
        }
        setData(t, e) {
          this._native.setData(t, e);
        }
        set effectAllowed(t) {
          this._native.effectAllowed = t;
        }
        get effectAllowed() {
          return this._native.effectAllowed;
        }
        set dropEffect(t) {
          this._native.dropEffect = t;
        }
        get dropEffect() {
          return this._native.dropEffect;
        }
        get isCanceled() {
          return (
            this._native.dropEffect == "none" || !!this._native.mozUserCancelled
          );
        }
      }
      function rf(t) {
        const e = Array.from(t.files || []);
        const n = Array.from(t.items || []);
        if (e.length) {
          return e;
        }
        return n.filter((t) => t.kind === "file").map((t) => t.getAsFile());
      }
      class sf extends Im {
        constructor(t) {
          super(t);
          this.domEventType = ["beforeinput"];
        }
        onDomEvent(t) {
          const e = t.getTargetRanges();
          const n = this.view;
          const i = n.document;
          let o = null;
          let s = null;
          let a = [];
          if (t.dataTransfer) {
            o = new of(t.dataTransfer);
          }
          if (t.data !== null) {
            s = t.data;
          } else if (o) {
            s = o.getData("text/plain");
          }
          if (i.selection.isFake) {
            a = Array.from(i.selection.getRanges());
          } else if (e.length) {
            a = e.map((t) => n.domConverter.domRangeToView(t));
          } else if (r.isAndroid) {
            const e = t.target.ownerDocument.defaultView.getSelection();
            a = Array.from(n.domConverter.domSelectionToView(e).getRanges());
          }
          if (
            r.isAndroid &&
            t.inputType == "insertCompositionText" &&
            s &&
            s.endsWith("\\n")
          ) {
            this.fire(t.type, t, {
              inputType: "insertParagraph",
              targetRanges: [n.createRange(a[0].end)],
            });
            return;
          }
          if (t.inputType == "insertText" && s && s.includes("\\n")) {
            const e = s.split(/\\n{1,2}/g);
            let n = a;
            for (let r = 0; r < e.length; r++) {
              const s = e[r];
              if (s != "") {
                this.fire(t.type, t, {
                  data: s,
                  dataTransfer: o,
                  targetRanges: n,
                  inputType: t.inputType,
                  isComposing: t.isComposing,
                });
                n = [i.selection.getFirstRange()];
              }
              if (r + 1 < e.length) {
                this.fire(t.type, t, {
                  inputType: "insertParagraph",
                  targetRanges: n,
                });
                n = [i.selection.getFirstRange()];
              }
            }
            return;
          }
          this.fire(t.type, t, {
            data: s,
            dataTransfer: o,
            targetRanges: a,
            inputType: t.inputType,
            isComposing: t.isComposing,
          });
        }
      }
      class af extends Em {
        constructor(t) {
          super(t);
          this.document.on("keydown", (t, e) => {
            if (this.isEnabled && Uc(e.keyCode)) {
              const n = new dh(
                this.document,
                "arrowKey",
                this.document.selection.getFirstRange()
              );
              this.document.fire(n, e);
              if (n.stop.called) {
                t.stop();
              }
            }
          });
        }
        observe() {}
      }
      class cf extends Em {
        constructor(t) {
          super(t);
          const e = this.document;
          e.on("keydown", (t, n) => {
            if (!this.isEnabled || n.keyCode != Oc.tab || n.ctrlKey) {
              return;
            }
            const i = new dh(e, "tab", e.selection.getFirstRange());
            e.fire(i, n);
            if (i.stop.called) {
              t.stop();
            }
          });
        }
        observe() {}
      }
      class lf extends dt() {
        constructor(t) {
          super();
          this.document = new kh(t);
          this.domConverter = new Am(this.document);
          this.domRoots = new Map();
          this.set("isRenderingInProgress", false);
          this.set("hasDomSelection", false);
          this._renderer = new rm(this.domConverter, this.document.selection);
          this._renderer
            .bind("isFocused", "isSelecting", "isComposing", "_isFocusChanging")
            .to(
              this.document,
              "isFocused",
              "isSelecting",
              "isComposing",
              "_isFocusChanging"
            );
          this._initialDomRootAttributes = new WeakMap();
          this._observers = new Map();
          this._ongoingChange = false;
          this._postFixersInProgress = false;
          this._renderingDisabled = false;
          this._hasChangedSinceTheLastRendering = false;
          this._writer = new Lh(this.document);
          this.addObserver(Jg);
          this.addObserver(tf);
          this.addObserver(ef);
          this.addObserver(Mm);
          this.addObserver(Jm);
          this.addObserver(nf);
          this.addObserver(af);
          this.addObserver(sf);
          this.addObserver(cf);
          Xh(this);
          Eh(this);
          this.on("render", () => {
            this._render();
            this.document.fire("layoutChanged");
            this._hasChangedSinceTheLastRendering = false;
          });
          this.listenTo(this.document.selection, "change", () => {
            this._hasChangedSinceTheLastRendering = true;
          });
          this.listenTo(this.document, "change:isFocused", () => {
            this._hasChangedSinceTheLastRendering = true;
          });
        }
        attachDomRoot(t, e = "main") {
          const n = this.document.getRoot(e);
          n._name = t.tagName.toLowerCase();
          const i = {};
          for (const { name: e, value: o } of Array.from(t.attributes)) {
            i[e] = o;
            if (e === "class") {
              this._writer.addClass(o.split(" "), n);
            } else {
              this._writer.setAttribute(e, o, n);
            }
          }
          this._initialDomRootAttributes.set(t, i);
          const o = () => {
            this._writer.setAttribute(
              "contenteditable",
              (!n.isReadOnly).toString(),
              n
            );
            if (n.isReadOnly) {
              this._writer.addClass("ck-read-only", n);
            } else {
              this._writer.removeClass("ck-read-only", n);
            }
          };
          o();
          this.domRoots.set(e, t);
          this.domConverter.bindElements(t, n);
          this._renderer.markToSync("children", n);
          this._renderer.markToSync("attributes", n);
          this._renderer.domDocuments.add(t.ownerDocument);
          n.on("change:children", (t, e) =>
            this._renderer.markToSync("children", e)
          );
          n.on("change:attributes", (t, e) =>
            this._renderer.markToSync("attributes", e)
          );
          n.on("change:text", (t, e) => this._renderer.markToSync("text", e));
          n.on("change:isReadOnly", () => this.change(o));
          n.on("change", () => {
            this._hasChangedSinceTheLastRendering = true;
          });
          for (const n of this._observers.values()) {
            n.observe(t, e);
          }
        }
        detachDomRoot(t) {
          const e = this.domRoots.get(t);
          Array.from(e.attributes).forEach(({ name: t }) =>
            e.removeAttribute(t)
          );
          const n = this._initialDomRootAttributes.get(e);
          for (const t in n) {
            e.setAttribute(t, n[t]);
          }
          this.domRoots.delete(t);
          this.domConverter.unbindDomElement(e);
        }
        getDomRoot(t = "main") {
          return this.domRoots.get(t);
        }
        addObserver(t) {
          let e = this._observers.get(t);
          if (e) {
            return e;
          }
          e = new t(this);
          this._observers.set(t, e);
          for (const [t, n] of this.domRoots) {
            e.observe(n, t);
          }
          e.enable();
          return e;
        }
        getObserver(t) {
          return this._observers.get(t);
        }
        disableObservers() {
          for (const t of this._observers.values()) {
            t.disable();
          }
        }
        enableObservers() {
          for (const t of this._observers.values()) {
            t.enable();
          }
        }
        scrollToTheSelection() {
          const t = this.document.selection.getFirstRange();
          if (t) {
            xc({
              target: this.domConverter.viewRangeToDom(t),
              viewportOffset: 20,
            });
          }
        }
        focus() {
          if (!this.document.isFocused) {
            const t = this.document.selection.editableElement;
            if (t) {
              this.domConverter.focus(t);
              this.forceRender();
            } else {
            }
          }
        }
        change(t) {
          if (this.isRenderingInProgress || this._postFixersInProgress) {
            throw new M("cannot-change-view-tree", this);
          }
          try {
            if (this._ongoingChange) {
              return t(this._writer);
            }
            this._ongoingChange = true;
            const e = t(this._writer);
            this._ongoingChange = false;
            if (
              !this._renderingDisabled &&
              this._hasChangedSinceTheLastRendering
            ) {
              this._postFixersInProgress = true;
              this.document._callPostFixers(this._writer);
              this._postFixersInProgress = false;
              this.fire("render");
            }
            return e;
          } catch (t) {
            M.rethrowUnexpectedError(t, this);
          }
        }
        forceRender() {
          this._hasChangedSinceTheLastRendering = true;
          this.document._isFocusChanging = false;
          this.change(() => {});
        }
        destroy() {
          for (const t of this._observers.values()) {
            t.destroy();
          }
          this.document.destroy();
          this.stopListening();
        }
        createPositionAt(t, e) {
          return rh._createAt(t, e);
        }
        createPositionAfter(t) {
          return rh._createAfter(t);
        }
        createPositionBefore(t) {
          return rh._createBefore(t);
        }
        createRange(...t) {
          return new sh(...t);
        }
        createRangeOn(t) {
          return sh._createOn(t);
        }
        createRangeIn(t) {
          return sh._createIn(t);
        }
        createSelection(...t) {
          return new ch(...t);
        }
        _disableRendering(t) {
          this._renderingDisabled = t;
          if (t == false) {
            this.change(() => {});
          }
        }
        _render() {
          this.isRenderingInProgress = true;
          this.disableObservers();
          this._renderer.render();
          this.enableObservers();
          this.isRenderingInProgress = false;
        }
      }
      class df {
        is() {
          throw new Error("is() method is abstract");
        }
      }
      class uf extends df {
        constructor(t) {
          super();
          this.parent = null;
          this._attrs = dl(t);
        }
        get document() {
          return null;
        }
        get index() {
          let t;
          if (!this.parent) {
            return null;
          }
          if ((t = this.parent.getChildIndex(this)) === null) {
            throw new M("model-node-not-found-in-parent", this);
          }
          return t;
        }
        get startOffset() {
          let t;
          if (!this.parent) {
            return null;
          }
          if ((t = this.parent.getChildStartOffset(this)) === null) {
            throw new M("model-node-not-found-in-parent", this);
          }
          return t;
        }
        get offsetSize() {
          return 1;
        }
        get endOffset() {
          if (!this.parent) {
            return null;
          }
          return this.startOffset + this.offsetSize;
        }
        get nextSibling() {
          const t = this.index;
          return (t !== null && this.parent.getChild(t + 1)) || null;
        }
        get previousSibling() {
          const t = this.index;
          return (t !== null && this.parent.getChild(t - 1)) || null;
        }
        get root() {
          let t = this;
          while (t.parent) {
            t = t.parent;
          }
          return t;
        }
        isAttached() {
          return this.root.is("rootElement");
        }
        getPath() {
          const t = [];
          let e = this;
          while (e.parent) {
            t.unshift(e.startOffset);
            e = e.parent;
          }
          return t;
        }
        getAncestors(t = {}) {
          const e = [];
          let n = t.includeSelf ? this : this.parent;
          while (n) {
            e[t.parentFirst ? "push" : "unshift"](n);
            n = n.parent;
          }
          return e;
        }
        getCommonAncestor(t, e = {}) {
          const n = this.getAncestors(e);
          const i = t.getAncestors(e);
          let o = 0;
          while (n[o] == i[o] && n[o]) {
            o++;
          }
          return o === 0 ? null : n[o - 1];
        }
        isBefore(t) {
          if (this == t) {
            return false;
          }
          if (this.root !== t.root) {
            return false;
          }
          const e = this.getPath();
          const n = t.getPath();
          const i = vt(e, n);
          switch (i) {
            case "prefix":
              return true;
            case "extension":
              return false;
            default:
              return e[i] < n[i];
          }
        }
        isAfter(t) {
          if (this == t) {
            return false;
          }
          if (this.root !== t.root) {
            return false;
          }
          return !this.isBefore(t);
        }
        hasAttribute(t) {
          return this._attrs.has(t);
        }
        getAttribute(t) {
          return this._attrs.get(t);
        }
        getAttributes() {
          return this._attrs.entries();
        }
        getAttributeKeys() {
          return this._attrs.keys();
        }
        toJSON() {
          const t = {};
          if (this._attrs.size) {
            t.attributes = Array.from(this._attrs).reduce((t, e) => {
              t[e[0]] = e[1];
              return t;
            }, {});
          }
          return t;
        }
        _clone(t) {
          return new uf(this._attrs);
        }
        _remove() {
          this.parent._removeChildren(this.index);
        }
        _setAttribute(t, e) {
          this._attrs.set(t, e);
        }
        _setAttributesTo(t) {
          this._attrs = dl(t);
        }
        _removeAttribute(t) {
          return this._attrs.delete(t);
        }
        _clearAttributes() {
          this._attrs.clear();
        }
      }
      uf.prototype.is = function (t) {
        return t === "node" || t === "model:node";
      };
      class hf {
        constructor(t) {
          this._nodes = [];
          if (t) {
            this._insertNodes(0, t);
          }
        }
        [Symbol.iterator]() {
          return this._nodes[Symbol.iterator]();
        }
        get length() {
          return this._nodes.length;
        }
        get maxOffset() {
          return this._nodes.reduce((t, e) => t + e.offsetSize, 0);
        }
        getNode(t) {
          return this._nodes[t] || null;
        }
        getNodeIndex(t) {
          const e = this._nodes.indexOf(t);
          return e == -1 ? null : e;
        }
        getNodeStartOffset(t) {
          const e = this.getNodeIndex(t);
          return e === null
            ? null
            : this._nodes.slice(0, e).reduce((t, e) => t + e.offsetSize, 0);
        }
        indexToOffset(t) {
          if (t == this._nodes.length) {
            return this.maxOffset;
          }
          const e = this._nodes[t];
          if (!e) {
            throw new M("model-nodelist-index-out-of-bounds", this);
          }
          return this.getNodeStartOffset(e);
        }
        offsetToIndex(t) {
          let e = 0;
          for (const n of this._nodes) {
            if (t >= e && t < e + n.offsetSize) {
              return this.getNodeIndex(n);
            }
            e += n.offsetSize;
          }
          if (e != t) {
            throw new M("model-nodelist-offset-out-of-bounds", this, {
              offset: t,
              nodeList: this,
            });
          }
          return this.length;
        }
        _insertNodes(t, e) {
          for (const t of e) {
            if (!(t instanceof uf)) {
              throw new M("model-nodelist-insertnodes-not-node", this);
            }
          }
          this._nodes = hl(this._nodes, Array.from(e), t, 0);
        }
        _removeNodes(t, e = 1) {
          return this._nodes.splice(t, e);
        }
        toJSON() {
          return this._nodes.map((t) => t.toJSON());
        }
      }
      class mf extends uf {
        constructor(t, e) {
          super(e);
          this._data = t || "";
        }
        get offsetSize() {
          return this.data.length;
        }
        get data() {
          return this._data;
        }
        toJSON() {
          const t = super.toJSON();
          t.data = this.data;
          return t;
        }
        _clone() {
          return new mf(this.data, this.getAttributes());
        }
        static fromJSON(t) {
          return new mf(t.data, t.attributes);
        }
      }
      mf.prototype.is = function (t) {
        return (
          t === "$text" ||
          t === "model:$text" ||
          t === "text" ||
          t === "model:text" ||
          t === "node" ||
          t === "model:node"
        );
      };
      class gf extends df {
        constructor(t, e, n) {
          super();
          this.textNode = t;
          if (e < 0 || e > t.offsetSize) {
            throw new M("model-textproxy-wrong-offsetintext", this);
          }
          if (n < 0 || e + n > t.offsetSize) {
            throw new M("model-textproxy-wrong-length", this);
          }
          this.data = t.data.substring(e, e + n);
          this.offsetInText = e;
        }
        get startOffset() {
          return this.textNode.startOffset !== null
            ? this.textNode.startOffset + this.offsetInText
            : null;
        }
        get offsetSize() {
          return this.data.length;
        }
        get endOffset() {
          return this.startOffset !== null
            ? this.startOffset + this.offsetSize
            : null;
        }
        get isPartial() {
          return this.offsetSize !== this.textNode.offsetSize;
        }
        get parent() {
          return this.textNode.parent;
        }
        get root() {
          return this.textNode.root;
        }
        getPath() {
          const t = this.textNode.getPath();
          if (t.length > 0) {
            t[t.length - 1] += this.offsetInText;
          }
          return t;
        }
        getAncestors(t = {}) {
          const e = [];
          let n = t.includeSelf ? this : this.parent;
          while (n) {
            e[t.parentFirst ? "push" : "unshift"](n);
            n = n.parent;
          }
          return e;
        }
        hasAttribute(t) {
          return this.textNode.hasAttribute(t);
        }
        getAttribute(t) {
          return this.textNode.getAttribute(t);
        }
        getAttributes() {
          return this.textNode.getAttributes();
        }
        getAttributeKeys() {
          return this.textNode.getAttributeKeys();
        }
      }
      gf.prototype.is = function (t) {
        return (
          t === "$textProxy" ||
          t === "model:$textProxy" ||
          t === "textProxy" ||
          t === "model:textProxy"
        );
      };
      class ff extends uf {
        constructor(t, e, n) {
          super(e);
          this.name = t;
          this._children = new hf();
          if (n) {
            this._insertChild(0, n);
          }
        }
        get childCount() {
          return this._children.length;
        }
        get maxOffset() {
          return this._children.maxOffset;
        }
        get isEmpty() {
          return this.childCount === 0;
        }
        getChild(t) {
          return this._children.getNode(t);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        getChildIndex(t) {
          return this._children.getNodeIndex(t);
        }
        getChildStartOffset(t) {
          return this._children.getNodeStartOffset(t);
        }
        offsetToIndex(t) {
          return this._children.offsetToIndex(t);
        }
        getNodeByPath(t) {
          let e = this;
          for (const n of t) {
            e = e.getChild(e.offsetToIndex(n));
          }
          return e;
        }
        findAncestor(t, e = {}) {
          let n = e.includeSelf ? this : this.parent;
          while (n) {
            if (n.name === t) {
              return n;
            }
            n = n.parent;
          }
          return null;
        }
        toJSON() {
          const t = super.toJSON();
          t.name = this.name;
          if (this._children.length > 0) {
            t.children = [];
            for (const e of this._children) {
              t.children.push(e.toJSON());
            }
          }
          return t;
        }
        _clone(t = false) {
          const e = t
            ? Array.from(this._children).map((t) => t._clone(true))
            : undefined;
          return new ff(this.name, this.getAttributes(), e);
        }
        _appendChild(t) {
          this._insertChild(this.childCount, t);
        }
        _insertChild(t, e) {
          const n = pf(e);
          for (const t of n) {
            if (t.parent !== null) {
              t._remove();
            }
            t.parent = this;
          }
          this._children._insertNodes(t, n);
        }
        _removeChildren(t, e = 1) {
          const n = this._children._removeNodes(t, e);
          for (const t of n) {
            t.parent = null;
          }
          return n;
        }
        static fromJSON(t) {
          let e;
          if (t.children) {
            e = [];
            for (const n of t.children) {
              if (n.name) {
                e.push(ff.fromJSON(n));
              } else {
                e.push(mf.fromJSON(n));
              }
            }
          }
          return new ff(t.name, t.attributes, e);
        }
      }
      ff.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "element" ||
            t === "model:element" ||
            t === "node" ||
            t === "model:node"
          );
        }
        return e === this.name && (t === "element" || t === "model:element");
      };
      function pf(t) {
        if (typeof t == "string") {
          return [new mf(t)];
        }
        if (!yt(t)) {
          t = [t];
        }
        return Array.from(t).map((t) => {
          if (typeof t == "string") {
            return new mf(t);
          }
          if (t instanceof gf) {
            return new mf(t.data, t.getAttributes());
          }
          return t;
        });
      }
      class bf {
        constructor(t = {}) {
          if (!t.boundaries && !t.startPosition) {
            throw new M("model-tree-walker-no-start-position", null);
          }
          const e = t.direction || "forward";
          if (e != "forward" && e != "backward") {
            throw new M("model-tree-walker-unknown-direction", t, {
              direction: e,
            });
          }
          this.direction = e;
          this.boundaries = t.boundaries || null;
          if (t.startPosition) {
            this.position = t.startPosition.clone();
          } else {
            this.position = wf._createAt(
              this.boundaries[this.direction == "backward" ? "end" : "start"]
            );
          }
          this.position.stickiness = "toNone";
          this.singleCharacters = !!t.singleCharacters;
          this.shallow = !!t.shallow;
          this.ignoreElementEnd = !!t.ignoreElementEnd;
          this._boundaryStartParent = this.boundaries
            ? this.boundaries.start.parent
            : null;
          this._boundaryEndParent = this.boundaries
            ? this.boundaries.end.parent
            : null;
          this._visitedParent = this.position.parent;
        }
        [Symbol.iterator]() {
          return this;
        }
        skip(t) {
          let e, n, i, o;
          do {
            i = this.position;
            o = this._visitedParent;
            ({ done: e, value: n } = this.next());
          } while (!e && t(n));
          if (!e) {
            this.position = i;
            this._visitedParent = o;
          }
        }
        next() {
          if (this.direction == "forward") {
            return this._next();
          } else {
            return this._previous();
          }
        }
        _next() {
          const t = this.position;
          const e = this.position.clone();
          const n = this._visitedParent;
          if (n.parent === null && e.offset === n.maxOffset) {
            return { done: true, value: undefined };
          }
          if (
            n === this._boundaryEndParent &&
            e.offset == this.boundaries.end.offset
          ) {
            return { done: true, value: undefined };
          }
          const i = Af(e, n);
          const o = i ? i : Cf(e, n, i);
          if (o instanceof ff) {
            if (!this.shallow) {
              e.path.push(0);
              this._visitedParent = o;
            } else {
              e.offset++;
            }
            this.position = e;
            return kf("elementStart", o, t, e, 1);
          } else if (o instanceof mf) {
            let i;
            if (this.singleCharacters) {
              i = 1;
            } else {
              let t = o.endOffset;
              if (
                this._boundaryEndParent == n &&
                this.boundaries.end.offset < t
              ) {
                t = this.boundaries.end.offset;
              }
              i = t - e.offset;
            }
            const r = e.offset - o.startOffset;
            const s = new gf(o, r, i);
            e.offset += i;
            this.position = e;
            return kf("text", s, t, e, i);
          } else {
            e.path.pop();
            e.offset++;
            this.position = e;
            this._visitedParent = n.parent;
            if (this.ignoreElementEnd) {
              return this._next();
            } else {
              return kf("elementEnd", n, t, e);
            }
          }
        }
        _previous() {
          const t = this.position;
          const e = this.position.clone();
          const n = this._visitedParent;
          if (n.parent === null && e.offset === 0) {
            return { done: true, value: undefined };
          }
          if (
            n == this._boundaryStartParent &&
            e.offset == this.boundaries.start.offset
          ) {
            return { done: true, value: undefined };
          }
          const i = e.parent;
          const o = Af(e, i);
          const r = o ? o : _f(e, i, o);
          if (r instanceof ff) {
            e.offset--;
            if (!this.shallow) {
              e.path.push(r.maxOffset);
              this.position = e;
              this._visitedParent = r;
              if (this.ignoreElementEnd) {
                return this._previous();
              } else {
                return kf("elementEnd", r, t, e);
              }
            } else {
              this.position = e;
              return kf("elementStart", r, t, e, 1);
            }
          } else if (r instanceof mf) {
            let i;
            if (this.singleCharacters) {
              i = 1;
            } else {
              let t = r.startOffset;
              if (
                this._boundaryStartParent == n &&
                this.boundaries.start.offset > t
              ) {
                t = this.boundaries.start.offset;
              }
              i = e.offset - t;
            }
            const o = e.offset - r.startOffset;
            const s = new gf(r, o - i, i);
            e.offset -= i;
            this.position = e;
            return kf("text", s, t, e, i);
          } else {
            e.path.pop();
            this.position = e;
            this._visitedParent = n.parent;
            return kf("elementStart", n, t, e, 1);
          }
        }
      }
      function kf(t, e, n, i, o) {
        return {
          done: false,
          value: {
            type: t,
            item: e,
            previousPosition: n,
            nextPosition: i,
            length: o,
          },
        };
      }
      class wf extends df {
        constructor(t, e, n = "toNone") {
          super();
          if (!t.is("element") && !t.is("documentFragment")) {
            throw new M("model-position-root-invalid", t);
          }
          if (!(e instanceof Array) || e.length === 0) {
            throw new M("model-position-path-incorrect-format", t, { path: e });
          }
          if (t.is("rootElement")) {
            e = e.slice();
          } else {
            e = [...t.getPath(), ...e];
            t = t.root;
          }
          this.root = t;
          this.path = e;
          this.stickiness = n;
        }
        get offset() {
          return this.path[this.path.length - 1];
        }
        set offset(t) {
          this.path[this.path.length - 1] = t;
        }
        get parent() {
          let t = this.root;
          for (let e = 0; e < this.path.length - 1; e++) {
            t = t.getChild(t.offsetToIndex(this.path[e]));
            if (!t) {
              throw new M("model-position-path-incorrect", this, {
                position: this,
              });
            }
          }
          if (t.is("$text")) {
            throw new M("model-position-path-incorrect", this, {
              position: this,
            });
          }
          return t;
        }
        get index() {
          return this.parent.offsetToIndex(this.offset);
        }
        get textNode() {
          return Af(this, this.parent);
        }
        get nodeAfter() {
          const t = this.parent;
          return Cf(this, t, Af(this, t));
        }
        get nodeBefore() {
          const t = this.parent;
          return _f(this, t, Af(this, t));
        }
        get isAtStart() {
          return this.offset === 0;
        }
        get isAtEnd() {
          return this.offset == this.parent.maxOffset;
        }
        compareWith(t) {
          if (this.root != t.root) {
            return "different";
          }
          const e = vt(this.path, t.path);
          switch (e) {
            case "same":
              return "same";
            case "prefix":
              return "before";
            case "extension":
              return "after";
            default:
              return this.path[e] < t.path[e] ? "before" : "after";
          }
        }
        getLastMatchingPosition(t, e = {}) {
          e.startPosition = this;
          const n = new bf(e);
          n.skip(t);
          return n.position;
        }
        getParentPath() {
          return this.path.slice(0, -1);
        }
        getAncestors() {
          const t = this.parent;
          if (t.is("documentFragment")) {
            return [t];
          } else {
            return t.getAncestors({ includeSelf: true });
          }
        }
        findAncestor(t) {
          const e = this.parent;
          if (e.is("element")) {
            return e.findAncestor(t, { includeSelf: true });
          }
          return null;
        }
        getCommonPath(t) {
          if (this.root != t.root) {
            return [];
          }
          const e = vt(this.path, t.path);
          const n =
            typeof e == "string"
              ? Math.min(this.path.length, t.path.length)
              : e;
          return this.path.slice(0, n);
        }
        getCommonAncestor(t) {
          const e = this.getAncestors();
          const n = t.getAncestors();
          let i = 0;
          while (e[i] == n[i] && e[i]) {
            i++;
          }
          return i === 0 ? null : e[i - 1];
        }
        getShiftedBy(t) {
          const e = this.clone();
          const n = e.offset + t;
          e.offset = n < 0 ? 0 : n;
          return e;
        }
        isAfter(t) {
          return this.compareWith(t) == "after";
        }
        isBefore(t) {
          return this.compareWith(t) == "before";
        }
        isEqual(t) {
          return this.compareWith(t) == "same";
        }
        isTouching(t) {
          if (this.root !== t.root) {
            return false;
          }
          const e = Math.min(this.path.length, t.path.length);
          for (let n = 0; n < e; n++) {
            const e = this.path[n] - t.path[n];
            if (e < -1 || e > 1) {
              return false;
            } else if (e === 1) {
              return vf(t, this, n);
            } else if (e === -1) {
              return vf(this, t, n);
            }
          }
          if (this.path.length === t.path.length) {
            return true;
          } else if (this.path.length > t.path.length) {
            return yf(this.path, e);
          } else {
            return yf(t.path, e);
          }
        }
        hasSameParentAs(t) {
          if (this.root !== t.root) {
            return false;
          }
          const e = this.getParentPath();
          const n = t.getParentPath();
          return vt(e, n) == "same";
        }
        getTransformedByOperation(t) {
          let e;
          switch (t.type) {
            case "insert":
              e = this._getTransformedByInsertOperation(t);
              break;
            case "move":
            case "remove":
            case "reinsert":
              e = this._getTransformedByMoveOperation(t);
              break;
            case "split":
              e = this._getTransformedBySplitOperation(t);
              break;
            case "merge":
              e = this._getTransformedByMergeOperation(t);
              break;
            default:
              e = wf._createAt(this);
              break;
          }
          return e;
        }
        _getTransformedByInsertOperation(t) {
          return this._getTransformedByInsertion(t.position, t.howMany);
        }
        _getTransformedByMoveOperation(t) {
          return this._getTransformedByMove(
            t.sourcePosition,
            t.targetPosition,
            t.howMany
          );
        }
        _getTransformedBySplitOperation(t) {
          const e = t.movedRange;
          const n =
            e.containsPosition(this) ||
            (e.start.isEqual(this) && this.stickiness == "toNext");
          if (n) {
            return this._getCombined(t.splitPosition, t.moveTargetPosition);
          } else {
            if (t.graveyardPosition) {
              return this._getTransformedByMove(
                t.graveyardPosition,
                t.insertionPosition,
                1
              );
            } else {
              return this._getTransformedByInsertion(t.insertionPosition, 1);
            }
          }
        }
        _getTransformedByMergeOperation(t) {
          const e = t.movedRange;
          const n = e.containsPosition(this) || e.start.isEqual(this);
          let i;
          if (n) {
            i = this._getCombined(t.sourcePosition, t.targetPosition);
            if (t.sourcePosition.isBefore(t.targetPosition)) {
              i = i._getTransformedByDeletion(t.deletionPosition, 1);
            }
          } else if (this.isEqual(t.deletionPosition)) {
            i = wf._createAt(t.deletionPosition);
          } else {
            i = this._getTransformedByMove(
              t.deletionPosition,
              t.graveyardPosition,
              1
            );
          }
          return i;
        }
        _getTransformedByDeletion(t, e) {
          const n = wf._createAt(this);
          if (this.root != t.root) {
            return n;
          }
          if (vt(t.getParentPath(), this.getParentPath()) == "same") {
            if (t.offset < this.offset) {
              if (t.offset + e > this.offset) {
                return null;
              } else {
                n.offset -= e;
              }
            }
          } else if (vt(t.getParentPath(), this.getParentPath()) == "prefix") {
            const i = t.path.length - 1;
            if (t.offset <= this.path[i]) {
              if (t.offset + e > this.path[i]) {
                return null;
              } else {
                n.path[i] -= e;
              }
            }
          }
          return n;
        }
        _getTransformedByInsertion(t, e) {
          const n = wf._createAt(this);
          if (this.root != t.root) {
            return n;
          }
          if (vt(t.getParentPath(), this.getParentPath()) == "same") {
            if (
              t.offset < this.offset ||
              (t.offset == this.offset && this.stickiness != "toPrevious")
            ) {
              n.offset += e;
            }
          } else if (vt(t.getParentPath(), this.getParentPath()) == "prefix") {
            const i = t.path.length - 1;
            if (t.offset <= this.path[i]) {
              n.path[i] += e;
            }
          }
          return n;
        }
        _getTransformedByMove(t, e, n) {
          e = e._getTransformedByDeletion(t, n);
          if (t.isEqual(e)) {
            return wf._createAt(this);
          }
          const i = this._getTransformedByDeletion(t, n);
          const o =
            i === null ||
            (t.isEqual(this) && this.stickiness == "toNext") ||
            (t.getShiftedBy(n).isEqual(this) &&
              this.stickiness == "toPrevious");
          if (o) {
            return this._getCombined(t, e);
          } else {
            return i._getTransformedByInsertion(e, n);
          }
        }
        _getCombined(t, e) {
          const n = t.path.length - 1;
          const i = wf._createAt(e);
          i.stickiness = this.stickiness;
          i.offset = i.offset + this.path[n] - t.offset;
          i.path = [...i.path, ...this.path.slice(n + 1)];
          return i;
        }
        toJSON() {
          return {
            root: this.root.toJSON(),
            path: Array.from(this.path),
            stickiness: this.stickiness,
          };
        }
        clone() {
          return new this.constructor(this.root, this.path, this.stickiness);
        }
        static _createAt(t, e, n = "toNone") {
          if (t instanceof wf) {
            return new wf(t.root, t.path, t.stickiness);
          } else {
            const i = t;
            if (e == "end") {
              e = i.maxOffset;
            } else if (e == "before") {
              return this._createBefore(i, n);
            } else if (e == "after") {
              return this._createAfter(i, n);
            } else if (e !== 0 && !e) {
              throw new M("model-createpositionat-offset-required", [this, t]);
            }
            if (!i.is("element") && !i.is("documentFragment")) {
              throw new M("model-position-parent-incorrect", [this, t]);
            }
            const o = i.getPath();
            o.push(e);
            return new this(i.root, o, n);
          }
        }
        static _createAfter(t, e) {
          if (!t.parent) {
            throw new M("model-position-after-root", [this, t], { root: t });
          }
          return this._createAt(t.parent, t.endOffset, e);
        }
        static _createBefore(t, e) {
          if (!t.parent) {
            throw new M("model-position-before-root", t, { root: t });
          }
          return this._createAt(t.parent, t.startOffset, e);
        }
        static fromJSON(t, e) {
          if (t.root === "$graveyard") {
            const n = new wf(e.graveyard, t.path);
            n.stickiness = t.stickiness;
            return n;
          }
          if (!e.getRoot(t.root)) {
            throw new M("model-position-fromjson-no-root", e, {
              rootName: t.root,
            });
          }
          return new wf(e.getRoot(t.root), t.path, t.stickiness);
        }
      }
      wf.prototype.is = function (t) {
        return t === "position" || t === "model:position";
      };
      function Af(t, e) {
        const n = e.getChild(e.offsetToIndex(t.offset));
        if (n && n.is("$text") && n.startOffset < t.offset) {
          return n;
        }
        return null;
      }
      function Cf(t, e, n) {
        if (n !== null) {
          return null;
        }
        return e.getChild(e.offsetToIndex(t.offset));
      }
      function _f(t, e, n) {
        if (n !== null) {
          return null;
        }
        return e.getChild(e.offsetToIndex(t.offset) - 1);
      }
      function vf(t, e, n) {
        if (n + 1 === t.path.length) {
          return false;
        }
        if (!yf(e.path, n + 1)) {
          return false;
        }
        if (!xf(t, n + 1)) {
          return false;
        }
        return true;
      }
      function yf(t, e) {
        while (e < t.length) {
          if (t[e] !== 0) {
            return false;
          }
          e++;
        }
        return true;
      }
      function xf(t, e) {
        let n = t.parent;
        let i = t.path.length - 1;
        let o = 0;
        while (i >= e) {
          if (t.path[i] + o !== n.maxOffset) {
            return false;
          }
          o = 1;
          i--;
          n = n.parent;
        }
        return true;
      }
      class Ef extends df {
        constructor(t, e) {
          super();
          this.start = wf._createAt(t);
          this.end = e ? wf._createAt(e) : wf._createAt(t);
          this.start.stickiness = this.isCollapsed ? "toNone" : "toNext";
          this.end.stickiness = this.isCollapsed ? "toNone" : "toPrevious";
        }
        *[Symbol.iterator]() {
          yield* new bf({ boundaries: this, ignoreElementEnd: true });
        }
        get isCollapsed() {
          return this.start.isEqual(this.end);
        }
        get isFlat() {
          const t = this.start.getParentPath();
          const e = this.end.getParentPath();
          return vt(t, e) == "same";
        }
        get root() {
          return this.start.root;
        }
        containsPosition(t) {
          return t.isAfter(this.start) && t.isBefore(this.end);
        }
        containsRange(t, e = false) {
          if (t.isCollapsed) {
            e = false;
          }
          const n =
            this.containsPosition(t.start) ||
            (e && this.start.isEqual(t.start));
          const i =
            this.containsPosition(t.end) || (e && this.end.isEqual(t.end));
          return n && i;
        }
        containsItem(t) {
          const e = wf._createBefore(t);
          return this.containsPosition(e) || this.start.isEqual(e);
        }
        isEqual(t) {
          return this.start.isEqual(t.start) && this.end.isEqual(t.end);
        }
        isIntersecting(t) {
          return this.start.isBefore(t.end) && this.end.isAfter(t.start);
        }
        getDifference(t) {
          const e = [];
          if (this.isIntersecting(t)) {
            if (this.containsPosition(t.start)) {
              e.push(new Ef(this.start, t.start));
            }
            if (this.containsPosition(t.end)) {
              e.push(new Ef(t.end, this.end));
            }
          } else {
            e.push(new Ef(this.start, this.end));
          }
          return e;
        }
        getIntersection(t) {
          if (this.isIntersecting(t)) {
            let e = this.start;
            let n = this.end;
            if (this.containsPosition(t.start)) {
              e = t.start;
            }
            if (this.containsPosition(t.end)) {
              n = t.end;
            }
            return new Ef(e, n);
          }
          return null;
        }
        getJoined(t, e = false) {
          let n = this.isIntersecting(t);
          if (!n) {
            if (this.start.isBefore(t.start)) {
              n = e ? this.end.isTouching(t.start) : this.end.isEqual(t.start);
            } else {
              n = e ? t.end.isTouching(this.start) : t.end.isEqual(this.start);
            }
          }
          if (!n) {
            return null;
          }
          let i = this.start;
          let o = this.end;
          if (t.start.isBefore(i)) {
            i = t.start;
          }
          if (t.end.isAfter(o)) {
            o = t.end;
          }
          return new Ef(i, o);
        }
        getMinimalFlatRanges() {
          const t = [];
          const e = this.start.getCommonPath(this.end).length;
          const n = wf._createAt(this.start);
          let i = n.parent;
          while (n.path.length > e + 1) {
            const e = i.maxOffset - n.offset;
            if (e !== 0) {
              t.push(new Ef(n, n.getShiftedBy(e)));
            }
            n.path = n.path.slice(0, -1);
            n.offset++;
            i = i.parent;
          }
          while (n.path.length <= this.end.path.length) {
            const e = this.end.path[n.path.length - 1];
            const i = e - n.offset;
            if (i !== 0) {
              t.push(new Ef(n, n.getShiftedBy(i)));
            }
            n.offset = e;
            n.path.push(0);
          }
          return t;
        }
        getWalker(t = {}) {
          t.boundaries = this;
          return new bf(t);
        }
        *getItems(t = {}) {
          t.boundaries = this;
          t.ignoreElementEnd = true;
          const e = new bf(t);
          for (const t of e) {
            yield t.item;
          }
        }
        *getPositions(t = {}) {
          t.boundaries = this;
          const e = new bf(t);
          yield e.position;
          for (const t of e) {
            yield t.nextPosition;
          }
        }
        getTransformedByOperation(t) {
          switch (t.type) {
            case "insert":
              return this._getTransformedByInsertOperation(t);
            case "move":
            case "remove":
            case "reinsert":
              return this._getTransformedByMoveOperation(t);
            case "split":
              return [this._getTransformedBySplitOperation(t)];
            case "merge":
              return [this._getTransformedByMergeOperation(t)];
          }
          return [new Ef(this.start, this.end)];
        }
        getTransformedByOperations(t) {
          const e = [new Ef(this.start, this.end)];
          for (const n of t) {
            for (let t = 0; t < e.length; t++) {
              const i = e[t].getTransformedByOperation(n);
              e.splice(t, 1, ...i);
              t += i.length - 1;
            }
          }
          for (let t = 0; t < e.length; t++) {
            const n = e[t];
            for (let i = t + 1; i < e.length; i++) {
              const t = e[i];
              if (n.containsRange(t) || t.containsRange(n) || n.isEqual(t)) {
                e.splice(i, 1);
              }
            }
          }
          return e;
        }
        getCommonAncestor() {
          return this.start.getCommonAncestor(this.end);
        }
        getContainedElement() {
          if (this.isCollapsed) {
            return null;
          }
          const t = this.start.nodeAfter;
          const e = this.end.nodeBefore;
          if (t && t.is("element") && t === e) {
            return t;
          }
          return null;
        }
        toJSON() {
          return { start: this.start.toJSON(), end: this.end.toJSON() };
        }
        clone() {
          return new this.constructor(this.start, this.end);
        }
        _getTransformedByInsertOperation(t, e = false) {
          return this._getTransformedByInsertion(t.position, t.howMany, e);
        }
        _getTransformedByMoveOperation(t, e = false) {
          const n = t.sourcePosition;
          const i = t.howMany;
          const o = t.targetPosition;
          return this._getTransformedByMove(n, o, i, e);
        }
        _getTransformedBySplitOperation(t) {
          const e = this.start._getTransformedBySplitOperation(t);
          let n = this.end._getTransformedBySplitOperation(t);
          if (this.end.isEqual(t.insertionPosition)) {
            n = this.end.getShiftedBy(1);
          }
          if (e.root != n.root) {
            n = this.end.getShiftedBy(-1);
          }
          return new Ef(e, n);
        }
        _getTransformedByMergeOperation(t) {
          if (
            this.start.isEqual(t.targetPosition) &&
            this.end.isEqual(t.deletionPosition)
          ) {
            return new Ef(this.start);
          }
          let e = this.start._getTransformedByMergeOperation(t);
          let n = this.end._getTransformedByMergeOperation(t);
          if (e.root != n.root) {
            n = this.end.getShiftedBy(-1);
          }
          if (e.isAfter(n)) {
            if (t.sourcePosition.isBefore(t.targetPosition)) {
              e = wf._createAt(n);
              e.offset = 0;
            } else {
              if (!t.deletionPosition.isEqual(e)) {
                n = t.deletionPosition;
              }
              e = t.targetPosition;
            }
            return new Ef(e, n);
          }
          return new Ef(e, n);
        }
        _getTransformedByInsertion(t, e, n = false) {
          if (n && this.containsPosition(t)) {
            return [
              new Ef(this.start, t),
              new Ef(
                t.getShiftedBy(e),
                this.end._getTransformedByInsertion(t, e)
              ),
            ];
          } else {
            const n = new Ef(this.start, this.end);
            n.start = n.start._getTransformedByInsertion(t, e);
            n.end = n.end._getTransformedByInsertion(t, e);
            return [n];
          }
        }
        _getTransformedByMove(t, e, n, i = false) {
          if (this.isCollapsed) {
            const i = this.start._getTransformedByMove(t, e, n);
            return [new Ef(i)];
          }
          const o = Ef._createFromPositionAndShift(t, n);
          const r = e._getTransformedByDeletion(t, n);
          if (this.containsPosition(e) && !i) {
            if (
              o.containsPosition(this.start) ||
              o.containsPosition(this.end)
            ) {
              const i = this.start._getTransformedByMove(t, e, n);
              const o = this.end._getTransformedByMove(t, e, n);
              return [new Ef(i, o)];
            }
          }
          let s;
          const a = this.getDifference(o);
          let c = null;
          const l = this.getIntersection(o);
          if (a.length == 1) {
            c = new Ef(
              a[0].start._getTransformedByDeletion(t, n),
              a[0].end._getTransformedByDeletion(t, n)
            );
          } else if (a.length == 2) {
            c = new Ef(this.start, this.end._getTransformedByDeletion(t, n));
          }
          if (c) {
            s = c._getTransformedByInsertion(r, n, l !== null || i);
          } else {
            s = [];
          }
          if (l) {
            const t = new Ef(
              l.start._getCombined(o.start, r),
              l.end._getCombined(o.start, r)
            );
            if (s.length == 2) {
              s.splice(1, 0, t);
            } else {
              s.push(t);
            }
          }
          return s;
        }
        _getTransformedByDeletion(t, e) {
          let n = this.start._getTransformedByDeletion(t, e);
          let i = this.end._getTransformedByDeletion(t, e);
          if (n == null && i == null) {
            return null;
          }
          if (n == null) {
            n = t;
          }
          if (i == null) {
            i = t;
          }
          return new Ef(n, i);
        }
        static _createFromPositionAndShift(t, e) {
          const n = t;
          const i = t.getShiftedBy(e);
          return e > 0 ? new this(n, i) : new this(i, n);
        }
        static _createIn(t) {
          return new this(wf._createAt(t, 0), wf._createAt(t, t.maxOffset));
        }
        static _createOn(t) {
          return this._createFromPositionAndShift(
            wf._createBefore(t),
            t.offsetSize
          );
        }
        static _createFromRanges(t) {
          if (t.length === 0) {
            throw new M("range-create-from-ranges-empty-array", null);
          } else if (t.length == 1) {
            return t[0].clone();
          }
          const e = t[0];
          t.sort((t, e) => (t.start.isAfter(e.start) ? 1 : -1));
          const n = t.indexOf(e);
          const i = new this(e.start, e.end);
          if (n > 0) {
            for (let e = n - 1; true; e++) {
              if (t[e].end.isEqual(i.start)) {
                i.start = wf._createAt(t[e].start);
              } else {
                break;
              }
            }
          }
          for (let e = n + 1; e < t.length; e++) {
            if (t[e].start.isEqual(i.end)) {
              i.end = wf._createAt(t[e].end);
            } else {
              break;
            }
          }
          return i;
        }
        static fromJSON(t, e) {
          return new this(wf.fromJSON(t.start, e), wf.fromJSON(t.end, e));
        }
      }
      Ef.prototype.is = function (t) {
        return t === "range" || t === "model:range";
      };
      class Df extends q() {
        constructor() {
          super();
          this._modelToViewMapping = new WeakMap();
          this._viewToModelMapping = new WeakMap();
          this._viewToModelLengthCallbacks = new Map();
          this._markerNameToElements = new Map();
          this._elementToMarkerNames = new Map();
          this._deferredBindingRemovals = new Map();
          this._unboundMarkerNames = new Set();
          this.on(
            "modelToViewPosition",
            (t, e) => {
              if (e.viewPosition) {
                return;
              }
              const n = this._modelToViewMapping.get(e.modelPosition.parent);
              if (!n) {
                throw new M(
                  "mapping-model-position-view-parent-not-found",
                  this,
                  { modelPosition: e.modelPosition }
                );
              }
              e.viewPosition = this.findPositionIn(n, e.modelPosition.offset);
            },
            { priority: "low" }
          );
          this.on(
            "viewToModelPosition",
            (t, e) => {
              if (e.modelPosition) {
                return;
              }
              const n = this.findMappedViewAncestor(e.viewPosition);
              const i = this._viewToModelMapping.get(n);
              const o = this._toModelOffset(
                e.viewPosition.parent,
                e.viewPosition.offset,
                n
              );
              e.modelPosition = wf._createAt(i, o);
            },
            { priority: "low" }
          );
        }
        bindElements(t, e) {
          this._modelToViewMapping.set(t, e);
          this._viewToModelMapping.set(e, t);
        }
        unbindViewElement(t, e = {}) {
          const n = this.toModelElement(t);
          if (this._elementToMarkerNames.has(t)) {
            for (const e of this._elementToMarkerNames.get(t)) {
              this._unboundMarkerNames.add(e);
            }
          }
          if (e.defer) {
            this._deferredBindingRemovals.set(t, t.root);
          } else {
            this._viewToModelMapping.delete(t);
            if (this._modelToViewMapping.get(n) == t) {
              this._modelToViewMapping.delete(n);
            }
          }
        }
        unbindModelElement(t) {
          const e = this.toViewElement(t);
          this._modelToViewMapping.delete(t);
          if (this._viewToModelMapping.get(e) == t) {
            this._viewToModelMapping.delete(e);
          }
        }
        bindElementToMarker(t, e) {
          const n = this._markerNameToElements.get(e) || new Set();
          n.add(t);
          const i = this._elementToMarkerNames.get(t) || new Set();
          i.add(e);
          this._markerNameToElements.set(e, n);
          this._elementToMarkerNames.set(t, i);
        }
        unbindElementFromMarkerName(t, e) {
          const n = this._markerNameToElements.get(e);
          if (n) {
            n.delete(t);
            if (n.size == 0) {
              this._markerNameToElements.delete(e);
            }
          }
          const i = this._elementToMarkerNames.get(t);
          if (i) {
            i.delete(e);
            if (i.size == 0) {
              this._elementToMarkerNames.delete(t);
            }
          }
        }
        flushUnboundMarkerNames() {
          const t = Array.from(this._unboundMarkerNames);
          this._unboundMarkerNames.clear();
          return t;
        }
        flushDeferredBindings() {
          for (const [t, e] of this._deferredBindingRemovals) {
            if (t.root == e) {
              this.unbindViewElement(t);
            }
          }
          this._deferredBindingRemovals = new Map();
        }
        clearBindings() {
          this._modelToViewMapping = new WeakMap();
          this._viewToModelMapping = new WeakMap();
          this._markerNameToElements = new Map();
          this._elementToMarkerNames = new Map();
          this._unboundMarkerNames = new Set();
          this._deferredBindingRemovals = new Map();
        }
        toModelElement(t) {
          return this._viewToModelMapping.get(t);
        }
        toViewElement(t) {
          return this._modelToViewMapping.get(t);
        }
        toModelRange(t) {
          return new Ef(
            this.toModelPosition(t.start),
            this.toModelPosition(t.end)
          );
        }
        toViewRange(t) {
          return new sh(
            this.toViewPosition(t.start),
            this.toViewPosition(t.end)
          );
        }
        toModelPosition(t) {
          const e = { viewPosition: t, mapper: this };
          this.fire("viewToModelPosition", e);
          return e.modelPosition;
        }
        toViewPosition(t, e = {}) {
          const n = { modelPosition: t, mapper: this, isPhantom: e.isPhantom };
          this.fire("modelToViewPosition", n);
          return n.viewPosition;
        }
        markerNameToElements(t) {
          const e = this._markerNameToElements.get(t);
          if (!e) {
            return null;
          }
          const n = new Set();
          for (const t of e) {
            if (t.is("attributeElement")) {
              for (const e of t.getElementsWithSameId()) {
                n.add(e);
              }
            } else {
              n.add(t);
            }
          }
          return n;
        }
        registerViewToModelLength(t, e) {
          this._viewToModelLengthCallbacks.set(t, e);
        }
        findMappedViewAncestor(t) {
          let e = t.parent;
          while (!this._viewToModelMapping.has(e)) {
            e = e.parent;
          }
          return e;
        }
        _toModelOffset(t, e, n) {
          if (n != t) {
            const i = this._toModelOffset(t.parent, t.index, n);
            const o = this._toModelOffset(t, e, t);
            return i + o;
          }
          if (t.is("$text")) {
            return e;
          }
          let i = 0;
          for (let n = 0; n < e; n++) {
            i += this.getModelLength(t.getChild(n));
          }
          return i;
        }
        getModelLength(t) {
          if (this._viewToModelLengthCallbacks.get(t.name)) {
            const e = this._viewToModelLengthCallbacks.get(t.name);
            return e(t);
          } else if (this._viewToModelMapping.has(t)) {
            return 1;
          } else if (t.is("$text")) {
            return t.data.length;
          } else if (t.is("uiElement")) {
            return 0;
          } else {
            let e = 0;
            for (const n of t.getChildren()) {
              e += this.getModelLength(n);
            }
            return e;
          }
        }
        findPositionIn(t, e) {
          let n;
          let i = 0;
          let o = 0;
          let r = 0;
          if (t.is("$text")) {
            return new rh(t, e);
          }
          while (o < e) {
            n = t.getChild(r);
            i = this.getModelLength(n);
            o += i;
            r++;
          }
          if (o == e) {
            return this._moveViewPositionToTextNode(new rh(t, r));
          } else {
            return this.findPositionIn(n, e - (o - i));
          }
        }
        _moveViewPositionToTextNode(t) {
          const e = t.nodeBefore;
          const n = t.nodeAfter;
          if (e instanceof Yl) {
            return new rh(e, e.data.length);
          } else if (n instanceof Yl) {
            return new rh(n, 0);
          }
          return t;
        }
      }
      class Sf {
        constructor() {
          this._consumable = new Map();
          this._textProxyRegistry = new Map();
        }
        add(t, e) {
          e = Tf(e);
          if (t instanceof gf) {
            t = this._getSymbolForTextProxy(t);
          }
          if (!this._consumable.has(t)) {
            this._consumable.set(t, new Map());
          }
          this._consumable.get(t).set(e, true);
        }
        consume(t, e) {
          e = Tf(e);
          if (t instanceof gf) {
            t = this._getSymbolForTextProxy(t);
          }
          if (this.test(t, e)) {
            this._consumable.get(t).set(e, false);
            return true;
          } else {
            return false;
          }
        }
        test(t, e) {
          e = Tf(e);
          if (t instanceof gf) {
            t = this._getSymbolForTextProxy(t);
          }
          const n = this._consumable.get(t);
          if (n === undefined) {
            return null;
          }
          const i = n.get(e);
          if (i === undefined) {
            return null;
          }
          return i;
        }
        revert(t, e) {
          e = Tf(e);
          if (t instanceof gf) {
            t = this._getSymbolForTextProxy(t);
          }
          const n = this.test(t, e);
          if (n === false) {
            this._consumable.get(t).set(e, true);
            return true;
          } else if (n === true) {
            return false;
          }
          return null;
        }
        verifyAllConsumed(t) {
          const e = [];
          for (const [n, i] of this._consumable) {
            for (const [o, r] of i) {
              const i = o.split(":")[0];
              if (r && t == i) {
                e.push({ event: o, item: n.name || n.description });
              }
            }
          }
          if (e.length) {
            throw new M("conversion-model-consumable-not-consumed", null, {
              items: e,
            });
          }
        }
        _getSymbolForTextProxy(t) {
          let e = null;
          const n = this._textProxyRegistry.get(t.startOffset);
          if (n) {
            const i = n.get(t.endOffset);
            if (i) {
              e = i.get(t.parent);
            }
          }
          if (!e) {
            e = this._addSymbolForTextProxy(t);
          }
          return e;
        }
        _addSymbolForTextProxy(t) {
          const e = t.startOffset;
          const n = t.endOffset;
          const i = t.parent;
          const o = Symbol("$textProxy:" + t.data);
          let r;
          let s;
          r = this._textProxyRegistry.get(e);
          if (!r) {
            r = new Map();
            this._textProxyRegistry.set(e, r);
          }
          s = r.get(n);
          if (!s) {
            s = new Map();
            r.set(n, s);
          }
          s.set(i, o);
          return o;
        }
      }
      function Tf(t) {
        const e = t.split(":");
        if (e[0] == "insert") {
          return e[0];
        }
        if (e[0] == "addMarker" || e[0] == "removeMarker") {
          return t;
        }
        return e.length > 1 ? e[0] + ":" + e[1] : e[0];
      }
      class If extends q() {
        constructor(t) {
          super();
          this._conversionApi = { dispatcher: this, ...t };
          this._firedEventsMap = new WeakMap();
        }
        convertChanges(t, e, n) {
          const i = this._createConversionApi(n, t.getRefreshedItems());
          for (const e of t.getMarkersToRemove()) {
            this._convertMarkerRemove(e.name, e.range, i);
          }
          const o = this._reduceChanges(t.getChanges());
          for (const t of o) {
            if (t.type === "insert") {
              this._convertInsert(
                Ef._createFromPositionAndShift(t.position, t.length),
                i
              );
            } else if (t.type === "reinsert") {
              this._convertReinsert(
                Ef._createFromPositionAndShift(t.position, t.length),
                i
              );
            } else if (t.type === "remove") {
              this._convertRemove(t.position, t.length, t.name, i);
            } else {
              this._convertAttribute(
                t.range,
                t.attributeKey,
                t.attributeOldValue,
                t.attributeNewValue,
                i
              );
            }
          }
          for (const t of i.mapper.flushUnboundMarkerNames()) {
            const n = e.get(t).getRange();
            this._convertMarkerRemove(t, n, i);
            this._convertMarkerAdd(t, n, i);
          }
          for (const e of t.getMarkersToAdd()) {
            this._convertMarkerAdd(e.name, e.range, i);
          }
          i.mapper.flushDeferredBindings();
          i.consumable.verifyAllConsumed("insert");
        }
        convert(t, e, n, i = {}) {
          const o = this._createConversionApi(n, undefined, i);
          this._convertInsert(t, o);
          for (const [t, n] of e) {
            this._convertMarkerAdd(t, n, o);
          }
          o.consumable.verifyAllConsumed("insert");
        }
        convertSelection(t, e, n) {
          const i = Array.from(e.getMarkersAtPosition(t.getFirstPosition()));
          const o = this._createConversionApi(n);
          this._addConsumablesForSelection(o.consumable, t, i);
          this.fire("selection", { selection: t }, o);
          if (!t.isCollapsed) {
            return;
          }
          for (const e of i) {
            const n = e.getRange();
            if (!Mf(t.getFirstPosition(), e, o.mapper)) {
              continue;
            }
            const i = { item: t, markerName: e.name, markerRange: n };
            if (o.consumable.test(t, "addMarker:" + e.name)) {
              this.fire(\`addMarker:\${e.name}\`, i, o);
            }
          }
          for (const e of t.getAttributeKeys()) {
            const n = {
              item: t,
              range: t.getFirstRange(),
              attributeKey: e,
              attributeOldValue: null,
              attributeNewValue: t.getAttribute(e),
            };
            if (o.consumable.test(t, "attribute:" + n.attributeKey)) {
              this.fire(\`attribute:\${n.attributeKey}:$text\`, n, o);
            }
          }
        }
        _convertInsert(t, e, n = {}) {
          if (!n.doNotAddConsumables) {
            this._addConsumablesForInsert(e.consumable, Array.from(t));
          }
          for (const n of Array.from(t.getWalker({ shallow: true })).map(Lf)) {
            this._testAndFire("insert", n, e);
          }
        }
        _convertRemove(t, e, n, i) {
          this.fire(\`remove:\${n}\`, { position: t, length: e }, i);
        }
        _convertAttribute(t, e, n, i, o) {
          this._addConsumablesForRange(o.consumable, t, \`attribute:\${e}\`);
          for (const r of t) {
            const t = {
              item: r.item,
              range: Ef._createFromPositionAndShift(
                r.previousPosition,
                r.length
              ),
              attributeKey: e,
              attributeOldValue: n,
              attributeNewValue: i,
            };
            this._testAndFire(\`attribute:\${e}\`, t, o);
          }
        }
        _convertReinsert(t, e) {
          const n = Array.from(t.getWalker({ shallow: true }));
          this._addConsumablesForInsert(e.consumable, n);
          for (const t of n.map(Lf)) {
            this._testAndFire("insert", { ...t, reconversion: true }, e);
          }
        }
        _convertMarkerAdd(t, e, n) {
          if (e.root.rootName == "$graveyard") {
            return;
          }
          const i = \`addMarker:\${t}\`;
          n.consumable.add(e, i);
          this.fire(i, { markerName: t, markerRange: e }, n);
          if (!n.consumable.consume(e, i)) {
            return;
          }
          this._addConsumablesForRange(n.consumable, e, i);
          for (const o of e.getItems()) {
            if (!n.consumable.test(o, i)) {
              continue;
            }
            const r = {
              item: o,
              range: Ef._createOn(o),
              markerName: t,
              markerRange: e,
            };
            this.fire(i, r, n);
          }
        }
        _convertMarkerRemove(t, e, n) {
          if (e.root.rootName == "$graveyard") {
            return;
          }
          this.fire(\`removeMarker:\${t}\`, { markerName: t, markerRange: e }, n);
        }
        _reduceChanges(t) {
          const e = { changes: t };
          this.fire("reduceChanges", e);
          return e.changes;
        }
        _addConsumablesForInsert(t, e) {
          for (const n of e) {
            const e = n.item;
            if (t.test(e, "insert") === null) {
              t.add(e, "insert");
              for (const n of e.getAttributeKeys()) {
                t.add(e, "attribute:" + n);
              }
            }
          }
          return t;
        }
        _addConsumablesForRange(t, e, n) {
          for (const i of e.getItems()) {
            t.add(i, n);
          }
          return t;
        }
        _addConsumablesForSelection(t, e, n) {
          t.add(e, "selection");
          for (const i of n) {
            t.add(e, "addMarker:" + i.name);
          }
          for (const n of e.getAttributeKeys()) {
            t.add(e, "attribute:" + n);
          }
          return t;
        }
        _testAndFire(t, e, n) {
          const i = Bf(t, e);
          const o = e.item.is("$textProxy")
            ? n.consumable._getSymbolForTextProxy(e.item)
            : e.item;
          const r = this._firedEventsMap.get(n);
          const s = r.get(o);
          if (!s) {
            r.set(o, new Set([i]));
          } else if (!s.has(i)) {
            s.add(i);
          } else {
            return;
          }
          this.fire(i, e, n);
        }
        _testAndFireAddAttributes(t, e) {
          const n = { item: t, range: Ef._createOn(t) };
          for (const t of n.item.getAttributeKeys()) {
            n.attributeKey = t;
            n.attributeOldValue = null;
            n.attributeNewValue = n.item.getAttribute(t);
            this._testAndFire(\`attribute:\${t}\`, n, e);
          }
        }
        _createConversionApi(t, e = new Set(), n = {}) {
          const i = {
            ...this._conversionApi,
            consumable: new Sf(),
            writer: t,
            options: n,
            convertItem: (t) => this._convertInsert(Ef._createOn(t), i),
            convertChildren: (t) =>
              this._convertInsert(Ef._createIn(t), i, {
                doNotAddConsumables: true,
              }),
            convertAttributes: (t) => this._testAndFireAddAttributes(t, i),
            canReuseView: (t) => !e.has(i.mapper.toModelElement(t)),
          };
          this._firedEventsMap.set(i, new Map());
          return i;
        }
      }
      function Mf(t, e, n) {
        const i = e.getRange();
        const o = Array.from(t.getAncestors());
        o.shift();
        o.reverse();
        const r = o.some((t) => {
          if (i.containsItem(t)) {
            const e = n.toViewElement(t);
            return !!e.getCustomProperty("addHighlight");
          }
        });
        return !r;
      }
      function Bf(t, e) {
        const n = e.item.is("element") ? e.item.name : "$text";
        return \`\${t}:\${n}\`;
      }
      function Lf(t) {
        const e = t.item;
        const n = Ef._createFromPositionAndShift(t.previousPosition, t.length);
        return { item: e, range: n };
      }
      class Nf extends q(df) {
        constructor(...t) {
          super();
          this._lastRangeBackward = false;
          this._ranges = [];
          this._attrs = new Map();
          if (t.length) {
            this.setTo(...t);
          }
        }
        get anchor() {
          if (this._ranges.length > 0) {
            const t = this._ranges[this._ranges.length - 1];
            return this._lastRangeBackward ? t.end : t.start;
          }
          return null;
        }
        get focus() {
          if (this._ranges.length > 0) {
            const t = this._ranges[this._ranges.length - 1];
            return this._lastRangeBackward ? t.start : t.end;
          }
          return null;
        }
        get isCollapsed() {
          const t = this._ranges.length;
          if (t === 1) {
            return this._ranges[0].isCollapsed;
          } else {
            return false;
          }
        }
        get rangeCount() {
          return this._ranges.length;
        }
        get isBackward() {
          return !this.isCollapsed && this._lastRangeBackward;
        }
        isEqual(t) {
          if (this.rangeCount != t.rangeCount) {
            return false;
          } else if (this.rangeCount === 0) {
            return true;
          }
          if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus)) {
            return false;
          }
          for (const e of this._ranges) {
            let n = false;
            for (const i of t._ranges) {
              if (e.isEqual(i)) {
                n = true;
                break;
              }
            }
            if (!n) {
              return false;
            }
          }
          return true;
        }
        *getRanges() {
          for (const t of this._ranges) {
            yield new Ef(t.start, t.end);
          }
        }
        getFirstRange() {
          let t = null;
          for (const e of this._ranges) {
            if (!t || e.start.isBefore(t.start)) {
              t = e;
            }
          }
          return t ? new Ef(t.start, t.end) : null;
        }
        getLastRange() {
          let t = null;
          for (const e of this._ranges) {
            if (!t || e.end.isAfter(t.end)) {
              t = e;
            }
          }
          return t ? new Ef(t.start, t.end) : null;
        }
        getFirstPosition() {
          const t = this.getFirstRange();
          return t ? t.start.clone() : null;
        }
        getLastPosition() {
          const t = this.getLastRange();
          return t ? t.end.clone() : null;
        }
        setTo(...t) {
          let [e, n, i] = t;
          if (typeof n == "object") {
            i = n;
            n = undefined;
          }
          if (e === null) {
            this._setRanges([]);
          } else if (e instanceof Nf) {
            this._setRanges(e.getRanges(), e.isBackward);
          } else if (e && typeof e.getRanges == "function") {
            this._setRanges(e.getRanges(), e.isBackward);
          } else if (e instanceof Ef) {
            this._setRanges([e], !!i && !!i.backward);
          } else if (e instanceof wf) {
            this._setRanges([new Ef(e)]);
          } else if (e instanceof uf) {
            const t = !!i && !!i.backward;
            let o;
            if (n == "in") {
              o = Ef._createIn(e);
            } else if (n == "on") {
              o = Ef._createOn(e);
            } else if (n !== undefined) {
              o = new Ef(wf._createAt(e, n));
            } else {
              throw new M("model-selection-setto-required-second-parameter", [
                this,
                e,
              ]);
            }
            this._setRanges([o], t);
          } else if (yt(e)) {
            this._setRanges(e, i && !!i.backward);
          } else {
            throw new M("model-selection-setto-not-selectable", [this, e]);
          }
        }
        _setRanges(t, e = false) {
          const n = Array.from(t);
          const i = n.some((e) => {
            if (!(e instanceof Ef)) {
              throw new M("model-selection-set-ranges-not-range", [this, t]);
            }
            return this._ranges.every((t) => !t.isEqual(e));
          });
          if (n.length === this._ranges.length && !i) {
            return;
          }
          this._replaceAllRanges(n);
          this._lastRangeBackward = !!e;
          this.fire("change:range", { directChange: true });
        }
        setFocus(t, e) {
          if (this.anchor === null) {
            throw new M("model-selection-setfocus-no-ranges", [this, t]);
          }
          const n = wf._createAt(t, e);
          if (n.compareWith(this.focus) == "same") {
            return;
          }
          const i = this.anchor;
          if (this._ranges.length) {
            this._popRange();
          }
          if (n.compareWith(i) == "before") {
            this._pushRange(new Ef(n, i));
            this._lastRangeBackward = true;
          } else {
            this._pushRange(new Ef(i, n));
            this._lastRangeBackward = false;
          }
          this.fire("change:range", { directChange: true });
        }
        getAttribute(t) {
          return this._attrs.get(t);
        }
        getAttributes() {
          return this._attrs.entries();
        }
        getAttributeKeys() {
          return this._attrs.keys();
        }
        hasAttribute(t) {
          return this._attrs.has(t);
        }
        removeAttribute(t) {
          if (this.hasAttribute(t)) {
            this._attrs.delete(t);
            this.fire("change:attribute", {
              attributeKeys: [t],
              directChange: true,
            });
          }
        }
        setAttribute(t, e) {
          if (this.getAttribute(t) !== e) {
            this._attrs.set(t, e);
            this.fire("change:attribute", {
              attributeKeys: [t],
              directChange: true,
            });
          }
        }
        getSelectedElement() {
          if (this.rangeCount !== 1) {
            return null;
          }
          return this.getFirstRange().getContainedElement();
        }
        *getSelectedBlocks() {
          const t = new WeakSet();
          for (const e of this.getRanges()) {
            const n = Rf(e.start, t);
            if (n && Of(n, e)) {
              yield n;
            }
            for (const n of e.getWalker()) {
              const i = n.item;
              if (n.type == "elementEnd" && Pf(i, t, e)) {
                yield i;
              }
            }
            const i = Rf(e.end, t);
            if (i && !e.end.isTouching(wf._createAt(i, 0)) && Of(i, e)) {
              yield i;
            }
          }
        }
        containsEntireContent(t = this.anchor.root) {
          const e = wf._createAt(t, 0);
          const n = wf._createAt(t, "end");
          return (
            e.isTouching(this.getFirstPosition()) &&
            n.isTouching(this.getLastPosition())
          );
        }
        _pushRange(t) {
          this._checkRange(t);
          this._ranges.push(new Ef(t.start, t.end));
        }
        _checkRange(t) {
          for (let e = 0; e < this._ranges.length; e++) {
            if (t.isIntersecting(this._ranges[e])) {
              throw new M("model-selection-range-intersects", [this, t], {
                addedRange: t,
                intersectingRange: this._ranges[e],
              });
            }
          }
        }
        _replaceAllRanges(t) {
          this._removeAllRanges();
          for (const e of t) {
            this._pushRange(e);
          }
        }
        _removeAllRanges() {
          while (this._ranges.length > 0) {
            this._popRange();
          }
        }
        _popRange() {
          this._ranges.pop();
        }
      }
      Nf.prototype.is = function (t) {
        return t === "selection" || t === "model:selection";
      };
      function zf(t, e) {
        if (e.has(t)) {
          return false;
        }
        e.add(t);
        return t.root.document.model.schema.isBlock(t) && !!t.parent;
      }
      function Pf(t, e, n) {
        return zf(t, e) && Of(t, n);
      }
      function Rf(t, e) {
        const n = t.parent;
        const i = n.root.document.model.schema;
        const o = t.parent.getAncestors({
          parentFirst: true,
          includeSelf: true,
        });
        let r = false;
        const s = o.find((t) => {
          if (r) {
            return false;
          }
          r = i.isLimit(t);
          return !r && zf(t, e);
        });
        o.forEach((t) => e.add(t));
        return s;
      }
      function Of(t, e) {
        const n = jf(t);
        if (!n) {
          return true;
        }
        const i = e.containsRange(Ef._createOn(n), true);
        return !i;
      }
      function jf(t) {
        const e = t.root.document.model.schema;
        let n = t.parent;
        while (n) {
          if (e.isBlock(n)) {
            return n;
          }
          n = n.parent;
        }
      }
      class Ff extends q(Ef) {
        constructor(t, e) {
          super(t, e);
          Vf.call(this);
        }
        detach() {
          this.stopListening();
        }
        toRange() {
          return new Ef(this.start, this.end);
        }
        static fromRange(t) {
          return new Ff(t.start, t.end);
        }
      }
      Ff.prototype.is = function (t) {
        return (
          t === "liveRange" ||
          t === "model:liveRange" ||
          t == "range" ||
          t === "model:range"
        );
      };
      function Vf() {
        this.listenTo(
          this.root.document.model,
          "applyOperation",
          (t, e) => {
            const n = e[0];
            if (!n.isDocumentOperation) {
              return;
            }
            Hf.call(this, n);
          },
          { priority: "low" }
        );
      }
      function Hf(t) {
        const e = this.getTransformedByOperation(t);
        const n = Ef._createFromRanges(e);
        const i = !n.isEqual(this);
        const o = Uf(this, t);
        let r = null;
        if (i) {
          if (n.root.rootName == "$graveyard") {
            if (t.type == "remove") {
              r = t.sourcePosition;
            } else {
              r = t.deletionPosition;
            }
          }
          const e = this.toRange();
          this.start = n.start;
          this.end = n.end;
          this.fire("change:range", e, { deletionPosition: r });
        } else if (o) {
          this.fire("change:content", this.toRange(), { deletionPosition: r });
        }
      }
      function Uf(t, e) {
        switch (e.type) {
          case "insert":
            return t.containsPosition(e.position);
          case "move":
          case "remove":
          case "reinsert":
          case "merge":
            return (
              t.containsPosition(e.sourcePosition) ||
              t.start.isEqual(e.sourcePosition) ||
              t.containsPosition(e.targetPosition)
            );
          case "split":
            return (
              t.containsPosition(e.splitPosition) ||
              t.containsPosition(e.insertionPosition)
            );
        }
        return false;
      }
      const qf = "selection:";
      class Wf extends q(df) {
        constructor(t) {
          super();
          this._selection = new Gf(t);
          this._selection.delegate("change:range").to(this);
          this._selection.delegate("change:attribute").to(this);
          this._selection.delegate("change:marker").to(this);
        }
        get isCollapsed() {
          return this._selection.isCollapsed;
        }
        get anchor() {
          return this._selection.anchor;
        }
        get focus() {
          return this._selection.focus;
        }
        get rangeCount() {
          return this._selection.rangeCount;
        }
        get hasOwnRange() {
          return this._selection.hasOwnRange;
        }
        get isBackward() {
          return this._selection.isBackward;
        }
        get isGravityOverridden() {
          return this._selection.isGravityOverridden;
        }
        get markers() {
          return this._selection.markers;
        }
        get _ranges() {
          return this._selection._ranges;
        }
        getRanges() {
          return this._selection.getRanges();
        }
        getFirstPosition() {
          return this._selection.getFirstPosition();
        }
        getLastPosition() {
          return this._selection.getLastPosition();
        }
        getFirstRange() {
          return this._selection.getFirstRange();
        }
        getLastRange() {
          return this._selection.getLastRange();
        }
        getSelectedBlocks() {
          return this._selection.getSelectedBlocks();
        }
        getSelectedElement() {
          return this._selection.getSelectedElement();
        }
        containsEntireContent(t) {
          return this._selection.containsEntireContent(t);
        }
        destroy() {
          this._selection.destroy();
        }
        getAttributeKeys() {
          return this._selection.getAttributeKeys();
        }
        getAttributes() {
          return this._selection.getAttributes();
        }
        getAttribute(t) {
          return this._selection.getAttribute(t);
        }
        hasAttribute(t) {
          return this._selection.hasAttribute(t);
        }
        refresh() {
          this._selection.updateMarkers();
          this._selection._updateAttributes(false);
        }
        observeMarkers(t) {
          this._selection.observeMarkers(t);
        }
        _setFocus(t, e) {
          this._selection.setFocus(t, e);
        }
        _setTo(...t) {
          this._selection.setTo(...t);
        }
        _setAttribute(t, e) {
          this._selection.setAttribute(t, e);
        }
        _removeAttribute(t) {
          this._selection.removeAttribute(t);
        }
        _getStoredAttributes() {
          return this._selection.getStoredAttributes();
        }
        _overrideGravity() {
          return this._selection.overrideGravity();
        }
        _restoreGravity(t) {
          this._selection.restoreGravity(t);
        }
        static _getStoreAttributeKey(t) {
          return qf + t;
        }
        static _isStoreAttributeKey(t) {
          return t.startsWith(qf);
        }
      }
      Wf.prototype.is = function (t) {
        return (
          t === "selection" ||
          t == "model:selection" ||
          t == "documentSelection" ||
          t == "model:documentSelection"
        );
      };
      class Gf extends Nf {
        constructor(t) {
          super();
          this.markers = new rl({ idProperty: "name" });
          this._model = t.model;
          this._document = t;
          this._attributePriority = new Map();
          this._selectionRestorePosition = null;
          this._hasChangedRange = false;
          this._overriddenGravityRegister = new Set();
          this._observedMarkers = new Set();
          this.listenTo(
            this._model,
            "applyOperation",
            (t, e) => {
              const n = e[0];
              if (
                !n.isDocumentOperation ||
                n.type == "marker" ||
                n.type == "rename" ||
                n.type == "noop"
              ) {
                return;
              }
              if (this._ranges.length == 0 && this._selectionRestorePosition) {
                this._fixGraveyardSelection(this._selectionRestorePosition);
              }
              this._selectionRestorePosition = null;
              if (this._hasChangedRange) {
                this._hasChangedRange = false;
                this.fire("change:range", { directChange: false });
              }
            },
            { priority: "lowest" }
          );
          this.on("change:range", () => {
            this._validateSelectionRanges(this.getRanges());
          });
          this.listenTo(this._model.markers, "update", (t, e, n, i) => {
            this._updateMarker(e, i);
          });
          this.listenTo(this._document, "change", (t, e) => {
            Kf(this._model, e);
          });
        }
        get isCollapsed() {
          const t = this._ranges.length;
          return t === 0
            ? this._document._getDefaultRange().isCollapsed
            : super.isCollapsed;
        }
        get anchor() {
          return super.anchor || this._document._getDefaultRange().start;
        }
        get focus() {
          return super.focus || this._document._getDefaultRange().end;
        }
        get rangeCount() {
          return this._ranges.length ? this._ranges.length : 1;
        }
        get hasOwnRange() {
          return this._ranges.length > 0;
        }
        get isGravityOverridden() {
          return !!this._overriddenGravityRegister.size;
        }
        destroy() {
          for (let t = 0; t < this._ranges.length; t++) {
            this._ranges[t].detach();
          }
          this.stopListening();
        }
        *getRanges() {
          if (this._ranges.length) {
            yield* super.getRanges();
          } else {
            yield this._document._getDefaultRange();
          }
        }
        getFirstRange() {
          return super.getFirstRange() || this._document._getDefaultRange();
        }
        getLastRange() {
          return super.getLastRange() || this._document._getDefaultRange();
        }
        setTo(...t) {
          super.setTo(...t);
          this._updateAttributes(true);
          this.updateMarkers();
        }
        setFocus(t, e) {
          super.setFocus(t, e);
          this._updateAttributes(true);
          this.updateMarkers();
        }
        setAttribute(t, e) {
          if (this._setAttribute(t, e)) {
            const e = [t];
            this.fire("change:attribute", {
              attributeKeys: e,
              directChange: true,
            });
          }
        }
        removeAttribute(t) {
          if (this._removeAttribute(t)) {
            const e = [t];
            this.fire("change:attribute", {
              attributeKeys: e,
              directChange: true,
            });
          }
        }
        overrideGravity() {
          const t = E();
          this._overriddenGravityRegister.add(t);
          if (this._overriddenGravityRegister.size === 1) {
            this._updateAttributes(true);
          }
          return t;
        }
        restoreGravity(t) {
          if (!this._overriddenGravityRegister.has(t)) {
            throw new M("document-selection-gravity-wrong-restore", this, {
              uid: t,
            });
          }
          this._overriddenGravityRegister.delete(t);
          if (!this.isGravityOverridden) {
            this._updateAttributes(true);
          }
        }
        observeMarkers(t) {
          this._observedMarkers.add(t);
          this.updateMarkers();
        }
        _replaceAllRanges(t) {
          this._validateSelectionRanges(t);
          super._replaceAllRanges(t);
        }
        _popRange() {
          this._ranges.pop().detach();
        }
        _pushRange(t) {
          const e = this._prepareRange(t);
          if (e) {
            this._ranges.push(e);
          }
        }
        _validateSelectionRanges(t) {
          for (const e of t) {
            if (!this._document._validateSelectionRange(e)) {
              throw new M("document-selection-wrong-position", this, {
                range: e,
              });
            }
          }
        }
        _prepareRange(t) {
          this._checkRange(t);
          if (t.root == this._document.graveyard) {
            return;
          }
          const e = Ff.fromRange(t);
          e.on("change:range", (t, n, i) => {
            this._hasChangedRange = true;
            if (e.root == this._document.graveyard) {
              this._selectionRestorePosition = i.deletionPosition;
              const t = this._ranges.indexOf(e);
              this._ranges.splice(t, 1);
              e.detach();
            }
          });
          return e;
        }
        updateMarkers() {
          if (!this._observedMarkers.size) {
            return;
          }
          const t = [];
          let e = false;
          for (const e of this._model.markers) {
            const n = e.name.split(":", 1)[0];
            if (!this._observedMarkers.has(n)) {
              continue;
            }
            const i = e.getRange();
            for (const n of this.getRanges()) {
              if (i.containsRange(n, !n.isCollapsed)) {
                t.push(e);
              }
            }
          }
          const n = Array.from(this.markers);
          for (const n of t) {
            if (!this.markers.has(n)) {
              this.markers.add(n);
              e = true;
            }
          }
          for (const n of Array.from(this.markers)) {
            if (!t.includes(n)) {
              this.markers.remove(n);
              e = true;
            }
          }
          if (e) {
            this.fire("change:marker", { oldMarkers: n, directChange: false });
          }
        }
        _updateMarker(t, e) {
          const n = t.name.split(":", 1)[0];
          if (!this._observedMarkers.has(n)) {
            return;
          }
          let i = false;
          const o = Array.from(this.markers);
          const r = this.markers.has(t);
          if (!e) {
            if (r) {
              this.markers.remove(t);
              i = true;
            }
          } else {
            let n = false;
            for (const t of this.getRanges()) {
              if (e.containsRange(t, !t.isCollapsed)) {
                n = true;
                break;
              }
            }
            if (n && !r) {
              this.markers.add(t);
              i = true;
            } else if (!n && r) {
              this.markers.remove(t);
              i = true;
            }
          }
          if (i) {
            this.fire("change:marker", { oldMarkers: o, directChange: false });
          }
        }
        _updateAttributes(t) {
          const e = dl(this._getSurroundingAttributes());
          const n = dl(this.getAttributes());
          if (t) {
            this._attributePriority = new Map();
            this._attrs = new Map();
          } else {
            for (const [t, e] of this._attributePriority) {
              if (e == "low") {
                this._attrs.delete(t);
                this._attributePriority.delete(t);
              }
            }
          }
          this._setAttributesTo(e);
          const i = [];
          for (const [t, e] of this.getAttributes()) {
            if (!n.has(t) || n.get(t) !== e) {
              i.push(t);
            }
          }
          for (const [t] of n) {
            if (!this.hasAttribute(t)) {
              i.push(t);
            }
          }
          if (i.length > 0) {
            this.fire("change:attribute", {
              attributeKeys: i,
              directChange: false,
            });
          }
        }
        _setAttribute(t, e, n = true) {
          const i = n ? "normal" : "low";
          if (i == "low" && this._attributePriority.get(t) == "normal") {
            return false;
          }
          const o = super.getAttribute(t);
          if (o === e) {
            return false;
          }
          this._attrs.set(t, e);
          this._attributePriority.set(t, i);
          return true;
        }
        _removeAttribute(t, e = true) {
          const n = e ? "normal" : "low";
          if (n == "low" && this._attributePriority.get(t) == "normal") {
            return false;
          }
          this._attributePriority.set(t, n);
          if (!super.hasAttribute(t)) {
            return false;
          }
          this._attrs.delete(t);
          return true;
        }
        _setAttributesTo(t) {
          const e = new Set();
          for (const [e, n] of this.getAttributes()) {
            if (t.get(e) === n) {
              continue;
            }
            this._removeAttribute(e, false);
          }
          for (const [n, i] of t) {
            const t = this._setAttribute(n, i, false);
            if (t) {
              e.add(n);
            }
          }
          return e;
        }
        *getStoredAttributes() {
          const t = this.getFirstPosition().parent;
          if (this.isCollapsed && t.isEmpty) {
            for (const e of t.getAttributeKeys()) {
              if (e.startsWith(qf)) {
                const n = e.substr(qf.length);
                yield [n, t.getAttribute(e)];
              }
            }
          }
        }
        _getSurroundingAttributes() {
          const t = this.getFirstPosition();
          const e = this._model.schema;
          let n = null;
          if (!this.isCollapsed) {
            const t = this.getFirstRange();
            for (const i of t) {
              if (i.item.is("element") && e.isObject(i.item)) {
                break;
              }
              if (i.type == "text") {
                n = i.item.getAttributes();
                break;
              }
            }
          } else {
            const i = t.textNode ? t.textNode : t.nodeBefore;
            const o = t.textNode ? t.textNode : t.nodeAfter;
            if (!this.isGravityOverridden) {
              n = $f(i);
            }
            if (!n) {
              n = $f(o);
            }
            if (!this.isGravityOverridden && !n) {
              let t = i;
              while (t && !e.isInline(t) && !n) {
                t = t.previousSibling;
                n = $f(t);
              }
            }
            if (!n) {
              let t = o;
              while (t && !e.isInline(t) && !n) {
                t = t.nextSibling;
                n = $f(t);
              }
            }
            if (!n) {
              n = this.getStoredAttributes();
            }
          }
          return n;
        }
        _fixGraveyardSelection(t) {
          const e = this._model.schema.getNearestSelectionRange(t);
          if (e) {
            this._pushRange(e);
          }
        }
      }
      function $f(t) {
        if (t instanceof gf || t instanceof mf) {
          return t.getAttributes();
        }
        return null;
      }
      function Kf(t, e) {
        const n = t.document.differ;
        for (const i of n.getChanges()) {
          if (i.type != "insert") {
            continue;
          }
          const n = i.position.parent;
          const o = i.length === n.maxOffset;
          if (o) {
            t.enqueueChange(e, (t) => {
              const e = Array.from(n.getAttributeKeys()).filter((t) =>
                t.startsWith(qf)
              );
              for (const i of e) {
                t.removeAttribute(i, n);
              }
            });
          }
        }
      }
      class Yf {
        constructor(t) {
          this._dispatchers = t;
        }
        add(t) {
          for (const e of this._dispatchers) {
            t(e);
          }
          return this;
        }
      }
      var Zf = 1,
        Qf = 4;
      function Jf(t) {
        return za(t, Zf | Qf);
      }
      const Xf = Jf;
      class tp extends Yf {
        elementToElement(t) {
          return this.add(_p(t));
        }
        elementToStructure(t) {
          return this.add(vp(t));
        }
        attributeToElement(t) {
          return this.add(yp(t));
        }
        attributeToAttribute(t) {
          return this.add(xp(t));
        }
        markerToElement(t) {
          return this.add(Ep(t));
        }
        markerToHighlight(t) {
          return this.add(Sp(t));
        }
        markerToData(t) {
          return this.add(Dp(t));
        }
      }
      function ep() {
        return (t, e, n) => {
          if (!n.consumable.consume(e.item, t.name)) {
            return;
          }
          const i = n.writer;
          const o = n.mapper.toViewPosition(e.range.start);
          const r = i.createText(e.item.data);
          i.insert(o, r);
        };
      }
      function np() {
        return (t, e, n) => {
          n.convertAttributes(e.item);
          if (!e.reconversion && e.item.is("element") && !e.item.isEmpty) {
            n.convertChildren(e.item);
          }
        };
      }
      function ip() {
        return (t, e, n) => {
          const i = n.mapper.toViewPosition(e.position);
          const o = e.position.getShiftedBy(e.length);
          const r = n.mapper.toViewPosition(o, { isPhantom: true });
          const s = n.writer.createRange(i, r);
          const a = n.writer.remove(s.getTrimmed());
          for (const t of n.writer.createRangeIn(a).getItems()) {
            n.mapper.unbindViewElement(t, { defer: true });
          }
        };
      }
      function op(t, e) {
        const n = t.createAttributeElement("span", e.attributes);
        if (e.classes) {
          n._addClass(e.classes);
        }
        if (typeof e.priority === "number") {
          n._priority = e.priority;
        }
        n._id = e.id;
        return n;
      }
      function rp() {
        return (t, e, n) => {
          const i = e.selection;
          if (i.isCollapsed) {
            return;
          }
          if (!n.consumable.consume(i, "selection")) {
            return;
          }
          const o = [];
          for (const t of i.getRanges()) {
            o.push(n.mapper.toViewRange(t));
          }
          n.writer.setSelection(o, { backward: i.isBackward });
        };
      }
      function sp() {
        return (t, e, n) => {
          const i = e.selection;
          if (!i.isCollapsed) {
            return;
          }
          if (!n.consumable.consume(i, "selection")) {
            return;
          }
          const o = n.writer;
          const r = i.getFirstPosition();
          const s = n.mapper.toViewPosition(r);
          const a = o.breakAttributes(s);
          o.setSelection(a);
        };
      }
      function ap() {
        return (t, e, n) => {
          const i = n.writer;
          const o = i.document.selection;
          for (const t of o.getRanges()) {
            if (t.isCollapsed) {
              if (t.end.parent.isAttached()) {
                n.writer.mergeAttributes(t.start);
              }
            }
          }
          i.setSelection(null);
        };
      }
      function cp(t) {
        return (e, n, i) => {
          if (!i.consumable.test(n.item, e.name)) {
            return;
          }
          const o = t(n.attributeOldValue, i, n);
          const r = t(n.attributeNewValue, i, n);
          if (!o && !r) {
            return;
          }
          i.consumable.consume(n.item, e.name);
          const s = i.writer;
          const a = s.document.selection;
          if (n.item instanceof Nf || n.item instanceof Wf) {
            s.wrap(a.getFirstRange(), r);
          } else {
            let t = i.mapper.toViewRange(n.range);
            if (n.attributeOldValue !== null && o) {
              t = s.unwrap(t, o);
            }
            if (n.attributeNewValue !== null && r) {
              s.wrap(t, r);
            }
          }
        };
      }
      function lp(t, e = Up) {
        return (n, i, o) => {
          if (!e(i.item, o.consumable, { preflight: true })) {
            return;
          }
          const r = t(i.item, o, i);
          if (!r) {
            return;
          }
          e(i.item, o.consumable);
          const s = o.mapper.toViewPosition(i.range.start);
          o.mapper.bindElements(i.item, r);
          o.writer.insert(s, r);
          o.convertAttributes(i.item);
          Vp(r, i.item.getChildren(), o, { reconversion: i.reconversion });
        };
      }
      function dp(t, e) {
        return (n, i, o) => {
          if (!e(i.item, o.consumable, { preflight: true })) {
            return;
          }
          const r = new Map();
          o.writer._registerSlotFactory(Op(i.item, r, o));
          const s = t(i.item, o, i);
          o.writer._clearSlotFactory();
          if (!s) {
            return;
          }
          jp(i.item, r, o);
          e(i.item, o.consumable);
          const a = o.mapper.toViewPosition(i.range.start);
          o.mapper.bindElements(i.item, s);
          o.writer.insert(a, s);
          o.convertAttributes(i.item);
          Fp(s, r, o, { reconversion: i.reconversion });
        };
      }
      function up(t) {
        return (e, n, i) => {
          n.isOpening = true;
          const o = t(n, i);
          n.isOpening = false;
          const r = t(n, i);
          if (!o || !r) {
            return;
          }
          const s = n.markerRange;
          if (s.isCollapsed && !i.consumable.consume(s, e.name)) {
            return;
          }
          for (const t of s) {
            if (!i.consumable.consume(t.item, e.name)) {
              return;
            }
          }
          const a = i.mapper;
          const c = i.writer;
          c.insert(a.toViewPosition(s.start), o);
          i.mapper.bindElementToMarker(o, n.markerName);
          if (!s.isCollapsed) {
            c.insert(a.toViewPosition(s.end), r);
            i.mapper.bindElementToMarker(r, n.markerName);
          }
          e.stop();
        };
      }
      function hp() {
        return (t, e, n) => {
          const i = n.mapper.markerNameToElements(e.markerName);
          if (!i) {
            return;
          }
          for (const t of i) {
            n.mapper.unbindElementFromMarkerName(t, e.markerName);
            n.writer.clear(n.writer.createRangeOn(t), t);
          }
          n.writer.clearClonedElementsGroup(e.markerName);
          t.stop();
        };
      }
      function mp(t) {
        return (e, n, i) => {
          const o = t(n.markerName, i);
          if (!o) {
            return;
          }
          const r = n.markerRange;
          if (!i.consumable.consume(r, e.name)) {
            return;
          }
          gp(r, false, i, n, o);
          gp(r, true, i, n, o);
          e.stop();
        };
      }
      function gp(t, e, n, i, o) {
        const r = e ? t.start : t.end;
        const s = r.nodeAfter && r.nodeAfter.is("element") ? r.nodeAfter : null;
        const a =
          r.nodeBefore && r.nodeBefore.is("element") ? r.nodeBefore : null;
        if (s || a) {
          let t;
          let r;
          if ((e && s) || (!e && !a)) {
            t = s;
            r = true;
          } else {
            t = a;
            r = false;
          }
          const c = n.mapper.toViewElement(t);
          if (c) {
            fp(c, e, r, n, i, o);
            return;
          }
        }
        const c = n.mapper.toViewPosition(r);
        pp(c, e, n, i, o);
      }
      function fp(t, e, n, i, o, r) {
        const s = \`data-\${r.group}-\${e ? "start" : "end"}-\${
          n ? "before" : "after"
        }\`;
        const a = t.hasAttribute(s) ? t.getAttribute(s).split(",") : [];
        a.unshift(r.name);
        i.writer.setAttribute(s, a.join(","), t);
        i.mapper.bindElementToMarker(t, o.markerName);
      }
      function pp(t, e, n, i, o) {
        const r = \`\${o.group}-\${e ? "start" : "end"}\`;
        const s = o.name ? { name: o.name } : null;
        const a = n.writer.createUIElement(r, s);
        n.writer.insert(t, a);
        n.mapper.bindElementToMarker(a, i.markerName);
      }
      function bp(t) {
        return (e, n, i) => {
          const o = t(n.markerName, i);
          if (!o) {
            return;
          }
          const r = i.mapper.markerNameToElements(n.markerName);
          if (!r) {
            return;
          }
          for (const t of r) {
            i.mapper.unbindElementFromMarkerName(t, n.markerName);
            if (t.is("containerElement")) {
              s(\`data-\${o.group}-start-before\`, t);
              s(\`data-\${o.group}-start-after\`, t);
              s(\`data-\${o.group}-end-before\`, t);
              s(\`data-\${o.group}-end-after\`, t);
            } else {
              i.writer.clear(i.writer.createRangeOn(t), t);
            }
          }
          i.writer.clearClonedElementsGroup(n.markerName);
          e.stop();
          function s(t, e) {
            if (e.hasAttribute(t)) {
              const n = new Set(e.getAttribute(t).split(","));
              n.delete(o.name);
              if (n.size == 0) {
                i.writer.removeAttribute(t, e);
              } else {
                i.writer.setAttribute(t, Array.from(n).join(","), e);
              }
            }
          }
        };
      }
      function kp(t) {
        return (e, n, i) => {
          if (!i.consumable.test(n.item, e.name)) {
            return;
          }
          const o = t(n.attributeOldValue, i, n);
          const r = t(n.attributeNewValue, i, n);
          if (!o && !r) {
            return;
          }
          i.consumable.consume(n.item, e.name);
          const s = i.mapper.toViewElement(n.item);
          const a = i.writer;
          if (!s) {
            throw new M(
              "conversion-attribute-to-attribute-on-text",
              i.dispatcher,
              n
            );
          }
          if (n.attributeOldValue !== null && o) {
            if (o.key == "class") {
              const t = Yc(o.value);
              for (const e of t) {
                a.removeClass(e, s);
              }
            } else if (o.key == "style") {
              const t = Object.keys(o.value);
              for (const e of t) {
                a.removeStyle(e, s);
              }
            } else {
              a.removeAttribute(o.key, s);
            }
          }
          if (n.attributeNewValue !== null && r) {
            if (r.key == "class") {
              const t = Yc(r.value);
              for (const e of t) {
                a.addClass(e, s);
              }
            } else if (r.key == "style") {
              const t = Object.keys(r.value);
              for (const e of t) {
                a.setStyle(e, r.value[e], s);
              }
            } else {
              a.setAttribute(r.key, r.value, s);
            }
          }
        };
      }
      function wp(t) {
        return (e, n, i) => {
          if (!n.item) {
            return;
          }
          if (
            !(n.item instanceof Nf || n.item instanceof Wf) &&
            !n.item.is("$textProxy")
          ) {
            return;
          }
          const o = Np(t, n, i);
          if (!o) {
            return;
          }
          if (!i.consumable.consume(n.item, e.name)) {
            return;
          }
          const r = i.writer;
          const s = op(r, o);
          const a = r.document.selection;
          if (n.item instanceof Nf || n.item instanceof Wf) {
            r.wrap(a.getFirstRange(), s);
          } else {
            const t = i.mapper.toViewRange(n.range);
            const e = r.wrap(t, s);
            for (const t of e.getItems()) {
              if (t.is("attributeElement") && t.isSimilar(s)) {
                i.mapper.bindElementToMarker(t, n.markerName);
                break;
              }
            }
          }
        };
      }
      function Ap(t) {
        return (e, n, i) => {
          if (!n.item) {
            return;
          }
          if (!(n.item instanceof ff)) {
            return;
          }
          const o = Np(t, n, i);
          if (!o) {
            return;
          }
          if (!i.consumable.test(n.item, e.name)) {
            return;
          }
          const r = i.mapper.toViewElement(n.item);
          if (r && r.getCustomProperty("addHighlight")) {
            i.consumable.consume(n.item, e.name);
            for (const t of Ef._createIn(n.item)) {
              i.consumable.consume(t.item, e.name);
            }
            const t = r.getCustomProperty("addHighlight");
            t(r, o, i.writer);
            i.mapper.bindElementToMarker(r, n.markerName);
          }
        };
      }
      function Cp(t) {
        return (e, n, i) => {
          if (n.markerRange.isCollapsed) {
            return;
          }
          const o = Np(t, n, i);
          if (!o) {
            return;
          }
          const r = op(i.writer, o);
          const s = i.mapper.markerNameToElements(n.markerName);
          if (!s) {
            return;
          }
          for (const t of s) {
            i.mapper.unbindElementFromMarkerName(t, n.markerName);
            if (t.is("attributeElement")) {
              i.writer.unwrap(i.writer.createRangeOn(t), r);
            } else {
              const e = t.getCustomProperty("removeHighlight");
              e(t, o.id, i.writer);
            }
          }
          i.writer.clearClonedElementsGroup(n.markerName);
          e.stop();
        };
      }
      function _p(t) {
        const e = Tp(t.model);
        const n = Ip(t.view, "container");
        if (e.attributes.length) {
          e.children = true;
        }
        return (i) => {
          i.on(\`insert:\${e.name}\`, lp(n, Rp(e)), {
            priority: t.converterPriority || "normal",
          });
          if (e.children || e.attributes.length) {
            i.on("reduceChanges", Pp(e), { priority: "low" });
          }
        };
      }
      function vp(t) {
        const e = Tp(t.model);
        const n = Ip(t.view, "container");
        e.children = true;
        return (i) => {
          if (i._conversionApi.schema.checkChild(e.name, "$text")) {
            throw new M("conversion-element-to-structure-disallowed-text", i, {
              elementName: e.name,
            });
          }
          i.on(\`insert:\${e.name}\`, dp(n, Rp(e)), {
            priority: t.converterPriority || "normal",
          });
          i.on("reduceChanges", Pp(e), { priority: "low" });
        };
      }
      function yp(t) {
        t = Xf(t);
        let e = t.model;
        if (typeof e == "string") {
          e = { key: e };
        }
        let n = \`attribute:\${e.key}\`;
        if (e.name) {
          n += ":" + e.name;
        }
        if (e.values) {
          for (const n of e.values) {
            t.view[n] = Ip(t.view[n], "attribute");
          }
        } else {
          t.view = Ip(t.view, "attribute");
        }
        const i = Bp(t);
        return (e) => {
          e.on(n, cp(i), { priority: t.converterPriority || "normal" });
        };
      }
      function xp(t) {
        t = Xf(t);
        let e = t.model;
        if (typeof e == "string") {
          e = { key: e };
        }
        let n = \`attribute:\${e.key}\`;
        if (e.name) {
          n += ":" + e.name;
        }
        if (e.values) {
          for (const n of e.values) {
            t.view[n] = Lp(t.view[n]);
          }
        } else {
          t.view = Lp(t.view);
        }
        const i = Bp(t);
        return (e) => {
          e.on(n, kp(i), { priority: t.converterPriority || "normal" });
        };
      }
      function Ep(t) {
        const e = Ip(t.view, "ui");
        return (n) => {
          n.on(\`addMarker:\${t.model}\`, up(e), {
            priority: t.converterPriority || "normal",
          });
          n.on(\`removeMarker:\${t.model}\`, hp(), {
            priority: t.converterPriority || "normal",
          });
        };
      }
      function Dp(t) {
        t = Xf(t);
        const e = t.model;
        let n = t.view;
        if (!n) {
          n = (n) => ({ group: e, name: n.substr(t.model.length + 1) });
        }
        return (i) => {
          i.on(\`addMarker:\${e}\`, mp(n), {
            priority: t.converterPriority || "normal",
          });
          i.on(\`removeMarker:\${e}\`, bp(n), {
            priority: t.converterPriority || "normal",
          });
        };
      }
      function Sp(t) {
        return (e) => {
          e.on(\`addMarker:\${t.model}\`, wp(t.view), {
            priority: t.converterPriority || "normal",
          });
          e.on(\`addMarker:\${t.model}\`, Ap(t.view), {
            priority: t.converterPriority || "normal",
          });
          e.on(\`removeMarker:\${t.model}\`, Cp(t.view), {
            priority: t.converterPriority || "normal",
          });
        };
      }
      function Tp(t) {
        if (typeof t == "string") {
          t = { name: t };
        }
        if (!t.attributes) {
          t.attributes = [];
        } else if (!Array.isArray(t.attributes)) {
          t.attributes = [t.attributes];
        }
        t.children = !!t.children;
        return t;
      }
      function Ip(t, e) {
        if (typeof t == "function") {
          return t;
        }
        return (n, i) => Mp(t, i, e);
      }
      function Mp(t, e, n) {
        if (typeof t == "string") {
          t = { name: t };
        }
        let i;
        const o = e.writer;
        const r = Object.assign({}, t.attributes);
        if (n == "container") {
          i = o.createContainerElement(t.name, r);
        } else if (n == "attribute") {
          const e = { priority: t.priority || Ah.DEFAULT_PRIORITY };
          i = o.createAttributeElement(t.name, r, e);
        } else {
          i = o.createUIElement(t.name, r);
        }
        if (t.styles) {
          const e = Object.keys(t.styles);
          for (const n of e) {
            o.setStyle(n, t.styles[n], i);
          }
        }
        if (t.classes) {
          const e = t.classes;
          if (typeof e == "string") {
            o.addClass(e, i);
          } else {
            for (const t of e) {
              o.addClass(t, i);
            }
          }
        }
        return i;
      }
      function Bp(t) {
        if (t.model.values) {
          return (e, n, i) => {
            const o = t.view[e];
            if (o) {
              return o(e, n, i);
            }
            return null;
          };
        } else {
          return t.view;
        }
      }
      function Lp(t) {
        if (typeof t == "string") {
          return (e) => ({ key: t, value: e });
        } else if (typeof t == "object") {
          if (t.value) {
            return () => t;
          } else {
            return (e) => ({ key: t.key, value: e });
          }
        } else {
          return t;
        }
      }
      function Np(t, e, n) {
        const i = typeof t == "function" ? t(e, n) : t;
        if (!i) {
          return null;
        }
        if (!i.priority) {
          i.priority = 10;
        }
        if (!i.id) {
          i.id = e.markerName;
        }
        return i;
      }
      function zp(t) {
        return (e, n) => {
          if (!e.is("element", t.name)) {
            return false;
          }
          if (n.type == "attribute") {
            if (t.attributes.includes(n.attributeKey)) {
              return true;
            }
          } else {
            if (t.children) {
              return true;
            }
          }
          return false;
        };
      }
      function Pp(t) {
        const e = zp(t);
        return (t, n) => {
          const i = [];
          if (!n.reconvertedElements) {
            n.reconvertedElements = new Set();
          }
          for (const t of n.changes) {
            const o =
              t.type == "attribute"
                ? t.range.start.nodeAfter
                : t.position.parent;
            if (!o || !e(o, t)) {
              i.push(t);
              continue;
            }
            if (!n.reconvertedElements.has(o)) {
              n.reconvertedElements.add(o);
              const t = wf._createBefore(o);
              i.push(
                { type: "remove", name: o.name, position: t, length: 1 },
                { type: "reinsert", name: o.name, position: t, length: 1 }
              );
            }
          }
          n.changes = i;
        };
      }
      function Rp(t) {
        return (e, n, i = {}) => {
          const o = ["insert"];
          for (const n of t.attributes) {
            if (e.hasAttribute(n)) {
              o.push(\`attribute:\${n}\`);
            }
          }
          if (!o.every((t) => n.test(e, t))) {
            return false;
          }
          if (!i.preflight) {
            o.forEach((t) => n.consume(e, t));
          }
          return true;
        };
      }
      function Op(t, e, n) {
        return (i, o = "children") => {
          const r = i.createContainerElement("$slot");
          let s = null;
          if (o === "children") {
            s = Array.from(t.getChildren());
          } else if (typeof o == "function") {
            s = Array.from(t.getChildren()).filter((t) => o(t));
          } else {
            throw new M("conversion-slot-mode-unknown", n.dispatcher, {
              modeOrFilter: o,
            });
          }
          e.set(r, s);
          return r;
        };
      }
      function jp(t, e, n) {
        const i = Array.from(e.values()).flat();
        const o = new Set(i);
        if (o.size != i.length) {
          throw new M("conversion-slot-filter-overlap", n.dispatcher, {
            element: t,
          });
        }
        if (o.size != t.childCount) {
          throw new M("conversion-slot-filter-incomplete", n.dispatcher, {
            element: t,
          });
        }
      }
      function Fp(t, e, n, i) {
        n.mapper.on("modelToViewPosition", s, { priority: "highest" });
        let o = null;
        let r = null;
        for ([o, r] of e) {
          Vp(t, r, n, i);
          n.writer.move(
            n.writer.createRangeIn(o),
            n.writer.createPositionBefore(o)
          );
          n.writer.remove(o);
        }
        n.mapper.off("modelToViewPosition", s);
        function s(t, e) {
          const n = e.modelPosition.nodeAfter;
          const i = r.indexOf(n);
          if (i < 0) {
            return;
          }
          e.viewPosition = e.mapper.findPositionIn(o, i);
        }
      }
      function Vp(t, e, n, i) {
        for (const o of e) {
          if (!Hp(t.root, o, n, i)) {
            n.convertItem(o);
          }
        }
      }
      function Hp(t, e, n, i) {
        const { writer: o, mapper: r } = n;
        if (!i.reconversion) {
          return false;
        }
        const s = r.toViewElement(e);
        if (!s || s.root == t) {
          return false;
        }
        if (!n.canReuseView(s)) {
          return false;
        }
        o.move(o.createRangeOn(s), r.toViewPosition(wf._createBefore(e)));
        return true;
      }
      function Up(t, e, { preflight: n } = {}) {
        if (n) {
          return e.test(t, "insert");
        } else {
          return e.consume(t, "insert");
        }
      }
      function qp(t) {
        const { schema: e, document: n } = t.model;
        for (const i of n.getRootNames()) {
          const o = n.getRoot(i);
          if (o.isEmpty && !e.checkChild(o, "$text")) {
            if (e.checkChild(o, "paragraph")) {
              t.insertElement("paragraph", o);
              return true;
            }
          }
        }
        return false;
      }
      function Wp(t, e, n) {
        const i = n.createContext(t);
        if (!n.checkChild(i, "paragraph")) {
          return false;
        }
        if (!n.checkChild(i.push("paragraph"), e)) {
          return false;
        }
        return true;
      }
      function Gp(t, e) {
        const n = e.createElement("paragraph");
        e.insert(n, t);
        return e.createPositionAt(n, 0);
      }
      class $p extends Yf {
        elementToElement(t) {
          return this.add(Qp(t));
        }
        elementToAttribute(t) {
          return this.add(Jp(t));
        }
        attributeToAttribute(t) {
          return this.add(Xp(t));
        }
        elementToMarker(t) {
          return this.add(tb(t));
        }
        dataToMarker(t) {
          return this.add(eb(t));
        }
      }
      function Kp() {
        return (t, e, n) => {
          if (
            !e.modelRange &&
            n.consumable.consume(e.viewItem, { name: true })
          ) {
            const { modelRange: t, modelCursor: i } = n.convertChildren(
              e.viewItem,
              e.modelCursor
            );
            e.modelRange = t;
            e.modelCursor = i;
          }
        };
      }
      function Yp() {
        return (t, e, { schema: n, consumable: i, writer: o }) => {
          let r = e.modelCursor;
          if (!i.test(e.viewItem)) {
            return;
          }
          if (!n.checkChild(r, "$text")) {
            if (!Wp(r, "$text", n)) {
              return;
            }
            if (e.viewItem.data.trim().length == 0) {
              return;
            }
            r = Gp(r, o);
          }
          i.consume(e.viewItem);
          const s = o.createText(e.viewItem.data);
          o.insert(s, r);
          e.modelRange = o.createRange(r, r.getShiftedBy(s.offsetSize));
          e.modelCursor = e.modelRange.end;
        };
      }
      function Zp(t, e) {
        return (n, i) => {
          const o = i.newSelection;
          const r = [];
          for (const t of o.getRanges()) {
            r.push(e.toModelRange(t));
          }
          const s = t.createSelection(r, { backward: o.isBackward });
          if (!s.isEqual(t.document.selection)) {
            t.change((t) => {
              t.setSelection(s);
            });
          }
        };
      }
      function Qp(t) {
        t = Xf(t);
        const e = ob(t);
        const n = ib(t.view);
        const i = n ? \`element:\${n}\` : "element";
        return (n) => {
          n.on(i, e, { priority: t.converterPriority || "normal" });
        };
      }
      function Jp(t) {
        t = Xf(t);
        ab(t);
        const e = cb(t, false);
        const n = ib(t.view);
        const i = n ? \`element:\${n}\` : "element";
        return (n) => {
          n.on(i, e, { priority: t.converterPriority || "low" });
        };
      }
      function Xp(t) {
        t = Xf(t);
        let e = null;
        if (typeof t.view == "string" || t.view.key) {
          e = sb(t);
        }
        ab(t, e);
        const n = cb(t, true);
        return (e) => {
          e.on("element", n, { priority: t.converterPriority || "low" });
        };
      }
      function tb(t) {
        const e = ub(t.model);
        return Qp({ ...t, model: e });
      }
      function eb(t) {
        t = Xf(t);
        if (!t.model) {
          t.model = (e) => (e ? t.view + ":" + e : t.view);
        }
        const e = { view: t.view, model: t.model };
        const n = ob(hb(e, "start"));
        const i = ob(hb(e, "end"));
        return (o) => {
          o.on(\`element:\${t.view}-start\`, n, {
            priority: t.converterPriority || "normal",
          });
          o.on(\`element:\${t.view}-end\`, i, {
            priority: t.converterPriority || "normal",
          });
          const r = S.get("low");
          const s = S.get("highest");
          const a = S.get(t.converterPriority) / s;
          o.on("element", nb(e), { priority: r + a });
        };
      }
      function nb(t) {
        return (e, n, i) => {
          const o = \`data-\${t.view}\`;
          if (
            !i.consumable.test(n.viewItem, { attributes: o + "-end-after" }) &&
            !i.consumable.test(n.viewItem, {
              attributes: o + "-start-after",
            }) &&
            !i.consumable.test(n.viewItem, { attributes: o + "-end-before" }) &&
            !i.consumable.test(n.viewItem, { attributes: o + "-start-before" })
          ) {
            return;
          }
          if (!n.modelRange) {
            Object.assign(n, i.convertChildren(n.viewItem, n.modelCursor));
          }
          if (
            i.consumable.consume(n.viewItem, { attributes: o + "-end-after" })
          ) {
            r(
              n.modelRange.end,
              n.viewItem.getAttribute(o + "-end-after").split(",")
            );
          }
          if (
            i.consumable.consume(n.viewItem, { attributes: o + "-start-after" })
          ) {
            r(
              n.modelRange.end,
              n.viewItem.getAttribute(o + "-start-after").split(",")
            );
          }
          if (
            i.consumable.consume(n.viewItem, { attributes: o + "-end-before" })
          ) {
            r(
              n.modelRange.start,
              n.viewItem.getAttribute(o + "-end-before").split(",")
            );
          }
          if (
            i.consumable.consume(n.viewItem, {
              attributes: o + "-start-before",
            })
          ) {
            r(
              n.modelRange.start,
              n.viewItem.getAttribute(o + "-start-before").split(",")
            );
          }
          function r(e, o) {
            for (const r of o) {
              const o = t.model(r, i);
              const s = i.writer.createElement("$marker", { "data-name": o });
              i.writer.insert(s, e);
              if (n.modelCursor.isEqual(e)) {
                n.modelCursor = n.modelCursor.getShiftedBy(1);
              } else {
                n.modelCursor = n.modelCursor._getTransformedByInsertion(e, 1);
              }
              n.modelRange = n.modelRange._getTransformedByInsertion(e, 1)[0];
            }
          }
        };
      }
      function ib(t) {
        if (typeof t == "string") {
          return t;
        }
        if (typeof t == "object" && typeof t.name == "string") {
          return t.name;
        }
        return null;
      }
      function ob(t) {
        const e = new Ql(t.view);
        return (n, i, o) => {
          const r = e.match(i.viewItem);
          if (!r) {
            return;
          }
          const s = r.match;
          s.name = true;
          if (!o.consumable.test(i.viewItem, s)) {
            return;
          }
          const a = rb(t.model, i.viewItem, o);
          if (!a) {
            return;
          }
          if (!o.safeInsert(a, i.modelCursor)) {
            return;
          }
          o.consumable.consume(i.viewItem, s);
          o.convertChildren(i.viewItem, a);
          o.updateConversionResult(a, i);
        };
      }
      function rb(t, e, n) {
        if (t instanceof Function) {
          return t(e, n);
        } else {
          return n.writer.createElement(t);
        }
      }
      function sb(t) {
        if (typeof t.view == "string") {
          t.view = { key: t.view };
        }
        const e = t.view.key;
        let n;
        if (e == "class" || e == "style") {
          const i = e == "class" ? "classes" : "styles";
          n = { [i]: t.view.value };
        } else {
          const i =
            typeof t.view.value == "undefined" ? /[\\s\\S]*/ : t.view.value;
          n = { attributes: { [e]: i } };
        }
        if (t.view.name) {
          n.name = t.view.name;
        }
        t.view = n;
        return e;
      }
      function ab(t, e = null) {
        const n = e === null ? true : (t) => t.getAttribute(e);
        const i = typeof t.model != "object" ? t.model : t.model.key;
        const o =
          typeof t.model != "object" || typeof t.model.value == "undefined"
            ? n
            : t.model.value;
        t.model = { key: i, value: o };
      }
      function cb(t, e) {
        const n = new Ql(t.view);
        return (i, o, r) => {
          if (!o.modelRange && e) {
            return;
          }
          const s = n.match(o.viewItem);
          if (!s) {
            return;
          }
          if (lb(t.view, o.viewItem)) {
            s.match.name = true;
          } else {
            delete s.match.name;
          }
          if (!r.consumable.test(o.viewItem, s.match)) {
            return;
          }
          const a = t.model.key;
          const c =
            typeof t.model.value == "function"
              ? t.model.value(o.viewItem, r)
              : t.model.value;
          if (c === null) {
            return;
          }
          if (!o.modelRange) {
            Object.assign(o, r.convertChildren(o.viewItem, o.modelCursor));
          }
          const l = db(o.modelRange, { key: a, value: c }, e, r);
          if (l) {
            if (r.consumable.test(o.viewItem, { name: true })) {
              s.match.name = true;
            }
            r.consumable.consume(o.viewItem, s.match);
          }
        };
      }
      function lb(t, e) {
        const n = typeof t == "function" ? t(e) : t;
        if (typeof n == "object" && !ib(n)) {
          return false;
        }
        return !n.classes && !n.attributes && !n.styles;
      }
      function db(t, e, n, i) {
        let o = false;
        for (const r of Array.from(t.getItems({ shallow: n }))) {
          if (!i.schema.checkAttribute(r, e.key)) {
            continue;
          }
          o = true;
          if (r.hasAttribute(e.key)) {
            continue;
          }
          i.writer.setAttribute(e.key, e.value, r);
        }
        return o;
      }
      function ub(t) {
        return (e, n) => {
          const i = typeof t == "string" ? t : t(e, n);
          return n.writer.createElement("$marker", { "data-name": i });
        };
      }
      function hb(t, e) {
        const n = (e, n) => {
          const i = e.getAttribute("name");
          const o = t.model(i, n);
          return n.writer.createElement("$marker", { "data-name": o });
        };
        return { view: \`\${t.view}-\${e}\`, model: n };
      }
      class mb extends dt() {
        constructor(t, e) {
          super();
          this.model = t;
          this.view = new lf(e);
          this.mapper = new Df();
          this.downcastDispatcher = new If({
            mapper: this.mapper,
            schema: t.schema,
          });
          const n = this.model.document;
          const i = n.selection;
          const o = this.model.markers;
          this.listenTo(
            this.model,
            "_beforeChanges",
            () => {
              this.view._disableRendering(true);
            },
            { priority: "highest" }
          );
          this.listenTo(
            this.model,
            "_afterChanges",
            () => {
              this.view._disableRendering(false);
            },
            { priority: "lowest" }
          );
          this.listenTo(
            n,
            "change",
            () => {
              this.view.change((t) => {
                this.downcastDispatcher.convertChanges(n.differ, o, t);
                this.downcastDispatcher.convertSelection(i, o, t);
              });
            },
            { priority: "low" }
          );
          this.listenTo(
            this.view.document,
            "selectionChange",
            Zp(this.model, this.mapper)
          );
          this.downcastDispatcher.on("insert:$text", ep(), {
            priority: "lowest",
          });
          this.downcastDispatcher.on("insert", np(), { priority: "lowest" });
          this.downcastDispatcher.on("remove", ip(), { priority: "low" });
          this.downcastDispatcher.on("selection", ap(), { priority: "high" });
          this.downcastDispatcher.on("selection", rp(), { priority: "low" });
          this.downcastDispatcher.on("selection", sp(), { priority: "low" });
          this.view.document.roots
            .bindTo(this.model.document.roots)
            .using((t) => {
              if (t.rootName == "$graveyard") {
                return null;
              }
              const e = new ih(this.view.document, t.name);
              e.rootName = t.rootName;
              this.mapper.bindElements(t, e);
              return e;
            });
        }
        destroy() {
          this.view.destroy();
          this.stopListening();
        }
        reconvertMarker(t) {
          const e = typeof t == "string" ? t : t.name;
          const n = this.model.markers.get(e);
          if (!n) {
            throw new M(
              "editingcontroller-reconvertmarker-marker-not-exist",
              this,
              { markerName: e }
            );
          }
          this.model.change(() => {
            this.model.markers._refresh(n);
          });
        }
        reconvertItem(t) {
          this.model.change(() => {
            this.model.document.differ._refreshItem(t);
          });
        }
      }
      class gb {
        constructor() {
          this._consumables = new Map();
        }
        add(t, e) {
          let n;
          if (t.is("$text") || t.is("documentFragment")) {
            this._consumables.set(t, true);
            return;
          }
          if (!this._consumables.has(t)) {
            n = new pb(t);
            this._consumables.set(t, n);
          } else {
            n = this._consumables.get(t);
          }
          n.add(e);
        }
        test(t, e) {
          const n = this._consumables.get(t);
          if (n === undefined) {
            return null;
          }
          if (t.is("$text") || t.is("documentFragment")) {
            return n;
          }
          return n.test(e);
        }
        consume(t, e) {
          if (this.test(t, e)) {
            if (t.is("$text") || t.is("documentFragment")) {
              this._consumables.set(t, false);
            } else {
              this._consumables.get(t).consume(e);
            }
            return true;
          }
          return false;
        }
        revert(t, e) {
          const n = this._consumables.get(t);
          if (n !== undefined) {
            if (t.is("$text") || t.is("documentFragment")) {
              this._consumables.set(t, true);
            } else {
              n.revert(e);
            }
          }
        }
        static consumablesFromElement(t) {
          const e = {
            element: t,
            name: true,
            attributes: [],
            classes: [],
            styles: [],
          };
          const n = t.getAttributeKeys();
          for (const t of n) {
            if (t == "style" || t == "class") {
              continue;
            }
            e.attributes.push(t);
          }
          const i = t.getClassNames();
          for (const t of i) {
            e.classes.push(t);
          }
          const o = t.getStyleNames();
          for (const t of o) {
            e.styles.push(t);
          }
          return e;
        }
        static createFrom(t, e) {
          if (!e) {
            e = new gb();
          }
          if (t.is("$text")) {
            e.add(t);
            return e;
          }
          if (t.is("element")) {
            e.add(t, gb.consumablesFromElement(t));
          }
          if (t.is("documentFragment")) {
            e.add(t);
          }
          for (const n of t.getChildren()) {
            e = gb.createFrom(n, e);
          }
          return e;
        }
      }
      const fb = ["attributes", "classes", "styles"];
      class pb {
        constructor(t) {
          this.element = t;
          this._canConsumeName = null;
          this._consumables = {
            attributes: new Map(),
            styles: new Map(),
            classes: new Map(),
          };
        }
        add(t) {
          if (t.name) {
            this._canConsumeName = true;
          }
          for (const e of fb) {
            if (e in t) {
              this._add(e, t[e]);
            }
          }
        }
        test(t) {
          if (t.name && !this._canConsumeName) {
            return this._canConsumeName;
          }
          for (const e of fb) {
            if (e in t) {
              const n = this._test(e, t[e]);
              if (n !== true) {
                return n;
              }
            }
          }
          return true;
        }
        consume(t) {
          if (t.name) {
            this._canConsumeName = false;
          }
          for (const e of fb) {
            if (e in t) {
              this._consume(e, t[e]);
            }
          }
        }
        revert(t) {
          if (t.name) {
            this._canConsumeName = true;
          }
          for (const e of fb) {
            if (e in t) {
              this._revert(e, t[e]);
            }
          }
        }
        _add(t, e) {
          const n = Kt(e) ? e : [e];
          const i = this._consumables[t];
          for (const e of n) {
            if (t === "attributes" && (e === "class" || e === "style")) {
              throw new M("viewconsumable-invalid-attribute", this);
            }
            i.set(e, true);
            if (t === "styles") {
              for (const t of this.element.document.stylesProcessor.getRelatedStyles(
                e
              )) {
                i.set(t, true);
              }
            }
          }
        }
        _test(t, e) {
          const n = Kt(e) ? e : [e];
          const i = this._consumables[t];
          for (const e of n) {
            if (t === "attributes" && (e === "class" || e === "style")) {
              const t = e == "class" ? "classes" : "styles";
              const n = this._test(t, [...this._consumables[t].keys()]);
              if (n !== true) {
                return n;
              }
            } else {
              const t = i.get(e);
              if (t === undefined) {
                return null;
              }
              if (!t) {
                return false;
              }
            }
          }
          return true;
        }
        _consume(t, e) {
          const n = Kt(e) ? e : [e];
          const i = this._consumables[t];
          for (const e of n) {
            if (t === "attributes" && (e === "class" || e === "style")) {
              const t = e == "class" ? "classes" : "styles";
              this._consume(t, [...this._consumables[t].keys()]);
            } else {
              i.set(e, false);
              if (t == "styles") {
                for (const t of this.element.document.stylesProcessor.getRelatedStyles(
                  e
                )) {
                  i.set(t, false);
                }
              }
            }
          }
        }
        _revert(t, e) {
          const n = Kt(e) ? e : [e];
          const i = this._consumables[t];
          for (const e of n) {
            if (t === "attributes" && (e === "class" || e === "style")) {
              const t = e == "class" ? "classes" : "styles";
              this._revert(t, [...this._consumables[t].keys()]);
            } else {
              const t = i.get(e);
              if (t === false) {
                i.set(e, true);
              }
            }
          }
        }
      }
      class bb extends dt() {
        constructor() {
          super();
          this._sourceDefinitions = {};
          this._attributeProperties = {};
          this.decorate("checkChild");
          this.decorate("checkAttribute");
          this.on(
            "checkAttribute",
            (t, e) => {
              e[0] = new kb(e[0]);
            },
            { priority: "highest" }
          );
          this.on(
            "checkChild",
            (t, e) => {
              e[0] = new kb(e[0]);
              e[1] = this.getDefinition(e[1]);
            },
            { priority: "highest" }
          );
        }
        register(t, e) {
          if (this._sourceDefinitions[t]) {
            throw new M("schema-cannot-register-item-twice", this, {
              itemName: t,
            });
          }
          this._sourceDefinitions[t] = [Object.assign({}, e)];
          this._clearCache();
        }
        extend(t, e) {
          if (!this._sourceDefinitions[t]) {
            throw new M("schema-cannot-extend-missing-item", this, {
              itemName: t,
            });
          }
          this._sourceDefinitions[t].push(Object.assign({}, e));
          this._clearCache();
        }
        getDefinitions() {
          if (!this._compiledDefinitions) {
            this._compile();
          }
          return this._compiledDefinitions;
        }
        getDefinition(t) {
          let e;
          if (typeof t == "string") {
            e = t;
          } else if ("is" in t && (t.is("$text") || t.is("$textProxy"))) {
            e = "$text";
          } else {
            e = t.name;
          }
          return this.getDefinitions()[e];
        }
        isRegistered(t) {
          return !!this.getDefinition(t);
        }
        isBlock(t) {
          const e = this.getDefinition(t);
          return !!(e && e.isBlock);
        }
        isLimit(t) {
          const e = this.getDefinition(t);
          if (!e) {
            return false;
          }
          return !!(e.isLimit || e.isObject);
        }
        isObject(t) {
          const e = this.getDefinition(t);
          if (!e) {
            return false;
          }
          return !!(e.isObject || (e.isLimit && e.isSelectable && e.isContent));
        }
        isInline(t) {
          const e = this.getDefinition(t);
          return !!(e && e.isInline);
        }
        isSelectable(t) {
          const e = this.getDefinition(t);
          if (!e) {
            return false;
          }
          return !!(e.isSelectable || e.isObject);
        }
        isContent(t) {
          const e = this.getDefinition(t);
          if (!e) {
            return false;
          }
          return !!(e.isContent || e.isObject);
        }
        checkChild(t, e) {
          if (!e) {
            return false;
          }
          return this._checkContextMatch(e, t);
        }
        checkAttribute(t, e) {
          const n = this.getDefinition(t.last);
          if (!n) {
            return false;
          }
          return n.allowAttributes.includes(e);
        }
        checkMerge(t, e) {
          if (t instanceof wf) {
            const e = t.nodeBefore;
            const n = t.nodeAfter;
            if (!(e instanceof ff)) {
              throw new M("schema-check-merge-no-element-before", this);
            }
            if (!(n instanceof ff)) {
              throw new M("schema-check-merge-no-element-after", this);
            }
            return this.checkMerge(e, n);
          }
          for (const n of e.getChildren()) {
            if (!this.checkChild(t, n)) {
              return false;
            }
          }
          return true;
        }
        addChildCheck(t) {
          this.on(
            "checkChild",
            (e, [n, i]) => {
              if (!i) {
                return;
              }
              const o = t(n, i);
              if (typeof o == "boolean") {
                e.stop();
                e.return = o;
              }
            },
            { priority: "high" }
          );
        }
        addAttributeCheck(t) {
          this.on(
            "checkAttribute",
            (e, [n, i]) => {
              const o = t(n, i);
              if (typeof o == "boolean") {
                e.stop();
                e.return = o;
              }
            },
            { priority: "high" }
          );
        }
        setAttributeProperties(t, e) {
          this._attributeProperties[t] = Object.assign(
            this.getAttributeProperties(t),
            e
          );
        }
        getAttributeProperties(t) {
          return this._attributeProperties[t] || {};
        }
        getLimitElement(t) {
          let e;
          if (t instanceof wf) {
            e = t.parent;
          } else {
            const n = t instanceof Ef ? [t] : Array.from(t.getRanges());
            e = n.reduce((t, e) => {
              const n = e.getCommonAncestor();
              if (!t) {
                return n;
              }
              return t.getCommonAncestor(n, { includeSelf: true });
            }, null);
          }
          while (!this.isLimit(e)) {
            if (e.parent) {
              e = e.parent;
            } else {
              break;
            }
          }
          return e;
        }
        checkAttributeInSelection(t, e) {
          if (t.isCollapsed) {
            const n = t.getFirstPosition();
            const i = [...n.getAncestors(), new mf("", t.getAttributes())];
            return this.checkAttribute(i, e);
          } else {
            const n = t.getRanges();
            for (const t of n) {
              for (const n of t) {
                if (this.checkAttribute(n.item, e)) {
                  return true;
                }
              }
            }
          }
          return false;
        }
        *getValidRanges(t, e) {
          t = zb(t);
          for (const n of t) {
            yield* this._getValidRangesForRange(n, e);
          }
        }
        getNearestSelectionRange(t, e = "both") {
          if (this.checkChild(t, "$text")) {
            return new Ef(t);
          }
          let n, i;
          const o =
            t
              .getAncestors()
              .reverse()
              .find((t) => this.isLimit(t)) || t.root;
          if (e == "both" || e == "backward") {
            n = new bf({
              boundaries: Ef._createIn(o),
              startPosition: t,
              direction: "backward",
            });
          }
          if (e == "both" || e == "forward") {
            i = new bf({ boundaries: Ef._createIn(o), startPosition: t });
          }
          for (const t of Nb(n, i)) {
            const e = t.walker == n ? "elementEnd" : "elementStart";
            const i = t.value;
            if (i.type == e && this.isObject(i.item)) {
              return Ef._createOn(i.item);
            }
            if (this.checkChild(i.nextPosition, "$text")) {
              return new Ef(i.nextPosition);
            }
          }
          return null;
        }
        findAllowedParent(t, e) {
          let n = t.parent;
          while (n) {
            if (this.checkChild(n, e)) {
              return n;
            }
            if (this.isLimit(n)) {
              return null;
            }
            n = n.parent;
          }
          return null;
        }
        setAllowedAttributes(t, e, n) {
          const i = n.model;
          for (const [o, r] of Object.entries(e)) {
            if (i.schema.checkAttribute(t, o)) {
              n.setAttribute(o, r, t);
            }
          }
        }
        removeDisallowedAttributes(t, e) {
          for (const n of t) {
            if (n.is("$text")) {
              Pb(this, n, e);
            } else {
              const t = Ef._createIn(n);
              const i = t.getPositions();
              for (const t of i) {
                const n = t.nodeBefore || t.parent;
                Pb(this, n, e);
              }
            }
          }
        }
        getAttributesWithProperty(t, e, n) {
          const i = {};
          for (const [o, r] of t.getAttributes()) {
            const t = this.getAttributeProperties(o);
            if (t[e] === undefined) {
              continue;
            }
            if (n === undefined || n === t[e]) {
              i[o] = r;
            }
          }
          return i;
        }
        createContext(t) {
          return new kb(t);
        }
        _clearCache() {
          this._compiledDefinitions = null;
        }
        _compile() {
          const t = {};
          const e = this._sourceDefinitions;
          const n = Object.keys(e);
          for (const i of n) {
            t[i] = wb(e[i], i);
          }
          for (const e of n) {
            Ab(t, e);
          }
          for (const e of n) {
            Cb(t, e);
          }
          for (const e of n) {
            _b(t, e);
          }
          for (const e of n) {
            vb(t, e);
            yb(t, e);
          }
          for (const e of n) {
            xb(t, e);
            Eb(t, e);
            Db(t, e);
          }
          this._compiledDefinitions = t;
        }
        _checkContextMatch(t, e, n = e.length - 1) {
          const i = e.getItem(n);
          if (t.allowIn.includes(i.name)) {
            if (n == 0) {
              return true;
            } else {
              const t = this.getDefinition(i);
              return this._checkContextMatch(t, e, n - 1);
            }
          } else {
            return false;
          }
        }
        *_getValidRangesForRange(t, e) {
          let n = t.start;
          let i = t.start;
          for (const o of t.getItems({ shallow: true })) {
            if (o.is("element")) {
              yield* this._getValidRangesForRange(Ef._createIn(o), e);
            }
            if (!this.checkAttribute(o, e)) {
              if (!n.isEqual(i)) {
                yield new Ef(n, i);
              }
              n = wf._createAfter(o);
            }
            i = wf._createAfter(o);
          }
          if (!n.isEqual(i)) {
            yield new Ef(n, i);
          }
        }
      }
      class kb {
        constructor(t) {
          if (t instanceof kb) {
            return t;
          }
          let e;
          if (typeof t == "string") {
            e = [t];
          } else if (!Array.isArray(t)) {
            e = t.getAncestors({ includeSelf: true });
          } else {
            e = t;
          }
          this._items = e.map(Lb);
        }
        get length() {
          return this._items.length;
        }
        get last() {
          return this._items[this._items.length - 1];
        }
        [Symbol.iterator]() {
          return this._items[Symbol.iterator]();
        }
        push(t) {
          const e = new kb([t]);
          e._items = [...this._items, ...e._items];
          return e;
        }
        getItem(t) {
          return this._items[t];
        }
        *getNames() {
          yield* this._items.map((t) => t.name);
        }
        endsWith(t) {
          return Array.from(this.getNames()).join(" ").endsWith(t);
        }
        startsWith(t) {
          return Array.from(this.getNames()).join(" ").startsWith(t);
        }
      }
      function wb(t, e) {
        const n = {
          name: e,
          allowIn: [],
          allowContentOf: [],
          allowWhere: [],
          allowAttributes: [],
          allowAttributesOf: [],
          allowChildren: [],
          inheritTypesFrom: [],
        };
        Sb(t, n);
        Tb(t, n, "allowIn");
        Tb(t, n, "allowContentOf");
        Tb(t, n, "allowWhere");
        Tb(t, n, "allowAttributes");
        Tb(t, n, "allowAttributesOf");
        Tb(t, n, "allowChildren");
        Tb(t, n, "inheritTypesFrom");
        Ib(t, n);
        return n;
      }
      function Ab(t, e) {
        const n = t[e];
        for (const i of n.allowChildren) {
          const n = t[i];
          if (!n) {
            continue;
          }
          n.allowIn.push(e);
        }
        n.allowChildren.length = 0;
      }
      function Cb(t, e) {
        for (const n of t[e].allowContentOf) {
          if (t[n]) {
            const i = Mb(t, n);
            i.forEach((t) => {
              t.allowIn.push(e);
            });
          }
        }
        delete t[e].allowContentOf;
      }
      function _b(t, e) {
        for (const n of t[e].allowWhere) {
          const i = t[n];
          if (i) {
            const n = i.allowIn;
            t[e].allowIn.push(...n);
          }
        }
        delete t[e].allowWhere;
      }
      function vb(t, e) {
        for (const n of t[e].allowAttributesOf) {
          const i = t[n];
          if (i) {
            const n = i.allowAttributes;
            t[e].allowAttributes.push(...n);
          }
        }
        delete t[e].allowAttributesOf;
      }
      function yb(t, e) {
        const n = t[e];
        for (const e of n.inheritTypesFrom) {
          const i = t[e];
          if (i) {
            const t = Object.keys(i).filter((t) => t.startsWith("is"));
            for (const e of t) {
              if (!(e in n)) {
                n[e] = i[e];
              }
            }
          }
        }
        delete n.inheritTypesFrom;
      }
      function xb(t, e) {
        const n = t[e];
        const i = n.allowIn.filter((e) => t[e]);
        n.allowIn = Array.from(new Set(i));
      }
      function Eb(t, e) {
        const n = t[e];
        for (const i of n.allowIn) {
          const n = t[i];
          n.allowChildren.push(e);
        }
      }
      function Db(t, e) {
        const n = t[e];
        n.allowAttributes = Array.from(new Set(n.allowAttributes));
      }
      function Sb(t, e) {
        for (const n of t) {
          const t = Object.keys(n).filter((t) => t.startsWith("is"));
          for (const i of t) {
            e[i] = !!n[i];
          }
        }
      }
      function Tb(t, e, n) {
        for (const i of t) {
          const t = i[n];
          if (typeof t == "string") {
            e[n].push(t);
          } else if (Array.isArray(t)) {
            e[n].push(...t);
          }
        }
      }
      function Ib(t, e) {
        for (const n of t) {
          const t = n.inheritAllFrom;
          if (t) {
            e.allowContentOf.push(t);
            e.allowWhere.push(t);
            e.allowAttributesOf.push(t);
            e.inheritTypesFrom.push(t);
          }
        }
      }
      function Mb(t, e) {
        const n = t[e];
        return Bb(t).filter((t) => t.allowIn.includes(n.name));
      }
      function Bb(t) {
        return Object.keys(t).map((e) => t[e]);
      }
      function Lb(t) {
        if (typeof t == "string" || t.is("documentFragment")) {
          return {
            name: typeof t == "string" ? t : "$documentFragment",
            *getAttributeKeys() {},
            getAttribute() {},
          };
        } else {
          return {
            name: t.is("element") ? t.name : "$text",
            *getAttributeKeys() {
              yield* t.getAttributeKeys();
            },
            getAttribute(e) {
              return t.getAttribute(e);
            },
          };
        }
      }
      function* Nb(t, e) {
        let n = false;
        while (!n) {
          n = true;
          if (t) {
            const e = t.next();
            if (!e.done) {
              n = false;
              yield { walker: t, value: e.value };
            }
          }
          if (e) {
            const t = e.next();
            if (!t.done) {
              n = false;
              yield { walker: e, value: t.value };
            }
          }
        }
      }
      function* zb(t) {
        for (const e of t) {
          yield* e.getMinimalFlatRanges();
        }
      }
      function Pb(t, e, n) {
        for (const i of e.getAttributeKeys()) {
          if (!t.checkAttribute(e, i)) {
            n.removeAttribute(i, e);
          }
        }
      }
      class Rb extends q() {
        constructor(t) {
          super();
          this._splitParts = new Map();
          this._cursorParents = new Map();
          this._modelCursor = null;
          this._emptyElementsToKeep = new Set();
          this.conversionApi = {
            ...t,
            consumable: null,
            writer: null,
            store: null,
            convertItem: (t, e) => this._convertItem(t, e),
            convertChildren: (t, e) => this._convertChildren(t, e),
            safeInsert: (t, e) => this._safeInsert(t, e),
            updateConversionResult: (t, e) =>
              this._updateConversionResult(t, e),
            splitToAllowedParent: (t, e) => this._splitToAllowedParent(t, e),
            getSplitParts: (t) => this._getSplitParts(t),
            keepEmptyElement: (t) => this._keepEmptyElement(t),
          };
        }
        convert(t, e, n = ["$root"]) {
          this.fire("viewCleanup", t);
          this._modelCursor = jb(n, e);
          this.conversionApi.writer = e;
          this.conversionApi.consumable = gb.createFrom(t);
          this.conversionApi.store = {};
          const { modelRange: i } = this._convertItem(t, this._modelCursor);
          const o = e.createDocumentFragment();
          if (i) {
            this._removeEmptyElements();
            for (const t of Array.from(
              this._modelCursor.parent.getChildren()
            )) {
              e.append(t, o);
            }
            o.markers = Ob(o, e);
          }
          this._modelCursor = null;
          this._splitParts.clear();
          this._cursorParents.clear();
          this._emptyElementsToKeep.clear();
          this.conversionApi.writer = null;
          this.conversionApi.store = null;
          return o;
        }
        _convertItem(t, e) {
          const n = { viewItem: t, modelCursor: e, modelRange: null };
          if (t.is("element")) {
            this.fire(\`element:\${t.name}\`, n, this.conversionApi);
          } else if (t.is("$text")) {
            this.fire("text", n, this.conversionApi);
          } else {
            this.fire("documentFragment", n, this.conversionApi);
          }
          if (n.modelRange && !(n.modelRange instanceof Ef)) {
            throw new M("view-conversion-dispatcher-incorrect-result", this);
          }
          return { modelRange: n.modelRange, modelCursor: n.modelCursor };
        }
        _convertChildren(t, e) {
          let n = e.is("position") ? e : wf._createAt(e, 0);
          const i = new Ef(n);
          for (const e of Array.from(t.getChildren())) {
            const t = this._convertItem(e, n);
            if (t.modelRange instanceof Ef) {
              i.end = t.modelRange.end;
              n = t.modelCursor;
            }
          }
          return { modelRange: i, modelCursor: n };
        }
        _safeInsert(t, e) {
          const n = this._splitToAllowedParent(t, e);
          if (!n) {
            return false;
          }
          this.conversionApi.writer.insert(t, n.position);
          return true;
        }
        _updateConversionResult(t, e) {
          const n = this._getSplitParts(t);
          const i = this.conversionApi.writer;
          if (!e.modelRange) {
            e.modelRange = i.createRange(
              i.createPositionBefore(t),
              i.createPositionAfter(n[n.length - 1])
            );
          }
          const o = this._cursorParents.get(t);
          if (o) {
            e.modelCursor = i.createPositionAt(o, 0);
          } else {
            e.modelCursor = e.modelRange.end;
          }
        }
        _splitToAllowedParent(t, e) {
          const { schema: n, writer: i } = this.conversionApi;
          let o = n.findAllowedParent(e, t);
          if (o) {
            if (o === e.parent) {
              return { position: e };
            }
            if (this._modelCursor.parent.getAncestors().includes(o)) {
              o = null;
            }
          }
          if (!o) {
            if (!Wp(e, t, n)) {
              return null;
            }
            return { position: Gp(e, i) };
          }
          const r = this.conversionApi.writer.split(e, o);
          const s = [];
          for (const t of r.range.getWalker()) {
            if (t.type == "elementEnd") {
              s.push(t.item);
            } else {
              const e = s.pop();
              const n = t.item;
              this._registerSplitPair(e, n);
            }
          }
          const a = r.range.end.parent;
          this._cursorParents.set(t, a);
          return { position: r.position, cursorParent: a };
        }
        _registerSplitPair(t, e) {
          if (!this._splitParts.has(t)) {
            this._splitParts.set(t, [t]);
          }
          const n = this._splitParts.get(t);
          this._splitParts.set(e, n);
          n.push(e);
        }
        _getSplitParts(t) {
          let e;
          if (!this._splitParts.has(t)) {
            e = [t];
          } else {
            e = this._splitParts.get(t);
          }
          return e;
        }
        _keepEmptyElement(t) {
          this._emptyElementsToKeep.add(t);
        }
        _removeEmptyElements() {
          let t = false;
          for (const e of this._splitParts.keys()) {
            if (e.isEmpty && !this._emptyElementsToKeep.has(e)) {
              this.conversionApi.writer.remove(e);
              this._splitParts.delete(e);
              t = true;
            }
          }
          if (t) {
            this._removeEmptyElements();
          }
        }
      }
      function Ob(t, e) {
        const n = new Set();
        const i = new Map();
        const o = Ef._createIn(t).getItems();
        for (const t of o) {
          if (t.is("element", "$marker")) {
            n.add(t);
          }
        }
        for (const t of n) {
          const n = t.getAttribute("data-name");
          const o = e.createPositionBefore(t);
          if (!i.has(n)) {
            i.set(n, new Ef(o.clone()));
          } else {
            i.get(n).end = o.clone();
          }
          e.remove(t);
        }
        return i;
      }
      function jb(t, e) {
        let n;
        for (const i of new kb(t)) {
          const t = {};
          for (const e of i.getAttributeKeys()) {
            t[e] = i.getAttribute(e);
          }
          const o = e.createElement(i.name, t);
          if (n) {
            e.insert(o, n);
          }
          n = wf._createAt(o, 0);
        }
        return n;
      }
      class Fb {
        getHtml(t) {
          const e = document.implementation.createHTMLDocument("");
          const n = e.createElement("div");
          n.appendChild(t);
          return n.innerHTML;
        }
      }
      class Vb {
        constructor(t) {
          this.skipComments = true;
          this.domParser = new DOMParser();
          this.domConverter = new Am(t, { renderingMode: "data" });
          this.htmlWriter = new Fb();
        }
        toData(t) {
          const e = this.domConverter.viewToDom(t);
          return this.htmlWriter.getHtml(e);
        }
        toView(t) {
          const e = this._toDom(t);
          return this.domConverter.domToView(e, {
            skipComments: this.skipComments,
          });
        }
        registerRawContentMatcher(t) {
          this.domConverter.registerRawContentMatcher(t);
        }
        useFillerType(t) {
          this.domConverter.blockFillerMode =
            t == "marked" ? "markedNbsp" : "nbsp";
        }
        _toDom(t) {
          if (!t.match(/<(?:html|body|head|meta)(?:\\s[^>]*)?>/i)) {
            t = \`<body>\${t}</body>\`;
          }
          const e = this.domParser.parseFromString(t, "text/html");
          const n = e.createDocumentFragment();
          const i = e.body.childNodes;
          while (i.length > 0) {
            n.appendChild(i[0]);
          }
          return n;
        }
      }
      class Hb extends q() {
        constructor(t, e) {
          super();
          this.model = t;
          this.mapper = new Df();
          this.downcastDispatcher = new If({
            mapper: this.mapper,
            schema: t.schema,
          });
          this.downcastDispatcher.on("insert:$text", ep(), {
            priority: "lowest",
          });
          this.downcastDispatcher.on("insert", np(), { priority: "lowest" });
          this.upcastDispatcher = new Rb({ schema: t.schema });
          this.viewDocument = new kh(e);
          this.stylesProcessor = e;
          this.htmlProcessor = new Vb(this.viewDocument);
          this.processor = this.htmlProcessor;
          this._viewWriter = new Lh(this.viewDocument);
          this.upcastDispatcher.on("text", Yp(), { priority: "lowest" });
          this.upcastDispatcher.on("element", Kp(), { priority: "lowest" });
          this.upcastDispatcher.on("documentFragment", Kp(), {
            priority: "lowest",
          });
          dt().prototype.decorate.call(this, "init");
          dt().prototype.decorate.call(this, "set");
          dt().prototype.decorate.call(this, "get");
          this.on(
            "init",
            () => {
              this.fire("ready");
            },
            { priority: "lowest" }
          );
          this.on(
            "ready",
            () => {
              this.model.enqueueChange({ isUndoable: false }, qp);
            },
            { priority: "lowest" }
          );
        }
        get(t = {}) {
          const { rootName: e = "main", trim: n = "empty" } = t;
          if (!this._checkIfRootsExists([e])) {
            throw new M("datacontroller-get-non-existent-root", this);
          }
          const i = this.model.document.getRoot(e);
          if (
            n === "empty" &&
            !this.model.hasContent(i, { ignoreWhitespaces: true })
          ) {
            return "";
          }
          return this.stringify(i, t);
        }
        stringify(t, e = {}) {
          const n = this.toView(t, e);
          return this.processor.toData(n);
        }
        toView(t, e = {}) {
          const n = this.viewDocument;
          const i = this._viewWriter;
          this.mapper.clearBindings();
          const o = Ef._createIn(t);
          const r = new Mh(n);
          this.mapper.bindElements(t, r);
          const s = t.is("documentFragment") ? t.markers : Ub(t);
          this.downcastDispatcher.convert(o, s, i, e);
          return r;
        }
        init(t) {
          if (this.model.document.version) {
            throw new M("datacontroller-init-document-not-empty", this);
          }
          let e = {};
          if (typeof t === "string") {
            e.main = t;
          } else {
            e = t;
          }
          if (!this._checkIfRootsExists(Object.keys(e))) {
            throw new M("datacontroller-init-non-existent-root", this);
          }
          this.model.enqueueChange({ isUndoable: false }, (t) => {
            for (const n of Object.keys(e)) {
              const i = this.model.document.getRoot(n);
              t.insert(this.parse(e[n], i), i, 0);
            }
          });
          return Promise.resolve();
        }
        set(t, e = {}) {
          let n = {};
          if (typeof t === "string") {
            n.main = t;
          } else {
            n = t;
          }
          if (!this._checkIfRootsExists(Object.keys(n))) {
            throw new M("datacontroller-set-non-existent-root", this);
          }
          this.model.enqueueChange(e.batchType || {}, (t) => {
            t.setSelection(null);
            t.removeSelectionAttribute(
              this.model.document.selection.getAttributeKeys()
            );
            for (const e of Object.keys(n)) {
              const i = this.model.document.getRoot(e);
              t.remove(t.createRangeIn(i));
              t.insert(this.parse(n[e], i), i, 0);
            }
          });
        }
        parse(t, e = "$root") {
          const n = this.processor.toView(t);
          return this.toModel(n, e);
        }
        toModel(t, e = "$root") {
          return this.model.change((n) =>
            this.upcastDispatcher.convert(t, n, e)
          );
        }
        addStyleProcessorRules(t) {
          t(this.stylesProcessor);
        }
        registerRawContentMatcher(t) {
          if (this.processor && this.processor !== this.htmlProcessor) {
            this.processor.registerRawContentMatcher(t);
          }
          this.htmlProcessor.registerRawContentMatcher(t);
        }
        destroy() {
          this.stopListening();
        }
        _checkIfRootsExists(t) {
          for (const e of t) {
            if (!this.model.document.getRootNames().includes(e)) {
              return false;
            }
          }
          return true;
        }
      }
      function Ub(t) {
        const e = [];
        const n = t.root.document;
        if (!n) {
          return new Map();
        }
        const i = Ef._createIn(t);
        for (const t of n.model.markers) {
          const n = t.getRange();
          const o = n.isCollapsed;
          const r = n.start.isEqual(i.start) || n.end.isEqual(i.end);
          if (o && r) {
            e.push([t.name, n]);
          } else {
            const o = i.getIntersection(n);
            if (o) {
              e.push([t.name, o]);
            }
          }
        }
        e.sort(([t, e], [n, i]) => {
          if (e.end.compareWith(i.start) !== "after") {
            return 1;
          } else if (e.start.compareWith(i.end) !== "before") {
            return -1;
          } else {
            switch (e.start.compareWith(i.start)) {
              case "before":
                return 1;
              case "after":
                return -1;
              default:
                switch (e.end.compareWith(i.end)) {
                  case "before":
                    return 1;
                  case "after":
                    return -1;
                  default:
                    return n.localeCompare(t);
                }
            }
          }
        });
        return new Map(e);
      }
      class qb {
        constructor(t, e) {
          this._helpers = new Map();
          this._downcast = Yc(t);
          this._createConversionHelpers({
            name: "downcast",
            dispatchers: this._downcast,
            isDowncast: true,
          });
          this._upcast = Yc(e);
          this._createConversionHelpers({
            name: "upcast",
            dispatchers: this._upcast,
            isDowncast: false,
          });
        }
        addAlias(t, e) {
          const n = this._downcast.includes(e);
          const i = this._upcast.includes(e);
          if (!i && !n) {
            throw new M("conversion-add-alias-dispatcher-not-registered", this);
          }
          this._createConversionHelpers({
            name: t,
            dispatchers: [e],
            isDowncast: n,
          });
        }
        for(t) {
          if (!this._helpers.has(t)) {
            throw new M("conversion-for-unknown-group", this);
          }
          return this._helpers.get(t);
        }
        elementToElement(t) {
          this.for("downcast").elementToElement(t);
          for (const { model: e, view: n } of Wb(t)) {
            this.for("upcast").elementToElement({
              model: e,
              view: n,
              converterPriority: t.converterPriority,
            });
          }
        }
        attributeToElement(t) {
          this.for("downcast").attributeToElement(t);
          for (const { model: e, view: n } of Wb(t)) {
            this.for("upcast").elementToAttribute({
              view: n,
              model: e,
              converterPriority: t.converterPriority,
            });
          }
        }
        attributeToAttribute(t) {
          this.for("downcast").attributeToAttribute(t);
          for (const { model: e, view: n } of Wb(t)) {
            this.for("upcast").attributeToAttribute({ view: n, model: e });
          }
        }
        _createConversionHelpers({ name: t, dispatchers: e, isDowncast: n }) {
          if (this._helpers.has(t)) {
            throw new M("conversion-group-exists", this);
          }
          const i = n ? new tp(e) : new $p(e);
          this._helpers.set(t, i);
        }
      }
      function* Wb(t) {
        if (t.model.values) {
          for (const e of t.model.values) {
            const n = { key: t.model.key, value: e };
            const i = t.view[e];
            const o = t.upcastAlso ? t.upcastAlso[e] : undefined;
            yield* Gb(n, i, o);
          }
        } else {
          yield* Gb(t.model, t.view, t.upcastAlso);
        }
      }
      function* Gb(t, e, n) {
        yield { model: t, view: e };
        if (n) {
          for (const e of Yc(n)) {
            yield { model: t, view: e };
          }
        }
      }
      class $b {
        constructor(t) {
          this.baseVersion = t;
          this.isDocumentOperation = this.baseVersion !== null;
          this.batch = null;
        }
        _validate() {}
        toJSON() {
          const t = Object.assign({}, this);
          t.__className = this.constructor.className;
          delete t.batch;
          delete t.isDocumentOperation;
          return t;
        }
        static get className() {
          return "Operation";
        }
        static fromJSON(t, e) {
          return new this(t.baseVersion);
        }
      }
      function Kb(t, e) {
        const n = Jb(e);
        const i = n.reduce((t, e) => t + e.offsetSize, 0);
        const o = t.parent;
        tk(t);
        const r = t.index;
        o._insertChild(r, n);
        Xb(o, r + n.length);
        Xb(o, r);
        return new Ef(t, t.getShiftedBy(i));
      }
      function Yb(t) {
        if (!t.isFlat) {
          throw new M("operation-utils-remove-range-not-flat", this);
        }
        const e = t.start.parent;
        tk(t.start);
        tk(t.end);
        const n = e._removeChildren(t.start.index, t.end.index - t.start.index);
        Xb(e, t.start.index);
        return n;
      }
      function Zb(t, e) {
        if (!t.isFlat) {
          throw new M("operation-utils-move-range-not-flat", this);
        }
        const n = Yb(t);
        e = e._getTransformedByDeletion(t.start, t.end.offset - t.start.offset);
        return Kb(e, n);
      }
      function Qb(t, e, n) {
        tk(t.start);
        tk(t.end);
        for (const i of t.getItems({ shallow: true })) {
          const t = i.is("$textProxy") ? i.textNode : i;
          if (n !== null) {
            t._setAttribute(e, n);
          } else {
            t._removeAttribute(e);
          }
          Xb(t.parent, t.index);
        }
        Xb(t.end.parent, t.end.index);
      }
      function Jb(t) {
        const e = [];
        function n(t) {
          if (typeof t == "string") {
            e.push(new mf(t));
          } else if (t instanceof gf) {
            e.push(new mf(t.data, t.getAttributes()));
          } else if (t instanceof uf) {
            e.push(t);
          } else if (yt(t)) {
            for (const e of t) {
              n(e);
            }
          }
        }
        n(t);
        for (let t = 1; t < e.length; t++) {
          const n = e[t];
          const i = e[t - 1];
          if (n instanceof mf && i instanceof mf && ek(n, i)) {
            e.splice(t - 1, 2, new mf(i.data + n.data, i.getAttributes()));
            t--;
          }
        }
        return e;
      }
      function Xb(t, e) {
        const n = t.getChild(e - 1);
        const i = t.getChild(e);
        if (n && i && n.is("$text") && i.is("$text") && ek(n, i)) {
          const o = new mf(n.data + i.data, n.getAttributes());
          t._removeChildren(e - 1, 2);
          t._insertChild(e - 1, o);
        }
      }
      function tk(t) {
        const e = t.textNode;
        const n = t.parent;
        if (e) {
          const i = t.offset - e.startOffset;
          const o = e.index;
          n._removeChildren(o, 1);
          const r = new mf(e.data.substr(0, i), e.getAttributes());
          const s = new mf(e.data.substr(i), e.getAttributes());
          n._insertChild(o, [r, s]);
        }
      }
      function ek(t, e) {
        const n = t.getAttributes();
        const i = e.getAttributes();
        for (const t of n) {
          if (t[1] !== e.getAttribute(t[0])) {
            return false;
          }
          i.next();
        }
        return i.next().done;
      }
      class nk extends $b {
        constructor(t, e, n, i) {
          super(i);
          this.sourcePosition = t.clone();
          this.sourcePosition.stickiness = "toNext";
          this.howMany = e;
          this.targetPosition = n.clone();
          this.targetPosition.stickiness = "toNone";
        }
        get type() {
          if (this.targetPosition.root.rootName == "$graveyard") {
            return "remove";
          } else if (this.sourcePosition.root.rootName == "$graveyard") {
            return "reinsert";
          }
          return "move";
        }
        clone() {
          return new nk(
            this.sourcePosition,
            this.howMany,
            this.targetPosition,
            this.baseVersion
          );
        }
        getMovedRangeStart() {
          return this.targetPosition._getTransformedByDeletion(
            this.sourcePosition,
            this.howMany
          );
        }
        getReversed() {
          const t = this.sourcePosition._getTransformedByInsertion(
            this.targetPosition,
            this.howMany
          );
          return new nk(
            this.getMovedRangeStart(),
            this.howMany,
            t,
            this.baseVersion + 1
          );
        }
        _validate() {
          const t = this.sourcePosition.parent;
          const e = this.targetPosition.parent;
          const n = this.sourcePosition.offset;
          const i = this.targetPosition.offset;
          if (n + this.howMany > t.maxOffset) {
            throw new M("move-operation-nodes-do-not-exist", this);
          } else if (t === e && n < i && i < n + this.howMany) {
            throw new M("move-operation-range-into-itself", this);
          } else if (this.sourcePosition.root == this.targetPosition.root) {
            if (
              vt(
                this.sourcePosition.getParentPath(),
                this.targetPosition.getParentPath()
              ) == "prefix"
            ) {
              const t = this.sourcePosition.path.length - 1;
              if (
                this.targetPosition.path[t] >= n &&
                this.targetPosition.path[t] < n + this.howMany
              ) {
                throw new M("move-operation-node-into-itself", this);
              }
            }
          }
        }
        _execute() {
          Zb(
            Ef._createFromPositionAndShift(this.sourcePosition, this.howMany),
            this.targetPosition
          );
        }
        toJSON() {
          const t = super.toJSON();
          t.sourcePosition = this.sourcePosition.toJSON();
          t.targetPosition = this.targetPosition.toJSON();
          return t;
        }
        static get className() {
          return "MoveOperation";
        }
        static fromJSON(t, e) {
          const n = wf.fromJSON(t.sourcePosition, e);
          const i = wf.fromJSON(t.targetPosition, e);
          return new this(n, t.howMany, i, t.baseVersion);
        }
      }
      class ik extends $b {
        constructor(t, e, n) {
          super(n);
          this.position = t.clone();
          this.position.stickiness = "toNone";
          this.nodes = new hf(Jb(e));
          this.shouldReceiveAttributes = false;
        }
        get type() {
          return "insert";
        }
        get howMany() {
          return this.nodes.maxOffset;
        }
        clone() {
          const t = new hf([...this.nodes].map((t) => t._clone(true)));
          const e = new ik(this.position, t, this.baseVersion);
          e.shouldReceiveAttributes = this.shouldReceiveAttributes;
          return e;
        }
        getReversed() {
          const t = this.position.root.document.graveyard;
          const e = new wf(t, [0]);
          return new nk(
            this.position,
            this.nodes.maxOffset,
            e,
            this.baseVersion + 1
          );
        }
        _validate() {
          const t = this.position.parent;
          if (!t || t.maxOffset < this.position.offset) {
            throw new M("insert-operation-position-invalid", this);
          }
        }
        _execute() {
          const t = this.nodes;
          this.nodes = new hf([...t].map((t) => t._clone(true)));
          Kb(this.position, t);
        }
        toJSON() {
          const t = super.toJSON();
          t.position = this.position.toJSON();
          t.nodes = this.nodes.toJSON();
          return t;
        }
        static get className() {
          return "InsertOperation";
        }
        static fromJSON(t, e) {
          const n = [];
          for (const e of t.nodes) {
            if (e.name) {
              n.push(ff.fromJSON(e));
            } else {
              n.push(mf.fromJSON(e));
            }
          }
          const i = new ik(wf.fromJSON(t.position, e), n, t.baseVersion);
          i.shouldReceiveAttributes = t.shouldReceiveAttributes;
          return i;
        }
      }
      class ok extends $b {
        constructor(t, e, n, i, o, r) {
          super(r);
          this.name = t;
          this.oldRange = e ? e.clone() : null;
          this.newRange = n ? n.clone() : null;
          this.affectsData = o;
          this._markers = i;
        }
        get type() {
          return "marker";
        }
        clone() {
          return new ok(
            this.name,
            this.oldRange,
            this.newRange,
            this._markers,
            this.affectsData,
            this.baseVersion
          );
        }
        getReversed() {
          return new ok(
            this.name,
            this.newRange,
            this.oldRange,
            this._markers,
            this.affectsData,
            this.baseVersion + 1
          );
        }
        _execute() {
          if (this.newRange) {
            this._markers._set(
              this.name,
              this.newRange,
              true,
              this.affectsData
            );
          } else {
            this._markers._remove(this.name);
          }
        }
        toJSON() {
          const t = super.toJSON();
          if (this.oldRange) {
            t.oldRange = this.oldRange.toJSON();
          }
          if (this.newRange) {
            t.newRange = this.newRange.toJSON();
          }
          delete t._markers;
          return t;
        }
        static get className() {
          return "MarkerOperation";
        }
        static fromJSON(t, e) {
          return new ok(
            t.name,
            t.oldRange ? Ef.fromJSON(t.oldRange, e) : null,
            t.newRange ? Ef.fromJSON(t.newRange, e) : null,
            e.model.markers,
            t.affectsData,
            t.baseVersion
          );
        }
      }
      function rk(t, e) {
        return Yg(t, e);
      }
      const sk = rk;
      class ak extends $b {
        constructor(t, e, n, i, o) {
          super(o);
          this.range = t.clone();
          this.key = e;
          this.oldValue = n === undefined ? null : n;
          this.newValue = i === undefined ? null : i;
        }
        get type() {
          if (this.oldValue === null) {
            return "addAttribute";
          } else if (this.newValue === null) {
            return "removeAttribute";
          } else {
            return "changeAttribute";
          }
        }
        clone() {
          return new ak(
            this.range,
            this.key,
            this.oldValue,
            this.newValue,
            this.baseVersion
          );
        }
        getReversed() {
          return new ak(
            this.range,
            this.key,
            this.newValue,
            this.oldValue,
            this.baseVersion + 1
          );
        }
        toJSON() {
          const t = super.toJSON();
          t.range = this.range.toJSON();
          return t;
        }
        _validate() {
          if (!this.range.isFlat) {
            throw new M("attribute-operation-range-not-flat", this);
          }
          for (const t of this.range.getItems({ shallow: true })) {
            if (
              this.oldValue !== null &&
              !sk(t.getAttribute(this.key), this.oldValue)
            ) {
              throw new M("attribute-operation-wrong-old-value", this, {
                item: t,
                key: this.key,
                value: this.oldValue,
              });
            }
            if (
              this.oldValue === null &&
              this.newValue !== null &&
              t.hasAttribute(this.key)
            ) {
              throw new M("attribute-operation-attribute-exists", this, {
                node: t,
                key: this.key,
              });
            }
          }
        }
        _execute() {
          if (!sk(this.oldValue, this.newValue)) {
            Qb(this.range, this.key, this.newValue);
          }
        }
        static get className() {
          return "AttributeOperation";
        }
        static fromJSON(t, e) {
          return new ak(
            Ef.fromJSON(t.range, e),
            t.key,
            t.oldValue,
            t.newValue,
            t.baseVersion
          );
        }
      }
      class ck extends $b {
        get type() {
          return "noop";
        }
        clone() {
          return new ck(this.baseVersion);
        }
        getReversed() {
          return new ck(this.baseVersion + 1);
        }
        _execute() {}
        static get className() {
          return "NoOperation";
        }
      }
      class lk extends $b {
        constructor(t, e, n, i) {
          super(i);
          this.position = t;
          this.position.stickiness = "toNext";
          this.oldName = e;
          this.newName = n;
        }
        get type() {
          return "rename";
        }
        clone() {
          return new lk(
            this.position.clone(),
            this.oldName,
            this.newName,
            this.baseVersion
          );
        }
        getReversed() {
          return new lk(
            this.position.clone(),
            this.newName,
            this.oldName,
            this.baseVersion + 1
          );
        }
        _validate() {
          const t = this.position.nodeAfter;
          if (!(t instanceof ff)) {
            throw new M("rename-operation-wrong-position", this);
          } else if (t.name !== this.oldName) {
            throw new M("rename-operation-wrong-name", this);
          }
        }
        _execute() {
          const t = this.position.nodeAfter;
          t.name = this.newName;
        }
        toJSON() {
          const t = super.toJSON();
          t.position = this.position.toJSON();
          return t;
        }
        static get className() {
          return "RenameOperation";
        }
        static fromJSON(t, e) {
          return new lk(
            wf.fromJSON(t.position, e),
            t.oldName,
            t.newName,
            t.baseVersion
          );
        }
      }
      class dk extends $b {
        constructor(t, e, n, i, o) {
          super(o);
          this.root = t;
          this.key = e;
          this.oldValue = n;
          this.newValue = i;
        }
        get type() {
          if (this.oldValue === null) {
            return "addRootAttribute";
          } else if (this.newValue === null) {
            return "removeRootAttribute";
          } else {
            return "changeRootAttribute";
          }
        }
        clone() {
          return new dk(
            this.root,
            this.key,
            this.oldValue,
            this.newValue,
            this.baseVersion
          );
        }
        getReversed() {
          return new dk(
            this.root,
            this.key,
            this.newValue,
            this.oldValue,
            this.baseVersion + 1
          );
        }
        _validate() {
          if (this.root != this.root.root || this.root.is("documentFragment")) {
            throw new M("rootattribute-operation-not-a-root", this, {
              root: this.root,
              key: this.key,
            });
          }
          if (
            this.oldValue !== null &&
            this.root.getAttribute(this.key) !== this.oldValue
          ) {
            throw new M("rootattribute-operation-wrong-old-value", this, {
              root: this.root,
              key: this.key,
            });
          }
          if (
            this.oldValue === null &&
            this.newValue !== null &&
            this.root.hasAttribute(this.key)
          ) {
            throw new M("rootattribute-operation-attribute-exists", this, {
              root: this.root,
              key: this.key,
            });
          }
        }
        _execute() {
          if (this.newValue !== null) {
            this.root._setAttribute(this.key, this.newValue);
          } else {
            this.root._removeAttribute(this.key);
          }
        }
        toJSON() {
          const t = super.toJSON();
          t.root = this.root.toJSON();
          return t;
        }
        static get className() {
          return "RootAttributeOperation";
        }
        static fromJSON(t, e) {
          if (!e.getRoot(t.root)) {
            throw new M("rootattribute-operation-fromjson-no-root", this, {
              rootName: t.root,
            });
          }
          return new dk(
            e.getRoot(t.root),
            t.key,
            t.oldValue,
            t.newValue,
            t.baseVersion
          );
        }
      }
      class uk extends $b {
        constructor(t, e, n, i, o) {
          super(o);
          this.sourcePosition = t.clone();
          this.sourcePosition.stickiness = "toPrevious";
          this.howMany = e;
          this.targetPosition = n.clone();
          this.targetPosition.stickiness = "toNext";
          this.graveyardPosition = i.clone();
        }
        get type() {
          return "merge";
        }
        get deletionPosition() {
          return new wf(
            this.sourcePosition.root,
            this.sourcePosition.path.slice(0, -1)
          );
        }
        get movedRange() {
          const t = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);
          return new Ef(this.sourcePosition, t);
        }
        clone() {
          return new uk(
            this.sourcePosition,
            this.howMany,
            this.targetPosition,
            this.graveyardPosition,
            this.baseVersion
          );
        }
        getReversed() {
          const t = this.targetPosition._getTransformedByMergeOperation(this);
          const e = this.sourcePosition.path.slice(0, -1);
          const n = new wf(
            this.sourcePosition.root,
            e
          )._getTransformedByMergeOperation(this);
          return new hk(
            t,
            this.howMany,
            n,
            this.graveyardPosition,
            this.baseVersion + 1
          );
        }
        _validate() {
          const t = this.sourcePosition.parent;
          const e = this.targetPosition.parent;
          if (!t.parent) {
            throw new M("merge-operation-source-position-invalid", this);
          } else if (!e.parent) {
            throw new M("merge-operation-target-position-invalid", this);
          } else if (this.howMany != t.maxOffset) {
            throw new M("merge-operation-how-many-invalid", this);
          }
        }
        _execute() {
          const t = this.sourcePosition.parent;
          const e = Ef._createIn(t);
          Zb(e, this.targetPosition);
          Zb(Ef._createOn(t), this.graveyardPosition);
        }
        toJSON() {
          const t = super.toJSON();
          t.sourcePosition = t.sourcePosition.toJSON();
          t.targetPosition = t.targetPosition.toJSON();
          t.graveyardPosition = t.graveyardPosition.toJSON();
          return t;
        }
        static get className() {
          return "MergeOperation";
        }
        static fromJSON(t, e) {
          const n = wf.fromJSON(t.sourcePosition, e);
          const i = wf.fromJSON(t.targetPosition, e);
          const o = wf.fromJSON(t.graveyardPosition, e);
          return new this(n, t.howMany, i, o, t.baseVersion);
        }
      }
      class hk extends $b {
        constructor(t, e, n, i, o) {
          super(o);
          this.splitPosition = t.clone();
          this.splitPosition.stickiness = "toNext";
          this.howMany = e;
          this.insertionPosition = n;
          this.graveyardPosition = i ? i.clone() : null;
          if (this.graveyardPosition) {
            this.graveyardPosition.stickiness = "toNext";
          }
        }
        get type() {
          return "split";
        }
        get moveTargetPosition() {
          const t = this.insertionPosition.path.slice();
          t.push(0);
          return new wf(this.insertionPosition.root, t);
        }
        get movedRange() {
          const t = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);
          return new Ef(this.splitPosition, t);
        }
        clone() {
          return new hk(
            this.splitPosition,
            this.howMany,
            this.insertionPosition,
            this.graveyardPosition,
            this.baseVersion
          );
        }
        getReversed() {
          const t = this.splitPosition.root.document.graveyard;
          const e = new wf(t, [0]);
          return new uk(
            this.moveTargetPosition,
            this.howMany,
            this.splitPosition,
            e,
            this.baseVersion + 1
          );
        }
        _validate() {
          const t = this.splitPosition.parent;
          const e = this.splitPosition.offset;
          if (!t || t.maxOffset < e) {
            throw new M("split-operation-position-invalid", this);
          } else if (!t.parent) {
            throw new M("split-operation-split-in-root", this);
          } else if (this.howMany != t.maxOffset - this.splitPosition.offset) {
            throw new M("split-operation-how-many-invalid", this);
          } else if (
            this.graveyardPosition &&
            !this.graveyardPosition.nodeAfter
          ) {
            throw new M("split-operation-graveyard-position-invalid", this);
          }
        }
        _execute() {
          const t = this.splitPosition.parent;
          if (this.graveyardPosition) {
            Zb(
              Ef._createFromPositionAndShift(this.graveyardPosition, 1),
              this.insertionPosition
            );
          } else {
            const e = t._clone();
            Kb(this.insertionPosition, e);
          }
          const e = new Ef(
            wf._createAt(t, this.splitPosition.offset),
            wf._createAt(t, t.maxOffset)
          );
          Zb(e, this.moveTargetPosition);
        }
        toJSON() {
          const t = super.toJSON();
          t.splitPosition = this.splitPosition.toJSON();
          t.insertionPosition = this.insertionPosition.toJSON();
          if (this.graveyardPosition) {
            t.graveyardPosition = this.graveyardPosition.toJSON();
          }
          return t;
        }
        static get className() {
          return "SplitOperation";
        }
        static getInsertionPosition(t) {
          const e = t.path.slice(0, -1);
          e[e.length - 1]++;
          return new wf(t.root, e, "toPrevious");
        }
        static fromJSON(t, e) {
          const n = wf.fromJSON(t.splitPosition, e);
          const i = wf.fromJSON(t.insertionPosition, e);
          const o = t.graveyardPosition
            ? wf.fromJSON(t.graveyardPosition, e)
            : null;
          return new this(n, t.howMany, i, o, t.baseVersion);
        }
      }
      const mk = {};
      mk[ak.className] = ak;
      mk[ik.className] = ik;
      mk[ok.className] = ok;
      mk[nk.className] = nk;
      mk[ck.className] = ck;
      mk[$b.className] = $b;
      mk[lk.className] = lk;
      mk[dk.className] = dk;
      mk[hk.className] = hk;
      mk[uk.className] = uk;
      class gk {
        static fromJSON(t, e) {
          return mk[t.__className].fromJSON(t, e);
        }
      }
      const fk = new Map();
      function pk(t, e, n) {
        let i = fk.get(t);
        if (!i) {
          i = new Map();
          fk.set(t, i);
        }
        i.set(e, n);
      }
      function bk(t, e) {
        const n = fk.get(t);
        if (n && n.has(e)) {
          return n.get(e);
        }
        return kk;
      }
      function kk(t) {
        return [t];
      }
      function wk(t, e, n = {}) {
        const i = bk(t.constructor, e.constructor);
        try {
          t = t.clone();
          return i(t, e, n);
        } catch (t) {
          throw t;
        }
      }
      function Ak(t, e, n) {
        t = t.slice();
        e = e.slice();
        const i = new Ck(n.document, n.useRelations, n.forceWeakRemove);
        i.setOriginalOperations(t);
        i.setOriginalOperations(e);
        const o = i.originalOperations;
        if (t.length == 0 || e.length == 0) {
          return { operationsA: t, operationsB: e, originalOperations: o };
        }
        const r = new WeakMap();
        for (const e of t) {
          r.set(e, 0);
        }
        const s = {
          nextBaseVersionA: t[t.length - 1].baseVersion + 1,
          nextBaseVersionB: e[e.length - 1].baseVersion + 1,
          originalOperationsACount: t.length,
          originalOperationsBCount: e.length,
        };
        let a = 0;
        while (a < t.length) {
          const n = t[a];
          const o = r.get(n);
          if (o == e.length) {
            a++;
            continue;
          }
          const s = e[o];
          const c = wk(n, s, i.getContext(n, s, true));
          const l = wk(s, n, i.getContext(s, n, false));
          i.updateRelation(n, s);
          i.setOriginalOperations(c, n);
          i.setOriginalOperations(l, s);
          for (const t of c) {
            r.set(t, o + l.length);
          }
          t.splice(a, 1, ...c);
          e.splice(o, 1, ...l);
        }
        if (n.padWithNoOps) {
          const n = t.length - s.originalOperationsACount;
          const i = e.length - s.originalOperationsBCount;
          vk(t, i - n);
          vk(e, n - i);
        }
        _k(t, s.nextBaseVersionB);
        _k(e, s.nextBaseVersionA);
        return { operationsA: t, operationsB: e, originalOperations: o };
      }
      class Ck {
        constructor(t, e, n = false) {
          this.originalOperations = new Map();
          this._history = t.history;
          this._useRelations = e;
          this._forceWeakRemove = !!n;
          this._relations = new Map();
        }
        setOriginalOperations(t, e = null) {
          const n = e ? this.originalOperations.get(e) : null;
          for (const e of t) {
            this.originalOperations.set(e, n || e);
          }
        }
        updateRelation(t, e) {
          if (t instanceof nk) {
            if (e instanceof uk) {
              if (
                t.targetPosition.isEqual(e.sourcePosition) ||
                e.movedRange.containsPosition(t.targetPosition)
              ) {
                this._setRelation(t, e, "insertAtSource");
              } else if (t.targetPosition.isEqual(e.deletionPosition)) {
                this._setRelation(t, e, "insertBetween");
              } else if (t.targetPosition.isAfter(e.sourcePosition)) {
                this._setRelation(t, e, "moveTargetAfter");
              }
            } else if (e instanceof nk) {
              if (
                t.targetPosition.isEqual(e.sourcePosition) ||
                t.targetPosition.isBefore(e.sourcePosition)
              ) {
                this._setRelation(t, e, "insertBefore");
              } else {
                this._setRelation(t, e, "insertAfter");
              }
            }
          } else if (t instanceof hk) {
            if (e instanceof uk) {
              if (t.splitPosition.isBefore(e.sourcePosition)) {
                this._setRelation(t, e, "splitBefore");
              }
            } else if (e instanceof nk) {
              if (
                t.splitPosition.isEqual(e.sourcePosition) ||
                t.splitPosition.isBefore(e.sourcePosition)
              ) {
                this._setRelation(t, e, "splitBefore");
              } else {
                const n = Ef._createFromPositionAndShift(
                  e.sourcePosition,
                  e.howMany
                );
                if (
                  t.splitPosition.hasSameParentAs(e.sourcePosition) &&
                  n.containsPosition(t.splitPosition)
                ) {
                  const i = n.end.offset - t.splitPosition.offset;
                  const o = t.splitPosition.offset - n.start.offset;
                  this._setRelation(t, e, { howMany: i, offset: o });
                }
              }
            }
          } else if (t instanceof uk) {
            if (e instanceof uk) {
              if (!t.targetPosition.isEqual(e.sourcePosition)) {
                this._setRelation(t, e, "mergeTargetNotMoved");
              }
              if (t.sourcePosition.isEqual(e.targetPosition)) {
                this._setRelation(t, e, "mergeSourceNotMoved");
              }
              if (t.sourcePosition.isEqual(e.sourcePosition)) {
                this._setRelation(t, e, "mergeSameElement");
              }
            } else if (e instanceof hk) {
              if (t.sourcePosition.isEqual(e.splitPosition)) {
                this._setRelation(t, e, "splitAtSource");
              }
            }
          } else if (t instanceof ok) {
            const n = t.newRange;
            if (!n) {
              return;
            }
            if (e instanceof nk) {
              const i = Ef._createFromPositionAndShift(
                e.sourcePosition,
                e.howMany
              );
              const o = i.containsPosition(n.start) || i.start.isEqual(n.start);
              const r = i.containsPosition(n.end) || i.end.isEqual(n.end);
              if ((o || r) && !i.containsRange(n)) {
                this._setRelation(t, e, {
                  side: o ? "left" : "right",
                  path: o ? n.start.path.slice() : n.end.path.slice(),
                });
              }
            } else if (e instanceof uk) {
              const i = n.start.isEqual(e.targetPosition);
              const o = n.start.isEqual(e.deletionPosition);
              const r = n.end.isEqual(e.deletionPosition);
              const s = n.end.isEqual(e.sourcePosition);
              if (i || o || r || s) {
                this._setRelation(t, e, {
                  wasInLeftElement: i,
                  wasStartBeforeMergedElement: o,
                  wasEndBeforeMergedElement: r,
                  wasInRightElement: s,
                });
              }
            }
          }
        }
        getContext(t, e, n) {
          return {
            aIsStrong: n,
            aWasUndone: this._wasUndone(t),
            bWasUndone: this._wasUndone(e),
            abRelation: this._useRelations ? this._getRelation(t, e) : null,
            baRelation: this._useRelations ? this._getRelation(e, t) : null,
            forceWeakRemove: this._forceWeakRemove,
          };
        }
        _wasUndone(t) {
          const e = this.originalOperations.get(t);
          return e.wasUndone || this._history.isUndoneOperation(e);
        }
        _getRelation(t, e) {
          const n = this.originalOperations.get(e);
          const i = this._history.getUndoneOperation(n);
          if (!i) {
            return null;
          }
          const o = this.originalOperations.get(t);
          const r = this._relations.get(o);
          if (r) {
            return r.get(i) || null;
          }
          return null;
        }
        _setRelation(t, e, n) {
          const i = this.originalOperations.get(t);
          const o = this.originalOperations.get(e);
          let r = this._relations.get(i);
          if (!r) {
            r = new Map();
            this._relations.set(i, r);
          }
          r.set(o, n);
        }
      }
      function _k(t, e) {
        for (const n of t) {
          n.baseVersion = e++;
        }
      }
      function vk(t, e) {
        for (let n = 0; n < e; n++) {
          t.push(new ck(0));
        }
      }
      pk(ak, ak, (t, e, n) => {
        if (t.key === e.key && t.range.start.hasSameParentAs(e.range.start)) {
          const i = t.range
            .getDifference(e.range)
            .map((e) => new ak(e, t.key, t.oldValue, t.newValue, 0));
          const o = t.range.getIntersection(e.range);
          if (o) {
            if (n.aIsStrong) {
              i.push(new ak(o, e.key, e.newValue, t.newValue, 0));
            }
          }
          if (i.length == 0) {
            return [new ck(0)];
          }
          return i;
        } else {
          return [t];
        }
      });
      pk(ak, ik, (t, e) => {
        if (
          t.range.start.hasSameParentAs(e.position) &&
          t.range.containsPosition(e.position)
        ) {
          const n = t.range._getTransformedByInsertion(
            e.position,
            e.howMany,
            !e.shouldReceiveAttributes
          );
          const i = n.map(
            (e) => new ak(e, t.key, t.oldValue, t.newValue, t.baseVersion)
          );
          if (e.shouldReceiveAttributes) {
            const n = yk(e, t.key, t.oldValue);
            if (n) {
              i.unshift(n);
            }
          }
          return i;
        }
        t.range = t.range._getTransformedByInsertion(
          e.position,
          e.howMany,
          false
        )[0];
        return [t];
      });
      function yk(t, e, n) {
        const i = t.nodes;
        const o = i.getNode(0).getAttribute(e);
        if (o == n) {
          return null;
        }
        const r = new Ef(t.position, t.position.getShiftedBy(t.howMany));
        return new ak(r, e, o, n, 0);
      }
      pk(ak, uk, (t, e) => {
        const n = [];
        if (t.range.start.hasSameParentAs(e.deletionPosition)) {
          if (
            t.range.containsPosition(e.deletionPosition) ||
            t.range.start.isEqual(e.deletionPosition)
          ) {
            n.push(Ef._createFromPositionAndShift(e.graveyardPosition, 1));
          }
        }
        const i = t.range._getTransformedByMergeOperation(e);
        if (!i.isCollapsed) {
          n.push(i);
        }
        return n.map(
          (e) => new ak(e, t.key, t.oldValue, t.newValue, t.baseVersion)
        );
      });
      pk(ak, nk, (t, e) => {
        const n = xk(t.range, e);
        return n.map(
          (e) => new ak(e, t.key, t.oldValue, t.newValue, t.baseVersion)
        );
      });
      function xk(t, e) {
        const n = Ef._createFromPositionAndShift(e.sourcePosition, e.howMany);
        let i = null;
        let o = [];
        if (n.containsRange(t, true)) {
          i = t;
        } else if (t.start.hasSameParentAs(n.start)) {
          o = t.getDifference(n);
          i = t.getIntersection(n);
        } else {
          o = [t];
        }
        const r = [];
        for (let t of o) {
          t = t._getTransformedByDeletion(e.sourcePosition, e.howMany);
          const n = e.getMovedRangeStart();
          const i = t.start.hasSameParentAs(n);
          const o = t._getTransformedByInsertion(n, e.howMany, i);
          r.push(...o);
        }
        if (i) {
          r.push(
            i._getTransformedByMove(
              e.sourcePosition,
              e.targetPosition,
              e.howMany,
              false
            )[0]
          );
        }
        return r;
      }
      pk(ak, hk, (t, e) => {
        if (t.range.end.isEqual(e.insertionPosition)) {
          if (!e.graveyardPosition) {
            t.range.end.offset++;
          }
          return [t];
        }
        if (
          t.range.start.hasSameParentAs(e.splitPosition) &&
          t.range.containsPosition(e.splitPosition)
        ) {
          const n = t.clone();
          n.range = new Ef(
            e.moveTargetPosition.clone(),
            t.range.end._getCombined(e.splitPosition, e.moveTargetPosition)
          );
          t.range.end = e.splitPosition.clone();
          t.range.end.stickiness = "toPrevious";
          return [t, n];
        }
        t.range = t.range._getTransformedBySplitOperation(e);
        return [t];
      });
      pk(ik, ak, (t, e) => {
        const n = [t];
        if (
          t.shouldReceiveAttributes &&
          t.position.hasSameParentAs(e.range.start) &&
          e.range.containsPosition(t.position)
        ) {
          const i = yk(t, e.key, e.newValue);
          if (i) {
            n.push(i);
          }
        }
        return n;
      });
      pk(ik, ik, (t, e, n) => {
        if (t.position.isEqual(e.position) && n.aIsStrong) {
          return [t];
        }
        t.position = t.position._getTransformedByInsertOperation(e);
        return [t];
      });
      pk(ik, nk, (t, e) => {
        t.position = t.position._getTransformedByMoveOperation(e);
        return [t];
      });
      pk(ik, hk, (t, e) => {
        t.position = t.position._getTransformedBySplitOperation(e);
        return [t];
      });
      pk(ik, uk, (t, e) => {
        t.position = t.position._getTransformedByMergeOperation(e);
        return [t];
      });
      pk(ok, ik, (t, e) => {
        if (t.oldRange) {
          t.oldRange = t.oldRange._getTransformedByInsertOperation(e)[0];
        }
        if (t.newRange) {
          t.newRange = t.newRange._getTransformedByInsertOperation(e)[0];
        }
        return [t];
      });
      pk(ok, ok, (t, e, n) => {
        if (t.name == e.name) {
          if (n.aIsStrong) {
            t.oldRange = e.newRange ? e.newRange.clone() : null;
          } else {
            return [new ck(0)];
          }
        }
        return [t];
      });
      pk(ok, uk, (t, e) => {
        if (t.oldRange) {
          t.oldRange = t.oldRange._getTransformedByMergeOperation(e);
        }
        if (t.newRange) {
          t.newRange = t.newRange._getTransformedByMergeOperation(e);
        }
        return [t];
      });
      pk(ok, nk, (t, e, n) => {
        if (t.oldRange) {
          t.oldRange = Ef._createFromRanges(
            t.oldRange._getTransformedByMoveOperation(e)
          );
        }
        if (t.newRange) {
          if (n.abRelation) {
            const i = Ef._createFromRanges(
              t.newRange._getTransformedByMoveOperation(e)
            );
            if (
              n.abRelation.side == "left" &&
              e.targetPosition.isEqual(t.newRange.start)
            ) {
              t.newRange.end = i.end;
              t.newRange.start.path = n.abRelation.path;
              return [t];
            } else if (
              n.abRelation.side == "right" &&
              e.targetPosition.isEqual(t.newRange.end)
            ) {
              t.newRange.start = i.start;
              t.newRange.end.path = n.abRelation.path;
              return [t];
            }
          }
          t.newRange = Ef._createFromRanges(
            t.newRange._getTransformedByMoveOperation(e)
          );
        }
        return [t];
      });
      pk(ok, hk, (t, e, n) => {
        if (t.oldRange) {
          t.oldRange = t.oldRange._getTransformedBySplitOperation(e);
        }
        if (t.newRange) {
          if (n.abRelation) {
            const i = t.newRange._getTransformedBySplitOperation(e);
            if (
              t.newRange.start.isEqual(e.splitPosition) &&
              n.abRelation.wasStartBeforeMergedElement
            ) {
              t.newRange.start = wf._createAt(e.insertionPosition);
            } else if (
              t.newRange.start.isEqual(e.splitPosition) &&
              !n.abRelation.wasInLeftElement
            ) {
              t.newRange.start = wf._createAt(e.moveTargetPosition);
            }
            if (
              t.newRange.end.isEqual(e.splitPosition) &&
              n.abRelation.wasInRightElement
            ) {
              t.newRange.end = wf._createAt(e.moveTargetPosition);
            } else if (
              t.newRange.end.isEqual(e.splitPosition) &&
              n.abRelation.wasEndBeforeMergedElement
            ) {
              t.newRange.end = wf._createAt(e.insertionPosition);
            } else {
              t.newRange.end = i.end;
            }
            return [t];
          }
          t.newRange = t.newRange._getTransformedBySplitOperation(e);
        }
        return [t];
      });
      pk(uk, ik, (t, e) => {
        if (t.sourcePosition.hasSameParentAs(e.position)) {
          t.howMany += e.howMany;
        }
        t.sourcePosition = t.sourcePosition._getTransformedByInsertOperation(e);
        t.targetPosition = t.targetPosition._getTransformedByInsertOperation(e);
        return [t];
      });
      pk(uk, uk, (t, e, n) => {
        if (
          t.sourcePosition.isEqual(e.sourcePosition) &&
          t.targetPosition.isEqual(e.targetPosition)
        ) {
          if (!n.bWasUndone) {
            return [new ck(0)];
          } else {
            const n = e.graveyardPosition.path.slice();
            n.push(0);
            t.sourcePosition = new wf(e.graveyardPosition.root, n);
            t.howMany = 0;
            return [t];
          }
        }
        if (
          t.sourcePosition.isEqual(e.sourcePosition) &&
          !t.targetPosition.isEqual(e.targetPosition) &&
          !n.bWasUndone &&
          n.abRelation != "splitAtSource"
        ) {
          const i = t.targetPosition.root.rootName == "$graveyard";
          const o = e.targetPosition.root.rootName == "$graveyard";
          const r = i && !o;
          const s = o && !i;
          const a = s || (!r && n.aIsStrong);
          if (a) {
            const n = e.targetPosition._getTransformedByMergeOperation(e);
            const i = t.targetPosition._getTransformedByMergeOperation(e);
            return [new nk(n, t.howMany, i, 0)];
          } else {
            return [new ck(0)];
          }
        }
        if (t.sourcePosition.hasSameParentAs(e.targetPosition)) {
          t.howMany += e.howMany;
        }
        t.sourcePosition = t.sourcePosition._getTransformedByMergeOperation(e);
        t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e);
        if (!t.graveyardPosition.isEqual(e.graveyardPosition) || !n.aIsStrong) {
          t.graveyardPosition =
            t.graveyardPosition._getTransformedByMergeOperation(e);
        }
        return [t];
      });
      pk(uk, nk, (t, e, n) => {
        const i = Ef._createFromPositionAndShift(e.sourcePosition, e.howMany);
        if (e.type == "remove" && !n.bWasUndone && !n.forceWeakRemove) {
          if (
            t.deletionPosition.hasSameParentAs(e.sourcePosition) &&
            i.containsPosition(t.sourcePosition)
          ) {
            return [new ck(0)];
          }
        }
        if (t.sourcePosition.hasSameParentAs(e.targetPosition)) {
          t.howMany += e.howMany;
        }
        if (t.sourcePosition.hasSameParentAs(e.sourcePosition)) {
          t.howMany -= e.howMany;
        }
        t.sourcePosition = t.sourcePosition._getTransformedByMoveOperation(e);
        t.targetPosition = t.targetPosition._getTransformedByMoveOperation(e);
        if (!t.graveyardPosition.isEqual(e.targetPosition)) {
          t.graveyardPosition =
            t.graveyardPosition._getTransformedByMoveOperation(e);
        }
        return [t];
      });
      pk(uk, hk, (t, e, n) => {
        if (e.graveyardPosition) {
          t.graveyardPosition = t.graveyardPosition._getTransformedByDeletion(
            e.graveyardPosition,
            1
          );
          if (t.deletionPosition.isEqual(e.graveyardPosition)) {
            t.howMany = e.howMany;
          }
        }
        if (t.targetPosition.isEqual(e.splitPosition)) {
          const i = e.howMany != 0;
          const o =
            e.graveyardPosition &&
            t.deletionPosition.isEqual(e.graveyardPosition);
          if (i || o || n.abRelation == "mergeTargetNotMoved") {
            t.sourcePosition =
              t.sourcePosition._getTransformedBySplitOperation(e);
            return [t];
          }
        }
        if (t.sourcePosition.isEqual(e.splitPosition)) {
          if (n.abRelation == "mergeSourceNotMoved") {
            t.howMany = 0;
            t.targetPosition =
              t.targetPosition._getTransformedBySplitOperation(e);
            return [t];
          }
          if (
            n.abRelation == "mergeSameElement" ||
            t.sourcePosition.offset > 0
          ) {
            t.sourcePosition = e.moveTargetPosition.clone();
            t.targetPosition =
              t.targetPosition._getTransformedBySplitOperation(e);
            return [t];
          }
        }
        if (t.sourcePosition.hasSameParentAs(e.splitPosition)) {
          t.howMany = e.splitPosition.offset;
        }
        t.sourcePosition = t.sourcePosition._getTransformedBySplitOperation(e);
        t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e);
        return [t];
      });
      pk(nk, ik, (t, e) => {
        const n = Ef._createFromPositionAndShift(t.sourcePosition, t.howMany);
        const i = n._getTransformedByInsertOperation(e, false)[0];
        t.sourcePosition = i.start;
        t.howMany = i.end.offset - i.start.offset;
        if (!t.targetPosition.isEqual(e.position)) {
          t.targetPosition =
            t.targetPosition._getTransformedByInsertOperation(e);
        }
        return [t];
      });
      pk(nk, nk, (t, e, n) => {
        const i = Ef._createFromPositionAndShift(t.sourcePosition, t.howMany);
        const o = Ef._createFromPositionAndShift(e.sourcePosition, e.howMany);
        let r = n.aIsStrong;
        let s = !n.aIsStrong;
        if (n.abRelation == "insertBefore" || n.baRelation == "insertAfter") {
          s = true;
        } else if (
          n.abRelation == "insertAfter" ||
          n.baRelation == "insertBefore"
        ) {
          s = false;
        }
        let a;
        if (t.targetPosition.isEqual(e.targetPosition) && s) {
          a = t.targetPosition._getTransformedByDeletion(
            e.sourcePosition,
            e.howMany
          );
        } else {
          a = t.targetPosition._getTransformedByMove(
            e.sourcePosition,
            e.targetPosition,
            e.howMany
          );
        }
        if (Ek(t, e) && Ek(e, t)) {
          return [e.getReversed()];
        }
        const c = i.containsPosition(e.targetPosition);
        if (c && i.containsRange(o, true)) {
          i.start = i.start._getTransformedByMove(
            e.sourcePosition,
            e.targetPosition,
            e.howMany
          );
          i.end = i.end._getTransformedByMove(
            e.sourcePosition,
            e.targetPosition,
            e.howMany
          );
          return Dk([i], a);
        }
        const l = o.containsPosition(t.targetPosition);
        if (l && o.containsRange(i, true)) {
          i.start = i.start._getCombined(
            e.sourcePosition,
            e.getMovedRangeStart()
          );
          i.end = i.end._getCombined(e.sourcePosition, e.getMovedRangeStart());
          return Dk([i], a);
        }
        const d = vt(
          t.sourcePosition.getParentPath(),
          e.sourcePosition.getParentPath()
        );
        if (d == "prefix" || d == "extension") {
          i.start = i.start._getTransformedByMove(
            e.sourcePosition,
            e.targetPosition,
            e.howMany
          );
          i.end = i.end._getTransformedByMove(
            e.sourcePosition,
            e.targetPosition,
            e.howMany
          );
          return Dk([i], a);
        }
        if (
          t.type == "remove" &&
          e.type != "remove" &&
          !n.aWasUndone &&
          !n.forceWeakRemove
        ) {
          r = true;
        } else if (
          t.type != "remove" &&
          e.type == "remove" &&
          !n.bWasUndone &&
          !n.forceWeakRemove
        ) {
          r = false;
        }
        const u = [];
        const h = i.getDifference(o);
        for (const t of h) {
          t.start = t.start._getTransformedByDeletion(
            e.sourcePosition,
            e.howMany
          );
          t.end = t.end._getTransformedByDeletion(e.sourcePosition, e.howMany);
          const n =
            vt(
              t.start.getParentPath(),
              e.getMovedRangeStart().getParentPath()
            ) == "same";
          const i = t._getTransformedByInsertion(
            e.getMovedRangeStart(),
            e.howMany,
            n
          );
          u.push(...i);
        }
        const m = i.getIntersection(o);
        if (m !== null && r) {
          m.start = m.start._getCombined(
            e.sourcePosition,
            e.getMovedRangeStart()
          );
          m.end = m.end._getCombined(e.sourcePosition, e.getMovedRangeStart());
          if (u.length === 0) {
            u.push(m);
          } else if (u.length == 1) {
            if (o.start.isBefore(i.start) || o.start.isEqual(i.start)) {
              u.unshift(m);
            } else {
              u.push(m);
            }
          } else {
            u.splice(1, 0, m);
          }
        }
        if (u.length === 0) {
          return [new ck(t.baseVersion)];
        }
        return Dk(u, a);
      });
      pk(nk, hk, (t, e, n) => {
        let i = t.targetPosition.clone();
        if (
          !t.targetPosition.isEqual(e.insertionPosition) ||
          !e.graveyardPosition ||
          n.abRelation == "moveTargetAfter"
        ) {
          i = t.targetPosition._getTransformedBySplitOperation(e);
        }
        const o = Ef._createFromPositionAndShift(t.sourcePosition, t.howMany);
        if (o.end.isEqual(e.insertionPosition)) {
          if (!e.graveyardPosition) {
            t.howMany++;
          }
          t.targetPosition = i;
          return [t];
        }
        if (
          o.start.hasSameParentAs(e.splitPosition) &&
          o.containsPosition(e.splitPosition)
        ) {
          let t = new Ef(e.splitPosition, o.end);
          t = t._getTransformedBySplitOperation(e);
          const n = [new Ef(o.start, e.splitPosition), t];
          return Dk(n, i);
        }
        if (
          t.targetPosition.isEqual(e.splitPosition) &&
          n.abRelation == "insertAtSource"
        ) {
          i = e.moveTargetPosition;
        }
        if (
          t.targetPosition.isEqual(e.insertionPosition) &&
          n.abRelation == "insertBetween"
        ) {
          i = t.targetPosition;
        }
        const r = o._getTransformedBySplitOperation(e);
        const s = [r];
        if (e.graveyardPosition) {
          const i =
            o.start.isEqual(e.graveyardPosition) ||
            o.containsPosition(e.graveyardPosition);
          if (t.howMany > 1 && i && !n.aWasUndone) {
            s.push(Ef._createFromPositionAndShift(e.insertionPosition, 1));
          }
        }
        return Dk(s, i);
      });
      pk(nk, uk, (t, e, n) => {
        const i = Ef._createFromPositionAndShift(t.sourcePosition, t.howMany);
        if (
          e.deletionPosition.hasSameParentAs(t.sourcePosition) &&
          i.containsPosition(e.sourcePosition)
        ) {
          if (t.type == "remove" && !n.forceWeakRemove) {
            if (!n.aWasUndone) {
              const n = [];
              let i = e.graveyardPosition.clone();
              let o = e.targetPosition._getTransformedByMergeOperation(e);
              if (t.howMany > 1) {
                n.push(
                  new nk(t.sourcePosition, t.howMany - 1, t.targetPosition, 0)
                );
                i = i._getTransformedByMove(
                  t.sourcePosition,
                  t.targetPosition,
                  t.howMany - 1
                );
                o = o._getTransformedByMove(
                  t.sourcePosition,
                  t.targetPosition,
                  t.howMany - 1
                );
              }
              const r = e.deletionPosition._getCombined(
                t.sourcePosition,
                t.targetPosition
              );
              const s = new nk(i, 1, r, 0);
              const a = s.getMovedRangeStart().path.slice();
              a.push(0);
              const c = new wf(s.targetPosition.root, a);
              o = o._getTransformedByMove(i, r, 1);
              const l = new nk(o, e.howMany, c, 0);
              n.push(s);
              n.push(l);
              return n;
            }
          } else {
            if (t.howMany == 1) {
              if (!n.bWasUndone) {
                return [new ck(0)];
              } else {
                t.sourcePosition = e.graveyardPosition.clone();
                t.targetPosition =
                  t.targetPosition._getTransformedByMergeOperation(e);
                return [t];
              }
            }
          }
        }
        const o = Ef._createFromPositionAndShift(t.sourcePosition, t.howMany);
        const r = o._getTransformedByMergeOperation(e);
        t.sourcePosition = r.start;
        t.howMany = r.end.offset - r.start.offset;
        t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e);
        return [t];
      });
      pk(lk, ik, (t, e) => {
        t.position = t.position._getTransformedByInsertOperation(e);
        return [t];
      });
      pk(lk, uk, (t, e) => {
        if (t.position.isEqual(e.deletionPosition)) {
          t.position = e.graveyardPosition.clone();
          t.position.stickiness = "toNext";
          return [t];
        }
        t.position = t.position._getTransformedByMergeOperation(e);
        return [t];
      });
      pk(lk, nk, (t, e) => {
        t.position = t.position._getTransformedByMoveOperation(e);
        return [t];
      });
      pk(lk, lk, (t, e, n) => {
        if (t.position.isEqual(e.position)) {
          if (n.aIsStrong) {
            t.oldName = e.newName;
          } else {
            return [new ck(0)];
          }
        }
        return [t];
      });
      pk(lk, hk, (t, e) => {
        const n = t.position.path;
        const i = e.splitPosition.getParentPath();
        if (vt(n, i) == "same" && !e.graveyardPosition) {
          const e = new lk(t.position.getShiftedBy(1), t.oldName, t.newName, 0);
          return [t, e];
        }
        t.position = t.position._getTransformedBySplitOperation(e);
        return [t];
      });
      pk(dk, dk, (t, e, n) => {
        if (t.root === e.root && t.key === e.key) {
          if (!n.aIsStrong || t.newValue === e.newValue) {
            return [new ck(0)];
          } else {
            t.oldValue = e.newValue;
          }
        }
        return [t];
      });
      pk(hk, ik, (t, e) => {
        if (
          t.splitPosition.hasSameParentAs(e.position) &&
          t.splitPosition.offset < e.position.offset
        ) {
          t.howMany += e.howMany;
        }
        t.splitPosition = t.splitPosition._getTransformedByInsertOperation(e);
        t.insertionPosition =
          t.insertionPosition._getTransformedByInsertOperation(e);
        return [t];
      });
      pk(hk, uk, (t, e, n) => {
        if (
          !t.graveyardPosition &&
          !n.bWasUndone &&
          t.splitPosition.hasSameParentAs(e.sourcePosition)
        ) {
          const n = e.graveyardPosition.path.slice();
          n.push(0);
          const i = new wf(e.graveyardPosition.root, n);
          const o = hk.getInsertionPosition(
            new wf(e.graveyardPosition.root, n)
          );
          const r = new hk(i, 0, o, null, 0);
          t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e);
          t.insertionPosition = hk.getInsertionPosition(t.splitPosition);
          t.graveyardPosition = r.insertionPosition.clone();
          t.graveyardPosition.stickiness = "toNext";
          return [r, t];
        }
        if (
          t.splitPosition.hasSameParentAs(e.deletionPosition) &&
          !t.splitPosition.isAfter(e.deletionPosition)
        ) {
          t.howMany--;
        }
        if (t.splitPosition.hasSameParentAs(e.targetPosition)) {
          t.howMany += e.howMany;
        }
        t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e);
        t.insertionPosition = hk.getInsertionPosition(t.splitPosition);
        if (t.graveyardPosition) {
          t.graveyardPosition =
            t.graveyardPosition._getTransformedByMergeOperation(e);
        }
        return [t];
      });
      pk(hk, nk, (t, e, n) => {
        const i = Ef._createFromPositionAndShift(e.sourcePosition, e.howMany);
        if (t.graveyardPosition) {
          const o =
            i.start.isEqual(t.graveyardPosition) ||
            i.containsPosition(t.graveyardPosition);
          if (!n.bWasUndone && o) {
            const n = t.splitPosition._getTransformedByMoveOperation(e);
            const i = t.graveyardPosition._getTransformedByMoveOperation(e);
            const o = i.path.slice();
            o.push(0);
            const r = new wf(i.root, o);
            const s = new nk(n, t.howMany, r, 0);
            return [s];
          }
          t.graveyardPosition =
            t.graveyardPosition._getTransformedByMoveOperation(e);
        }
        const o = t.splitPosition.isEqual(e.targetPosition);
        if (
          o &&
          (n.baRelation == "insertAtSource" || n.abRelation == "splitBefore")
        ) {
          t.howMany += e.howMany;
          t.splitPosition = t.splitPosition._getTransformedByDeletion(
            e.sourcePosition,
            e.howMany
          );
          t.insertionPosition = hk.getInsertionPosition(t.splitPosition);
          return [t];
        }
        if (o && n.abRelation && n.abRelation.howMany) {
          const { howMany: e, offset: i } = n.abRelation;
          t.howMany += e;
          t.splitPosition = t.splitPosition.getShiftedBy(i);
          return [t];
        }
        if (
          t.splitPosition.hasSameParentAs(e.sourcePosition) &&
          i.containsPosition(t.splitPosition)
        ) {
          const n =
            e.howMany - (t.splitPosition.offset - e.sourcePosition.offset);
          t.howMany -= n;
          if (
            t.splitPosition.hasSameParentAs(e.targetPosition) &&
            t.splitPosition.offset < e.targetPosition.offset
          ) {
            t.howMany += e.howMany;
          }
          t.splitPosition = e.sourcePosition.clone();
          t.insertionPosition = hk.getInsertionPosition(t.splitPosition);
          return [t];
        }
        if (!e.sourcePosition.isEqual(e.targetPosition)) {
          if (
            t.splitPosition.hasSameParentAs(e.sourcePosition) &&
            t.splitPosition.offset <= e.sourcePosition.offset
          ) {
            t.howMany -= e.howMany;
          }
          if (
            t.splitPosition.hasSameParentAs(e.targetPosition) &&
            t.splitPosition.offset < e.targetPosition.offset
          ) {
            t.howMany += e.howMany;
          }
        }
        t.splitPosition.stickiness = "toNone";
        t.splitPosition = t.splitPosition._getTransformedByMoveOperation(e);
        t.splitPosition.stickiness = "toNext";
        if (t.graveyardPosition) {
          t.insertionPosition =
            t.insertionPosition._getTransformedByMoveOperation(e);
        } else {
          t.insertionPosition = hk.getInsertionPosition(t.splitPosition);
        }
        return [t];
      });
      pk(hk, hk, (t, e, n) => {
        if (t.splitPosition.isEqual(e.splitPosition)) {
          if (!t.graveyardPosition && !e.graveyardPosition) {
            return [new ck(0)];
          }
          if (
            t.graveyardPosition &&
            e.graveyardPosition &&
            t.graveyardPosition.isEqual(e.graveyardPosition)
          ) {
            return [new ck(0)];
          }
          if (n.abRelation == "splitBefore") {
            t.howMany = 0;
            t.graveyardPosition =
              t.graveyardPosition._getTransformedBySplitOperation(e);
            return [t];
          }
        }
        if (
          t.graveyardPosition &&
          e.graveyardPosition &&
          t.graveyardPosition.isEqual(e.graveyardPosition)
        ) {
          const i = t.splitPosition.root.rootName == "$graveyard";
          const o = e.splitPosition.root.rootName == "$graveyard";
          const r = i && !o;
          const s = o && !i;
          const a = s || (!r && n.aIsStrong);
          if (a) {
            const n = [];
            if (e.howMany) {
              n.push(
                new nk(e.moveTargetPosition, e.howMany, e.splitPosition, 0)
              );
            }
            if (t.howMany) {
              n.push(
                new nk(t.splitPosition, t.howMany, t.moveTargetPosition, 0)
              );
            }
            return n;
          } else {
            return [new ck(0)];
          }
        }
        if (t.graveyardPosition) {
          t.graveyardPosition =
            t.graveyardPosition._getTransformedBySplitOperation(e);
        }
        if (
          t.splitPosition.isEqual(e.insertionPosition) &&
          n.abRelation == "splitBefore"
        ) {
          t.howMany++;
          return [t];
        }
        if (
          e.splitPosition.isEqual(t.insertionPosition) &&
          n.baRelation == "splitBefore"
        ) {
          const n = e.insertionPosition.path.slice();
          n.push(0);
          const i = new wf(e.insertionPosition.root, n);
          const o = new nk(t.insertionPosition, 1, i, 0);
          return [t, o];
        }
        if (
          t.splitPosition.hasSameParentAs(e.splitPosition) &&
          t.splitPosition.offset < e.splitPosition.offset
        ) {
          t.howMany -= e.howMany;
        }
        t.splitPosition = t.splitPosition._getTransformedBySplitOperation(e);
        t.insertionPosition = hk.getInsertionPosition(t.splitPosition);
        return [t];
      });
      function Ek(t, e) {
        return (
          t.targetPosition._getTransformedByDeletion(
            e.sourcePosition,
            e.howMany
          ) === null
        );
      }
      function Dk(t, e) {
        const n = [];
        for (let i = 0; i < t.length; i++) {
          const o = t[i];
          const r = new nk(o.start, o.end.offset - o.start.offset, e, 0);
          n.push(r);
          for (let e = i + 1; e < t.length; e++) {
            t[e] = t[e]._getTransformedByMove(
              r.sourcePosition,
              r.targetPosition,
              r.howMany
            )[0];
          }
          e = e._getTransformedByMove(
            r.sourcePosition,
            r.targetPosition,
            r.howMany
          );
        }
        return n;
      }
      class Sk extends q(wf) {
        constructor(t, e, n = "toNone") {
          super(t, e, n);
          if (!this.root.is("rootElement")) {
            throw new M("model-liveposition-root-not-rootelement", t);
          }
          Tk.call(this);
        }
        detach() {
          this.stopListening();
        }
        toPosition() {
          return new wf(this.root, this.path.slice(), this.stickiness);
        }
        static fromPosition(t, e) {
          return new this(t.root, t.path.slice(), e ? e : t.stickiness);
        }
      }
      Sk.prototype.is = function (t) {
        return (
          t === "livePosition" ||
          t === "model:livePosition" ||
          t == "position" ||
          t === "model:position"
        );
      };
      function Tk() {
        this.listenTo(
          this.root.document.model,
          "applyOperation",
          (t, e) => {
            const n = e[0];
            if (!n.isDocumentOperation) {
              return;
            }
            Ik.call(this, n);
          },
          { priority: "low" }
        );
      }
      function Ik(t) {
        const e = this.getTransformedByOperation(t);
        if (!this.isEqual(e)) {
          const t = this.toPosition();
          this.path = e.path;
          this.root = e.root;
          this.fire("change", t);
        }
      }
      class Mk {
        constructor(t = {}) {
          if (typeof t === "string") {
            t = t === "transparent" ? { isUndoable: false } : {};
            B("batch-constructor-deprecated-string-type");
          }
          const {
            isUndoable: e = true,
            isLocal: n = true,
            isUndo: i = false,
            isTyping: o = false,
          } = t;
          this.operations = [];
          this.isUndoable = e;
          this.isLocal = n;
          this.isUndo = i;
          this.isTyping = o;
        }
        get type() {
          B("batch-type-deprecated");
          return "default";
        }
        get baseVersion() {
          for (const t of this.operations) {
            if (t.baseVersion !== null) {
              return t.baseVersion;
            }
          }
          return null;
        }
        addOperation(t) {
          t.batch = this;
          this.operations.push(t);
          return t;
        }
      }
      class Bk {
        constructor(t) {
          this._markerCollection = t;
          this._changesInElement = new Map();
          this._elementSnapshots = new Map();
          this._changedMarkers = new Map();
          this._changeCount = 0;
          this._cachedChanges = null;
          this._cachedChangesWithGraveyard = null;
          this._refreshedItems = new Set();
        }
        get isEmpty() {
          return (
            this._changesInElement.size == 0 && this._changedMarkers.size == 0
          );
        }
        bufferOperation(t) {
          const e = t;
          switch (e.type) {
            case "insert": {
              if (this._isInInsertedElement(e.position.parent)) {
                return;
              }
              this._markInsert(
                e.position.parent,
                e.position.offset,
                e.nodes.maxOffset
              );
              break;
            }
            case "addAttribute":
            case "removeAttribute":
            case "changeAttribute": {
              for (const t of e.range.getItems({ shallow: true })) {
                if (this._isInInsertedElement(t.parent)) {
                  continue;
                }
                this._markAttribute(t);
              }
              break;
            }
            case "remove":
            case "move":
            case "reinsert": {
              if (
                e.sourcePosition.isEqual(e.targetPosition) ||
                e.sourcePosition
                  .getShiftedBy(e.howMany)
                  .isEqual(e.targetPosition)
              ) {
                return;
              }
              const t = this._isInInsertedElement(e.sourcePosition.parent);
              const n = this._isInInsertedElement(e.targetPosition.parent);
              if (!t) {
                this._markRemove(
                  e.sourcePosition.parent,
                  e.sourcePosition.offset,
                  e.howMany
                );
              }
              if (!n) {
                this._markInsert(
                  e.targetPosition.parent,
                  e.getMovedRangeStart().offset,
                  e.howMany
                );
              }
              break;
            }
            case "rename": {
              if (this._isInInsertedElement(e.position.parent)) {
                return;
              }
              this._markRemove(e.position.parent, e.position.offset, 1);
              this._markInsert(e.position.parent, e.position.offset, 1);
              const t = Ef._createFromPositionAndShift(e.position, 1);
              for (const e of this._markerCollection.getMarkersIntersectingRange(
                t
              )) {
                const t = e.getData();
                this.bufferMarkerChange(e.name, t, t);
              }
              break;
            }
            case "split": {
              const t = e.splitPosition.parent;
              if (!this._isInInsertedElement(t)) {
                this._markRemove(t, e.splitPosition.offset, e.howMany);
              }
              if (!this._isInInsertedElement(e.insertionPosition.parent)) {
                this._markInsert(
                  e.insertionPosition.parent,
                  e.insertionPosition.offset,
                  1
                );
              }
              if (e.graveyardPosition) {
                this._markRemove(
                  e.graveyardPosition.parent,
                  e.graveyardPosition.offset,
                  1
                );
              }
              break;
            }
            case "merge": {
              const t = e.sourcePosition.parent;
              if (!this._isInInsertedElement(t.parent)) {
                this._markRemove(t.parent, t.startOffset, 1);
              }
              const n = e.graveyardPosition.parent;
              this._markInsert(n, e.graveyardPosition.offset, 1);
              const i = e.targetPosition.parent;
              if (!this._isInInsertedElement(i)) {
                this._markInsert(i, e.targetPosition.offset, t.maxOffset);
              }
              break;
            }
          }
          this._cachedChanges = null;
        }
        bufferMarkerChange(t, e, n) {
          const i = this._changedMarkers.get(t);
          if (!i) {
            this._changedMarkers.set(t, { newMarkerData: n, oldMarkerData: e });
          } else {
            i.newMarkerData = n;
            if (i.oldMarkerData.range == null && n.range == null) {
              this._changedMarkers.delete(t);
            }
          }
        }
        getMarkersToRemove() {
          const t = [];
          for (const [e, n] of this._changedMarkers) {
            if (n.oldMarkerData.range != null) {
              t.push({ name: e, range: n.oldMarkerData.range });
            }
          }
          return t;
        }
        getMarkersToAdd() {
          const t = [];
          for (const [e, n] of this._changedMarkers) {
            if (n.newMarkerData.range != null) {
              t.push({ name: e, range: n.newMarkerData.range });
            }
          }
          return t;
        }
        getChangedMarkers() {
          return Array.from(this._changedMarkers).map(([t, e]) => ({
            name: t,
            data: {
              oldRange: e.oldMarkerData.range,
              newRange: e.newMarkerData.range,
            },
          }));
        }
        hasDataChanges() {
          if (this._changesInElement.size > 0) {
            return true;
          }
          for (const {
            newMarkerData: t,
            oldMarkerData: e,
          } of this._changedMarkers.values()) {
            if (t.affectsData !== e.affectsData) {
              return true;
            }
            if (t.affectsData) {
              const n = t.range && !e.range;
              const i = !t.range && e.range;
              const o = t.range && e.range && !t.range.isEqual(e.range);
              if (n || i || o) {
                return true;
              }
            }
          }
          return false;
        }
        getChanges(t = {}) {
          if (this._cachedChanges) {
            if (t.includeChangesInGraveyard) {
              return this._cachedChangesWithGraveyard.slice();
            } else {
              return this._cachedChanges.slice();
            }
          }
          let e = [];
          for (const t of this._changesInElement.keys()) {
            const n = this._changesInElement.get(t).sort((t, e) => {
              if (t.offset === e.offset) {
                if (t.type != e.type) {
                  return t.type == "remove" ? -1 : 1;
                }
                return 0;
              }
              return t.offset < e.offset ? -1 : 1;
            });
            const i = this._elementSnapshots.get(t);
            const o = Lk(t.getChildren());
            const r = Nk(i.length, n);
            let s = 0;
            let a = 0;
            for (const n of r) {
              if (n === "i") {
                e.push(this._getInsertDiff(t, s, o[s]));
                s++;
              } else if (n === "r") {
                e.push(this._getRemoveDiff(t, s, i[a]));
                a++;
              } else if (n === "a") {
                const n = o[s].attributes;
                const r = i[a].attributes;
                let c;
                if (o[s].name == "$text") {
                  c = new Ef(wf._createAt(t, s), wf._createAt(t, s + 1));
                } else {
                  const e = t.offsetToIndex(s);
                  c = new Ef(
                    wf._createAt(t, s),
                    wf._createAt(t.getChild(e), 0)
                  );
                }
                e.push(...this._getAttributesDiff(c, r, n));
                s++;
                a++;
              } else {
                s++;
                a++;
              }
            }
          }
          e.sort((t, e) => {
            if (t.position.root != e.position.root) {
              return t.position.root.rootName < e.position.root.rootName
                ? -1
                : 1;
            }
            if (t.position.isEqual(e.position)) {
              return t.changeCount - e.changeCount;
            }
            return t.position.isBefore(e.position) ? -1 : 1;
          });
          for (let t = 1, n = 0; t < e.length; t++) {
            const i = e[n];
            const o = e[t];
            const r =
              i.type == "remove" &&
              o.type == "remove" &&
              i.name == "$text" &&
              o.name == "$text" &&
              i.position.isEqual(o.position);
            const s =
              i.type == "insert" &&
              o.type == "insert" &&
              i.name == "$text" &&
              o.name == "$text" &&
              i.position.parent == o.position.parent &&
              i.position.offset + i.length == o.position.offset;
            const a =
              i.type == "attribute" &&
              o.type == "attribute" &&
              i.position.parent == o.position.parent &&
              i.range.isFlat &&
              o.range.isFlat &&
              i.position.offset + i.length == o.position.offset &&
              i.attributeKey == o.attributeKey &&
              i.attributeOldValue == o.attributeOldValue &&
              i.attributeNewValue == o.attributeNewValue;
            if (r || s || a) {
              i.length++;
              if (a) {
                i.range.end = i.range.end.getShiftedBy(1);
              }
              e[t] = null;
            } else {
              n = t;
            }
          }
          e = e.filter((t) => t);
          for (const t of e) {
            delete t.changeCount;
            if (t.type == "attribute") {
              delete t.position;
              delete t.length;
            }
          }
          this._changeCount = 0;
          this._cachedChangesWithGraveyard = e;
          this._cachedChanges = e.filter(zk);
          if (t.includeChangesInGraveyard) {
            return this._cachedChangesWithGraveyard.slice();
          } else {
            return this._cachedChanges.slice();
          }
        }
        getRefreshedItems() {
          return new Set(this._refreshedItems);
        }
        reset() {
          this._changesInElement.clear();
          this._elementSnapshots.clear();
          this._changedMarkers.clear();
          this._refreshedItems = new Set();
          this._cachedChanges = null;
        }
        _refreshItem(t) {
          if (this._isInInsertedElement(t.parent)) {
            return;
          }
          this._markRemove(t.parent, t.startOffset, t.offsetSize);
          this._markInsert(t.parent, t.startOffset, t.offsetSize);
          this._refreshedItems.add(t);
          const e = Ef._createOn(t);
          for (const t of this._markerCollection.getMarkersIntersectingRange(
            e
          )) {
            const e = t.getData();
            this.bufferMarkerChange(t.name, e, e);
          }
          this._cachedChanges = null;
        }
        _markInsert(t, e, n) {
          const i = {
            type: "insert",
            offset: e,
            howMany: n,
            count: this._changeCount++,
          };
          this._markChange(t, i);
        }
        _markRemove(t, e, n) {
          const i = {
            type: "remove",
            offset: e,
            howMany: n,
            count: this._changeCount++,
          };
          this._markChange(t, i);
          this._removeAllNestedChanges(t, e, n);
        }
        _markAttribute(t) {
          const e = {
            type: "attribute",
            offset: t.startOffset,
            howMany: t.offsetSize,
            count: this._changeCount++,
          };
          this._markChange(t.parent, e);
        }
        _markChange(t, e) {
          this._makeSnapshot(t);
          const n = this._getChangesForElement(t);
          this._handleChange(e, n);
          n.push(e);
          for (let t = 0; t < n.length; t++) {
            if (n[t].howMany < 1) {
              n.splice(t, 1);
              t--;
            }
          }
        }
        _getChangesForElement(t) {
          let e;
          if (this._changesInElement.has(t)) {
            e = this._changesInElement.get(t);
          } else {
            e = [];
            this._changesInElement.set(t, e);
          }
          return e;
        }
        _makeSnapshot(t) {
          if (!this._elementSnapshots.has(t)) {
            this._elementSnapshots.set(t, Lk(t.getChildren()));
          }
        }
        _handleChange(t, e) {
          t.nodesToHandle = t.howMany;
          for (const n of e) {
            const i = t.offset + t.howMany;
            const o = n.offset + n.howMany;
            if (t.type == "insert") {
              if (n.type == "insert") {
                if (t.offset <= n.offset) {
                  n.offset += t.howMany;
                } else if (t.offset < o) {
                  n.howMany += t.nodesToHandle;
                  t.nodesToHandle = 0;
                }
              }
              if (n.type == "remove") {
                if (t.offset < n.offset) {
                  n.offset += t.howMany;
                }
              }
              if (n.type == "attribute") {
                if (t.offset <= n.offset) {
                  n.offset += t.howMany;
                } else if (t.offset < o) {
                  const o = n.howMany;
                  n.howMany = t.offset - n.offset;
                  e.unshift({
                    type: "attribute",
                    offset: i,
                    howMany: o - n.howMany,
                    count: this._changeCount++,
                  });
                }
              }
            }
            if (t.type == "remove") {
              if (n.type == "insert") {
                if (i <= n.offset) {
                  n.offset -= t.howMany;
                } else if (i <= o) {
                  if (t.offset < n.offset) {
                    const e = i - n.offset;
                    n.offset = t.offset;
                    n.howMany -= e;
                    t.nodesToHandle -= e;
                  } else {
                    n.howMany -= t.nodesToHandle;
                    t.nodesToHandle = 0;
                  }
                } else {
                  if (t.offset <= n.offset) {
                    t.nodesToHandle -= n.howMany;
                    n.howMany = 0;
                  } else if (t.offset < o) {
                    const e = o - t.offset;
                    n.howMany -= e;
                    t.nodesToHandle -= e;
                  }
                }
              }
              if (n.type == "remove") {
                if (i <= n.offset) {
                  n.offset -= t.howMany;
                } else if (t.offset < n.offset) {
                  t.nodesToHandle += n.howMany;
                  n.howMany = 0;
                }
              }
              if (n.type == "attribute") {
                if (i <= n.offset) {
                  n.offset -= t.howMany;
                } else if (t.offset < n.offset) {
                  const e = i - n.offset;
                  n.offset = t.offset;
                  n.howMany -= e;
                } else if (t.offset < o) {
                  if (i <= o) {
                    const i = n.howMany;
                    n.howMany = t.offset - n.offset;
                    const o = i - n.howMany - t.nodesToHandle;
                    e.unshift({
                      type: "attribute",
                      offset: t.offset,
                      howMany: o,
                      count: this._changeCount++,
                    });
                  } else {
                    n.howMany -= o - t.offset;
                  }
                }
              }
            }
            if (t.type == "attribute") {
              if (n.type == "insert") {
                if (t.offset < n.offset && i > n.offset) {
                  if (i > o) {
                    const t = {
                      type: "attribute",
                      offset: o,
                      howMany: i - o,
                      count: this._changeCount++,
                    };
                    this._handleChange(t, e);
                    e.push(t);
                  }
                  t.nodesToHandle = n.offset - t.offset;
                  t.howMany = t.nodesToHandle;
                } else if (t.offset >= n.offset && t.offset < o) {
                  if (i > o) {
                    t.nodesToHandle = i - o;
                    t.offset = o;
                  } else {
                    t.nodesToHandle = 0;
                  }
                }
              }
              if (n.type == "remove") {
                if (t.offset < n.offset && i > n.offset) {
                  const o = {
                    type: "attribute",
                    offset: n.offset,
                    howMany: i - n.offset,
                    count: this._changeCount++,
                  };
                  this._handleChange(o, e);
                  e.push(o);
                  t.nodesToHandle = n.offset - t.offset;
                  t.howMany = t.nodesToHandle;
                }
              }
              if (n.type == "attribute") {
                if (t.offset >= n.offset && i <= o) {
                  t.nodesToHandle = 0;
                  t.howMany = 0;
                  t.offset = 0;
                } else if (t.offset <= n.offset && i >= o) {
                  n.howMany = 0;
                }
              }
            }
          }
          t.howMany = t.nodesToHandle;
          delete t.nodesToHandle;
        }
        _getInsertDiff(t, e, n) {
          return {
            type: "insert",
            position: wf._createAt(t, e),
            name: n.name,
            attributes: new Map(n.attributes),
            length: 1,
            changeCount: this._changeCount++,
          };
        }
        _getRemoveDiff(t, e, n) {
          return {
            type: "remove",
            position: wf._createAt(t, e),
            name: n.name,
            attributes: new Map(n.attributes),
            length: 1,
            changeCount: this._changeCount++,
          };
        }
        _getAttributesDiff(t, e, n) {
          const i = [];
          n = new Map(n);
          for (const [o, r] of e) {
            const e = n.has(o) ? n.get(o) : null;
            if (e !== r) {
              i.push({
                type: "attribute",
                position: t.start,
                range: t.clone(),
                length: 1,
                attributeKey: o,
                attributeOldValue: r,
                attributeNewValue: e,
                changeCount: this._changeCount++,
              });
            }
            n.delete(o);
          }
          for (const [e, o] of n) {
            i.push({
              type: "attribute",
              position: t.start,
              range: t.clone(),
              length: 1,
              attributeKey: e,
              attributeOldValue: null,
              attributeNewValue: o,
              changeCount: this._changeCount++,
            });
          }
          return i;
        }
        _isInInsertedElement(t) {
          const e = t.parent;
          if (!e) {
            return false;
          }
          const n = this._changesInElement.get(e);
          const i = t.startOffset;
          if (n) {
            for (const t of n) {
              if (
                t.type == "insert" &&
                i >= t.offset &&
                i < t.offset + t.howMany
              ) {
                return true;
              }
            }
          }
          return this._isInInsertedElement(e);
        }
        _removeAllNestedChanges(t, e, n) {
          const i = new Ef(wf._createAt(t, e), wf._createAt(t, e + n));
          for (const t of i.getItems({ shallow: true })) {
            if (t.is("element")) {
              this._elementSnapshots.delete(t);
              this._changesInElement.delete(t);
              this._removeAllNestedChanges(t, 0, t.maxOffset);
            }
          }
        }
      }
      function Lk(t) {
        const e = [];
        for (const n of t) {
          if (n.is("$text")) {
            for (let t = 0; t < n.data.length; t++) {
              e.push({ name: "$text", attributes: new Map(n.getAttributes()) });
            }
          } else {
            e.push({ name: n.name, attributes: new Map(n.getAttributes()) });
          }
        }
        return e;
      }
      function Nk(t, e) {
        const n = [];
        let i = 0;
        let o = 0;
        for (const t of e) {
          if (t.offset > i) {
            for (let e = 0; e < t.offset - i; e++) {
              n.push("e");
            }
            o += t.offset - i;
          }
          if (t.type == "insert") {
            for (let e = 0; e < t.howMany; e++) {
              n.push("i");
            }
            i = t.offset + t.howMany;
          } else if (t.type == "remove") {
            for (let e = 0; e < t.howMany; e++) {
              n.push("r");
            }
            i = t.offset;
            o += t.howMany;
          } else {
            n.push(..."a".repeat(t.howMany).split(""));
            i = t.offset + t.howMany;
            o += t.howMany;
          }
        }
        if (o < t) {
          for (let e = 0; e < t - o - i; e++) {
            n.push("e");
          }
        }
        return n;
      }
      function zk(t) {
        const e = "position" in t && t.position.root.rootName == "$graveyard";
        const n = "range" in t && t.range.root.rootName == "$graveyard";
        return !e && !n;
      }
      class Pk {
        constructor() {
          this._operations = [];
          this._undoPairs = new Map();
          this._undoneOperations = new Set();
          this._baseVersionToOperationIndex = new Map();
          this._version = 0;
          this._gaps = new Map();
        }
        get version() {
          return this._version;
        }
        set version(t) {
          if (this._operations.length && t > this._version + 1) {
            this._gaps.set(this._version, t);
          }
          this._version = t;
        }
        get lastOperation() {
          return this._operations[this._operations.length - 1];
        }
        addOperation(t) {
          if (t.baseVersion !== this.version) {
            throw new M(
              "model-document-history-addoperation-incorrect-version",
              this,
              { operation: t, historyVersion: this.version }
            );
          }
          this._operations.push(t);
          this._version++;
          this._baseVersionToOperationIndex.set(
            t.baseVersion,
            this._operations.length - 1
          );
        }
        getOperations(t, e = this.version) {
          if (!this._operations.length) {
            return [];
          }
          const n = this._operations[0];
          if (t === undefined) {
            t = n.baseVersion;
          }
          let i = e - 1;
          for (const [e, n] of this._gaps) {
            if (t > e && t < n) {
              t = n;
            }
            if (i > e && i < n) {
              i = e - 1;
            }
          }
          if (i < n.baseVersion || t > this.lastOperation.baseVersion) {
            return [];
          }
          let o = this._baseVersionToOperationIndex.get(t);
          if (o === undefined) {
            o = 0;
          }
          let r = this._baseVersionToOperationIndex.get(i);
          if (r === undefined) {
            r = this._operations.length - 1;
          }
          return this._operations.slice(o, r + 1);
        }
        getOperation(t) {
          const e = this._baseVersionToOperationIndex.get(t);
          if (e === undefined) {
            return;
          }
          return this._operations[e];
        }
        setOperationAsUndone(t, e) {
          this._undoPairs.set(e, t);
          this._undoneOperations.add(t);
        }
        isUndoingOperation(t) {
          return this._undoPairs.has(t);
        }
        isUndoneOperation(t) {
          return this._undoneOperations.has(t);
        }
        getUndoneOperation(t) {
          return this._undoPairs.get(t);
        }
        reset() {
          this._version = 0;
          this._undoPairs = new Map();
          this._operations = [];
          this._undoneOperations = new Set();
          this._gaps = new Map();
          this._baseVersionToOperationIndex = new Map();
        }
      }
      class Rk extends ff {
        constructor(t, e, n = "main") {
          super(e);
          this._document = t;
          this.rootName = n;
        }
        get document() {
          return this._document;
        }
        toJSON() {
          return this.rootName;
        }
      }
      Rk.prototype.is = function (t, e) {
        if (!e) {
          return (
            t === "rootElement" ||
            t === "model:rootElement" ||
            t === "element" ||
            t === "model:element" ||
            t === "node" ||
            t === "model:node"
          );
        }
        return (
          e === this.name &&
          (t === "rootElement" ||
            t === "model:rootElement" ||
            t === "element" ||
            t === "model:element")
        );
      };
      const Ok = "$graveyard";
      class jk extends q() {
        constructor(t) {
          super();
          this.model = t;
          this.history = new Pk();
          this.selection = new Wf(this);
          this.roots = new rl({ idProperty: "rootName" });
          this.differ = new Bk(t.markers);
          this._postFixers = new Set();
          this._hasSelectionChangedFromTheLastChangeBlock = false;
          this.createRoot("$root", Ok);
          this.listenTo(
            t,
            "applyOperation",
            (t, e) => {
              const n = e[0];
              if (n.isDocumentOperation) {
                this.differ.bufferOperation(n);
              }
            },
            { priority: "high" }
          );
          this.listenTo(
            t,
            "applyOperation",
            (t, e) => {
              const n = e[0];
              if (n.isDocumentOperation) {
                this.history.addOperation(n);
              }
            },
            { priority: "low" }
          );
          this.listenTo(this.selection, "change", () => {
            this._hasSelectionChangedFromTheLastChangeBlock = true;
          });
          this.listenTo(t.markers, "update", (t, e, n, i, o) => {
            const r = { ...e.getData(), range: i };
            this.differ.bufferMarkerChange(e.name, o, r);
            if (n === null) {
              e.on("change", (t, n) => {
                const i = e.getData();
                this.differ.bufferMarkerChange(e.name, { ...i, range: n }, i);
              });
            }
          });
        }
        get version() {
          return this.history.version;
        }
        set version(t) {
          this.history.version = t;
        }
        get graveyard() {
          return this.getRoot(Ok);
        }
        createRoot(t = "$root", e = "main") {
          if (this.roots.get(e)) {
            throw new M("model-document-createroot-name-exists", this, {
              name: e,
            });
          }
          const n = new Rk(this, t, e);
          this.roots.add(n);
          return n;
        }
        destroy() {
          this.selection.destroy();
          this.stopListening();
        }
        getRoot(t = "main") {
          return this.roots.get(t);
        }
        getRootNames() {
          return Array.from(this.roots, (t) => t.rootName).filter(
            (t) => t != Ok
          );
        }
        registerPostFixer(t) {
          this._postFixers.add(t);
        }
        toJSON() {
          const t = $l(this);
          t.selection = "[engine.model.DocumentSelection]";
          t.model = "[engine.model.Model]";
          return t;
        }
        _handleChangeBlock(t) {
          if (this._hasDocumentChangedFromTheLastChangeBlock()) {
            this._callPostFixers(t);
            this.selection.refresh();
            if (this.differ.hasDataChanges()) {
              this.fire("change:data", t.batch);
            } else {
              this.fire("change", t.batch);
            }
            this.selection.refresh();
            this.differ.reset();
          }
          this._hasSelectionChangedFromTheLastChangeBlock = false;
        }
        _hasDocumentChangedFromTheLastChangeBlock() {
          return (
            !this.differ.isEmpty ||
            this._hasSelectionChangedFromTheLastChangeBlock
          );
        }
        _getDefaultRoot() {
          for (const t of this.roots) {
            if (t !== this.graveyard) {
              return t;
            }
          }
          return this.graveyard;
        }
        _getDefaultRange() {
          const t = this._getDefaultRoot();
          const e = this.model;
          const n = e.schema;
          const i = e.createPositionFromPath(t, [0]);
          const o = n.getNearestSelectionRange(i);
          return o || e.createRange(i);
        }
        _validateSelectionRange(t) {
          return Fk(t.start) && Fk(t.end);
        }
        _callPostFixers(t) {
          let e = false;
          do {
            for (const n of this._postFixers) {
              this.selection.refresh();
              e = n(t);
              if (e) {
                break;
              }
            }
          } while (e);
        }
      }
      function Fk(t) {
        const e = t.textNode;
        if (e) {
          const n = e.data;
          const i = t.offset - e.startOffset;
          return !pl(n, i) && !bl(n, i);
        }
        return true;
      }
      class Vk extends q() {
        constructor() {
          super();
          this._markers = new Map();
        }
        [Symbol.iterator]() {
          return this._markers.values();
        }
        has(t) {
          const e = t instanceof Hk ? t.name : t;
          return this._markers.has(e);
        }
        get(t) {
          return this._markers.get(t) || null;
        }
        _set(t, e, n = false, i = false) {
          const o = t instanceof Hk ? t.name : t;
          if (o.includes(",")) {
            throw new M("markercollection-incorrect-marker-name", this);
          }
          const r = this._markers.get(o);
          if (r) {
            const t = r.getData();
            const s = r.getRange();
            let a = false;
            if (!s.isEqual(e)) {
              r._attachLiveRange(Ff.fromRange(e));
              a = true;
            }
            if (n != r.managedUsingOperations) {
              r._managedUsingOperations = n;
              a = true;
            }
            if (typeof i === "boolean" && i != r.affectsData) {
              r._affectsData = i;
              a = true;
            }
            if (a) {
              this.fire(\`update:\${o}\`, r, s, e, t);
            }
            return r;
          }
          const s = Ff.fromRange(e);
          const a = new Hk(o, s, n, i);
          this._markers.set(o, a);
          this.fire(\`update:\${o}\`, a, null, e, { ...a.getData(), range: null });
          return a;
        }
        _remove(t) {
          const e = t instanceof Hk ? t.name : t;
          const n = this._markers.get(e);
          if (n) {
            this._markers.delete(e);
            this.fire(\`update:\${e}\`, n, n.getRange(), null, n.getData());
            this._destroyMarker(n);
            return true;
          }
          return false;
        }
        _refresh(t) {
          const e = t instanceof Hk ? t.name : t;
          const n = this._markers.get(e);
          if (!n) {
            throw new M("markercollection-refresh-marker-not-exists", this);
          }
          const i = n.getRange();
          this.fire(\`update:\${e}\`, n, i, i, n.getData());
        }
        *getMarkersAtPosition(t) {
          for (const e of this) {
            if (e.getRange().containsPosition(t)) {
              yield e;
            }
          }
        }
        *getMarkersIntersectingRange(t) {
          for (const e of this) {
            if (e.getRange().getIntersection(t) !== null) {
              yield e;
            }
          }
        }
        destroy() {
          for (const t of this._markers.values()) {
            this._destroyMarker(t);
          }
          this._markers = null;
          this.stopListening();
        }
        *getMarkersGroup(t) {
          for (const e of this._markers.values()) {
            if (e.name.startsWith(t + ":")) {
              yield e;
            }
          }
        }
        _destroyMarker(t) {
          t.stopListening();
          t._detachLiveRange();
        }
      }
      class Hk extends q(df) {
        constructor(t, e, n, i) {
          super();
          this.name = t;
          this._liveRange = this._attachLiveRange(e);
          this._managedUsingOperations = n;
          this._affectsData = i;
        }
        get managedUsingOperations() {
          if (!this._liveRange) {
            throw new M("marker-destroyed", this);
          }
          return this._managedUsingOperations;
        }
        get affectsData() {
          if (!this._liveRange) {
            throw new M("marker-destroyed", this);
          }
          return this._affectsData;
        }
        getData() {
          return {
            range: this.getRange(),
            affectsData: this.affectsData,
            managedUsingOperations: this.managedUsingOperations,
          };
        }
        getStart() {
          if (!this._liveRange) {
            throw new M("marker-destroyed", this);
          }
          return this._liveRange.start.clone();
        }
        getEnd() {
          if (!this._liveRange) {
            throw new M("marker-destroyed", this);
          }
          return this._liveRange.end.clone();
        }
        getRange() {
          if (!this._liveRange) {
            throw new M("marker-destroyed", this);
          }
          return this._liveRange.toRange();
        }
        _attachLiveRange(t) {
          if (this._liveRange) {
            this._detachLiveRange();
          }
          t.delegate("change:range").to(this);
          t.delegate("change:content").to(this);
          this._liveRange = t;
          return t;
        }
        _detachLiveRange() {
          this._liveRange.stopDelegating("change:range", this);
          this._liveRange.stopDelegating("change:content", this);
          this._liveRange.detach();
          this._liveRange = null;
        }
      }
      Hk.prototype.is = function (t) {
        return t === "marker" || t === "model:marker";
      };
      class Uk extends $b {
        constructor(t, e) {
          super(null);
          this.sourcePosition = t.clone();
          this.howMany = e;
        }
        get type() {
          return "detach";
        }
        toJSON() {
          const t = super.toJSON();
          t.sourcePosition = this.sourcePosition.toJSON();
          return t;
        }
        _validate() {
          if (this.sourcePosition.root.document) {
            throw new M("detach-operation-on-document-node", this);
          }
        }
        _execute() {
          Yb(Ef._createFromPositionAndShift(this.sourcePosition, this.howMany));
        }
        static get className() {
          return "DetachOperation";
        }
      }
      class qk extends df {
        constructor(t) {
          super();
          this.markers = new Map();
          this._children = new hf();
          if (t) {
            this._insertChild(0, t);
          }
        }
        [Symbol.iterator]() {
          return this.getChildren();
        }
        get childCount() {
          return this._children.length;
        }
        get maxOffset() {
          return this._children.maxOffset;
        }
        get isEmpty() {
          return this.childCount === 0;
        }
        get nextSibling() {
          return null;
        }
        get previousSibling() {
          return null;
        }
        get root() {
          return this;
        }
        get parent() {
          return null;
        }
        get document() {
          return null;
        }
        getAncestors() {
          return [];
        }
        getChild(t) {
          return this._children.getNode(t);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        getChildIndex(t) {
          return this._children.getNodeIndex(t);
        }
        getChildStartOffset(t) {
          return this._children.getNodeStartOffset(t);
        }
        getPath() {
          return [];
        }
        getNodeByPath(t) {
          let e = this;
          for (const n of t) {
            e = e.getChild(e.offsetToIndex(n));
          }
          return e;
        }
        offsetToIndex(t) {
          return this._children.offsetToIndex(t);
        }
        toJSON() {
          const t = [];
          for (const e of this._children) {
            t.push(e.toJSON());
          }
          return t;
        }
        static fromJSON(t) {
          const e = [];
          for (const n of t) {
            if (n.name) {
              e.push(ff.fromJSON(n));
            } else {
              e.push(mf.fromJSON(n));
            }
          }
          return new qk(e);
        }
        _appendChild(t) {
          this._insertChild(this.childCount, t);
        }
        _insertChild(t, e) {
          const n = Wk(e);
          for (const t of n) {
            if (t.parent !== null) {
              t._remove();
            }
            t.parent = this;
          }
          this._children._insertNodes(t, n);
        }
        _removeChildren(t, e = 1) {
          const n = this._children._removeNodes(t, e);
          for (const t of n) {
            t.parent = null;
          }
          return n;
        }
      }
      qk.prototype.is = function (t) {
        return t === "documentFragment" || t === "model:documentFragment";
      };
      function Wk(t) {
        if (typeof t == "string") {
          return [new mf(t)];
        }
        if (!yt(t)) {
          t = [t];
        }
        return Array.from(t).map((t) => {
          if (typeof t == "string") {
            return new mf(t);
          }
          if (t instanceof gf) {
            return new mf(t.data, t.getAttributes());
          }
          return t;
        });
      }
      class Gk {
        constructor(t, e) {
          this.model = t;
          this.batch = e;
        }
        createText(t, e) {
          return new mf(t, e);
        }
        createElement(t, e) {
          return new ff(t, e);
        }
        createDocumentFragment() {
          return new qk();
        }
        cloneElement(t, e = true) {
          return t._clone(e);
        }
        insert(t, e, n = 0) {
          this._assertWriterUsedCorrectly();
          if (t instanceof mf && t.data == "") {
            return;
          }
          const i = wf._createAt(e, n);
          if (t.parent) {
            if (Qk(t.root, i.root)) {
              this.move(Ef._createOn(t), i);
              return;
            } else {
              if (t.root.document) {
                throw new M("model-writer-insert-forbidden-move", this);
              } else {
                this.remove(t);
              }
            }
          }
          const o = i.root.document ? i.root.document.version : null;
          const r = new ik(i, t, o);
          if (t instanceof mf) {
            r.shouldReceiveAttributes = true;
          }
          this.batch.addOperation(r);
          this.model.applyOperation(r);
          if (t instanceof qk) {
            for (const [e, n] of t.markers) {
              const t = wf._createAt(n.root, 0);
              const o = new Ef(
                n.start._getCombined(t, i),
                n.end._getCombined(t, i)
              );
              const r = { range: o, usingOperation: true, affectsData: true };
              if (this.model.markers.has(e)) {
                this.updateMarker(e, r);
              } else {
                this.addMarker(e, r);
              }
            }
          }
        }
        insertText(t, e, n, i) {
          if (e instanceof qk || e instanceof ff || e instanceof wf) {
            this.insert(this.createText(t), e, n);
          } else {
            this.insert(this.createText(t, e), n, i);
          }
        }
        insertElement(t, e, n, i) {
          if (e instanceof qk || e instanceof ff || e instanceof wf) {
            this.insert(this.createElement(t), e, n);
          } else {
            this.insert(this.createElement(t, e), n, i);
          }
        }
        append(t, e) {
          this.insert(t, e, "end");
        }
        appendText(t, e, n) {
          if (e instanceof qk || e instanceof ff) {
            this.insert(this.createText(t), e, "end");
          } else {
            this.insert(this.createText(t, e), n, "end");
          }
        }
        appendElement(t, e, n) {
          if (e instanceof qk || e instanceof ff) {
            this.insert(this.createElement(t), e, "end");
          } else {
            this.insert(this.createElement(t, e), n, "end");
          }
        }
        setAttribute(t, e, n) {
          this._assertWriterUsedCorrectly();
          if (n instanceof Ef) {
            const i = n.getMinimalFlatRanges();
            for (const n of i) {
              $k(this, t, e, n);
            }
          } else {
            Kk(this, t, e, n);
          }
        }
        setAttributes(t, e) {
          for (const [n, i] of dl(t)) {
            this.setAttribute(n, i, e);
          }
        }
        removeAttribute(t, e) {
          this._assertWriterUsedCorrectly();
          if (e instanceof Ef) {
            const n = e.getMinimalFlatRanges();
            for (const e of n) {
              $k(this, t, null, e);
            }
          } else {
            Kk(this, t, null, e);
          }
        }
        clearAttributes(t) {
          this._assertWriterUsedCorrectly();
          const e = (t) => {
            for (const e of t.getAttributeKeys()) {
              this.removeAttribute(e, t);
            }
          };
          if (!(t instanceof Ef)) {
            e(t);
          } else {
            for (const n of t.getItems()) {
              e(n);
            }
          }
        }
        move(t, e, n) {
          this._assertWriterUsedCorrectly();
          if (!(t instanceof Ef)) {
            throw new M("writer-move-invalid-range", this);
          }
          if (!t.isFlat) {
            throw new M("writer-move-range-not-flat", this);
          }
          const i = wf._createAt(e, n);
          if (i.isEqual(t.start)) {
            return;
          }
          this._addOperationForAffectedMarkers("move", t);
          if (!Qk(t.root, i.root)) {
            throw new M("writer-move-different-document", this);
          }
          const o = t.root.document ? t.root.document.version : null;
          const r = new nk(t.start, t.end.offset - t.start.offset, i, o);
          this.batch.addOperation(r);
          this.model.applyOperation(r);
        }
        remove(t) {
          this._assertWriterUsedCorrectly();
          const e = t instanceof Ef ? t : Ef._createOn(t);
          const n = e.getMinimalFlatRanges().reverse();
          for (const t of n) {
            this._addOperationForAffectedMarkers("move", t);
            Zk(t.start, t.end.offset - t.start.offset, this.batch, this.model);
          }
        }
        merge(t) {
          this._assertWriterUsedCorrectly();
          const e = t.nodeBefore;
          const n = t.nodeAfter;
          this._addOperationForAffectedMarkers("merge", t);
          if (!(e instanceof ff)) {
            throw new M("writer-merge-no-element-before", this);
          }
          if (!(n instanceof ff)) {
            throw new M("writer-merge-no-element-after", this);
          }
          if (!t.root.document) {
            this._mergeDetached(t);
          } else {
            this._merge(t);
          }
        }
        createPositionFromPath(t, e, n) {
          return this.model.createPositionFromPath(t, e, n);
        }
        createPositionAt(t, e) {
          return this.model.createPositionAt(t, e);
        }
        createPositionAfter(t) {
          return this.model.createPositionAfter(t);
        }
        createPositionBefore(t) {
          return this.model.createPositionBefore(t);
        }
        createRange(t, e) {
          return this.model.createRange(t, e);
        }
        createRangeIn(t) {
          return this.model.createRangeIn(t);
        }
        createRangeOn(t) {
          return this.model.createRangeOn(t);
        }
        createSelection(...t) {
          return this.model.createSelection(...t);
        }
        _mergeDetached(t) {
          const e = t.nodeBefore;
          const n = t.nodeAfter;
          this.move(Ef._createIn(n), wf._createAt(e, "end"));
          this.remove(n);
        }
        _merge(t) {
          const e = wf._createAt(t.nodeBefore, "end");
          const n = wf._createAt(t.nodeAfter, 0);
          const i = t.root.document.graveyard;
          const o = new wf(i, [0]);
          const r = t.root.document.version;
          const s = new uk(n, t.nodeAfter.maxOffset, e, o, r);
          this.batch.addOperation(s);
          this.model.applyOperation(s);
        }
        rename(t, e) {
          this._assertWriterUsedCorrectly();
          if (!(t instanceof ff)) {
            throw new M("writer-rename-not-element-instance", this);
          }
          const n = t.root.document ? t.root.document.version : null;
          const i = new lk(wf._createBefore(t), t.name, e, n);
          this.batch.addOperation(i);
          this.model.applyOperation(i);
        }
        split(t, e) {
          this._assertWriterUsedCorrectly();
          let n = t.parent;
          if (!n.parent) {
            throw new M("writer-split-element-no-parent", this);
          }
          if (!e) {
            e = n.parent;
          }
          if (!t.parent.getAncestors({ includeSelf: true }).includes(e)) {
            throw new M("writer-split-invalid-limit-element", this);
          }
          let i;
          let o;
          do {
            const e = n.root.document ? n.root.document.version : null;
            const r = n.maxOffset - t.offset;
            const s = hk.getInsertionPosition(t);
            const a = new hk(t, r, s, null, e);
            this.batch.addOperation(a);
            this.model.applyOperation(a);
            if (!i && !o) {
              i = n;
              o = t.parent.nextSibling;
            }
            t = this.createPositionAfter(t.parent);
            n = t.parent;
          } while (n !== e);
          return {
            position: t,
            range: new Ef(wf._createAt(i, "end"), wf._createAt(o, 0)),
          };
        }
        wrap(t, e) {
          this._assertWriterUsedCorrectly();
          if (!t.isFlat) {
            throw new M("writer-wrap-range-not-flat", this);
          }
          const n = e instanceof ff ? e : new ff(e);
          if (n.childCount > 0) {
            throw new M("writer-wrap-element-not-empty", this);
          }
          if (n.parent !== null) {
            throw new M("writer-wrap-element-attached", this);
          }
          this.insert(n, t.start);
          const i = new Ef(t.start.getShiftedBy(1), t.end.getShiftedBy(1));
          this.move(i, wf._createAt(n, 0));
        }
        unwrap(t) {
          this._assertWriterUsedCorrectly();
          if (t.parent === null) {
            throw new M("writer-unwrap-element-no-parent", this);
          }
          this.move(Ef._createIn(t), this.createPositionAfter(t));
          this.remove(t);
        }
        addMarker(t, e) {
          this._assertWriterUsedCorrectly();
          if (!e || typeof e.usingOperation != "boolean") {
            throw new M("writer-addmarker-no-usingoperation", this);
          }
          const n = e.usingOperation;
          const i = e.range;
          const o = e.affectsData === undefined ? false : e.affectsData;
          if (this.model.markers.has(t)) {
            throw new M("writer-addmarker-marker-exists", this);
          }
          if (!i) {
            throw new M("writer-addmarker-no-range", this);
          }
          if (!n) {
            return this.model.markers._set(t, i, n, o);
          }
          Yk(this, t, null, i, o);
          return this.model.markers.get(t);
        }
        updateMarker(t, e) {
          this._assertWriterUsedCorrectly();
          const n = typeof t == "string" ? t : t.name;
          const i = this.model.markers.get(n);
          if (!i) {
            throw new M("writer-updatemarker-marker-not-exists", this);
          }
          if (!e) {
            B("writer-updatemarker-reconvert-using-editingcontroller", {
              markerName: n,
            });
            this.model.markers._refresh(i);
            return;
          }
          const o = typeof e.usingOperation == "boolean";
          const r = typeof e.affectsData == "boolean";
          const s = r ? e.affectsData : i.affectsData;
          if (!o && !e.range && !r) {
            throw new M("writer-updatemarker-wrong-options", this);
          }
          const a = i.getRange();
          const c = e.range ? e.range : a;
          if (o && e.usingOperation !== i.managedUsingOperations) {
            if (e.usingOperation) {
              Yk(this, n, null, c, s);
            } else {
              Yk(this, n, a, null, s);
              this.model.markers._set(n, c, undefined, s);
            }
            return;
          }
          if (i.managedUsingOperations) {
            Yk(this, n, a, c, s);
          } else {
            this.model.markers._set(n, c, undefined, s);
          }
        }
        removeMarker(t) {
          this._assertWriterUsedCorrectly();
          const e = typeof t == "string" ? t : t.name;
          if (!this.model.markers.has(e)) {
            throw new M("writer-removemarker-no-marker", this);
          }
          const n = this.model.markers.get(e);
          if (!n.managedUsingOperations) {
            this.model.markers._remove(e);
            return;
          }
          const i = n.getRange();
          Yk(this, e, i, null, n.affectsData);
        }
        setSelection(...t) {
          this._assertWriterUsedCorrectly();
          this.model.document.selection._setTo(...t);
        }
        setSelectionFocus(t, e) {
          this._assertWriterUsedCorrectly();
          this.model.document.selection._setFocus(t, e);
        }
        setSelectionAttribute(t, e) {
          this._assertWriterUsedCorrectly();
          if (typeof t === "string") {
            this._setSelectionAttribute(t, e);
          } else {
            for (const [e, n] of dl(t)) {
              this._setSelectionAttribute(e, n);
            }
          }
        }
        removeSelectionAttribute(t) {
          this._assertWriterUsedCorrectly();
          if (typeof t === "string") {
            this._removeSelectionAttribute(t);
          } else {
            for (const e of t) {
              this._removeSelectionAttribute(e);
            }
          }
        }
        overrideSelectionGravity() {
          return this.model.document.selection._overrideGravity();
        }
        restoreSelectionGravity(t) {
          this.model.document.selection._restoreGravity(t);
        }
        _setSelectionAttribute(t, e) {
          const n = this.model.document.selection;
          if (n.isCollapsed && n.anchor.parent.isEmpty) {
            const i = Wf._getStoreAttributeKey(t);
            this.setAttribute(i, e, n.anchor.parent);
          }
          n._setAttribute(t, e);
        }
        _removeSelectionAttribute(t) {
          const e = this.model.document.selection;
          if (e.isCollapsed && e.anchor.parent.isEmpty) {
            const n = Wf._getStoreAttributeKey(t);
            this.removeAttribute(n, e.anchor.parent);
          }
          e._removeAttribute(t);
        }
        _assertWriterUsedCorrectly() {
          if (this.model._currentWriter !== this) {
            throw new M("writer-incorrect-use", this);
          }
        }
        _addOperationForAffectedMarkers(t, e) {
          for (const n of this.model.markers) {
            if (!n.managedUsingOperations) {
              continue;
            }
            const i = n.getRange();
            let o = false;
            if (t === "move") {
              const t = e;
              o =
                t.containsPosition(i.start) ||
                t.start.isEqual(i.start) ||
                t.containsPosition(i.end) ||
                t.end.isEqual(i.end);
            } else {
              const t = e;
              const n = t.nodeBefore;
              const r = t.nodeAfter;
              const s = i.start.parent == n && i.start.isAtEnd;
              const a = i.end.parent == r && i.end.offset == 0;
              const c = i.end.nodeAfter == r;
              const l = i.start.nodeAfter == r;
              o = s || a || c || l;
            }
            if (o) {
              this.updateMarker(n.name, { range: i });
            }
          }
        }
      }
      function $k(t, e, n, i) {
        const o = t.model;
        const r = o.document;
        let s = i.start;
        let a;
        let c;
        let l;
        for (const t of i.getWalker({ shallow: true })) {
          l = t.item.getAttribute(e);
          if (a && c != l) {
            if (c != n) {
              d();
            }
            s = a;
          }
          a = t.nextPosition;
          c = l;
        }
        if (a instanceof wf && a != s && c != n) {
          d();
        }
        function d() {
          const i = new Ef(s, a);
          const l = i.root.document ? r.version : null;
          const d = new ak(i, e, c, n, l);
          t.batch.addOperation(d);
          o.applyOperation(d);
        }
      }
      function Kk(t, e, n, i) {
        const o = t.model;
        const r = o.document;
        const s = i.getAttribute(e);
        let a, c;
        if (s != n) {
          const l = i.root === i;
          if (l) {
            const t = i.document ? r.version : null;
            c = new dk(i, e, s, n, t);
          } else {
            a = new Ef(wf._createBefore(i), t.createPositionAfter(i));
            const o = a.root.document ? r.version : null;
            c = new ak(a, e, s, n, o);
          }
          t.batch.addOperation(c);
          o.applyOperation(c);
        }
      }
      function Yk(t, e, n, i, o) {
        const r = t.model;
        const s = r.document;
        const a = new ok(e, n, i, r.markers, !!o, s.version);
        t.batch.addOperation(a);
        r.applyOperation(a);
      }
      function Zk(t, e, n, i) {
        let o;
        if (t.root.document) {
          const n = i.document;
          const r = new wf(n.graveyard, [0]);
          o = new nk(t, e, r, n.version);
        } else {
          o = new Uk(t, e);
        }
        n.addOperation(o);
        i.applyOperation(o);
      }
      function Qk(t, e) {
        if (t === e) {
          return true;
        }
        if (t instanceof Rk && e instanceof Rk) {
          return true;
        }
        return false;
      }
      function Jk(t) {
        t.document.registerPostFixer((e) => Xk(e, t));
      }
      function Xk(t, e) {
        const n = e.document.selection;
        const i = e.schema;
        const o = [];
        let r = false;
        for (const t of n.getRanges()) {
          const e = tw(t, i);
          if (e && !e.isEqual(t)) {
            o.push(e);
            r = true;
          } else {
            o.push(t);
          }
        }
        if (r) {
          t.setSelection(rw(o), { backward: n.isBackward });
        }
        return false;
      }
      function tw(t, e) {
        if (t.isCollapsed) {
          return ew(t, e);
        }
        return nw(t, e);
      }
      function ew(t, e) {
        const n = t.start;
        const i = e.getNearestSelectionRange(n);
        if (!i) {
          const t = n
            .getAncestors()
            .reverse()
            .find((t) => e.isObject(t));
          if (t) {
            return Ef._createOn(t);
          }
          return null;
        }
        if (!i.isCollapsed) {
          return i;
        }
        const o = i.start;
        if (n.isEqual(o)) {
          return null;
        }
        return new Ef(o);
      }
      function nw(t, e) {
        const { start: n, end: i } = t;
        const o = e.checkChild(n, "$text");
        const r = e.checkChild(i, "$text");
        const s = e.getLimitElement(n);
        const a = e.getLimitElement(i);
        if (s === a) {
          if (o && r) {
            return null;
          }
          if (ow(n, i, e)) {
            const t = n.nodeAfter && e.isSelectable(n.nodeAfter);
            const o = t ? null : e.getNearestSelectionRange(n, "forward");
            const r = i.nodeBefore && e.isSelectable(i.nodeBefore);
            const s = r ? null : e.getNearestSelectionRange(i, "backward");
            const a = o ? o.start : n;
            const c = s ? s.end : i;
            return new Ef(a, c);
          }
        }
        const c = s && !s.is("rootElement");
        const l = a && !a.is("rootElement");
        if (c || l) {
          const t =
            n.nodeAfter &&
            i.nodeBefore &&
            n.nodeAfter.parent === i.nodeBefore.parent;
          const o = c && (!t || !sw(n.nodeAfter, e));
          const r = l && (!t || !sw(i.nodeBefore, e));
          let d = n;
          let u = i;
          if (o) {
            d = wf._createBefore(iw(s, e));
          }
          if (r) {
            u = wf._createAfter(iw(a, e));
          }
          return new Ef(d, u);
        }
        return null;
      }
      function iw(t, e) {
        let n = t;
        let i = n;
        while (e.isLimit(i) && i.parent) {
          n = i;
          i = i.parent;
        }
        return n;
      }
      function ow(t, e, n) {
        const i =
          (t.nodeAfter && !n.isLimit(t.nodeAfter)) || n.checkChild(t, "$text");
        const o =
          (e.nodeBefore && !n.isLimit(e.nodeBefore)) ||
          n.checkChild(e, "$text");
        return i || o;
      }
      function rw(t) {
        const e = [...t];
        const n = new Set();
        let i = 1;
        while (i < e.length) {
          const t = e[i];
          const o = e.slice(0, i);
          for (const [r, s] of o.entries()) {
            if (n.has(r)) {
              continue;
            }
            if (t.isEqual(s)) {
              n.add(r);
            } else if (t.isIntersecting(s)) {
              n.add(r);
              n.add(i);
              const o = t.getJoined(s);
              e.push(o);
            }
          }
          i++;
        }
        const o = e.filter((t, e) => !n.has(e));
        return o;
      }
      function sw(t, e) {
        return t && e.isSelectable(t);
      }
      function aw(t, e, n = {}) {
        if (e.isCollapsed) {
          return;
        }
        const i = e.getFirstRange();
        if (i.root.rootName == "$graveyard") {
          return;
        }
        const o = t.schema;
        t.change((t) => {
          if (!n.doNotResetEntireContent && Aw(o, e)) {
            ww(t, e);
            return;
          }
          const r = {};
          if (!n.doNotAutoparagraph) {
            const t = e.getSelectedElement();
            if (t) {
              Object.assign(
                r,
                o.getAttributesWithProperty(t, "copyOnReplace", true)
              );
            }
          }
          const [s, a] = cw(i);
          if (!s.isTouching(a)) {
            t.remove(t.createRange(s, a));
          }
          if (!n.leaveUnmerged) {
            dw(t, s, a);
            o.removeDisallowedAttributes(s.parent.getChildren(), t);
          }
          Cw(t, e, s);
          if (!n.doNotAutoparagraph && pw(o, s)) {
            kw(t, s, e, r);
          }
          s.detach();
          a.detach();
        });
      }
      function cw(t) {
        const e = t.root.document.model;
        const n = t.start;
        let i = t.end;
        if (e.hasContent(t, { ignoreMarkers: true })) {
          const n = lw(i);
          if (n && i.isTouching(e.createPositionAt(n, 0))) {
            const n = e.createSelection(t);
            e.modifySelection(n, { direction: "backward" });
            const o = n.getLastPosition();
            const r = e.createRange(o, i);
            if (!e.hasContent(r, { ignoreMarkers: true })) {
              i = o;
            }
          }
        }
        return [Sk.fromPosition(n, "toPrevious"), Sk.fromPosition(i, "toNext")];
      }
      function lw(t) {
        const e = t.parent;
        const n = e.root.document.model.schema;
        const i = e.getAncestors({ parentFirst: true, includeSelf: true });
        for (const t of i) {
          if (n.isLimit(t)) {
            return null;
          }
          if (n.isBlock(t)) {
            return t;
          }
        }
      }
      function dw(t, e, n) {
        const i = t.model;
        if (!gw(t.model.schema, e, n)) {
          return;
        }
        const [o, r] = fw(e, n);
        if (!o || !r) {
          return;
        }
        if (
          !i.hasContent(o, { ignoreMarkers: true }) &&
          i.hasContent(r, { ignoreMarkers: true })
        ) {
          hw(t, e, n, o.parent);
        } else {
          uw(t, e, n, o.parent);
        }
      }
      function uw(t, e, n, i) {
        const o = e.parent;
        const r = n.parent;
        if (o == i || r == i) {
          return;
        }
        e = t.createPositionAfter(o);
        n = t.createPositionBefore(r);
        if (!n.isEqual(e)) {
          t.insert(r, e);
        }
        t.merge(e);
        while (n.parent.isEmpty) {
          const e = n.parent;
          n = t.createPositionBefore(e);
          t.remove(e);
        }
        if (!gw(t.model.schema, e, n)) {
          return;
        }
        uw(t, e, n, i);
      }
      function hw(t, e, n, i) {
        const o = e.parent;
        const r = n.parent;
        if (o == i || r == i) {
          return;
        }
        e = t.createPositionAfter(o);
        n = t.createPositionBefore(r);
        if (!n.isEqual(e)) {
          t.insert(o, n);
        }
        while (e.parent.isEmpty) {
          const n = e.parent;
          e = t.createPositionBefore(n);
          t.remove(n);
        }
        n = t.createPositionBefore(r);
        mw(t, n);
        if (!gw(t.model.schema, e, n)) {
          return;
        }
        hw(t, e, n, i);
      }
      function mw(t, e) {
        const n = e.nodeBefore;
        const i = e.nodeAfter;
        if (n.name != i.name) {
          t.rename(n, i.name);
        }
        t.clearAttributes(n);
        t.setAttributes(Object.fromEntries(i.getAttributes()), n);
        t.merge(e);
      }
      function gw(t, e, n) {
        const i = e.parent;
        const o = n.parent;
        if (i == o) {
          return false;
        }
        if (t.isLimit(i) || t.isLimit(o)) {
          return false;
        }
        return bw(e, n, t);
      }
      function fw(t, e) {
        const n = t.getAncestors();
        const i = e.getAncestors();
        let o = 0;
        while (n[o] && n[o] == i[o]) {
          o++;
        }
        return [n[o], i[o]];
      }
      function pw(t, e) {
        const n = t.checkChild(e, "$text");
        const i = t.checkChild(e, "paragraph");
        return !n && i;
      }
      function bw(t, e, n) {
        const i = new Ef(t, e);
        for (const t of i.getWalker()) {
          if (n.isLimit(t.item)) {
            return false;
          }
        }
        return true;
      }
      function kw(t, e, n, i = {}) {
        const o = t.createElement("paragraph");
        t.model.schema.setAllowedAttributes(o, i, t);
        t.insert(o, e);
        Cw(t, n, t.createPositionAt(o, 0));
      }
      function ww(t, e) {
        const n = t.model.schema.getLimitElement(e);
        t.remove(t.createRangeIn(n));
        kw(t, t.createPositionAt(n, 0), e);
      }
      function Aw(t, e) {
        const n = t.getLimitElement(e);
        if (!e.containsEntireContent(n)) {
          return false;
        }
        const i = e.getFirstRange();
        if (i.start.parent == i.end.parent) {
          return false;
        }
        return t.checkChild(n, "paragraph");
      }
      function Cw(t, e, n) {
        if (e instanceof Wf) {
          t.setSelection(n);
        } else {
          e.setTo(n);
        }
      }
      function _w(t, e) {
        return t.change((t) => {
          const n = t.createDocumentFragment();
          const i = e.getFirstRange();
          if (!i || i.isCollapsed) {
            return n;
          }
          const o = i.start.root;
          const r = i.start.getCommonPath(i.end);
          const s = o.getNodeByPath(r);
          let a;
          if (i.start.parent == i.end.parent) {
            a = i;
          } else {
            a = t.createRange(
              t.createPositionAt(s, i.start.path[r.length]),
              t.createPositionAt(s, i.end.path[r.length] + 1)
            );
          }
          const c = a.end.offset - a.start.offset;
          for (const e of a.getItems({ shallow: true })) {
            if (e.is("$textProxy")) {
              t.appendText(e.data, e.getAttributes(), n);
            } else {
              t.append(t.cloneElement(e, true), n);
            }
          }
          if (a != i) {
            const e = i._getTransformedByMove(
              a.start,
              t.createPositionAt(n, 0),
              c
            )[0];
            const o = t.createRange(t.createPositionAt(n, 0), e.start);
            const r = t.createRange(e.end, t.createPositionAt(n, "end"));
            vw(r, t);
            vw(o, t);
          }
          return n;
        });
      }
      function vw(t, e) {
        const n = [];
        Array.from(t.getItems({ direction: "backward" }))
          .map((t) => e.createRangeOn(t))
          .filter((e) => {
            const n =
              (e.start.isAfter(t.start) || e.start.isEqual(t.start)) &&
              (e.end.isBefore(t.end) || e.end.isEqual(t.end));
            return n;
          })
          .forEach((t) => {
            n.push(t.start.parent);
            e.remove(t);
          });
        n.forEach((t) => {
          let n = t;
          while (n.parent && n.isEmpty) {
            const t = e.createRangeOn(n);
            n = n.parent;
            e.remove(t);
          }
        });
      }
      function yw(t, e, n, i) {
        return t.change((o) => {
          let r;
          if (!n) {
            r = t.document.selection;
          } else if (n instanceof Nf || n instanceof Wf) {
            r = n;
          } else {
            r = o.createSelection(n, i);
          }
          if (!r.isCollapsed) {
            t.deleteContent(r, { doNotAutoparagraph: true });
          }
          const s = new xw(t, o, r.anchor);
          const a = [];
          let c;
          if (e.is("documentFragment")) {
            if (e.markers.size) {
              const t = [];
              for (const [n, i] of e.markers) {
                const { start: e, end: o } = i;
                const r = e.isEqual(o);
                t.push(
                  { position: e, name: n, isCollapsed: r },
                  { position: o, name: n, isCollapsed: r }
                );
              }
              t.sort(({ position: t }, { position: e }) =>
                t.isBefore(e) ? 1 : -1
              );
              for (const { position: n, name: i, isCollapsed: r } of t) {
                let t = null;
                let s = null;
                const c = n.parent === e && n.isAtStart;
                const l = n.parent === e && n.isAtEnd;
                if (!c && !l) {
                  t = o.createElement("$marker");
                  o.insert(t, n);
                } else if (r) {
                  s = c ? "start" : "end";
                }
                a.push({ name: i, element: t, collapsed: s });
              }
            }
            c = e.getChildren();
          } else {
            c = [e];
          }
          s.handleNodes(c);
          let l = s.getSelectionRange();
          if (e.is("documentFragment") && a.length) {
            const t = l ? Ff.fromRange(l) : null;
            const e = {};
            for (let t = a.length - 1; t >= 0; t--) {
              const { name: n, element: i, collapsed: r } = a[t];
              const c = !e[n];
              if (c) {
                e[n] = [];
              }
              if (i) {
                const t = o.createPositionAt(i, "before");
                e[n].push(t);
                o.remove(i);
              } else {
                const t = s.getAffectedRange();
                if (!t) {
                  if (r) {
                    e[n].push(s.position);
                  }
                  continue;
                }
                if (r) {
                  e[n].push(t[r]);
                } else {
                  e[n].push(c ? t.start : t.end);
                }
              }
            }
            for (const [t, [n, i]] of Object.entries(e)) {
              if (n && i && n.root === i.root) {
                o.addMarker(t, {
                  usingOperation: true,
                  affectsData: true,
                  range: new Ef(n, i),
                });
              }
            }
            if (t) {
              l = t.toRange();
              t.detach();
            }
          }
          if (l) {
            if (r instanceof Wf) {
              o.setSelection(l);
            } else {
              r.setTo(l);
            }
          } else {
          }
          const d = s.getAffectedRange() || t.createRange(r.anchor);
          s.destroy();
          return d;
        });
      }
      class xw {
        constructor(t, e, n) {
          this.model = t;
          this.writer = e;
          this.position = n;
          this.canMergeWith = new Set([this.position.parent]);
          this.schema = t.schema;
          this._documentFragment = e.createDocumentFragment();
          this._documentFragmentPosition = e.createPositionAt(
            this._documentFragment,
            0
          );
          this._firstNode = null;
          this._lastNode = null;
          this._lastAutoParagraph = null;
          this._filterAttributesOf = [];
          this._affectedStart = null;
          this._affectedEnd = null;
        }
        handleNodes(t) {
          for (const e of Array.from(t)) {
            this._handleNode(e);
          }
          this._insertPartialFragment();
          if (this._lastAutoParagraph) {
            this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph);
          }
          this._mergeOnRight();
          this.schema.removeDisallowedAttributes(
            this._filterAttributesOf,
            this.writer
          );
          this._filterAttributesOf = [];
        }
        _updateLastNodeFromAutoParagraph(t) {
          const e = this.writer.createPositionAfter(this._lastNode);
          const n = this.writer.createPositionAfter(t);
          if (n.isAfter(e)) {
            this._lastNode = t;
            if (this.position.parent != t || !this.position.isAtEnd) {
              throw new M("insertcontent-invalid-insertion-position", this);
            }
            this.position = n;
            this._setAffectedBoundaries(this.position);
          }
        }
        getSelectionRange() {
          if (this._nodeToSelect) {
            return Ef._createOn(this._nodeToSelect);
          }
          return this.model.schema.getNearestSelectionRange(this.position);
        }
        getAffectedRange() {
          if (!this._affectedStart) {
            return null;
          }
          return new Ef(this._affectedStart, this._affectedEnd);
        }
        destroy() {
          if (this._affectedStart) {
            this._affectedStart.detach();
          }
          if (this._affectedEnd) {
            this._affectedEnd.detach();
          }
        }
        _handleNode(t) {
          if (this.schema.isObject(t)) {
            this._handleObject(t);
            return;
          }
          let e = this._checkAndAutoParagraphToAllowedPosition(t);
          if (!e) {
            e = this._checkAndSplitToAllowedPosition(t);
            if (!e) {
              this._handleDisallowedNode(t);
              return;
            }
          }
          this._appendToFragment(t);
          if (!this._firstNode) {
            this._firstNode = t;
          }
          this._lastNode = t;
        }
        _insertPartialFragment() {
          if (this._documentFragment.isEmpty) {
            return;
          }
          const t = Sk.fromPosition(this.position, "toNext");
          this._setAffectedBoundaries(this.position);
          if (this._documentFragment.getChild(0) == this._firstNode) {
            this.writer.insert(this._firstNode, this.position);
            this._mergeOnLeft();
            this.position = t.toPosition();
          }
          if (!this._documentFragment.isEmpty) {
            this.writer.insert(this._documentFragment, this.position);
          }
          this._documentFragmentPosition = this.writer.createPositionAt(
            this._documentFragment,
            0
          );
          this.position = t.toPosition();
          t.detach();
        }
        _handleObject(t) {
          if (this._checkAndSplitToAllowedPosition(t)) {
            this._appendToFragment(t);
          } else {
            this._tryAutoparagraphing(t);
          }
        }
        _handleDisallowedNode(t) {
          if (t.is("element")) {
            this.handleNodes(t.getChildren());
          } else {
            this._tryAutoparagraphing(t);
          }
        }
        _appendToFragment(t) {
          if (!this.schema.checkChild(this.position, t)) {
            throw new M("insertcontent-wrong-position", this, {
              node: t,
              position: this.position,
            });
          }
          this.writer.insert(t, this._documentFragmentPosition);
          this._documentFragmentPosition =
            this._documentFragmentPosition.getShiftedBy(t.offsetSize);
          if (
            this.schema.isObject(t) &&
            !this.schema.checkChild(this.position, "$text")
          ) {
            this._nodeToSelect = t;
          } else {
            this._nodeToSelect = null;
          }
          this._filterAttributesOf.push(t);
        }
        _setAffectedBoundaries(t) {
          if (!this._affectedStart) {
            this._affectedStart = Sk.fromPosition(t, "toPrevious");
          }
          if (!this._affectedEnd || this._affectedEnd.isBefore(t)) {
            if (this._affectedEnd) {
              this._affectedEnd.detach();
            }
            this._affectedEnd = Sk.fromPosition(t, "toNext");
          }
        }
        _mergeOnLeft() {
          const t = this._firstNode;
          if (!(t instanceof ff)) {
            return;
          }
          if (!this._canMergeLeft(t)) {
            return;
          }
          const e = Sk._createBefore(t);
          e.stickiness = "toNext";
          const n = Sk.fromPosition(this.position, "toNext");
          if (this._affectedStart.isEqual(e)) {
            this._affectedStart.detach();
            this._affectedStart = Sk._createAt(
              e.nodeBefore,
              "end",
              "toPrevious"
            );
          }
          if (this._firstNode === this._lastNode) {
            this._firstNode = e.nodeBefore;
            this._lastNode = e.nodeBefore;
          }
          this.writer.merge(e);
          if (
            e.isEqual(this._affectedEnd) &&
            this._firstNode === this._lastNode
          ) {
            this._affectedEnd.detach();
            this._affectedEnd = Sk._createAt(e.nodeBefore, "end", "toNext");
          }
          this.position = n.toPosition();
          n.detach();
          this._filterAttributesOf.push(this.position.parent);
          e.detach();
        }
        _mergeOnRight() {
          const t = this._lastNode;
          if (!(t instanceof ff)) {
            return;
          }
          if (!this._canMergeRight(t)) {
            return;
          }
          const e = Sk._createAfter(t);
          e.stickiness = "toNext";
          if (!this.position.isEqual(e)) {
            throw new M("insertcontent-invalid-insertion-position", this);
          }
          this.position = wf._createAt(e.nodeBefore, "end");
          const n = Sk.fromPosition(this.position, "toPrevious");
          if (this._affectedEnd.isEqual(e)) {
            this._affectedEnd.detach();
            this._affectedEnd = Sk._createAt(e.nodeBefore, "end", "toNext");
          }
          if (this._firstNode === this._lastNode) {
            this._firstNode = e.nodeBefore;
            this._lastNode = e.nodeBefore;
          }
          this.writer.merge(e);
          if (
            e.getShiftedBy(-1).isEqual(this._affectedStart) &&
            this._firstNode === this._lastNode
          ) {
            this._affectedStart.detach();
            this._affectedStart = Sk._createAt(e.nodeBefore, 0, "toPrevious");
          }
          this.position = n.toPosition();
          n.detach();
          this._filterAttributesOf.push(this.position.parent);
          e.detach();
        }
        _canMergeLeft(t) {
          const e = t.previousSibling;
          return (
            e instanceof ff &&
            this.canMergeWith.has(e) &&
            this.model.schema.checkMerge(e, t)
          );
        }
        _canMergeRight(t) {
          const e = t.nextSibling;
          return (
            e instanceof ff &&
            this.canMergeWith.has(e) &&
            this.model.schema.checkMerge(t, e)
          );
        }
        _tryAutoparagraphing(t) {
          const e = this.writer.createElement("paragraph");
          if (
            this._getAllowedIn(this.position.parent, e) &&
            this.schema.checkChild(e, t)
          ) {
            e._appendChild(t);
            this._handleNode(e);
          }
        }
        _checkAndAutoParagraphToAllowedPosition(t) {
          if (this.schema.checkChild(this.position.parent, t)) {
            return true;
          }
          if (
            !this.schema.checkChild(this.position.parent, "paragraph") ||
            !this.schema.checkChild("paragraph", t)
          ) {
            return false;
          }
          this._insertPartialFragment();
          const e = this.writer.createElement("paragraph");
          this.writer.insert(e, this.position);
          this._setAffectedBoundaries(this.position);
          this._lastAutoParagraph = e;
          this.position = this.writer.createPositionAt(e, 0);
          return true;
        }
        _checkAndSplitToAllowedPosition(t) {
          const e = this._getAllowedIn(this.position.parent, t);
          if (!e) {
            return false;
          }
          if (e != this.position.parent) {
            this._insertPartialFragment();
          }
          while (e != this.position.parent) {
            if (this.position.isAtStart) {
              const t = this.position.parent;
              this.position = this.writer.createPositionBefore(t);
              if (t.isEmpty && t.parent === e) {
                this.writer.remove(t);
              }
            } else if (this.position.isAtEnd) {
              this.position = this.writer.createPositionAfter(
                this.position.parent
              );
            } else {
              const t = this.writer.createPositionAfter(this.position.parent);
              this._setAffectedBoundaries(this.position);
              this.writer.split(this.position);
              this.position = t;
              this.canMergeWith.add(this.position.nodeAfter);
            }
          }
          return true;
        }
        _getAllowedIn(t, e) {
          if (this.schema.checkChild(t, e)) {
            return t;
          }
          if (this.schema.isLimit(t)) {
            return null;
          }
          return this._getAllowedIn(t.parent, e);
        }
      }
      function Ew(t, e, n = "auto") {
        const i = t.getSelectedElement();
        if (i && e.schema.isObject(i) && !e.schema.isInline(i)) {
          if (n == "before" || n == "after") {
            return e.createRange(e.createPositionAt(i, n));
          }
          return e.createRangeOn(i);
        }
        const o = sl(t.getSelectedBlocks());
        if (!o) {
          return e.createRange(t.focus);
        }
        if (o.isEmpty) {
          return e.createRange(e.createPositionAt(o, 0));
        }
        const r = e.createPositionAfter(o);
        if (t.focus.isTouching(r)) {
          return e.createRange(r);
        }
        return e.createRange(e.createPositionBefore(o));
      }
      function Dw(t, e, n, i, o = {}) {
        if (!t.schema.isObject(e)) {
          throw new M("insertobject-element-not-an-object", t, { object: e });
        }
        let r;
        if (!n) {
          r = t.document.selection;
        } else if (n instanceof Nf || n instanceof Wf) {
          r = n;
        } else {
          r = t.createSelection(n, i);
        }
        let s = r;
        if (o.findOptimalPosition && t.schema.isBlock(e)) {
          s = t.createSelection(Ew(r, t, o.findOptimalPosition));
        }
        const a = sl(r.getSelectedBlocks());
        const c = {};
        if (a) {
          Object.assign(
            c,
            t.schema.getAttributesWithProperty(a, "copyOnReplace", true)
          );
        }
        return t.change((n) => {
          if (!s.isCollapsed) {
            t.deleteContent(s, { doNotAutoparagraph: true });
          }
          let i = e;
          const r = s.anchor.parent;
          if (
            !t.schema.checkChild(r, e) &&
            t.schema.checkChild(r, "paragraph") &&
            t.schema.checkChild("paragraph", e)
          ) {
            i = n.createElement("paragraph");
            n.insert(e, i);
          }
          t.schema.setAllowedAttributes(i, c, n);
          const a = t.insertContent(i, s);
          if (a.isCollapsed) {
            return a;
          }
          if (o.setSelection) {
            Sw(n, e, o.setSelection, c);
          }
          return a;
        });
      }
      function Sw(t, e, n, i) {
        const o = t.model;
        if (n == "on") {
          t.setSelection(e, "on");
          return;
        }
        if (n != "after") {
          throw new M("insertobject-invalid-place-parameter-value", o);
        }
        let r = e.nextSibling;
        if (o.schema.isInline(e)) {
          t.setSelection(e, "after");
          return;
        }
        const s = r && o.schema.checkChild(r, "$text");
        if (!s && o.schema.checkChild(e.parent, "paragraph")) {
          r = t.createElement("paragraph");
          o.schema.setAllowedAttributes(r, i, t);
          o.insertContent(r, t.createPositionAfter(e));
        }
        if (r) {
          t.setSelection(r, 0);
        }
      }
      const Tw = ' ,.?!:;"-()';
      function Iw(t, e, n = {}) {
        const i = t.schema;
        const o = n.direction != "backward";
        const r = n.unit ? n.unit : "character";
        const s = !!n.treatEmojiAsSingleUnit;
        const a = e.focus;
        const c = new bf({
          boundaries: Nw(a, o),
          singleCharacters: true,
          direction: o ? "forward" : "backward",
        });
        const l = {
          walker: c,
          schema: i,
          isForward: o,
          unit: r,
          treatEmojiAsSingleUnit: s,
        };
        let d;
        while ((d = c.next())) {
          if (d.done) {
            return;
          }
          const n = Mw(l, d.value);
          if (n) {
            if (e instanceof Wf) {
              t.change((t) => {
                t.setSelectionFocus(n);
              });
            } else {
              e.setFocus(n);
            }
            return;
          }
        }
      }
      function Mw(t, e) {
        const {
          isForward: n,
          walker: i,
          unit: o,
          schema: r,
          treatEmojiAsSingleUnit: s,
        } = t;
        const { type: a, item: c, nextPosition: l } = e;
        if (a == "text") {
          if (t.unit === "word") {
            return Lw(i, n);
          }
          return Bw(i, o, s);
        }
        if (a == (n ? "elementStart" : "elementEnd")) {
          if (r.isSelectable(c)) {
            return wf._createAt(c, n ? "after" : "before");
          }
          if (r.checkChild(l, "$text")) {
            return l;
          }
        } else {
          if (r.isLimit(c)) {
            i.skip(() => true);
            return;
          }
          if (r.checkChild(l, "$text")) {
            return l;
          }
        }
      }
      function Bw(t, e, n) {
        const i = t.position.textNode;
        if (i) {
          const o = i.data;
          let r = t.position.offset - i.startOffset;
          while (
            pl(o, r) ||
            (e == "character" && bl(o, r)) ||
            (n && wl(o, r))
          ) {
            t.next();
            r = t.position.offset - i.startOffset;
          }
        }
        return t.position;
      }
      function Lw(t, e) {
        let n = t.position.textNode;
        if (!n) {
          n = e ? t.position.nodeAfter : t.position.nodeBefore;
        }
        while (n && n.is("$text")) {
          const i = t.position.offset - n.startOffset;
          if (Pw(n, i, e)) {
            n = e ? t.position.nodeAfter : t.position.nodeBefore;
          } else if (zw(n.data, i, e)) {
            break;
          } else {
            t.next();
          }
        }
        return t.position;
      }
      function Nw(t, e) {
        const n = t.root;
        const i = wf._createAt(n, e ? "end" : 0);
        if (e) {
          return new Ef(t, i);
        } else {
          return new Ef(i, t);
        }
      }
      function zw(t, e, n) {
        const i = e + (n ? 0 : -1);
        return Tw.includes(t.charAt(i));
      }
      function Pw(t, e, n) {
        return e === (n ? t.offsetSize : 0);
      }
      class Rw extends dt() {
        constructor() {
          super();
          this.markers = new Vk();
          this.document = new jk(this);
          this.schema = new bb();
          this._pendingChanges = [];
          this._currentWriter = null;
          [
            "insertContent",
            "insertObject",
            "deleteContent",
            "modifySelection",
            "getSelectedContent",
            "applyOperation",
          ].forEach((t) => this.decorate(t));
          this.on(
            "applyOperation",
            (t, e) => {
              const n = e[0];
              n._validate();
            },
            { priority: "highest" }
          );
          this.schema.register("$root", { isLimit: true });
          this.schema.register("$container", {
            allowIn: ["$root", "$container"],
          });
          this.schema.register("$block", {
            allowIn: ["$root", "$container"],
            isBlock: true,
          });
          this.schema.register("$blockObject", {
            allowWhere: "$block",
            isBlock: true,
            isObject: true,
          });
          this.schema.register("$inlineObject", {
            allowWhere: "$text",
            allowAttributesOf: "$text",
            isInline: true,
            isObject: true,
          });
          this.schema.register("$text", {
            allowIn: "$block",
            isInline: true,
            isContent: true,
          });
          this.schema.register("$clipboardHolder", {
            allowContentOf: "$root",
            allowChildren: "$text",
            isLimit: true,
          });
          this.schema.register("$documentFragment", {
            allowContentOf: "$root",
            allowChildren: "$text",
            isLimit: true,
          });
          this.schema.register("$marker");
          this.schema.addChildCheck((t, e) => {
            if (e.name === "$marker") {
              return true;
            }
          });
          Jk(this);
          this.document.registerPostFixer(qp);
        }
        change(t) {
          try {
            if (this._pendingChanges.length === 0) {
              this._pendingChanges.push({ batch: new Mk(), callback: t });
              return this._runPendingChanges()[0];
            } else {
              return t(this._currentWriter);
            }
          } catch (t) {
            M.rethrowUnexpectedError(t, this);
          }
        }
        enqueueChange(t, e) {
          try {
            if (!t) {
              t = new Mk();
            } else if (typeof t === "function") {
              e = t;
              t = new Mk();
            } else if (!(t instanceof Mk)) {
              t = new Mk(t);
            }
            this._pendingChanges.push({ batch: t, callback: e });
            if (this._pendingChanges.length == 1) {
              this._runPendingChanges();
            }
          } catch (t) {
            M.rethrowUnexpectedError(t, this);
          }
        }
        applyOperation(t) {
          t._execute();
        }
        insertContent(t, e, n) {
          return yw(this, t, e, n);
        }
        insertObject(t, e, n, i) {
          return Dw(this, t, e, n, i);
        }
        deleteContent(t, e) {
          aw(this, t, e);
        }
        modifySelection(t, e) {
          Iw(this, t, e);
        }
        getSelectedContent(t) {
          return _w(this, t);
        }
        hasContent(t, e = {}) {
          const n = t instanceof Ef ? t : Ef._createIn(t);
          if (n.isCollapsed) {
            return false;
          }
          const { ignoreWhitespaces: i = false, ignoreMarkers: o = false } = e;
          if (!o) {
            for (const t of this.markers.getMarkersIntersectingRange(n)) {
              if (t.affectsData) {
                return true;
              }
            }
          }
          for (const t of n.getItems()) {
            if (this.schema.isContent(t)) {
              if (t.is("$textProxy")) {
                if (!i) {
                  return true;
                } else if (t.data.search(/\\S/) !== -1) {
                  return true;
                }
              } else {
                return true;
              }
            }
          }
          return false;
        }
        createPositionFromPath(t, e, n) {
          return new wf(t, e, n);
        }
        createPositionAt(t, e) {
          return wf._createAt(t, e);
        }
        createPositionAfter(t) {
          return wf._createAfter(t);
        }
        createPositionBefore(t) {
          return wf._createBefore(t);
        }
        createRange(t, e) {
          return new Ef(t, e);
        }
        createRangeIn(t) {
          return Ef._createIn(t);
        }
        createRangeOn(t) {
          return Ef._createOn(t);
        }
        createSelection(...t) {
          return new Nf(...t);
        }
        createBatch(t) {
          return new Mk(t);
        }
        createOperationFromJSON(t) {
          return gk.fromJSON(t, this.document);
        }
        destroy() {
          this.document.destroy();
          this.stopListening();
        }
        _runPendingChanges() {
          const t = [];
          this.fire("_beforeChanges");
          try {
            while (this._pendingChanges.length) {
              const e = this._pendingChanges[0].batch;
              this._currentWriter = new Gk(this, e);
              const n = this._pendingChanges[0].callback(this._currentWriter);
              t.push(n);
              this.document._handleChangeBlock(this._currentWriter);
              this._pendingChanges.shift();
              this._currentWriter = null;
            }
          } finally {
            this._pendingChanges.length = 0;
            this._currentWriter = null;
            this.fire("_afterChanges");
          }
          return t;
        }
      }
      class Ow extends Im {
        constructor(t) {
          super(t);
          this.domEventType = "click";
        }
        onDomEvent(t) {
          this.fire(t.type, t);
        }
      }
      class jw extends Im {
        constructor(t) {
          super(t);
          this.domEventType = ["mousedown", "mouseup", "mouseover", "mouseout"];
        }
        onDomEvent(t) {
          this.fire(t.type, t);
        }
      }
      class Fw {
        constructor(t) {
          this.document = t;
        }
        createDocumentFragment(t) {
          return new Mh(this.document, t);
        }
        createElement(t, e, n) {
          return new Yu(this.document, t, e, n);
        }
        createText(t) {
          return new Yl(this.document, t);
        }
        clone(t, e = false) {
          return t._clone(e);
        }
        appendChild(t, e) {
          return e._appendChild(t);
        }
        insertChild(t, e, n) {
          return n._insertChild(t, e);
        }
        removeChildren(t, e, n) {
          return n._removeChildren(t, e);
        }
        remove(t) {
          const e = t.parent;
          if (e) {
            return this.removeChildren(e.getChildIndex(t), 1, e);
          }
          return [];
        }
        replace(t, e) {
          const n = t.parent;
          if (n) {
            const i = n.getChildIndex(t);
            this.removeChildren(i, 1, n);
            this.insertChild(i, e, n);
            return true;
          }
          return false;
        }
        unwrapElement(t) {
          const e = t.parent;
          if (e) {
            const n = e.getChildIndex(t);
            this.remove(t);
            this.insertChild(n, t.getChildren(), e);
          }
        }
        rename(t, e) {
          const n = new Yu(
            this.document,
            t,
            e.getAttributes(),
            e.getChildren()
          );
          return this.replace(e, n) ? n : null;
        }
        setAttribute(t, e, n) {
          n._setAttribute(t, e);
        }
        removeAttribute(t, e) {
          e._removeAttribute(t);
        }
        addClass(t, e) {
          e._addClass(t);
        }
        removeClass(t, e) {
          e._removeClass(t);
        }
        setStyle(t, e, n) {
          if (he(t) && n === undefined) {
            e._setStyle(t);
          } else {
            n._setStyle(t, e);
          }
        }
        removeStyle(t, e) {
          e._removeStyle(t);
        }
        setCustomProperty(t, e, n) {
          n._setCustomProperty(t, e);
        }
        removeCustomProperty(t, e) {
          return e._removeCustomProperty(t);
        }
        createPositionAt(t, e) {
          return rh._createAt(t, e);
        }
        createPositionAfter(t) {
          return rh._createAfter(t);
        }
        createPositionBefore(t) {
          return rh._createBefore(t);
        }
        createRange(t, e) {
          return new sh(t, e);
        }
        createRangeOn(t) {
          return sh._createOn(t);
        }
        createRangeIn(t) {
          return sh._createIn(t);
        }
        createSelection(...t) {
          return new ch(...t);
        }
      }
      const Vw = /^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i;
      const Hw = /^rgb\\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\\)$/i;
      const Uw =
        /^rgba\\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\\.?[0-9]+)\\)$/i;
      const qw =
        /^hsl\\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\\.?[0-9]+)?\\)$/i;
      const Ww =
        /^hsla\\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\\.?[0-9]+)\\)$/i;
      const Gw = new Set([
        "black",
        "silver",
        "gray",
        "white",
        "maroon",
        "red",
        "purple",
        "fuchsia",
        "green",
        "lime",
        "olive",
        "yellow",
        "navy",
        "blue",
        "teal",
        "aqua",
        "orange",
        "aliceblue",
        "antiquewhite",
        "aquamarine",
        "azure",
        "beige",
        "bisque",
        "blanchedalmond",
        "blueviolet",
        "brown",
        "burlywood",
        "cadetblue",
        "chartreuse",
        "chocolate",
        "coral",
        "cornflowerblue",
        "cornsilk",
        "crimson",
        "cyan",
        "darkblue",
        "darkcyan",
        "darkgoldenrod",
        "darkgray",
        "darkgreen",
        "darkgrey",
        "darkkhaki",
        "darkmagenta",
        "darkolivegreen",
        "darkorange",
        "darkorchid",
        "darkred",
        "darksalmon",
        "darkseagreen",
        "darkslateblue",
        "darkslategray",
        "darkslategrey",
        "darkturquoise",
        "darkviolet",
        "deeppink",
        "deepskyblue",
        "dimgray",
        "dimgrey",
        "dodgerblue",
        "firebrick",
        "floralwhite",
        "forestgreen",
        "gainsboro",
        "ghostwhite",
        "gold",
        "goldenrod",
        "greenyellow",
        "grey",
        "honeydew",
        "hotpink",
        "indianred",
        "indigo",
        "ivory",
        "khaki",
        "lavender",
        "lavenderblush",
        "lawngreen",
        "lemonchiffon",
        "lightblue",
        "lightcoral",
        "lightcyan",
        "lightgoldenrodyellow",
        "lightgray",
        "lightgreen",
        "lightgrey",
        "lightpink",
        "lightsalmon",
        "lightseagreen",
        "lightskyblue",
        "lightslategray",
        "lightslategrey",
        "lightsteelblue",
        "lightyellow",
        "limegreen",
        "linen",
        "magenta",
        "mediumaquamarine",
        "mediumblue",
        "mediumorchid",
        "mediumpurple",
        "mediumseagreen",
        "mediumslateblue",
        "mediumspringgreen",
        "mediumturquoise",
        "mediumvioletred",
        "midnightblue",
        "mintcream",
        "mistyrose",
        "moccasin",
        "navajowhite",
        "oldlace",
        "olivedrab",
        "orangered",
        "orchid",
        "palegoldenrod",
        "palegreen",
        "paleturquoise",
        "palevioletred",
        "papayawhip",
        "peachpuff",
        "peru",
        "pink",
        "plum",
        "powderblue",
        "rosybrown",
        "royalblue",
        "saddlebrown",
        "salmon",
        "sandybrown",
        "seagreen",
        "seashell",
        "sienna",
        "skyblue",
        "slateblue",
        "slategray",
        "slategrey",
        "snow",
        "springgreen",
        "steelblue",
        "tan",
        "thistle",
        "tomato",
        "turquoise",
        "violet",
        "wheat",
        "whitesmoke",
        "yellowgreen",
        "activeborder",
        "activecaption",
        "appworkspace",
        "background",
        "buttonface",
        "buttonhighlight",
        "buttonshadow",
        "buttontext",
        "captiontext",
        "graytext",
        "highlight",
        "highlighttext",
        "inactiveborder",
        "inactivecaption",
        "inactivecaptiontext",
        "infobackground",
        "infotext",
        "menu",
        "menutext",
        "scrollbar",
        "threeddarkshadow",
        "threedface",
        "threedhighlight",
        "threedlightshadow",
        "threedshadow",
        "window",
        "windowframe",
        "windowtext",
        "rebeccapurple",
        "currentcolor",
        "transparent",
      ]);
      function $w(t) {
        if (t.startsWith("#")) {
          return Vw.test(t);
        }
        if (t.startsWith("rgb")) {
          return Hw.test(t) || Uw.test(t);
        }
        if (t.startsWith("hsl")) {
          return qw.test(t) || Ww.test(t);
        }
        return Gw.has(t.toLowerCase());
      }
      const Kw = [
        "none",
        "hidden",
        "dotted",
        "dashed",
        "solid",
        "double",
        "groove",
        "ridge",
        "inset",
        "outset",
      ];
      function Yw(t) {
        return Kw.includes(t);
      }
      const Zw =
        /^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;
      function Qw(t) {
        return Zw.test(t);
      }
      const Jw = /^[+-]?[0-9]*([.][0-9]+)?%$/;
      function Xw(t) {
        return Jw.test(t);
      }
      const tA = [
        "repeat-x",
        "repeat-y",
        "repeat",
        "space",
        "round",
        "no-repeat",
      ];
      function eA(t) {
        return tA.includes(t);
      }
      const nA = ["center", "top", "bottom", "left", "right"];
      function iA(t) {
        return nA.includes(t);
      }
      const oA = ["fixed", "scroll", "local"];
      function rA(t) {
        return oA.includes(t);
      }
      const sA = /^url\\(/;
      function aA(t) {
        return sA.test(t);
      }
      function cA(t = "") {
        if (t === "") {
          return {
            top: undefined,
            right: undefined,
            bottom: undefined,
            left: undefined,
          };
        }
        const e = hA(t);
        const n = e[0];
        const i = e[2] || n;
        const o = e[1] || n;
        const r = e[3] || o;
        return { top: n, bottom: i, right: o, left: r };
      }
      function lA(t) {
        return (e) => {
          const { top: n, right: i, bottom: o, left: r } = e;
          const s = [];
          if (![n, i, r, o].every((t) => !!t)) {
            if (n) {
              s.push([t + "-top", n]);
            }
            if (i) {
              s.push([t + "-right", i]);
            }
            if (o) {
              s.push([t + "-bottom", o]);
            }
            if (r) {
              s.push([t + "-left", r]);
            }
          } else {
            s.push([t, dA(e)]);
          }
          return s;
        };
      }
      function dA({ top: t, right: e, bottom: n, left: i }) {
        const o = [];
        if (i !== e) {
          o.push(t, e, n, i);
        } else if (n !== t) {
          o.push(t, e, n);
        } else if (e !== t) {
          o.push(t, e);
        } else {
          o.push(t);
        }
        return o.join(" ");
      }
      function uA(t) {
        return (e) => ({ path: t, value: cA(e) });
      }
      function hA(t) {
        return t
          .replace(/, /g, ",")
          .split(" ")
          .map((t) => t.replace(/,/g, ", "));
      }
      function mA(t) {
        t.setNormalizer("background", gA());
        t.setNormalizer("background-color", fA());
        t.setReducer("background", pA());
        t.setStyleRelation("background", ["background-color"]);
      }
      function gA() {
        return (t) => {
          const e = {};
          const n = hA(t);
          for (const t of n) {
            if (eA(t)) {
              e.repeat = e.repeat || [];
              e.repeat.push(t);
            } else if (iA(t)) {
              e.position = e.position || [];
              e.position.push(t);
            } else if (rA(t)) {
              e.attachment = t;
            } else if ($w(t)) {
              e.color = t;
            } else if (aA(t)) {
              e.image = t;
            }
          }
          return { path: "background", value: e };
        };
      }
      function fA() {
        return (t) => ({ path: "background.color", value: t });
      }
      function pA() {
        return (t) => {
          const e = [];
          e.push(["background-color", t.color]);
          return e;
        };
      }
      function bA(t) {
        t.setNormalizer("border", kA());
        t.setNormalizer("border-top", wA("top"));
        t.setNormalizer("border-right", wA("right"));
        t.setNormalizer("border-bottom", wA("bottom"));
        t.setNormalizer("border-left", wA("left"));
        t.setNormalizer("border-color", AA("color"));
        t.setNormalizer("border-width", AA("width"));
        t.setNormalizer("border-style", AA("style"));
        t.setNormalizer("border-top-color", _A("color", "top"));
        t.setNormalizer("border-top-style", _A("style", "top"));
        t.setNormalizer("border-top-width", _A("width", "top"));
        t.setNormalizer("border-right-color", _A("color", "right"));
        t.setNormalizer("border-right-style", _A("style", "right"));
        t.setNormalizer("border-right-width", _A("width", "right"));
        t.setNormalizer("border-bottom-color", _A("color", "bottom"));
        t.setNormalizer("border-bottom-style", _A("style", "bottom"));
        t.setNormalizer("border-bottom-width", _A("width", "bottom"));
        t.setNormalizer("border-left-color", _A("color", "left"));
        t.setNormalizer("border-left-style", _A("style", "left"));
        t.setNormalizer("border-left-width", _A("width", "left"));
        t.setExtractor("border-top", vA("top"));
        t.setExtractor("border-right", vA("right"));
        t.setExtractor("border-bottom", vA("bottom"));
        t.setExtractor("border-left", vA("left"));
        t.setExtractor("border-top-color", "border.color.top");
        t.setExtractor("border-right-color", "border.color.right");
        t.setExtractor("border-bottom-color", "border.color.bottom");
        t.setExtractor("border-left-color", "border.color.left");
        t.setExtractor("border-top-width", "border.width.top");
        t.setExtractor("border-right-width", "border.width.right");
        t.setExtractor("border-bottom-width", "border.width.bottom");
        t.setExtractor("border-left-width", "border.width.left");
        t.setExtractor("border-top-style", "border.style.top");
        t.setExtractor("border-right-style", "border.style.right");
        t.setExtractor("border-bottom-style", "border.style.bottom");
        t.setExtractor("border-left-style", "border.style.left");
        t.setReducer("border-color", lA("border-color"));
        t.setReducer("border-style", lA("border-style"));
        t.setReducer("border-width", lA("border-width"));
        t.setReducer("border-top", DA("top"));
        t.setReducer("border-right", DA("right"));
        t.setReducer("border-bottom", DA("bottom"));
        t.setReducer("border-left", DA("left"));
        t.setReducer("border", EA());
        t.setStyleRelation("border", [
          "border-color",
          "border-style",
          "border-width",
          "border-top",
          "border-right",
          "border-bottom",
          "border-left",
          "border-top-color",
          "border-right-color",
          "border-bottom-color",
          "border-left-color",
          "border-top-style",
          "border-right-style",
          "border-bottom-style",
          "border-left-style",
          "border-top-width",
          "border-right-width",
          "border-bottom-width",
          "border-left-width",
        ]);
        t.setStyleRelation("border-color", [
          "border-top-color",
          "border-right-color",
          "border-bottom-color",
          "border-left-color",
        ]);
        t.setStyleRelation("border-style", [
          "border-top-style",
          "border-right-style",
          "border-bottom-style",
          "border-left-style",
        ]);
        t.setStyleRelation("border-width", [
          "border-top-width",
          "border-right-width",
          "border-bottom-width",
          "border-left-width",
        ]);
        t.setStyleRelation("border-top", [
          "border-top-color",
          "border-top-style",
          "border-top-width",
        ]);
        t.setStyleRelation("border-right", [
          "border-right-color",
          "border-right-style",
          "border-right-width",
        ]);
        t.setStyleRelation("border-bottom", [
          "border-bottom-color",
          "border-bottom-style",
          "border-bottom-width",
        ]);
        t.setStyleRelation("border-left", [
          "border-left-color",
          "border-left-style",
          "border-left-width",
        ]);
      }
      function kA() {
        return (t) => {
          const { color: e, style: n, width: i } = xA(t);
          return {
            path: "border",
            value: { color: cA(e), style: cA(n), width: cA(i) },
          };
        };
      }
      function wA(t) {
        return (e) => {
          const { color: n, style: i, width: o } = xA(e);
          const r = {};
          if (n !== undefined) {
            r.color = { [t]: n };
          }
          if (i !== undefined) {
            r.style = { [t]: i };
          }
          if (o !== undefined) {
            r.width = { [t]: o };
          }
          return { path: "border", value: r };
        };
      }
      function AA(t) {
        return (e) => ({ path: "border", value: CA(e, t) });
      }
      function CA(t, e) {
        return { [e]: cA(t) };
      }
      function _A(t, e) {
        return (n) => ({ path: "border", value: { [t]: { [e]: n } } });
      }
      function vA(t) {
        return (e, n) => {
          if (n.border) {
            return yA(n.border, t);
          }
        };
      }
      function yA(t, e) {
        const n = {};
        if (t.width && t.width[e]) {
          n.width = t.width[e];
        }
        if (t.style && t.style[e]) {
          n.style = t.style[e];
        }
        if (t.color && t.color[e]) {
          n.color = t.color[e];
        }
        return n;
      }
      function xA(t) {
        const e = {};
        const n = hA(t);
        for (const t of n) {
          if (Qw(t) || /thin|medium|thick/.test(t)) {
            e.width = t;
          } else if (Yw(t)) {
            e.style = t;
          } else {
            e.color = t;
          }
        }
        return e;
      }
      function EA() {
        return (e) => {
          const n = yA(e, "top");
          const i = yA(e, "right");
          const o = yA(e, "bottom");
          const r = yA(e, "left");
          const s = [n, i, o, r];
          const a = {
            width: t(s, "width"),
            style: t(s, "style"),
            color: t(s, "color"),
          };
          const c = SA(a, "all");
          if (c.length) {
            return c;
          }
          const l = Object.entries(a).reduce((t, [e, n]) => {
            if (n) {
              t.push([\`border-\${e}\`, n]);
              s.forEach((t) => delete t[e]);
            }
            return t;
          }, []);
          return [
            ...l,
            ...SA(n, "top"),
            ...SA(i, "right"),
            ...SA(o, "bottom"),
            ...SA(r, "left"),
          ];
        };
        function t(t, e) {
          return t.map((t) => t[e]).reduce((t, e) => (t == e ? t : null));
        }
      }
      function DA(t) {
        return (e) => SA(e, t);
      }
      function SA(t, e) {
        const n = [];
        if (t && t.width) {
          n.push("width");
        }
        if (t && t.style) {
          n.push("style");
        }
        if (t && t.color) {
          n.push("color");
        }
        if (n.length == 3) {
          const i = n.map((e) => t[e]).join(" ");
          return [e == "all" ? ["border", i] : [\`border-\${e}\`, i]];
        }
        if (e == "all") {
          return [];
        }
        return n.map((n) => [\`border-\${e}-\${n}\`, t[n]]);
      }
      function TA(t) {
        t.setNormalizer("margin", uA("margin"));
        t.setNormalizer("margin-top", (t) => ({
          path: "margin.top",
          value: t,
        }));
        t.setNormalizer("margin-right", (t) => ({
          path: "margin.right",
          value: t,
        }));
        t.setNormalizer("margin-bottom", (t) => ({
          path: "margin.bottom",
          value: t,
        }));
        t.setNormalizer("margin-left", (t) => ({
          path: "margin.left",
          value: t,
        }));
        t.setReducer("margin", lA("margin"));
        t.setStyleRelation("margin", [
          "margin-top",
          "margin-right",
          "margin-bottom",
          "margin-left",
        ]);
      }
      function IA(t) {
        t.setNormalizer("padding", getPositionShorthandNormalizer("padding"));
        t.setNormalizer("padding-top", (t) => ({
          path: "padding.top",
          value: t,
        }));
        t.setNormalizer("padding-right", (t) => ({
          path: "padding.right",
          value: t,
        }));
        t.setNormalizer("padding-bottom", (t) => ({
          path: "padding.bottom",
          value: t,
        }));
        t.setNormalizer("padding-left", (t) => ({
          path: "padding.left",
          value: t,
        }));
        t.setReducer("padding", getBoxSidesValueReducer("padding"));
        t.setStyleRelation("padding", [
          "padding-top",
          "padding-right",
          "padding-bottom",
          "padding-left",
        ]);
      }
      class MA {
        constructor() {
          this._commands = new Map();
        }
        add(t, e) {
          this._commands.set(t, e);
        }
        get(t) {
          return this._commands.get(t);
        }
        execute(t, ...e) {
          const n = this.get(t);
          if (!n) {
            throw new M("commandcollection-command-not-found", this, {
              commandName: t,
            });
          }
          return n.execute(...e);
        }
        *names() {
          yield* this._commands.keys();
        }
        *commands() {
          yield* this._commands.values();
        }
        [Symbol.iterator]() {
          return this._commands[Symbol.iterator]();
        }
        destroy() {
          for (const t of this.commands()) {
            t.destroy();
          }
        }
      }
      class BA extends cl {
        constructor(t) {
          super();
          this.editor = t;
        }
        set(t, e, n = {}) {
          if (typeof e == "string") {
            const t = e;
            e = (e, n) => {
              this.editor.execute(t);
              n();
            };
          }
          super.set(t, e, n);
        }
      }
      class LA extends dt() {
        constructor(t = {}) {
          super();
          const e = this.constructor;
          const n = t.language || (e.defaultConfig && e.defaultConfig.language);
          this._context = t.context || new Dl({ language: n });
          this._context._addEditor(this, !t.context);
          const i = Array.from(e.builtinPlugins || []);
          this.config = new Ha(t, e.defaultConfig);
          this.config.define("plugins", i);
          this.config.define(this._context._getEditorConfig());
          this.plugins = new El(this, i, this._context.plugins);
          this.locale = this._context.locale;
          this.t = this.locale.t;
          this._readOnlyLocks = new Set();
          this.commands = new MA();
          this.set("state", "initializing");
          this.once("ready", () => (this.state = "ready"), {
            priority: "high",
          });
          this.once("destroy", () => (this.state = "destroyed"), {
            priority: "high",
          });
          this.model = new Rw();
          const o = new Wu();
          this.data = new Hb(this.model, o);
          this.editing = new mb(this.model, o);
          this.editing.view.document.bind("isReadOnly").to(this);
          this.conversion = new qb(
            [this.editing.downcastDispatcher, this.data.downcastDispatcher],
            this.data.upcastDispatcher
          );
          this.conversion.addAlias(
            "dataDowncast",
            this.data.downcastDispatcher
          );
          this.conversion.addAlias(
            "editingDowncast",
            this.editing.downcastDispatcher
          );
          this.keystrokes = new BA(this);
          this.keystrokes.listenTo(this.editing.view.document);
        }
        get isReadOnly() {
          return this._readOnlyLocks.size > 0;
        }
        set isReadOnly(t) {
          throw new M("editor-isreadonly-has-no-setter");
        }
        enableReadOnlyMode(t) {
          if (typeof t !== "string" && typeof t !== "symbol") {
            throw new M("editor-read-only-lock-id-invalid", null, {
              lockId: t,
            });
          }
          if (this._readOnlyLocks.has(t)) {
            return;
          }
          this._readOnlyLocks.add(t);
          if (this._readOnlyLocks.size === 1) {
            this.fire("change:isReadOnly", "isReadOnly", true, false);
          }
        }
        disableReadOnlyMode(t) {
          if (typeof t !== "string" && typeof t !== "symbol") {
            throw new M("editor-read-only-lock-id-invalid", null, {
              lockId: t,
            });
          }
          if (!this._readOnlyLocks.has(t)) {
            return;
          }
          this._readOnlyLocks.delete(t);
          if (this._readOnlyLocks.size === 0) {
            this.fire("change:isReadOnly", "isReadOnly", false, true);
          }
        }
        initPlugins() {
          const t = this.config;
          const e = t.get("plugins");
          const n = t.get("removePlugins") || [];
          const i = t.get("extraPlugins") || [];
          const o = t.get("substitutePlugins") || [];
          return this.plugins.init(e.concat(i), n, o);
        }
        destroy() {
          let t = Promise.resolve();
          if (this.state == "initializing") {
            t = new Promise((t) => this.once("ready", t));
          }
          return t
            .then(() => {
              this.fire("destroy");
              this.stopListening();
              this.commands.destroy();
            })
            .then(() => this.plugins.destroy())
            .then(() => {
              this.model.destroy();
              this.data.destroy();
              this.editing.destroy();
              this.keystrokes.destroy();
            })
            .then(() => this._context._removeEditor(this));
        }
        execute(t, ...e) {
          try {
            return this.commands.execute(t, ...e);
          } catch (t) {
            M.rethrowUnexpectedError(t, this);
          }
        }
        focus() {
          this.editing.view.focus();
        }
      }
      class NA {
        constructor(t) {
          this.editor = t;
          this._components = new Map();
        }
        *names() {
          for (const t of this._components.values()) {
            yield t.originalName;
          }
        }
        add(t, e) {
          this._components.set(zA(t), { callback: e, originalName: t });
        }
        create(t) {
          if (!this.has(t)) {
            throw new M("componentfactory-item-missing", this, { name: t });
          }
          return this._components.get(zA(t)).callback(this.editor.locale);
        }
        has(t) {
          return this._components.has(zA(t));
        }
      }
      function zA(t) {
        return String(t).toLowerCase();
      }
      class PA extends rl {
        constructor(t = []) {
          super(t, { idProperty: "viewUid" });
          this.on("add", (t, e, n) => {
            this._renderViewIntoCollectionParent(e, n);
          });
          this.on("remove", (t, e) => {
            if (e.element && this._parentElement) {
              e.element.remove();
            }
          });
          this._parentElement = null;
        }
        destroy() {
          this.map((t) => t.destroy());
        }
        setParent(t) {
          this._parentElement = t;
          for (const t of this) {
            this._renderViewIntoCollectionParent(t);
          }
        }
        delegate(...t) {
          if (!t.length || !RA(t)) {
            throw new M("ui-viewcollection-delegate-wrong-events", this);
          }
          return {
            to: (e) => {
              for (const n of this) {
                for (const i of t) {
                  n.delegate(i).to(e);
                }
              }
              this.on("add", (n, i) => {
                for (const n of t) {
                  i.delegate(n).to(e);
                }
              });
              this.on("remove", (n, i) => {
                for (const n of t) {
                  i.stopDelegating(n, e);
                }
              });
            },
          };
        }
        _renderViewIntoCollectionParent(t, e) {
          if (!t.isRendered) {
            t.render();
          }
          if (t.element && this._parentElement) {
            this._parentElement.insertBefore(
              t.element,
              this._parentElement.children[e]
            );
          }
        }
      }
      function RA(t) {
        return t.every((t) => typeof t == "string");
      }
      const OA = "http://www.w3.org/1999/xhtml";
      class jA extends q() {
        constructor(t) {
          super();
          Object.assign(this, ZA(YA(t)));
          this._isRendered = false;
          this._revertData = null;
        }
        render() {
          const t = this._renderNode({ intoFragment: true });
          this._isRendered = true;
          return t;
        }
        apply(t) {
          this._revertData = dC();
          this._renderNode({
            node: t,
            intoFragment: false,
            isApplying: true,
            revertData: this._revertData,
          });
          return t;
        }
        revert(t) {
          if (!this._revertData) {
            throw new M("ui-template-revert-not-applied", [this, t]);
          }
          this._revertTemplateFromNode(t, this._revertData);
        }
        *getViews() {
          function* t(e) {
            if (e.children) {
              for (const n of e.children) {
                if (sC(n)) {
                  yield n;
                } else if (aC(n)) {
                  yield* t(n);
                }
              }
            }
          }
          yield* t(this);
        }
        static bind(t, e) {
          return {
            to(n, i) {
              return new VA({
                eventNameOrFunction: n,
                attribute: n,
                observable: t,
                emitter: e,
                callback: i,
              });
            },
            if(n, i, o) {
              return new HA({
                observable: t,
                emitter: e,
                attribute: n,
                valueIfTrue: i,
                callback: o,
              });
            },
          };
        }
        static extend(t, e) {
          if (t._isRendered) {
            throw new M("template-extend-render", [this, t]);
          }
          oC(t, ZA(YA(e)));
        }
        _renderNode(t) {
          let e;
          if (t.node) {
            e = this.tag && this.text;
          } else {
            e = this.tag ? this.text : !this.text;
          }
          if (e) {
            throw new M("ui-template-wrong-syntax", this);
          }
          if (this.text) {
            return this._renderText(t);
          } else {
            return this._renderElement(t);
          }
        }
        _renderElement(t) {
          let e = t.node;
          if (!e) {
            e = t.node = document.createElementNS(this.ns || OA, this.tag);
          }
          this._renderAttributes(t);
          this._renderElementChildren(t);
          this._setUpListeners(t);
          return e;
        }
        _renderText(t) {
          let e = t.node;
          if (e) {
            t.revertData.text = e.textContent;
          } else {
            e = t.node = document.createTextNode("");
          }
          if (UA(this.text)) {
            this._bindToObservable({
              schema: this.text,
              updater: GA(e),
              data: t,
            });
          } else {
            e.textContent = this.text.join("");
          }
          return e;
        }
        _renderAttributes(t) {
          if (!this.attributes) {
            return;
          }
          const e = t.node;
          const n = t.revertData;
          for (const i in this.attributes) {
            const o = e.getAttribute(i);
            const r = this.attributes[i];
            if (n) {
              n.attributes[i] = o;
            }
            const s = lC(r) ? r[0].ns : null;
            if (UA(r)) {
              const a = lC(r) ? r[0].value : r;
              if (n && uC(i)) {
                a.unshift(o);
              }
              this._bindToObservable({
                schema: a,
                updater: $A(e, i, s),
                data: t,
              });
            } else if (i == "style" && typeof r[0] !== "string") {
              this._renderStyleAttribute(r[0], t);
            } else {
              if (n && o && uC(i)) {
                r.unshift(o);
              }
              const t = r
                .map((t) => (t ? t.value || t : t))
                .reduce((t, e) => t.concat(e), [])
                .reduce(nC, "");
              if (!rC(t)) {
                e.setAttributeNS(s, i, t);
              }
            }
          }
        }
        _renderStyleAttribute(t, e) {
          const n = e.node;
          for (const i in t) {
            const o = t[i];
            if (UA(o)) {
              this._bindToObservable({
                schema: [o],
                updater: KA(n, i),
                data: e,
              });
            } else {
              n.style[i] = o;
            }
          }
        }
        _renderElementChildren(t) {
          const e = t.node;
          const n = t.intoFragment ? document.createDocumentFragment() : e;
          const i = t.isApplying;
          let o = 0;
          for (const r of this.children) {
            if (cC(r)) {
              if (!i) {
                r.setParent(e);
                for (const t of r) {
                  n.appendChild(t.element);
                }
              }
            } else if (sC(r)) {
              if (!i) {
                if (!r.isRendered) {
                  r.render();
                }
                n.appendChild(r.element);
              }
            } else if (Wa(r)) {
              n.appendChild(r);
            } else {
              if (i) {
                const e = t.revertData;
                const i = dC();
                e.children.push(i);
                r._renderNode({
                  intoFragment: false,
                  node: n.childNodes[o++],
                  isApplying: true,
                  revertData: i,
                });
              } else {
                n.appendChild(r.render());
              }
            }
          }
          if (t.intoFragment) {
            e.appendChild(n);
          }
        }
        _setUpListeners(t) {
          if (!this.eventListeners) {
            return;
          }
          for (const e in this.eventListeners) {
            const n = this.eventListeners[e].map((n) => {
              const [i, o] = e.split("@");
              return n.activateDomEventListener(i, o, t);
            });
            if (t.revertData) {
              t.revertData.bindings.push(n);
            }
          }
        }
        _bindToObservable({ schema: t, updater: e, data: n }) {
          const i = n.revertData;
          WA(t, e, n);
          const o = t
            .filter((t) => !rC(t))
            .filter((t) => t.observable)
            .map((i) => i.activateAttributeListener(t, e, n));
          if (i) {
            i.bindings.push(o);
          }
        }
        _revertTemplateFromNode(t, e) {
          for (const t of e.bindings) {
            for (const e of t) {
              e();
            }
          }
          if (e.text) {
            t.textContent = e.text;
            return;
          }
          const n = t;
          for (const t in e.attributes) {
            const i = e.attributes[t];
            if (i === null) {
              n.removeAttribute(t);
            } else {
              n.setAttribute(t, i);
            }
          }
          for (let t = 0; t < e.children.length; ++t) {
            this._revertTemplateFromNode(n.childNodes[t], e.children[t]);
          }
        }
      }
      class FA {
        constructor(t) {
          this.attribute = t.attribute;
          this.observable = t.observable;
          this.emitter = t.emitter;
          this.callback = t.callback;
        }
        getValue(t) {
          const e = this.observable[this.attribute];
          return this.callback ? this.callback(e, t) : e;
        }
        activateAttributeListener(t, e, n) {
          const i = () => WA(t, e, n);
          this.emitter.listenTo(this.observable, \`change:\${this.attribute}\`, i);
          return () => {
            this.emitter.stopListening(
              this.observable,
              \`change:\${this.attribute}\`,
              i
            );
          };
        }
      }
      class VA extends FA {
        constructor(t) {
          super(t);
          this.eventNameOrFunction = t.eventNameOrFunction;
        }
        activateDomEventListener(t, e, n) {
          const i = (t, n) => {
            if (!e || n.target.matches(e)) {
              if (typeof this.eventNameOrFunction == "function") {
                this.eventNameOrFunction(n);
              } else {
                this.observable.fire(this.eventNameOrFunction, n);
              }
            }
          };
          this.emitter.listenTo(n.node, t, i);
          return () => {
            this.emitter.stopListening(n.node, t, i);
          };
        }
      }
      class HA extends FA {
        constructor(t) {
          super(t);
          this.valueIfTrue = t.valueIfTrue;
        }
        getValue(t) {
          const e = super.getValue(t);
          return rC(e) ? false : this.valueIfTrue || true;
        }
      }
      function UA(t) {
        if (!t) {
          return false;
        }
        if (t.value) {
          t = t.value;
        }
        if (Array.isArray(t)) {
          return t.some(UA);
        } else if (t instanceof FA) {
          return true;
        }
        return false;
      }
      function qA(t, e) {
        return t.map((t) => {
          if (t instanceof FA) {
            return t.getValue(e);
          }
          return t;
        });
      }
      function WA(t, e, { node: n }) {
        const i = qA(t, n);
        let o;
        if (t.length == 1 && t[0] instanceof HA) {
          o = i[0];
        } else {
          o = i.reduce(nC, "");
        }
        if (rC(o)) {
          e.remove();
        } else {
          e.set(o);
        }
      }
      function GA(t) {
        return {
          set(e) {
            t.textContent = e;
          },
          remove() {
            t.textContent = "";
          },
        };
      }
      function $A(t, e, n) {
        return {
          set(i) {
            t.setAttributeNS(n, e, i);
          },
          remove() {
            t.removeAttributeNS(n, e);
          },
        };
      }
      function KA(t, e) {
        return {
          set(n) {
            t.style[e] = n;
          },
          remove() {
            t.style[e] = null;
          },
        };
      }
      function YA(t) {
        const e = ja(t, (t) => {
          if (t && (t instanceof FA || aC(t) || sC(t) || cC(t))) {
            return t;
          }
        });
        return e;
      }
      function ZA(t) {
        if (typeof t == "string") {
          t = XA(t);
        } else if (t.text) {
          tC(t);
        }
        if (t.on) {
          t.eventListeners = JA(t.on);
          delete t.on;
        }
        if (!t.text) {
          if (t.attributes) {
            QA(t.attributes);
          }
          const e = [];
          if (t.children) {
            if (cC(t.children)) {
              e.push(t.children);
            } else {
              for (const n of t.children) {
                if (aC(n) || sC(n) || Wa(n)) {
                  e.push(n);
                } else {
                  e.push(new jA(n));
                }
              }
            }
          }
          t.children = e;
        }
        return t;
      }
      function QA(t) {
        for (const e in t) {
          if (t[e].value) {
            t[e].value = Yc(t[e].value);
          }
          eC(t, e);
        }
      }
      function JA(t) {
        for (const e in t) {
          eC(t, e);
        }
        return t;
      }
      function XA(t) {
        return { text: [t] };
      }
      function tC(t) {
        t.text = Yc(t.text);
      }
      function eC(t, e) {
        t[e] = Yc(t[e]);
      }
      function nC(t, e) {
        if (rC(e)) {
          return t;
        } else if (rC(t)) {
          return e;
        } else {
          return \`\${t} \${e}\`;
        }
      }
      function iC(t, e) {
        for (const n in e) {
          if (t[n]) {
            t[n].push(...e[n]);
          } else {
            t[n] = e[n];
          }
        }
      }
      function oC(t, e) {
        if (e.attributes) {
          if (!t.attributes) {
            t.attributes = {};
          }
          iC(t.attributes, e.attributes);
        }
        if (e.eventListeners) {
          if (!t.eventListeners) {
            t.eventListeners = {};
          }
          iC(t.eventListeners, e.eventListeners);
        }
        if (e.text) {
          t.text.push(...e.text);
        }
        if (e.children && e.children.length) {
          if (t.children.length != e.children.length) {
            throw new M("ui-template-extend-children-mismatch", t);
          }
          let n = 0;
          for (const i of e.children) {
            oC(t.children[n++], i);
          }
        }
      }
      function rC(t) {
        return !t && t !== 0;
      }
      function sC(t) {
        return t instanceof pC;
      }
      function aC(t) {
        return t instanceof jA;
      }
      function cC(t) {
        return t instanceof PA;
      }
      function lC(t) {
        return it(t[0]) && t[0].ns;
      }
      function dC() {
        return { children: [], bindings: [], attributes: {} };
      }
      function uC(t) {
        return t == "class" || t == "style";
      }
      var hC = n(6150);
      var mC = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      mC.insert = "head";
      mC.singleton = true;
      var gC = Il()(hC.Z, mC);
      const fC = hC.Z.locals || {};
      class pC extends Ka(dt()) {
        constructor(t) {
          super();
          this.element = null;
          this.isRendered = false;
          this.locale = t;
          this.t = t && t.t;
          this._viewCollections = new rl();
          this._unboundChildren = this.createCollection();
          this._viewCollections.on("add", (e, n) => {
            n.locale = t;
            n.t = t && t.t;
          });
          this.decorate("render");
        }
        get bindTemplate() {
          if (this._bindTemplate) {
            return this._bindTemplate;
          }
          return (this._bindTemplate = jA.bind(this, this));
        }
        createCollection(t) {
          const e = new PA(t);
          this._viewCollections.add(e);
          return e;
        }
        registerChild(t) {
          if (!yt(t)) {
            t = [t];
          }
          for (const e of t) {
            this._unboundChildren.add(e);
          }
        }
        deregisterChild(t) {
          if (!yt(t)) {
            t = [t];
          }
          for (const e of t) {
            this._unboundChildren.remove(e);
          }
        }
        setTemplate(t) {
          this.template = new jA(t);
        }
        extendTemplate(t) {
          jA.extend(this.template, t);
        }
        render() {
          if (this.isRendered) {
            throw new M("ui-view-render-already-rendered", this);
          }
          if (this.template) {
            this.element = this.template.render();
            this.registerChild(this.template.getViews());
          }
          this.isRendered = true;
        }
        destroy() {
          this.stopListening();
          this._viewCollections.map((t) => t.destroy());
          if (this.template && this.template._revertData) {
            this.template.revert(this.element);
          }
        }
      }
      var bC = n(8245);
      var kC = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      kC.insert = "head";
      kC.singleton = true;
      var wC = Il()(bC.Z, kC);
      const AC = bC.Z.locals || {};
      const CC = hc("px");
      const _C = Xa.document.body;
      class vC extends pC {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.set("top", 0);
          this.set("left", 0);
          this.set("position", "arrow_nw");
          this.set("isVisible", false);
          this.set("withArrow", true);
          this.set("class", undefined);
          this._pinWhenIsVisibleCallback = null;
          this.content = this.createCollection();
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-balloon-panel",
                e.to("position", (t) => \`ck-balloon-panel_\${t}\`),
                e.if("isVisible", "ck-balloon-panel_visible"),
                e.if("withArrow", "ck-balloon-panel_with-arrow"),
                e.to("class"),
              ],
              style: { top: e.to("top", CC), left: e.to("left", CC) },
            },
            children: this.content,
          });
        }
        show() {
          this.isVisible = true;
        }
        hide() {
          this.isVisible = false;
        }
        attachTo(t) {
          this.show();
          const e = vC.defaultPositions;
          const n = Object.assign(
            {},
            {
              element: this.element,
              positions: [
                e.southArrowNorth,
                e.southArrowNorthMiddleWest,
                e.southArrowNorthMiddleEast,
                e.southArrowNorthWest,
                e.southArrowNorthEast,
                e.northArrowSouth,
                e.northArrowSouthMiddleWest,
                e.northArrowSouthMiddleEast,
                e.northArrowSouthWest,
                e.northArrowSouthEast,
                e.viewportStickyNorth,
              ],
              limiter: _C,
              fitInViewport: true,
            },
            t
          );
          const i = vC._getOptimalPosition(n);
          const o = parseInt(i.left);
          const r = parseInt(i.top);
          const s = i.name;
          const a = i.config || {};
          const { withArrow: c = true } = a;
          this.top = r;
          this.left = o;
          this.position = s;
          this.withArrow = c;
        }
        pin(t) {
          this.unpin();
          this._pinWhenIsVisibleCallback = () => {
            if (this.isVisible) {
              this._startPinning(t);
            } else {
              this._stopPinning();
            }
          };
          this._startPinning(t);
          this.listenTo(
            this,
            "change:isVisible",
            this._pinWhenIsVisibleCallback
          );
        }
        unpin() {
          if (this._pinWhenIsVisibleCallback) {
            this._stopPinning();
            this.stopListening(
              this,
              "change:isVisible",
              this._pinWhenIsVisibleCallback
            );
            this._pinWhenIsVisibleCallback = null;
            this.hide();
          }
        }
        _startPinning(t) {
          this.attachTo(t);
          const e = yC(t.target);
          const n = t.limiter ? yC(t.limiter) : _C;
          this.listenTo(
            Xa.document,
            "scroll",
            (i, o) => {
              const r = o.target;
              const s = e && r.contains(e);
              const a = n && r.contains(n);
              if (s || a || !e || !n) {
                this.attachTo(t);
              }
            },
            { useCapture: true }
          );
          this.listenTo(Xa.window, "resize", () => {
            this.attachTo(t);
          });
        }
        _stopPinning() {
          this.stopListening(Xa.document, "scroll");
          this.stopListening(Xa.window, "resize");
        }
      }
      vC.arrowSideOffset = 25;
      vC.arrowHeightOffset = 10;
      vC.stickyVerticalOffset = 20;
      vC._getOptimalPosition = kc;
      vC.defaultPositions = xC();
      function yC(t) {
        if (Va(t)) {
          return t;
        }
        if (ic(t)) {
          return t.commonAncestorContainer;
        }
        if (typeof t == "function") {
          return yC(t());
        }
        return null;
      }
      function xC(t = {}) {
        const {
          sideOffset: e = vC.arrowSideOffset,
          heightOffset: n = vC.arrowHeightOffset,
          stickyVerticalOffset: i = vC.stickyVerticalOffset,
          config: o,
        } = t;
        return {
          northWestArrowSouthWest: (t, n) => ({
            top: r(t, n),
            left: t.left - e,
            name: "arrow_sw",
            ...(o && { config: o }),
          }),
          northWestArrowSouthMiddleWest: (t, n) => ({
            top: r(t, n),
            left: t.left - n.width * 0.25 - e,
            name: "arrow_smw",
            ...(o && { config: o }),
          }),
          northWestArrowSouth: (t, e) => ({
            top: r(t, e),
            left: t.left - e.width / 2,
            name: "arrow_s",
            ...(o && { config: o }),
          }),
          northWestArrowSouthMiddleEast: (t, n) => ({
            top: r(t, n),
            left: t.left - n.width * 0.75 + e,
            name: "arrow_sme",
            ...(o && { config: o }),
          }),
          northWestArrowSouthEast: (t, n) => ({
            top: r(t, n),
            left: t.left - n.width + e,
            name: "arrow_se",
            ...(o && { config: o }),
          }),
          northArrowSouthWest: (t, n) => ({
            top: r(t, n),
            left: t.left + t.width / 2 - e,
            name: "arrow_sw",
            ...(o && { config: o }),
          }),
          northArrowSouthMiddleWest: (t, n) => ({
            top: r(t, n),
            left: t.left + t.width / 2 - n.width * 0.25 - e,
            name: "arrow_smw",
            ...(o && { config: o }),
          }),
          northArrowSouth: (t, e) => ({
            top: r(t, e),
            left: t.left + t.width / 2 - e.width / 2,
            name: "arrow_s",
            ...(o && { config: o }),
          }),
          northArrowSouthMiddleEast: (t, n) => ({
            top: r(t, n),
            left: t.left + t.width / 2 - n.width * 0.75 + e,
            name: "arrow_sme",
            ...(o && { config: o }),
          }),
          northArrowSouthEast: (t, n) => ({
            top: r(t, n),
            left: t.left + t.width / 2 - n.width + e,
            name: "arrow_se",
            ...(o && { config: o }),
          }),
          northEastArrowSouthWest: (t, n) => ({
            top: r(t, n),
            left: t.right - e,
            name: "arrow_sw",
            ...(o && { config: o }),
          }),
          northEastArrowSouthMiddleWest: (t, n) => ({
            top: r(t, n),
            left: t.right - n.width * 0.25 - e,
            name: "arrow_smw",
            ...(o && { config: o }),
          }),
          northEastArrowSouth: (t, e) => ({
            top: r(t, e),
            left: t.right - e.width / 2,
            name: "arrow_s",
            ...(o && { config: o }),
          }),
          northEastArrowSouthMiddleEast: (t, n) => ({
            top: r(t, n),
            left: t.right - n.width * 0.75 + e,
            name: "arrow_sme",
            ...(o && { config: o }),
          }),
          northEastArrowSouthEast: (t, n) => ({
            top: r(t, n),
            left: t.right - n.width + e,
            name: "arrow_se",
            ...(o && { config: o }),
          }),
          southWestArrowNorthWest: (t) => ({
            top: s(t),
            left: t.left - e,
            name: "arrow_nw",
            ...(o && { config: o }),
          }),
          southWestArrowNorthMiddleWest: (t, n) => ({
            top: s(t),
            left: t.left - n.width * 0.25 - e,
            name: "arrow_nmw",
            ...(o && { config: o }),
          }),
          southWestArrowNorth: (t, e) => ({
            top: s(t),
            left: t.left - e.width / 2,
            name: "arrow_n",
            ...(o && { config: o }),
          }),
          southWestArrowNorthMiddleEast: (t, n) => ({
            top: s(t),
            left: t.left - n.width * 0.75 + e,
            name: "arrow_nme",
            ...(o && { config: o }),
          }),
          southWestArrowNorthEast: (t, n) => ({
            top: s(t),
            left: t.left - n.width + e,
            name: "arrow_ne",
            ...(o && { config: o }),
          }),
          southArrowNorthWest: (t) => ({
            top: s(t),
            left: t.left + t.width / 2 - e,
            name: "arrow_nw",
            ...(o && { config: o }),
          }),
          southArrowNorthMiddleWest: (t, n) => ({
            top: s(t),
            left: t.left + t.width / 2 - n.width * 0.25 - e,
            name: "arrow_nmw",
            ...(o && { config: o }),
          }),
          southArrowNorth: (t, e) => ({
            top: s(t),
            left: t.left + t.width / 2 - e.width / 2,
            name: "arrow_n",
            ...(o && { config: o }),
          }),
          southArrowNorthMiddleEast: (t, n) => ({
            top: s(t),
            left: t.left + t.width / 2 - n.width * 0.75 + e,
            name: "arrow_nme",
            ...(o && { config: o }),
          }),
          southArrowNorthEast: (t, n) => ({
            top: s(t),
            left: t.left + t.width / 2 - n.width + e,
            name: "arrow_ne",
            ...(o && { config: o }),
          }),
          southEastArrowNorthWest: (t) => ({
            top: s(t),
            left: t.right - e,
            name: "arrow_nw",
            ...(o && { config: o }),
          }),
          southEastArrowNorthMiddleWest: (t, n) => ({
            top: s(t),
            left: t.right - n.width * 0.25 - e,
            name: "arrow_nmw",
            ...(o && { config: o }),
          }),
          southEastArrowNorth: (t, e) => ({
            top: s(t),
            left: t.right - e.width / 2,
            name: "arrow_n",
            ...(o && { config: o }),
          }),
          southEastArrowNorthMiddleEast: (t, n) => ({
            top: s(t),
            left: t.right - n.width * 0.75 + e,
            name: "arrow_nme",
            ...(o && { config: o }),
          }),
          southEastArrowNorthEast: (t, n) => ({
            top: s(t),
            left: t.right - n.width + e,
            name: "arrow_ne",
            ...(o && { config: o }),
          }),
          westArrowEast: (t, e) => ({
            top: t.top + t.height / 2 - e.height / 2,
            left: t.left - e.width - n,
            name: "arrow_e",
            ...(o && { config: o }),
          }),
          eastArrowWest: (t, e) => ({
            top: t.top + t.height / 2 - e.height / 2,
            left: t.right + n,
            name: "arrow_w",
            ...(o && { config: o }),
          }),
          viewportStickyNorth: (t, e, n) => {
            if (!t.getIntersection(n)) {
              return null;
            }
            return {
              top: n.top + i,
              left: t.left + t.width / 2 - e.width / 2,
              name: "arrowless",
              config: { withArrow: false, ...o },
            };
          },
        };
        function r(t, e) {
          return t.top - e.height - n;
        }
        function s(t) {
          return t.bottom + n;
        }
      }
      var EC = n(9948);
      var DC = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      DC.insert = "head";
      DC.singleton = true;
      var SC = Il()(EC.Z, DC);
      const TC = EC.Z.locals || {};
      const IC = "ck-tooltip";
      class MC extends Ka() {
        constructor(t) {
          super();
          MC._editors.add(t);
          if (MC._instance) {
            return MC._instance;
          }
          MC._instance = this;
          this.tooltipTextView = new pC(t.locale);
          this.tooltipTextView.set("text", "");
          this.tooltipTextView.setTemplate({
            tag: "span",
            attributes: { class: ["ck", "ck-tooltip__text"] },
            children: [{ text: this.tooltipTextView.bindTemplate.to("text") }],
          });
          this.balloonPanelView = new vC(t.locale);
          this.balloonPanelView.class = IC;
          this.balloonPanelView.content.add(this.tooltipTextView);
          this._resizeObserver = null;
          this._currentElementWithTooltip = null;
          this._currentTooltipPosition = null;
          this._pinTooltipDebounced = Qm(this._pinTooltip, 600);
          this.listenTo(
            Xa.document,
            "mouseenter",
            this._onEnterOrFocus.bind(this),
            { useCapture: true }
          );
          this.listenTo(
            Xa.document,
            "mouseleave",
            this._onLeaveOrBlur.bind(this),
            { useCapture: true }
          );
          this.listenTo(Xa.document, "focus", this._onEnterOrFocus.bind(this), {
            useCapture: true,
          });
          this.listenTo(Xa.document, "blur", this._onLeaveOrBlur.bind(this), {
            useCapture: true,
          });
          this.listenTo(Xa.document, "scroll", this._onScroll.bind(this), {
            useCapture: true,
          });
          this._watchdogExcluded = true;
        }
        destroy(t) {
          const e = t.ui.view && t.ui.view.body;
          MC._editors.delete(t);
          this.stopListening(t.ui);
          if (e && e.has(this.balloonPanelView)) {
            e.remove(this.balloonPanelView);
          }
          if (!MC._editors.size) {
            this._unpinTooltip();
            this.balloonPanelView.destroy();
            this.stopListening();
            MC._instance = null;
          }
        }
        static getPositioningFunctions(t) {
          const e = MC.defaultBalloonPositions;
          return {
            s: [
              e.southArrowNorth,
              e.southArrowNorthEast,
              e.southArrowNorthWest,
            ],
            n: [e.northArrowSouth],
            e: [e.eastArrowWest],
            w: [e.westArrowEast],
            sw: [e.southArrowNorthEast],
            se: [e.southArrowNorthWest],
          }[t];
        }
        _onEnterOrFocus(t, { target: e }) {
          const n = BC(e);
          if (!n) {
            return;
          }
          if (n === this._currentElementWithTooltip) {
            return;
          }
          this._unpinTooltip();
          this._pinTooltipDebounced(n, LC(n));
        }
        _onLeaveOrBlur(t, { target: e, relatedTarget: n }) {
          if (t.name === "mouseleave") {
            if (!Va(e)) {
              return;
            }
            if (
              this._currentElementWithTooltip &&
              e !== this._currentElementWithTooltip
            ) {
              return;
            }
            const t = BC(e);
            const i = BC(n);
            if (t && t !== i) {
              this._unpinTooltip();
            }
          } else {
            if (
              this._currentElementWithTooltip &&
              e !== this._currentElementWithTooltip
            ) {
              return;
            }
            this._unpinTooltip();
          }
        }
        _onScroll(t, { target: e }) {
          if (!this._currentElementWithTooltip) {
            return;
          }
          if (
            e.contains(this.balloonPanelView.element) &&
            e.contains(this._currentElementWithTooltip)
          ) {
            return;
          }
          this._unpinTooltip();
        }
        _pinTooltip(t, { text: e, position: n, cssClass: i }) {
          const o = sl(MC._editors.values()).ui.view.body;
          if (!o.has(this.balloonPanelView)) {
            o.add(this.balloonPanelView);
          }
          this.tooltipTextView.text = e;
          this.balloonPanelView.pin({
            target: t,
            positions: MC.getPositioningFunctions(n),
          });
          this._resizeObserver = new dc(t, () => {
            if (!pc(t)) {
              this._unpinTooltip();
            }
          });
          this.balloonPanelView.class = [IC, i].filter((t) => t).join(" ");
          for (const t of MC._editors) {
            this.listenTo(
              t.ui,
              "update",
              this._updateTooltipPosition.bind(this),
              { priority: "low" }
            );
          }
          this._currentElementWithTooltip = t;
          this._currentTooltipPosition = n;
        }
        _unpinTooltip() {
          this._pinTooltipDebounced.cancel();
          this.balloonPanelView.unpin();
          for (const t of MC._editors) {
            this.stopListening(t.ui, "update");
          }
          this._currentElementWithTooltip = null;
          this._currentTooltipPosition = null;
          if (this._resizeObserver) {
            this._resizeObserver.destroy();
          }
        }
        _updateTooltipPosition() {
          if (!pc(this._currentElementWithTooltip)) {
            this._unpinTooltip();
            return;
          }
          this.balloonPanelView.pin({
            target: this._currentElementWithTooltip,
            positions: MC.getPositioningFunctions(this._currentTooltipPosition),
          });
        }
      }
      MC.defaultBalloonPositions = xC({ heightOffset: 5, sideOffset: 13 });
      MC._editors = new Set();
      MC._instance = null;
      function BC(t) {
        if (!Va(t)) {
          return null;
        }
        return t.closest(
          "[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"
        );
      }
      function LC(t) {
        return {
          text: t.dataset.ckeTooltipText,
          position: t.dataset.ckeTooltipPosition || "s",
          cssClass: t.dataset.ckeTooltipClass || "",
        };
      }
      class NC extends dt() {
        constructor(t) {
          super();
          this.editor = t;
          this.componentFactory = new NA(t);
          this.focusTracker = new al();
          this.tooltipManager = new MC(t);
          this.set("viewportOffset", this._readViewportOffsetFromConfig());
          this.isReady = false;
          this.once("ready", () => {
            this.isReady = true;
          });
          this._editableElementsMap = new Map();
          this._focusableToolbarDefinitions = [];
          this.listenTo(t.editing.view.document, "layoutChanged", () =>
            this.update()
          );
          this._initFocusTracking();
        }
        get element() {
          return null;
        }
        update() {
          this.fire("update");
        }
        destroy() {
          this.stopListening();
          this.focusTracker.destroy();
          this.tooltipManager.destroy(this.editor);
          for (const t of this._editableElementsMap.values()) {
            t.ckeditorInstance = null;
          }
          this._editableElementsMap = new Map();
          this._focusableToolbarDefinitions = [];
        }
        setEditableElement(t, e) {
          this._editableElementsMap.set(t, e);
          if (!e.ckeditorInstance) {
            e.ckeditorInstance = this.editor;
          }
          this.focusTracker.add(e);
          const n = () => {
            if (this.editor.editing.view.getDomRoot(t)) {
              return;
            }
            this.editor.keystrokes.listenTo(e);
          };
          if (this.isReady) {
            n();
          } else {
            this.once("ready", n);
          }
        }
        getEditableElement(t = "main") {
          return this._editableElementsMap.get(t);
        }
        getEditableElementsNames() {
          return this._editableElementsMap.keys();
        }
        addToolbar(t, e = {}) {
          if (t.isRendered) {
            this.focusTracker.add(t.element);
            this.editor.keystrokes.listenTo(t.element);
          } else {
            t.once("render", () => {
              this.focusTracker.add(t.element);
              this.editor.keystrokes.listenTo(t.element);
            });
          }
          this._focusableToolbarDefinitions.push({
            toolbarView: t,
            options: e,
          });
        }
        get _editableElements() {
          console.warn(
            "editor-ui-deprecated-editable-elements: " +
              "The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",
            { editorUI: this }
          );
          return this._editableElementsMap;
        }
        _readViewportOffsetFromConfig() {
          const t = this.editor;
          const e = t.config.get("ui.viewportOffset");
          if (e) {
            return e;
          }
          const n = t.config.get("toolbar.viewportTopOffset");
          if (n) {
            console.warn(
              "editor-ui-deprecated-viewport-offset-config: " +
                "The \`toolbar.vieportTopOffset\` configuration option is deprecated. " +
                "It will be removed from future CKEditor versions. Use \`ui.viewportOffset.top\` instead."
            );
            return { top: n };
          }
          return { top: 0 };
        }
        _initFocusTracking() {
          const t = this.editor;
          const e = t.editing.view;
          let n;
          let i;
          t.keystrokes.set("Alt+F10", (t, o) => {
            const r = this.focusTracker.focusedElement;
            if (
              Array.from(this._editableElementsMap.values()).includes(r) &&
              !Array.from(e.domRoots.values()).includes(r)
            ) {
              n = r;
            }
            const s = this._getCurrentFocusedToolbarDefinition();
            if (!s || !i) {
              i = this._getFocusableCandidateToolbarDefinitions();
            }
            for (let t = 0; t < i.length; t++) {
              const t = i.shift();
              i.push(t);
              if (t !== s && this._focusFocusableCandidateToolbar(t)) {
                if (s && s.options.afterBlur) {
                  s.options.afterBlur();
                }
                break;
              }
            }
            o();
          });
          t.keystrokes.set("Esc", (e, i) => {
            const o = this._getCurrentFocusedToolbarDefinition();
            if (!o) {
              return;
            }
            if (n) {
              n.focus();
              n = null;
            } else {
              t.editing.view.focus();
            }
            if (o.options.afterBlur) {
              o.options.afterBlur();
            }
            i();
          });
        }
        _getFocusableCandidateToolbarDefinitions() {
          const t = [];
          for (const e of this._focusableToolbarDefinitions) {
            const { toolbarView: n, options: i } = e;
            if (pc(n.element) || i.beforeFocus) {
              t.push(e);
            }
          }
          t.sort((t, e) => zC(t) - zC(e));
          return t;
        }
        _getCurrentFocusedToolbarDefinition() {
          for (const t of this._focusableToolbarDefinitions) {
            if (
              t.toolbarView.element &&
              t.toolbarView.element.contains(this.focusTracker.focusedElement)
            ) {
              return t;
            }
          }
          return null;
        }
        _focusFocusableCandidateToolbar(t) {
          const {
            toolbarView: e,
            options: { beforeFocus: n },
          } = t;
          if (n) {
            n();
          }
          if (!pc(e.element)) {
            return false;
          }
          e.focus();
          return true;
        }
      }
      function zC(t) {
        const { toolbarView: e, options: n } = t;
        let i = 10;
        if (pc(e.element)) {
          i--;
        }
        if (n.isContextual) {
          i--;
        }
        return i;
      }
      function PC(t) {
        if (!qe(t.updateSourceElement)) {
          throw new M("attachtoform-missing-elementapi-interface", t);
        }
        const e = t.sourceElement;
        if (RC(e) && e.form) {
          let n;
          const i = e.form;
          const o = () => t.updateSourceElement();
          if (qe(i.submit)) {
            n = i.submit;
            i.submit = () => {
              o();
              n.apply(i);
            };
          }
          i.addEventListener("submit", o);
          t.on("destroy", () => {
            i.removeEventListener("submit", o);
            if (n) {
              i.submit = n;
            }
          });
        }
      }
      function RC(t) {
        return !!t && t.tagName.toLowerCase() === "textarea";
      }
      function OC(t) {
        class e extends t {
          setData(t) {
            this.data.set(t);
          }
          getData(t) {
            return this.data.get(t);
          }
        }
        return e;
      }
      {
        const t = OC(Object);
        OC.setData = t.prototype.setData;
        OC.getData = t.prototype.getData;
      }
      function jC(t) {
        class e extends t {
          updateSourceElement(t = this.data.get()) {
            if (!this.sourceElement) {
              throw new M("editor-missing-sourceelement", this);
            }
            const e = this.config.get("updateSourceElementOnDestroy");
            const n = this.sourceElement instanceof HTMLTextAreaElement;
            if (!e && !n) {
              uc(this.sourceElement, "");
              return;
            }
            uc(this.sourceElement, t);
          }
        }
        return e;
      }
      jC.updateSourceElement = jC(Object).prototype.updateSourceElement;
      function FC(t) {
        const e = t.sourceElement;
        if (!e) {
          return;
        }
        if (e.ckeditorInstance) {
          throw new M("editor-source-element-already-used", t);
        }
        e.ckeditorInstance = t;
        t.once("destroy", () => {
          delete e.ckeditorInstance;
        });
      }
      class VC extends Sl {
        static get pluginName() {
          return "PendingActions";
        }
        init() {
          this.set("hasAny", false);
          this._actions = new rl({ idProperty: "_id" });
          this._actions.delegate("add", "remove").to(this);
        }
        add(t) {
          if (typeof t !== "string") {
            throw new M("pendingactions-add-invalid-message", this);
          }
          const e = new (dt())();
          e.set("message", t);
          this._actions.add(e);
          this.hasAny = true;
          return e;
        }
        remove(t) {
          this._actions.remove(t);
          this.hasAny = !!this._actions.length;
        }
        get first() {
          return this._actions.get(0);
        }
        [Symbol.iterator]() {
          return this._actions[Symbol.iterator]();
        }
      }
      const HC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';
      const UC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>';
      const qC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>';
      const WC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>';
      const GC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';
      const $C =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>';
      const KC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';
      const YC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>';
      const ZC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>';
      const QC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>';
      const JC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';
      const XC =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>';
      const t_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>';
      const e_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';
      const n_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';
      const i_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>';
      const o_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>';
      const r_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>';
      const s_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';
      const a_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';
      const c_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>';
      const l_ =
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>';
      const d_ =
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>';
      const u_ =
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>';
      const h_ =
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>';
      const m_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>';
      const g_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>';
      const f_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';
      const p_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';
      const b_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';
      const k_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>';
      const w_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>';
      const A_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>';
      const C_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>';
      const __ = {
        bold: b_,
        cancel: HC,
        caption: UC,
        check: qC,
        cog: WC,
        eraser: GC,
        image: KC,
        lowVision: $C,
        importExport: C_,
        paragraph: k_,
        plus: w_,
        text: A_,
        alignBottom: YC,
        alignMiddle: ZC,
        alignTop: QC,
        alignLeft: JC,
        alignCenter: XC,
        alignRight: t_,
        alignJustify: e_,
        objectLeft: a_,
        objectCenter: i_,
        objectRight: c_,
        objectFullWidth: r_,
        objectInline: s_,
        objectBlockLeft: n_,
        objectBlockRight: o_,
        objectSizeFull: l_,
        objectSizeLarge: d_,
        objectSizeSmall: u_,
        objectSizeMedium: h_,
        pencil: m_,
        pilcrow: g_,
        quote: f_,
        threeVerticalDots: p_,
      };
      function v_({
        emitter: t,
        activator: e,
        callback: n,
        contextElements: i,
      }) {
        t.listenTo(document, "mousedown", (t, o) => {
          if (!e()) {
            return;
          }
          const r = typeof o.composedPath == "function" ? o.composedPath() : [];
          for (const t of i) {
            if (t.contains(o.target) || r.includes(t)) {
              return;
            }
          }
          n();
        });
      }
      function y_(t) {
        const e = t;
        e.set("_isCssTransitionsDisabled", false);
        e.disableCssTransitions = () => {
          e._isCssTransitionsDisabled = true;
        };
        e.enableCssTransitions = () => {
          e._isCssTransitionsDisabled = false;
        };
        e.extendTemplate({
          attributes: {
            class: [
              e.bindTemplate.if(
                "_isCssTransitionsDisabled",
                "ck-transitions-disabled"
              ),
            ],
          },
        });
      }
      function x_({ view: t }) {
        t.listenTo(
          t.element,
          "submit",
          (e, n) => {
            n.preventDefault();
            t.fire("submit");
          },
          { useCapture: true }
        );
      }
      function E_({
        keystrokeHandler: t,
        focusTracker: e,
        gridItems: n,
        numberOfColumns: i,
        uiLanguageDirection: o,
      }) {
        const r = typeof i === "number" ? () => i : i;
        t.set(
          "arrowright",
          s((t, e) => (o === "rtl" ? c(t, e.length) : a(t, e.length)))
        );
        t.set(
          "arrowleft",
          s((t, e) => (o === "rtl" ? a(t, e.length) : c(t, e.length)))
        );
        t.set(
          "arrowup",
          s((t, e) => {
            let n = t - r();
            if (n < 0) {
              n = t + r() * Math.floor(e.length / r());
              if (n > e.length - 1) {
                n -= r();
              }
            }
            return n;
          })
        );
        t.set(
          "arrowdown",
          s((t, e) => {
            let n = t + r();
            if (n > e.length - 1) {
              n = t % r();
            }
            return n;
          })
        );
        function s(t) {
          return (i) => {
            const o = n.find((t) => t.element === e.focusedElement);
            const r = n.getIndex(o);
            const s = t(r, n);
            n.get(s).focus();
            i.stopPropagation();
            i.preventDefault();
          };
        }
        function a(t, e) {
          if (t === e - 1) {
            return 0;
          } else {
            return t + 1;
          }
        }
        function c(t, e) {
          if (t === 0) {
            return e - 1;
          } else {
            return t - 1;
          }
        }
      }
      class D_ extends PA {
        constructor(t, e = []) {
          super(e);
          this.locale = t;
        }
        attachToDom() {
          this._bodyCollectionContainer = new jA({
            tag: "div",
            attributes: {
              class: ["ck", "ck-reset_all", "ck-body", "ck-rounded-corners"],
              dir: this.locale.uiLanguageDirection,
            },
            children: this,
          }).render();
          let t = document.querySelector(".ck-body-wrapper");
          if (!t) {
            t = te(document, "div", { class: "ck-body-wrapper" });
            document.body.appendChild(t);
          }
          t.appendChild(this._bodyCollectionContainer);
        }
        detachFromDom() {
          super.destroy();
          if (this._bodyCollectionContainer) {
            this._bodyCollectionContainer.remove();
          }
          const t = document.querySelector(".ck-body-wrapper");
          if (t && t.childElementCount == 0) {
            t.remove();
          }
        }
      }
      var S_ = n(1174);
      var T_ = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      T_.insert = "head";
      T_.singleton = true;
      var I_ = Il()(S_.Z, T_);
      const M_ = S_.Z.locals || {};
      class B_ extends pC {
        constructor() {
          super();
          const t = this.bindTemplate;
          this.set("content", "");
          this.set("viewBox", "0 0 20 20");
          this.set("fillColor", "");
          this.set("isColorInherited", true);
          this.setTemplate({
            tag: "svg",
            ns: "http://www.w3.org/2000/svg",
            attributes: {
              class: [
                "ck",
                "ck-icon",
                "ck-reset_all-excluded",
                t.if("isColorInherited", "ck-icon_inherit-color"),
              ],
              viewBox: t.to("viewBox"),
            },
          });
        }
        render() {
          super.render();
          this._updateXMLContent();
          this._colorFillPaths();
          this.on("change:content", () => {
            this._updateXMLContent();
            this._colorFillPaths();
          });
          this.on("change:fillColor", () => {
            this._colorFillPaths();
          });
        }
        _updateXMLContent() {
          if (this.content) {
            const t = new DOMParser().parseFromString(
              this.content.trim(),
              "image/svg+xml"
            );
            const e = t.querySelector("svg");
            const n = e.getAttribute("viewBox");
            if (n) {
              this.viewBox = n;
            }
            for (const { name: t, value: n } of Array.from(e.attributes)) {
              if (B_.presentationalAttributeNames.includes(t)) {
                this.element.setAttribute(t, n);
              }
            }
            while (this.element.firstChild) {
              this.element.removeChild(this.element.firstChild);
            }
            while (e.childNodes.length > 0) {
              this.element.appendChild(e.childNodes[0]);
            }
          }
        }
        _colorFillPaths() {
          if (this.fillColor) {
            this.element.querySelectorAll(".ck-icon__fill").forEach((t) => {
              t.style.fill = this.fillColor;
            });
          }
        }
      }
      B_.presentationalAttributeNames = [
        "alignment-baseline",
        "baseline-shift",
        "clip-path",
        "clip-rule",
        "color",
        "color-interpolation",
        "color-interpolation-filters",
        "color-rendering",
        "cursor",
        "direction",
        "display",
        "dominant-baseline",
        "fill",
        "fill-opacity",
        "fill-rule",
        "filter",
        "flood-color",
        "flood-opacity",
        "font-family",
        "font-size",
        "font-size-adjust",
        "font-stretch",
        "font-style",
        "font-variant",
        "font-weight",
        "image-rendering",
        "letter-spacing",
        "lighting-color",
        "marker-end",
        "marker-mid",
        "marker-start",
        "mask",
        "opacity",
        "overflow",
        "paint-order",
        "pointer-events",
        "shape-rendering",
        "stop-color",
        "stop-opacity",
        "stroke",
        "stroke-dasharray",
        "stroke-dashoffset",
        "stroke-linecap",
        "stroke-linejoin",
        "stroke-miterlimit",
        "stroke-opacity",
        "stroke-width",
        "text-anchor",
        "text-decoration",
        "text-overflow",
        "text-rendering",
        "transform",
        "unicode-bidi",
        "vector-effect",
        "visibility",
        "white-space",
        "word-spacing",
        "writing-mode",
      ];
      var L_ = n(4499);
      var N_ = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      N_.insert = "head";
      N_.singleton = true;
      var z_ = Il()(L_.Z, N_);
      const P_ = L_.Z.locals || {};
      class R_ extends pC {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          const n = E();
          this.set("class", undefined);
          this.set("labelStyle", undefined);
          this.set("icon", undefined);
          this.set("isEnabled", true);
          this.set("isOn", false);
          this.set("isVisible", true);
          this.set("isToggleable", false);
          this.set("keystroke", undefined);
          this.set("label", undefined);
          this.set("tabindex", -1);
          this.set("tooltip", false);
          this.set("tooltipPosition", "s");
          this.set("type", "button");
          this.set("withText", false);
          this.set("withKeystroke", false);
          this.children = this.createCollection();
          this.labelView = this._createLabelView(n);
          this.iconView = new B_();
          this.iconView.extendTemplate({
            attributes: { class: "ck-button__icon" },
          });
          this.keystrokeView = this._createKeystrokeView();
          this.bind("_tooltipString").to(
            this,
            "tooltip",
            this,
            "label",
            this,
            "keystroke",
            this._getTooltipString.bind(this)
          );
          const i = {
            tag: "button",
            attributes: {
              class: [
                "ck",
                "ck-button",
                e.to("class"),
                e.if("isEnabled", "ck-disabled", (t) => !t),
                e.if("isVisible", "ck-hidden", (t) => !t),
                e.to("isOn", (t) => (t ? "ck-on" : "ck-off")),
                e.if("withText", "ck-button_with-text"),
                e.if("withKeystroke", "ck-button_with-keystroke"),
              ],
              type: e.to("type", (t) => (t ? t : "button")),
              tabindex: e.to("tabindex"),
              "aria-labelledby": \`ck-editor__aria-label_\${n}\`,
              "aria-disabled": e.if("isEnabled", true, (t) => !t),
              "aria-pressed": e.to("isOn", (t) =>
                this.isToggleable ? String(!!t) : false
              ),
              "data-cke-tooltip-text": e.to("_tooltipString"),
              "data-cke-tooltip-position": e.to("tooltipPosition"),
            },
            children: this.children,
            on: {
              click: e.to((t) => {
                if (this.isEnabled) {
                  this.fire("execute");
                } else {
                  t.preventDefault();
                }
              }),
            },
          };
          if (r.isSafari) {
            i.on.mousedown = e.to((t) => {
              this.focus();
              t.preventDefault();
            });
          }
          this.setTemplate(i);
        }
        render() {
          super.render();
          if (this.icon) {
            this.iconView.bind("content").to(this, "icon");
            this.children.add(this.iconView);
          }
          this.children.add(this.labelView);
          if (this.withKeystroke && this.keystroke) {
            this.children.add(this.keystrokeView);
          }
        }
        focus() {
          this.element.focus();
        }
        _createLabelView(t) {
          const e = new pC();
          const n = this.bindTemplate;
          e.setTemplate({
            tag: "span",
            attributes: {
              class: ["ck", "ck-button__label"],
              style: n.to("labelStyle"),
              id: \`ck-editor__aria-label_\${t}\`,
            },
            children: [{ text: this.bindTemplate.to("label") }],
          });
          return e;
        }
        _createKeystrokeView() {
          const t = new pC();
          t.setTemplate({
            tag: "span",
            attributes: { class: ["ck", "ck-button__keystroke"] },
            children: [
              { text: this.bindTemplate.to("keystroke", (t) => Hc(t)) },
            ],
          });
          return t;
        }
        _getTooltipString(t, e, n) {
          if (t) {
            if (typeof t == "string") {
              return t;
            } else {
              if (n) {
                n = Hc(n);
              }
              if (t instanceof Function) {
                return t(e, n);
              } else {
                return \`\${e}\${n ? \` (\${n})\` : ""}\`;
              }
            }
          }
          return "";
        }
      }
      var O_ = n(9681);
      var j_ = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      j_.insert = "head";
      j_.singleton = true;
      var F_ = Il()(O_.Z, j_);
      const V_ = O_.Z.locals || {};
      class H_ extends R_ {
        constructor(t) {
          super(t);
          this.isToggleable = true;
          this.toggleSwitchView = this._createToggleView();
          this.extendTemplate({ attributes: { class: "ck-switchbutton" } });
        }
        render() {
          super.render();
          this.children.add(this.toggleSwitchView);
        }
        _createToggleView() {
          const t = new pC();
          t.setTemplate({
            tag: "span",
            attributes: { class: ["ck", "ck-button__toggle"] },
            children: [
              {
                tag: "span",
                attributes: { class: ["ck", "ck-button__toggle__inner"] },
              },
            ],
          });
          return t;
        }
      }
      function U_(t, e) {
        const n = t.t;
        const i = {
          Black: n("Black"),
          "Dim grey": n("Dim grey"),
          Grey: n("Grey"),
          "Light grey": n("Light grey"),
          White: n("White"),
          Red: n("Red"),
          Orange: n("Orange"),
          Yellow: n("Yellow"),
          "Light green": n("Light green"),
          Green: n("Green"),
          Aquamarine: n("Aquamarine"),
          Turquoise: n("Turquoise"),
          "Light blue": n("Light blue"),
          Blue: n("Blue"),
          Purple: n("Purple"),
        };
        return e.map((t) => {
          const e = i[t.label];
          if (e && e != t.label) {
            t.label = e;
          }
          return t;
        });
      }
      function q_(t) {
        return t.map(W_).filter((t) => !!t);
      }
      function W_(t) {
        if (typeof t === "string") {
          return {
            model: t,
            label: t,
            hasBorder: false,
            view: { name: "span", styles: { color: t } },
          };
        } else {
          return {
            model: t.color,
            label: t.label || t.color,
            hasBorder: t.hasBorder === undefined ? false : t.hasBorder,
            view: { name: "span", styles: { color: \`\${t.color}\` } },
          };
        }
      }
      const G_ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';
      class $_ extends R_ {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.set("color", undefined);
          this.set("hasBorder", false);
          this.icon = G_;
          this.extendTemplate({
            attributes: {
              style: { backgroundColor: e.to("color") },
              class: [
                "ck",
                "ck-color-grid__tile",
                e.if("hasBorder", "ck-color-table__color-tile_bordered"),
              ],
            },
          });
        }
        render() {
          super.render();
          this.iconView.fillColor = "hsl(0, 0%, 100%)";
        }
      }
      var K_ = n(4923);
      var Y_ = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Y_.insert = "head";
      Y_.singleton = true;
      var Z_ = Il()(K_.Z, Y_);
      const Q_ = K_.Z.locals || {};
      class J_ extends pC {
        constructor(t, e) {
          super(t);
          const n = (e && e.colorDefinitions) || [];
          this.columns = e && e.columns ? e.columns : 5;
          const i = { gridTemplateColumns: \`repeat( \${this.columns}, 1fr)\` };
          this.set("selectedColor", undefined);
          this.items = this.createCollection();
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.items.on("add", (t, e) => {
            e.isOn = e.color === this.selectedColor;
          });
          n.forEach((t) => {
            const e = new $_();
            e.set({
              color: t.color,
              label: t.label,
              tooltip: true,
              hasBorder: t.options.hasBorder,
            });
            e.on("execute", () => {
              this.fire("execute", {
                value: t.color,
                hasBorder: t.options.hasBorder,
                label: t.label,
              });
            });
            this.items.add(e);
          });
          this.setTemplate({
            tag: "div",
            children: this.items,
            attributes: { class: ["ck", "ck-color-grid"], style: i },
          });
          this.on("change:selectedColor", (t, e, n) => {
            for (const t of this.items) {
              t.isOn = t.color === n;
            }
          });
        }
        focus() {
          if (this.items.length) {
            this.items.first.focus();
          }
        }
        focusLast() {
          if (this.items.length) {
            this.items.last.focus();
          }
        }
        render() {
          super.render();
          for (const t of this.items) {
            this.focusTracker.add(t.element);
          }
          this.items.on("add", (t, e) => {
            this.focusTracker.add(e.element);
          });
          this.items.on("remove", (t, e) => {
            this.focusTracker.remove(e.element);
          });
          this.keystrokes.listenTo(this.element);
          E_({
            keystrokeHandler: this.keystrokes,
            focusTracker: this.focusTracker,
            gridItems: this.items,
            numberOfColumns: this.columns,
            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection,
          });
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
      }
      const X_ =
        '<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';
      class tv extends R_ {
        constructor(t) {
          super(t);
          this.arrowView = this._createArrowView();
          this.extendTemplate({
            attributes: {
              "aria-haspopup": true,
              "aria-expanded": this.bindTemplate.to("isOn", (t) => String(t)),
            },
          });
          this.delegate("execute").to(this, "open");
        }
        render() {
          super.render();
          this.children.add(this.arrowView);
        }
        _createArrowView() {
          const t = new B_();
          t.content = X_;
          t.extendTemplate({ attributes: { class: "ck-dropdown__arrow" } });
          return t;
        }
      }
      var ev = n(66);
      var nv = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      nv.insert = "head";
      nv.singleton = true;
      var iv = Il()(ev.Z, nv);
      const ov = ev.Z.locals || {};
      class rv extends pC {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.set("class", undefined);
          this.set("labelStyle", undefined);
          this.set("icon", undefined);
          this.set("isEnabled", true);
          this.set("isOn", false);
          this.set("isToggleable", false);
          this.set("isVisible", true);
          this.set("keystroke", undefined);
          this.set("withKeystroke", false);
          this.set("label", undefined);
          this.set("tabindex", -1);
          this.set("tooltip", false);
          this.set("tooltipPosition", "s");
          this.set("type", "button");
          this.set("withText", false);
          this.children = this.createCollection();
          this.actionView = this._createActionView();
          this.arrowView = this._createArrowView();
          this.keystrokes = new cl();
          this.focusTracker = new al();
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-splitbutton",
                e.to("class"),
                e.if("isVisible", "ck-hidden", (t) => !t),
                this.arrowView.bindTemplate.if("isOn", "ck-splitbutton_open"),
              ],
            },
            children: this.children,
          });
        }
        render() {
          super.render();
          this.children.add(this.actionView);
          this.children.add(this.arrowView);
          this.focusTracker.add(this.actionView.element);
          this.focusTracker.add(this.arrowView.element);
          this.keystrokes.listenTo(this.element);
          this.keystrokes.set("arrowright", (t, e) => {
            if (this.focusTracker.focusedElement === this.actionView.element) {
              this.arrowView.focus();
              e();
            }
          });
          this.keystrokes.set("arrowleft", (t, e) => {
            if (this.focusTracker.focusedElement === this.arrowView.element) {
              this.actionView.focus();
              e();
            }
          });
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this.actionView.focus();
        }
        _createActionView() {
          const t = new R_();
          t.bind(
            "icon",
            "isEnabled",
            "isOn",
            "isToggleable",
            "keystroke",
            "label",
            "tabindex",
            "tooltip",
            "tooltipPosition",
            "type",
            "withText"
          ).to(this);
          t.extendTemplate({ attributes: { class: "ck-splitbutton__action" } });
          t.delegate("execute").to(this);
          return t;
        }
        _createArrowView() {
          const t = new R_();
          const e = t.bindTemplate;
          t.icon = X_;
          t.extendTemplate({
            attributes: {
              class: ["ck-splitbutton__arrow"],
              "data-cke-tooltip-disabled": e.to("isOn"),
              "aria-haspopup": true,
              "aria-expanded": e.to("isOn", (t) => String(t)),
            },
          });
          t.bind("isEnabled").to(this);
          t.bind("label").to(this);
          t.bind("tooltip").to(this);
          t.delegate("execute").to(this, "open");
          return t;
        }
      }
      class sv extends pC {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.set("isVisible", false);
          this.set("position", "se");
          this.children = this.createCollection();
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-reset",
                "ck-dropdown__panel",
                e.to("position", (t) => \`ck-dropdown__panel_\${t}\`),
                e.if("isVisible", "ck-dropdown__panel-visible"),
              ],
            },
            children: this.children,
            on: { selectstart: e.to((t) => t.preventDefault()) },
          });
        }
        focus() {
          if (this.children.length) {
            const t = this.children.first;
            if (typeof t.focus === "function") {
              t.focus();
            } else {
              B("ui-dropdown-panel-focus-child-missing-focus", {
                childView: this.children.first,
                dropdownPanel: this,
              });
            }
          }
        }
        focusLast() {
          if (this.children.length) {
            const t = this.children.last;
            if (typeof t.focusLast === "function") {
              t.focusLast();
            } else {
              t.focus();
            }
          }
        }
      }
      var av = n(3488);
      var cv = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      cv.insert = "head";
      cv.singleton = true;
      var lv = Il()(av.Z, cv);
      const dv = av.Z.locals || {};
      class uv extends pC {
        constructor(t, e, n) {
          super(t);
          const i = this.bindTemplate;
          this.buttonView = e;
          this.panelView = n;
          this.set("isOpen", false);
          this.set("isEnabled", true);
          this.set("class", undefined);
          this.set("id", undefined);
          this.set("panelPosition", "auto");
          this.keystrokes = new cl();
          this.focusTracker = new al();
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-dropdown",
                i.to("class"),
                i.if("isEnabled", "ck-disabled", (t) => !t),
              ],
              id: i.to("id"),
              "aria-describedby": i.to("ariaDescribedById"),
            },
            children: [e, n],
          });
          e.extendTemplate({
            attributes: {
              class: ["ck-dropdown__button"],
              "data-cke-tooltip-disabled": i.to("isOpen"),
            },
          });
        }
        render() {
          super.render();
          this.focusTracker.add(this.buttonView.element);
          this.focusTracker.add(this.panelView.element);
          this.listenTo(this.buttonView, "open", () => {
            this.isOpen = !this.isOpen;
          });
          this.panelView.bind("isVisible").to(this, "isOpen");
          this.on("change:isOpen", (t, e, n) => {
            if (!n) {
              return;
            }
            if (this.panelPosition === "auto") {
              this.panelView.position = uv._getOptimalPosition({
                element: this.panelView.element,
                target: this.buttonView.element,
                fitInViewport: true,
                positions: this._panelPositions,
              }).name;
            } else {
              this.panelView.position = this.panelPosition;
            }
          });
          this.keystrokes.listenTo(this.element);
          const t = (t, e) => {
            if (this.isOpen) {
              this.isOpen = false;
              e();
            }
          };
          this.keystrokes.set("arrowdown", (t, e) => {
            if (this.buttonView.isEnabled && !this.isOpen) {
              this.isOpen = true;
              e();
            }
          });
          this.keystrokes.set("arrowright", (t, e) => {
            if (this.isOpen) {
              e();
            }
          });
          this.keystrokes.set("arrowleft", t);
          this.keystrokes.set("esc", t);
        }
        focus() {
          this.buttonView.focus();
        }
        get _panelPositions() {
          const {
            south: t,
            north: e,
            southEast: n,
            southWest: i,
            northEast: o,
            northWest: r,
            southMiddleEast: s,
            southMiddleWest: a,
            northMiddleEast: c,
            northMiddleWest: l,
          } = uv.defaultPanelPositions;
          if (this.locale.uiLanguageDirection !== "rtl") {
            return [n, i, s, a, t, o, r, c, l, e];
          } else {
            return [i, n, a, s, t, r, o, l, c, e];
          }
        }
      }
      uv.defaultPanelPositions = {
        south: (t, e) => ({
          top: t.bottom,
          left: t.left - (e.width - t.width) / 2,
          name: "s",
        }),
        southEast: (t) => ({ top: t.bottom, left: t.left, name: "se" }),
        southWest: (t, e) => ({
          top: t.bottom,
          left: t.left - e.width + t.width,
          name: "sw",
        }),
        southMiddleEast: (t, e) => ({
          top: t.bottom,
          left: t.left - (e.width - t.width) / 4,
          name: "sme",
        }),
        southMiddleWest: (t, e) => ({
          top: t.bottom,
          left: t.left - ((e.width - t.width) * 3) / 4,
          name: "smw",
        }),
        north: (t, e) => ({
          top: t.top - e.height,
          left: t.left - (e.width - t.width) / 2,
          name: "n",
        }),
        northEast: (t, e) => ({
          top: t.top - e.height,
          left: t.left,
          name: "ne",
        }),
        northWest: (t, e) => ({
          top: t.top - e.height,
          left: t.left - e.width + t.width,
          name: "nw",
        }),
        northMiddleEast: (t, e) => ({
          top: t.top - e.height,
          left: t.left - (e.width - t.width) / 4,
          name: "nme",
        }),
        northMiddleWest: (t, e) => ({
          top: t.top - e.height,
          left: t.left - ((e.width - t.width) * 3) / 4,
          name: "nmw",
        }),
      };
      uv._getOptimalPosition = kc;
      class hv {
        constructor(t) {
          this.focusables = t.focusables;
          this.focusTracker = t.focusTracker;
          this.keystrokeHandler = t.keystrokeHandler;
          this.actions = t.actions;
          if (t.actions && t.keystrokeHandler) {
            for (const e in t.actions) {
              let n = t.actions[e];
              if (typeof n == "string") {
                n = [n];
              }
              for (const i of n) {
                t.keystrokeHandler.set(i, (t, n) => {
                  this[e]();
                  n();
                });
              }
            }
          }
        }
        get first() {
          return this.focusables.find(mv) || null;
        }
        get last() {
          return this.focusables.filter(mv).slice(-1)[0] || null;
        }
        get next() {
          return this._getFocusableItem(1);
        }
        get previous() {
          return this._getFocusableItem(-1);
        }
        get current() {
          let t = null;
          if (this.focusTracker.focusedElement === null) {
            return null;
          }
          this.focusables.find((e, n) => {
            const i = e.element === this.focusTracker.focusedElement;
            if (i) {
              t = n;
            }
            return i;
          });
          return t;
        }
        focusFirst() {
          this._focus(this.first);
        }
        focusLast() {
          this._focus(this.last);
        }
        focusNext() {
          this._focus(this.next);
        }
        focusPrevious() {
          this._focus(this.previous);
        }
        _focus(t) {
          if (t) {
            t.focus();
          }
        }
        _getFocusableItem(t) {
          const e = this.current;
          const n = this.focusables.length;
          if (!n) {
            return null;
          }
          if (e === null) {
            return this[t === 1 ? "first" : "last"];
          }
          let i = (e + n + t) % n;
          do {
            const e = this.focusables.get(i);
            if (mv(e)) {
              return e;
            }
            i = (i + n + t) % n;
          } while (i !== e);
          return null;
        }
      }
      function mv(t) {
        return !!(t.focus && pc(t.element));
      }
      class gv extends pC {
        constructor(t) {
          super(t);
          this.setTemplate({
            tag: "span",
            attributes: { class: ["ck", "ck-toolbar__separator"] },
          });
        }
      }
      class fv extends pC {
        constructor(t) {
          super(t);
          this.setTemplate({
            tag: "span",
            attributes: { class: ["ck", "ck-toolbar__line-break"] },
          });
        }
      }
      function pv(t) {
        return t.bindTemplate.to((e) => {
          if (e.target === t.element) {
            e.preventDefault();
          }
        });
      }
      function bv(t) {
        if (Array.isArray(t)) {
          return { items: t, removeItems: [] };
        }
        if (!t) {
          return { items: [], removeItems: [] };
        }
        return Object.assign({ items: [], removeItems: [] }, t);
      }
      var kv = n(5571);
      var wv = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      wv.insert = "head";
      wv.singleton = true;
      var Av = Il()(kv.Z, wv);
      const Cv = kv.Z.locals || {};
      const { threeVerticalDots: _v } = __;
      const vv = {
        alignLeft: __.alignLeft,
        bold: __.bold,
        importExport: __.importExport,
        paragraph: __.paragraph,
        plus: __.plus,
        text: __.text,
        threeVerticalDots: __.threeVerticalDots,
      };
      class yv extends pC {
        constructor(t, e) {
          super(t);
          const n = this.bindTemplate;
          const i = this.t;
          this.options = e || {};
          this.set("ariaLabel", i("Editor toolbar"));
          this.set("maxWidth", "auto");
          this.items = this.createCollection();
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.set("class", undefined);
          this.set("isCompact", false);
          this.itemsView = new xv(t);
          this.children = this.createCollection();
          this.children.add(this.itemsView);
          this.focusables = this.createCollection();
          const o = t.uiLanguageDirection === "rtl";
          this._focusCycler = new hv({
            focusables: this.focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: {
              focusPrevious: [o ? "arrowright" : "arrowleft", "arrowup"],
              focusNext: [o ? "arrowleft" : "arrowright", "arrowdown"],
            },
          });
          const r = [
            "ck",
            "ck-toolbar",
            n.to("class"),
            n.if("isCompact", "ck-toolbar_compact"),
          ];
          if (this.options.shouldGroupWhenFull && this.options.isFloating) {
            r.push("ck-toolbar_floating");
          }
          this.setTemplate({
            tag: "div",
            attributes: {
              class: r,
              role: "toolbar",
              "aria-label": n.to("ariaLabel"),
              style: { maxWidth: n.to("maxWidth") },
            },
            children: this.children,
            on: { mousedown: pv(this) },
          });
          this._behavior = this.options.shouldGroupWhenFull
            ? new Dv(this)
            : new Ev(this);
        }
        render() {
          super.render();
          for (const t of this.items) {
            this.focusTracker.add(t.element);
          }
          this.items.on("add", (t, e) => {
            this.focusTracker.add(e.element);
          });
          this.items.on("remove", (t, e) => {
            this.focusTracker.remove(e.element);
          });
          this.keystrokes.listenTo(this.element);
          this._behavior.render(this);
        }
        destroy() {
          this._behavior.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
          return super.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        focusLast() {
          this._focusCycler.focusLast();
        }
        fillFromConfig(t, e, n) {
          const i = bv(t);
          const o = n || i.removeItems;
          const r = this._cleanItemsConfiguration(i.items, e, o)
            .map((t) => {
              if (it(t)) {
                return this._createNestedToolbarDropdown(t, e, o);
              } else if (t === "|") {
                return new gv();
              } else if (t === "-") {
                return new fv();
              }
              return e.create(t);
            })
            .filter((t) => !!t);
          this.items.addMany(r);
        }
        _cleanItemsConfiguration(t, e, n) {
          const i = t.filter((t, i, o) => {
            if (t === "|") {
              return true;
            }
            if (n.indexOf(t) !== -1) {
              return false;
            }
            if (t === "-") {
              if (this.options.shouldGroupWhenFull) {
                B("toolbarview-line-break-ignored-when-grouping-items", o);
                return false;
              }
              return true;
            }
            if (!it(t) && !e.has(t)) {
              B("toolbarview-item-unavailable", { item: t });
              return false;
            }
            return true;
          });
          return this._cleanSeparatorsAndLineBreaks(i);
        }
        _cleanSeparatorsAndLineBreaks(t) {
          const e = (t) => t !== "-" && t !== "|";
          const n = t.length;
          const i = t.findIndex(e);
          if (i === -1) {
            return [];
          }
          const o = n - t.slice().reverse().findIndex(e);
          return t.slice(i, o).filter((t, n, i) => {
            if (e(t)) {
              return true;
            }
            const o = n > 0 && i[n - 1] === t;
            return !o;
          });
        }
        _createNestedToolbarDropdown(t, e, n) {
          let {
            label: i,
            icon: o,
            items: r,
            tooltip: s = true,
            withText: a = false,
          } = t;
          r = this._cleanItemsConfiguration(r, e, n);
          if (!r.length) {
            return null;
          }
          const c = this.locale;
          const l = Uv(c);
          if (!i) {
            B("toolbarview-nested-toolbar-dropdown-missing-label", t);
          }
          l.class = "ck-toolbar__nested-toolbar-dropdown";
          l.buttonView.set({ label: i, tooltip: s, withText: !!a });
          if (o !== false) {
            l.buttonView.icon = vv[o] || o || _v;
          } else {
            l.buttonView.withText = true;
          }
          qv(l, []);
          l.toolbarView.fillFromConfig(r, e, n);
          return l;
        }
      }
      class xv extends pC {
        constructor(t) {
          super(t);
          this.children = this.createCollection();
          this.setTemplate({
            tag: "div",
            attributes: { class: ["ck", "ck-toolbar__items"] },
            children: this.children,
          });
        }
      }
      class Ev {
        constructor(t) {
          const e = t.bindTemplate;
          t.set("isVertical", false);
          t.itemsView.children.bindTo(t.items).using((t) => t);
          t.focusables.bindTo(t.items).using((t) => t);
          t.extendTemplate({
            attributes: { class: [e.if("isVertical", "ck-toolbar_vertical")] },
          });
        }
        render() {}
        destroy() {}
      }
      class Dv {
        constructor(t) {
          this.view = t;
          this.viewChildren = t.children;
          this.viewFocusables = t.focusables;
          this.viewItemsView = t.itemsView;
          this.viewFocusTracker = t.focusTracker;
          this.viewLocale = t.locale;
          this.ungroupedItems = t.createCollection();
          this.groupedItems = t.createCollection();
          this.groupedItemsDropdown = this._createGroupedItemsDropdown();
          this.resizeObserver = null;
          this.cachedPadding = null;
          this.shouldUpdateGroupingOnNextResize = false;
          t.itemsView.children.bindTo(this.ungroupedItems).using((t) => t);
          this.ungroupedItems.on(
            "change",
            this._updateFocusCycleableItems.bind(this)
          );
          t.children.on("change", this._updateFocusCycleableItems.bind(this));
          t.items.on("change", (t, e) => {
            const n = e.index;
            const i = Array.from(e.added);
            for (const t of e.removed) {
              if (n >= this.ungroupedItems.length) {
                this.groupedItems.remove(t);
              } else {
                this.ungroupedItems.remove(t);
              }
            }
            for (let t = n; t < n + i.length; t++) {
              const e = i[t - n];
              if (t > this.ungroupedItems.length) {
                this.groupedItems.add(e, t - this.ungroupedItems.length);
              } else {
                this.ungroupedItems.add(e, t);
              }
            }
            this._updateGrouping();
          });
          t.extendTemplate({ attributes: { class: ["ck-toolbar_grouping"] } });
        }
        render(t) {
          this.viewElement = t.element;
          this._enableGroupingOnResize();
          this._enableGroupingOnMaxWidthChange(t);
        }
        destroy() {
          this.groupedItemsDropdown.destroy();
          this.resizeObserver.destroy();
        }
        _updateGrouping() {
          if (!this.viewElement.ownerDocument.body.contains(this.viewElement)) {
            return;
          }
          if (!pc(this.viewElement)) {
            this.shouldUpdateGroupingOnNextResize = true;
            return;
          }
          const t = this.groupedItems.length;
          let e;
          while (this._areItemsOverflowing) {
            this._groupLastItem();
            e = true;
          }
          if (!e && this.groupedItems.length) {
            while (this.groupedItems.length && !this._areItemsOverflowing) {
              this._ungroupFirstItem();
            }
            if (this._areItemsOverflowing) {
              this._groupLastItem();
            }
          }
          if (this.groupedItems.length !== t) {
            this.view.fire("groupedItemsUpdate");
          }
        }
        get _areItemsOverflowing() {
          if (!this.ungroupedItems.length) {
            return false;
          }
          const t = this.viewElement;
          const e = this.viewLocale.uiLanguageDirection;
          const n = new sc(t.lastChild);
          const i = new sc(t);
          if (!this.cachedPadding) {
            const n = Xa.window.getComputedStyle(t);
            const i = e === "ltr" ? "paddingRight" : "paddingLeft";
            this.cachedPadding = Number.parseInt(n[i]);
          }
          if (e === "ltr") {
            return n.right > i.right - this.cachedPadding;
          } else {
            return n.left < i.left + this.cachedPadding;
          }
        }
        _enableGroupingOnResize() {
          let t;
          this.resizeObserver = new dc(this.viewElement, (e) => {
            if (
              !t ||
              t !== e.contentRect.width ||
              this.shouldUpdateGroupingOnNextResize
            ) {
              this.shouldUpdateGroupingOnNextResize = false;
              this._updateGrouping();
              t = e.contentRect.width;
            }
          });
          this._updateGrouping();
        }
        _enableGroupingOnMaxWidthChange(t) {
          t.on("change:maxWidth", () => {
            this._updateGrouping();
          });
        }
        _groupLastItem() {
          if (!this.groupedItems.length) {
            this.viewChildren.add(new gv());
            this.viewChildren.add(this.groupedItemsDropdown);
            this.viewFocusTracker.add(this.groupedItemsDropdown.element);
          }
          this.groupedItems.add(
            this.ungroupedItems.remove(this.ungroupedItems.last),
            0
          );
        }
        _ungroupFirstItem() {
          this.ungroupedItems.add(
            this.groupedItems.remove(this.groupedItems.first)
          );
          if (!this.groupedItems.length) {
            this.viewChildren.remove(this.groupedItemsDropdown);
            this.viewChildren.remove(this.viewChildren.last);
            this.viewFocusTracker.remove(this.groupedItemsDropdown.element);
          }
        }
        _createGroupedItemsDropdown() {
          const t = this.viewLocale;
          const e = t.t;
          const n = Uv(t);
          n.class = "ck-toolbar__grouped-dropdown";
          n.panelPosition = t.uiLanguageDirection === "ltr" ? "sw" : "se";
          qv(n, []);
          n.buttonView.set({
            label: e("Show more items"),
            tooltip: true,
            tooltipPosition: t.uiLanguageDirection === "rtl" ? "se" : "sw",
            icon: _v,
          });
          n.toolbarView.items.bindTo(this.groupedItems).using((t) => t);
          return n;
        }
        _updateFocusCycleableItems() {
          this.viewFocusables.clear();
          this.ungroupedItems.map((t) => {
            this.viewFocusables.add(t);
          });
          if (this.groupedItems.length) {
            this.viewFocusables.add(this.groupedItemsDropdown);
          }
        }
      }
      var Sv = n(1162);
      var Tv = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Tv.insert = "head";
      Tv.singleton = true;
      var Iv = Il()(Sv.Z, Tv);
      const Mv = Sv.Z.locals || {};
      class Bv extends pC {
        constructor(t) {
          super(t);
          this.items = this.createCollection();
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this._focusCycler = new hv({
            focusables: this.items,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "arrowup", focusNext: "arrowdown" },
          });
          this.setTemplate({
            tag: "ul",
            attributes: { class: ["ck", "ck-reset", "ck-list"] },
            children: this.items,
          });
        }
        render() {
          super.render();
          for (const t of this.items) {
            this.focusTracker.add(t.element);
          }
          this.items.on("add", (t, e) => {
            this.focusTracker.add(e.element);
          });
          this.items.on("remove", (t, e) => {
            this.focusTracker.remove(e.element);
          });
          this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        focusLast() {
          this._focusCycler.focusLast();
        }
      }
      class Lv extends pC {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.set("isVisible", true);
          this.children = this.createCollection();
          this.setTemplate({
            tag: "li",
            attributes: {
              class: [
                "ck",
                "ck-list__item",
                e.if("isVisible", "ck-hidden", (t) => !t),
              ],
            },
            children: this.children,
          });
        }
        focus() {
          this.children.first.focus();
        }
      }
      class Nv extends pC {
        constructor(t) {
          super(t);
          this.setTemplate({
            tag: "li",
            attributes: { class: ["ck", "ck-list__separator"] },
          });
        }
      }
      var zv = n(5075);
      var Pv = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Pv.insert = "head";
      Pv.singleton = true;
      var Rv = Il()(zv.Z, Pv);
      const Ov = zv.Z.locals || {};
      var jv = n(6875);
      var Fv = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Fv.insert = "head";
      Fv.singleton = true;
      var Vv = Il()(jv.Z, Fv);
      const Hv = jv.Z.locals || {};
      function Uv(t, e = tv) {
        const n = new e(t);
        const i = new sv(t);
        const o = new uv(t, n, i);
        n.bind("isEnabled").to(o);
        if (n instanceof rv) {
          n.arrowView.bind("isOn").to(o, "isOpen");
        } else {
          n.bind("isOn").to(o, "isOpen");
        }
        $v(o);
        return o;
      }
      function qv(t, e, n = {}) {
        const i = t.locale;
        const o = i.t;
        const r = (t.toolbarView = new yv(i));
        r.set("ariaLabel", o("Dropdown toolbar"));
        t.extendTemplate({ attributes: { class: ["ck-toolbar-dropdown"] } });
        e.map((t) => r.items.add(t));
        if (n.enableActiveItemFocusOnDropdownOpen) {
          Gv(t, () => r.items.find((t) => t.isOn));
        }
        t.panelView.children.add(r);
        r.items.delegate("execute").to(t);
      }
      function Wv(t, e) {
        const n = t.locale;
        const i = (t.listView = new Bv(n));
        i.items.bindTo(e).using((t) => {
          if (t.type === "separator") {
            return new Nv(n);
          } else if (t.type === "button" || t.type === "switchbutton") {
            const e = new Lv(n);
            let i;
            if (t.type === "button") {
              i = new R_(n);
            } else {
              i = new H_(n);
            }
            i.bind(...Object.keys(t.model)).to(t.model);
            i.delegate("execute").to(e);
            e.children.add(i);
            return e;
          }
          return null;
        });
        t.panelView.children.add(i);
        i.items.delegate("execute").to(t);
        Gv(t, () =>
          i.items.find((t) => {
            if (t instanceof Lv) {
              return t.children.first.isOn;
            }
            return false;
          })
        );
      }
      function Gv(t, e) {
        t.on(
          "change:isOpen",
          () => {
            if (!t.isOpen) {
              return;
            }
            const n = e();
            if (!n) {
              return;
            }
            if (typeof n.focus === "function") {
              n.focus();
            } else {
              B("ui-dropdown-focus-child-on-open-child-missing-focus", {
                view: n,
              });
            }
          },
          { priority: S.low - 10 }
        );
      }
      function $v(t) {
        Kv(t);
        Yv(t);
        Zv(t);
        Qv(t);
        Jv(t);
        Xv(t);
      }
      function Kv(t) {
        t.on("render", () => {
          v_({
            emitter: t,
            activator: () => t.isOpen,
            callback: () => {
              t.isOpen = false;
            },
            contextElements: [t.element],
          });
        });
      }
      function Yv(t) {
        t.on("execute", (e) => {
          if (e.source instanceof H_) {
            return;
          }
          t.isOpen = false;
        });
      }
      function Zv(t) {
        t.focusTracker.on("change:isFocused", (e, n, i) => {
          if (t.isOpen && !i) {
            t.isOpen = false;
          }
        });
      }
      function Qv(t) {
        t.keystrokes.set("arrowdown", (e, n) => {
          if (t.isOpen) {
            t.panelView.focus();
            n();
          }
        });
        t.keystrokes.set("arrowup", (e, n) => {
          if (t.isOpen) {
            t.panelView.focusLast();
            n();
          }
        });
      }
      function Jv(t) {
        t.on("change:isOpen", (e, n, i) => {
          if (i) {
            return;
          }
          if (t.panelView.element.contains(Xa.document.activeElement)) {
            t.buttonView.focus();
          }
        });
      }
      function Xv(t) {
        t.on(
          "change:isOpen",
          (e, n, i) => {
            if (!i) {
              return;
            }
            t.panelView.focus();
          },
          { priority: "low" }
        );
      }
      var ty = n(4547);
      var ey = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      ey.insert = "head";
      ey.singleton = true;
      var ny = Il()(ty.Z, ey);
      const iy = ty.Z.locals || {};
      class oy extends pC {
        constructor(t) {
          super(t);
          this.body = new D_(t);
        }
        render() {
          super.render();
          this.body.attachToDom();
        }
        destroy() {
          this.body.detachFromDom();
          return super.destroy();
        }
      }
      var ry = n(2751);
      var sy = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      sy.insert = "head";
      sy.singleton = true;
      var ay = Il()(ry.Z, sy);
      const cy = ry.Z.locals || {};
      class ly extends pC {
        constructor(t) {
          super(t);
          this.set("text", undefined);
          this.set("for", undefined);
          this.id = \`ck-editor__label_\${E()}\`;
          const e = this.bindTemplate;
          this.setTemplate({
            tag: "label",
            attributes: {
              class: ["ck", "ck-label"],
              id: this.id,
              for: e.to("for"),
            },
            children: [{ text: e.to("text") }],
          });
        }
      }
      class dy extends (null && EditorUIView) {
        constructor(t) {
          super(t);
          this.top = this.createCollection();
          this.main = this.createCollection();
          this._voiceLabelView = this._createVoiceLabel();
          this.setTemplate({
            tag: "div",
            attributes: {
              class: ["ck", "ck-reset", "ck-editor", "ck-rounded-corners"],
              role: "application",
              dir: t.uiLanguageDirection,
              lang: t.uiLanguage,
              "aria-labelledby": this._voiceLabelView.id,
            },
            children: [
              this._voiceLabelView,
              {
                tag: "div",
                attributes: {
                  class: ["ck", "ck-editor__top", "ck-reset_all"],
                  role: "presentation",
                },
                children: this.top,
              },
              {
                tag: "div",
                attributes: {
                  class: ["ck", "ck-editor__main"],
                  role: "presentation",
                },
                children: this.main,
              },
            ],
          });
        }
        _createVoiceLabel() {
          const t = this.t;
          const e = new LabelView();
          e.text = t("Rich Text Editor");
          e.extendTemplate({ attributes: { class: "ck-voice-label" } });
          return e;
        }
      }
      class uy extends pC {
        constructor(t, e, n) {
          super(t);
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-content",
                "ck-editor__editable",
                "ck-rounded-corners",
              ],
              lang: t.contentLanguage,
              dir: t.contentLanguageDirection,
            },
          });
          this.name = null;
          this.set("isFocused", false);
          this._editableElement = n;
          this._hasExternalElement = !!this._editableElement;
          this._editingView = e;
        }
        render() {
          super.render();
          if (this._hasExternalElement) {
            this.template.apply((this.element = this._editableElement));
          } else {
            this._editableElement = this.element;
          }
          this.on("change:isFocused", () => this._updateIsFocusedClasses());
          this._updateIsFocusedClasses();
        }
        destroy() {
          if (this._hasExternalElement) {
            this.template.revert(this._editableElement);
          }
          super.destroy();
        }
        _updateIsFocusedClasses() {
          const t = this._editingView;
          if (t.isRenderingInProgress) {
            n(this);
          } else {
            e(this);
          }
          function e(e) {
            t.change((n) => {
              const i = t.document.getRoot(e.name);
              n.addClass(e.isFocused ? "ck-focused" : "ck-blurred", i);
              n.removeClass(e.isFocused ? "ck-blurred" : "ck-focused", i);
            });
          }
          function n(i) {
            t.once("change:isRenderingInProgress", (t, o, r) => {
              if (!r) {
                e(i);
              } else {
                n(i);
              }
            });
          }
        }
      }
      class hy extends uy {
        constructor(t, e, n, i = {}) {
          super(t, e, n);
          const o = t.t;
          this.extendTemplate({
            attributes: {
              role: "textbox",
              class: "ck-editor__editable_inline",
            },
          });
          this._generateLabel =
            i.label || (() => o("Editor editing area: %0", this.name));
        }
        render() {
          super.render();
          const t = this._editingView;
          t.change((e) => {
            const n = t.document.getRoot(this.name);
            e.setAttribute("aria-label", this._generateLabel(this), n);
          });
        }
      }
      var my = n(5523);
      var gy = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      gy.insert = "head";
      gy.singleton = true;
      var fy = Il()(my.Z, gy);
      const py = my.Z.locals || {};
      class by extends pC {
        constructor(t, e = {}) {
          super(t);
          const n = this.bindTemplate;
          this.set("label", e.label || "");
          this.set("class", e.class || null);
          this.children = this.createCollection();
          this.setTemplate({
            tag: "div",
            attributes: { class: ["ck", "ck-form__header", n.to("class")] },
            children: this.children,
          });
          const i = new pC(t);
          i.setTemplate({
            tag: "h2",
            attributes: { class: ["ck", "ck-form__header__label"] },
            children: [{ text: n.to("label") }],
          });
          this.children.add(i);
        }
      }
      var ky = n(6985);
      var wy = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      wy.insert = "head";
      wy.singleton = true;
      var Ay = Il()(ky.Z, wy);
      const Cy = ky.Z.locals || {};
      class _y extends pC {
        constructor(t) {
          super(t);
          this.set("value", undefined);
          this.set("id", undefined);
          this.set("placeholder", undefined);
          this.set("isReadOnly", false);
          this.set("hasError", false);
          this.set("ariaDescribedById", undefined);
          this.focusTracker = new al();
          this.bind("isFocused").to(this.focusTracker);
          this.set("isEmpty", true);
          this.set("inputMode", "text");
          const e = this.bindTemplate;
          this.setTemplate({
            tag: "input",
            attributes: {
              class: [
                "ck",
                "ck-input",
                e.if("isFocused", "ck-input_focused"),
                e.if("isEmpty", "ck-input-text_empty"),
                e.if("hasError", "ck-error"),
              ],
              id: e.to("id"),
              placeholder: e.to("placeholder"),
              readonly: e.to("isReadOnly"),
              inputmode: e.to("inputMode"),
              "aria-invalid": e.if("hasError", true),
              "aria-describedby": e.to("ariaDescribedById"),
            },
            on: {
              input: e.to((...t) => {
                this.fire("input", ...t);
                this._updateIsEmpty();
              }),
              change: e.to(this._updateIsEmpty.bind(this)),
            },
          });
        }
        render() {
          super.render();
          this.focusTracker.add(this.element);
          this._setDomElementValue(this.value);
          this._updateIsEmpty();
          this.on("change:value", (t, e, n) => {
            this._setDomElementValue(n);
            this._updateIsEmpty();
          });
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
        }
        select() {
          this.element.select();
        }
        focus() {
          this.element.focus();
        }
        _updateIsEmpty() {
          this.isEmpty = vy(this.element);
        }
        _setDomElementValue(t) {
          this.element.value = !t && t !== 0 ? "" : t;
        }
      }
      function vy(t) {
        return !t.value;
      }
      class yy extends _y {
        constructor(t) {
          super(t);
          this.extendTemplate({
            attributes: { type: "text", class: ["ck-input-text"] },
          });
        }
      }
      class xy extends (null && InputView) {
        constructor(t, { min: e, max: n, step: i } = {}) {
          super(t);
          const o = this.bindTemplate;
          this.set("min", e);
          this.set("max", n);
          this.set("step", i);
          this.extendTemplate({
            attributes: {
              type: "number",
              class: ["ck-input-number"],
              min: o.to("min"),
              max: o.to("max"),
              step: o.to("step"),
            },
          });
        }
      }
      class Ey extends (null && View) {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.setTemplate({
            tag: "iframe",
            attributes: {
              class: ["ck", "ck-reset_all"],
              sandbox: "allow-same-origin allow-scripts",
            },
            on: { load: e.to("loaded") },
          });
        }
        render() {
          return new Promise((t) => {
            this.on("loaded", t);
            return super.render();
          });
        }
      }
      var Dy = n(8111);
      var Sy = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Sy.insert = "head";
      Sy.singleton = true;
      var Ty = Il()(Dy.Z, Sy);
      const Iy = Dy.Z.locals || {};
      class My extends pC {
        constructor(t, e) {
          super(t);
          const n = \`ck-labeled-field-view-\${E()}\`;
          const i = \`ck-labeled-field-view-status-\${E()}\`;
          this.fieldView = e(this, n, i);
          this.set("label", undefined);
          this.set("isEnabled", true);
          this.set("isEmpty", true);
          this.set("isFocused", false);
          this.set("errorText", null);
          this.set("infoText", null);
          this.set("class", undefined);
          this.set("placeholder", undefined);
          this.labelView = this._createLabelView(n);
          this.statusView = this._createStatusView(i);
          this.fieldWrapperChildren = this.createCollection([
            this.fieldView,
            this.labelView,
          ]);
          this.bind("_statusText").to(
            this,
            "errorText",
            this,
            "infoText",
            (t, e) => t || e
          );
          const o = this.bindTemplate;
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-labeled-field-view",
                o.to("class"),
                o.if("isEnabled", "ck-disabled", (t) => !t),
                o.if("isEmpty", "ck-labeled-field-view_empty"),
                o.if("isFocused", "ck-labeled-field-view_focused"),
                o.if("placeholder", "ck-labeled-field-view_placeholder"),
                o.if("errorText", "ck-error"),
              ],
            },
            children: [
              {
                tag: "div",
                attributes: {
                  class: ["ck", "ck-labeled-field-view__input-wrapper"],
                },
                children: this.fieldWrapperChildren,
              },
              this.statusView,
            ],
          });
        }
        _createLabelView(t) {
          const e = new ly(this.locale);
          e.for = t;
          e.bind("text").to(this, "label");
          return e;
        }
        _createStatusView(t) {
          const e = new pC(this.locale);
          const n = this.bindTemplate;
          e.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-labeled-field-view__status",
                n.if("errorText", "ck-labeled-field-view__status_error"),
                n.if("_statusText", "ck-hidden", (t) => !t),
              ],
              id: t,
              role: n.if("errorText", "alert"),
            },
            children: [{ text: n.to("_statusText") }],
          });
          return e;
        }
        focus() {
          this.fieldView.focus();
        }
      }
      function By(t, e, n) {
        const i = new yy(t.locale);
        i.set({ id: e, ariaDescribedById: n });
        i.bind("isReadOnly").to(t, "isEnabled", (t) => !t);
        i.bind("hasError").to(t, "errorText", (t) => !!t);
        i.on("input", () => {
          t.errorText = null;
        });
        t.bind("isEmpty", "isFocused", "placeholder").to(i);
        return i;
      }
      function Ly(t, e, n) {
        const i = new InputNumberView(t.locale);
        i.set({ id: e, ariaDescribedById: n, inputMode: "numeric" });
        i.bind("isReadOnly").to(t, "isEnabled", (t) => !t);
        i.bind("hasError").to(t, "errorText", (t) => !!t);
        i.on("input", () => {
          t.errorText = null;
        });
        t.bind("isEmpty", "isFocused", "placeholder").to(i);
        return i;
      }
      function Ny(t, e, n) {
        const i = Uv(t.locale);
        i.set({ id: e, ariaDescribedById: n });
        i.bind("isEnabled").to(t);
        return i;
      }
      class zy extends Sl {
        static get pluginName() {
          return "Notification";
        }
        init() {
          this.on(
            "show:warning",
            (t, e) => {
              window.alert(e.message);
            },
            { priority: "lowest" }
          );
        }
        showSuccess(t, e = {}) {
          this._showNotification({
            message: t,
            type: "success",
            namespace: e.namespace,
            title: e.title,
          });
        }
        showInfo(t, e = {}) {
          this._showNotification({
            message: t,
            type: "info",
            namespace: e.namespace,
            title: e.title,
          });
        }
        showWarning(t, e = {}) {
          this._showNotification({
            message: t,
            type: "warning",
            namespace: e.namespace,
            title: e.title,
          });
        }
        _showNotification(t) {
          const e = t.namespace
            ? \`show:\${t.type}:\${t.namespace}\`
            : \`show:\${t.type}\`;
          this.fire(e, {
            message: t.message,
            type: t.type,
            title: t.title || "",
          });
        }
      }
      class Py extends dt() {
        constructor(t, e) {
          super();
          if (e) {
            Sm(this, e);
          }
          if (t) {
            this.set(t);
          }
        }
      }
      const Ry =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';
      const Oy =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';
      var jy = n(1757);
      var Fy = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Fy.insert = "head";
      Fy.singleton = true;
      var Vy = Il()(jy.Z, Fy);
      const Hy = jy.Z.locals || {};
      var Uy = n(3553);
      var qy = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      qy.insert = "head";
      qy.singleton = true;
      var Wy = Il()(Uy.Z, qy);
      const Gy = Uy.Z.locals || {};
      const $y = hc("px");
      class Ky extends Cl {
        static get pluginName() {
          return "ContextualBalloon";
        }
        constructor(t) {
          super(t);
          this.positionLimiter = () => {
            const t = this.editor.editing.view;
            const e = t.document;
            const n = e.selection.editableElement;
            if (n) {
              return t.domConverter.mapViewToDom(n.root);
            }
            return null;
          };
          this.set("visibleView", null);
          this.view = new vC(t.locale);
          t.ui.view.body.add(this.view);
          t.ui.focusTracker.add(this.view.element);
          this._viewToStack = new Map();
          this._idToStack = new Map();
          this.set("_numberOfStacks", 0);
          this.set("_singleViewMode", false);
          this._rotatorView = this._createRotatorView();
          this._fakePanelsView = this._createFakePanelsView();
        }
        destroy() {
          super.destroy();
          this.view.destroy();
          this._rotatorView.destroy();
          this._fakePanelsView.destroy();
        }
        hasView(t) {
          return Array.from(this._viewToStack.keys()).includes(t);
        }
        add(t) {
          if (this.hasView(t.view)) {
            throw new M("contextualballoon-add-view-exist", [this, t]);
          }
          const e = t.stackId || "main";
          if (!this._idToStack.has(e)) {
            this._idToStack.set(e, new Map([[t.view, t]]));
            this._viewToStack.set(t.view, this._idToStack.get(e));
            this._numberOfStacks = this._idToStack.size;
            if (!this._visibleStack || t.singleViewMode) {
              this.showStack(e);
            }
            return;
          }
          const n = this._idToStack.get(e);
          if (t.singleViewMode) {
            this.showStack(e);
          }
          n.set(t.view, t);
          this._viewToStack.set(t.view, n);
          if (n === this._visibleStack) {
            this._showView(t);
          }
        }
        remove(t) {
          if (!this.hasView(t)) {
            throw new M("contextualballoon-remove-view-not-exist", [this, t]);
          }
          const e = this._viewToStack.get(t);
          if (this._singleViewMode && this.visibleView === t) {
            this._singleViewMode = false;
          }
          if (this.visibleView === t) {
            if (e.size === 1) {
              if (this._idToStack.size > 1) {
                this._showNextStack();
              } else {
                this.view.hide();
                this.visibleView = null;
                this._rotatorView.hideView();
              }
            } else {
              this._showView(Array.from(e.values())[e.size - 2]);
            }
          }
          if (e.size === 1) {
            this._idToStack.delete(this._getStackId(e));
            this._numberOfStacks = this._idToStack.size;
          } else {
            e.delete(t);
          }
          this._viewToStack.delete(t);
        }
        updatePosition(t) {
          if (t) {
            this._visibleStack.get(this.visibleView).position = t;
          }
          this.view.pin(this._getBalloonPosition());
          this._fakePanelsView.updatePosition();
        }
        showStack(t) {
          this.visibleStack = t;
          const e = this._idToStack.get(t);
          if (!e) {
            throw new M("contextualballoon-showstack-stack-not-exist", this);
          }
          if (this._visibleStack === e) {
            return;
          }
          this._showView(Array.from(e.values()).pop());
        }
        get _visibleStack() {
          return this._viewToStack.get(this.visibleView);
        }
        _getStackId(t) {
          const e = Array.from(this._idToStack.entries()).find(
            (e) => e[1] === t
          );
          return e[0];
        }
        _showNextStack() {
          const t = Array.from(this._idToStack.values());
          let e = t.indexOf(this._visibleStack) + 1;
          if (!t[e]) {
            e = 0;
          }
          this.showStack(this._getStackId(t[e]));
        }
        _showPrevStack() {
          const t = Array.from(this._idToStack.values());
          let e = t.indexOf(this._visibleStack) - 1;
          if (!t[e]) {
            e = t.length - 1;
          }
          this.showStack(this._getStackId(t[e]));
        }
        _createRotatorView() {
          const t = new Yy(this.editor.locale);
          const e = this.editor.locale.t;
          this.view.content.add(t);
          t.bind("isNavigationVisible").to(
            this,
            "_numberOfStacks",
            this,
            "_singleViewMode",
            (t, e) => !e && t > 1
          );
          t.on("change:isNavigationVisible", () => this.updatePosition(), {
            priority: "low",
          });
          t.bind("counter").to(
            this,
            "visibleView",
            this,
            "_numberOfStacks",
            (t, n) => {
              if (n < 2) {
                return "";
              }
              const i =
                Array.from(this._idToStack.values()).indexOf(
                  this._visibleStack
                ) + 1;
              return e("%0 of %1", [i, n]);
            }
          );
          t.buttonNextView.on("execute", () => {
            if (t.focusTracker.isFocused) {
              this.editor.editing.view.focus();
            }
            this._showNextStack();
          });
          t.buttonPrevView.on("execute", () => {
            if (t.focusTracker.isFocused) {
              this.editor.editing.view.focus();
            }
            this._showPrevStack();
          });
          return t;
        }
        _createFakePanelsView() {
          const t = new Zy(this.editor.locale, this.view);
          t.bind("numberOfPanels").to(
            this,
            "_numberOfStacks",
            this,
            "_singleViewMode",
            (t, e) => {
              const n = !e && t >= 2;
              return n ? Math.min(t - 1, 2) : 0;
            }
          );
          t.listenTo(this.view, "change:top", () => t.updatePosition());
          t.listenTo(this.view, "change:left", () => t.updatePosition());
          this.editor.ui.view.body.add(t);
          return t;
        }
        _showView({
          view: t,
          balloonClassName: e = "",
          withArrow: n = true,
          singleViewMode: i = false,
        }) {
          this.view.class = e;
          this.view.withArrow = n;
          this._rotatorView.showView(t);
          this.visibleView = t;
          this.view.pin(this._getBalloonPosition());
          this._fakePanelsView.updatePosition();
          if (i) {
            this._singleViewMode = true;
          }
        }
        _getBalloonPosition() {
          let t = Array.from(this._visibleStack.values()).pop().position;
          if (t) {
            if (!t.limiter) {
              t = Object.assign({}, t, { limiter: this.positionLimiter });
            }
            t = Object.assign({}, t, {
              viewportOffsetConfig: this.editor.ui.viewportOffset,
            });
          }
          return t;
        }
      }
      class Yy extends pC {
        constructor(t) {
          super(t);
          const e = t.t;
          const n = this.bindTemplate;
          this.set("isNavigationVisible", true);
          this.focusTracker = new al();
          this.buttonPrevView = this._createButtonView(e("Previous"), Ry);
          this.buttonNextView = this._createButtonView(e("Next"), Oy);
          this.content = this.createCollection();
          this.setTemplate({
            tag: "div",
            attributes: {
              class: ["ck", "ck-balloon-rotator"],
              "z-index": "-1",
            },
            children: [
              {
                tag: "div",
                attributes: {
                  class: [
                    "ck-balloon-rotator__navigation",
                    n.to("isNavigationVisible", (t) => (t ? "" : "ck-hidden")),
                  ],
                },
                children: [
                  this.buttonPrevView,
                  {
                    tag: "span",
                    attributes: { class: ["ck-balloon-rotator__counter"] },
                    children: [{ text: n.to("counter") }],
                  },
                  this.buttonNextView,
                ],
              },
              {
                tag: "div",
                attributes: { class: "ck-balloon-rotator__content" },
                children: this.content,
              },
            ],
          });
        }
        render() {
          super.render();
          this.focusTracker.add(this.element);
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
        }
        showView(t) {
          this.hideView();
          this.content.add(t);
        }
        hideView() {
          this.content.clear();
        }
        _createButtonView(t, e) {
          const n = new R_(this.locale);
          n.set({ label: t, icon: e, tooltip: true });
          return n;
        }
      }
      class Zy extends pC {
        constructor(t, e) {
          super(t);
          const n = this.bindTemplate;
          this.set("top", 0);
          this.set("left", 0);
          this.set("height", 0);
          this.set("width", 0);
          this.set("numberOfPanels", 0);
          this.content = this.createCollection();
          this._balloonPanelView = e;
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck-fake-panel",
                n.to("numberOfPanels", (t) => (t ? "" : "ck-hidden")),
              ],
              style: {
                top: n.to("top", $y),
                left: n.to("left", $y),
                width: n.to("width", $y),
                height: n.to("height", $y),
              },
            },
            children: this.content,
          });
          this.on("change:numberOfPanels", (t, e, n, i) => {
            if (n > i) {
              this._addPanels(n - i);
            } else {
              this._removePanels(i - n);
            }
            this.updatePosition();
          });
        }
        _addPanels(t) {
          while (t--) {
            const t = new pC();
            t.setTemplate({ tag: "div" });
            this.content.add(t);
            this.registerChild(t);
          }
        }
        _removePanels(t) {
          while (t--) {
            const t = this.content.last;
            this.content.remove(t);
            this.deregisterChild(t);
            t.destroy();
          }
        }
        updatePosition() {
          if (this.numberOfPanels) {
            const { top: t, left: e } = this._balloonPanelView;
            const { width: n, height: i } = new sc(
              this._balloonPanelView.element
            );
            Object.assign(this, { top: t, left: e, width: n, height: i });
          }
        }
      }
      var Qy = n(3609);
      var Jy = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Jy.insert = "head";
      Jy.singleton = true;
      var Xy = Il()(Qy.Z, Jy);
      const tx = Qy.Z.locals || {};
      const ex = hc("px");
      class nx extends (null && View) {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.set("isActive", false);
          this.set("isSticky", false);
          this.set("limiterElement", null);
          this.set("limiterBottomOffset", 50);
          this.set("viewportTopOffset", 0);
          this.set("_marginLeft", null);
          this.set("_isStickyToTheLimiter", false);
          this.set("_hasViewportTopOffset", false);
          this.content = this.createCollection();
          this._contentPanelPlaceholder = new Template({
            tag: "div",
            attributes: {
              class: ["ck", "ck-sticky-panel__placeholder"],
              style: {
                display: e.to("isSticky", (t) => (t ? "block" : "none")),
                height: e.to("isSticky", (t) =>
                  t ? ex(this._panelRect.height) : null
                ),
              },
            },
          }).render();
          this._contentPanel = new Template({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-sticky-panel__content",
                e.if("isSticky", "ck-sticky-panel__content_sticky"),
                e.if(
                  "_isStickyToTheLimiter",
                  "ck-sticky-panel__content_sticky_bottom-limit"
                ),
              ],
              style: {
                width: e.to("isSticky", (t) =>
                  t
                    ? ex(
                        this._contentPanelPlaceholder.getBoundingClientRect()
                          .width
                      )
                    : null
                ),
                top: e.to("_hasViewportTopOffset", (t) =>
                  t ? ex(this.viewportTopOffset) : null
                ),
                bottom: e.to("_isStickyToTheLimiter", (t) =>
                  t ? ex(this.limiterBottomOffset) : null
                ),
                marginLeft: e.to("_marginLeft"),
              },
            },
            children: this.content,
          }).render();
          this.setTemplate({
            tag: "div",
            attributes: { class: ["ck", "ck-sticky-panel"] },
            children: [this._contentPanelPlaceholder, this._contentPanel],
          });
        }
        render() {
          super.render();
          this._checkIfShouldBeSticky();
          this.listenTo(global.window, "scroll", () => {
            this._checkIfShouldBeSticky();
          });
          this.listenTo(this, "change:isActive", () => {
            this._checkIfShouldBeSticky();
          });
        }
        _checkIfShouldBeSticky() {
          const t = (this._panelRect =
            this._contentPanel.getBoundingClientRect());
          let e;
          if (!this.limiterElement) {
            this.isSticky = false;
          } else {
            e = this._limiterRect = this.limiterElement.getBoundingClientRect();
            this.isSticky =
              this.isActive &&
              e.top < this.viewportTopOffset &&
              this._panelRect.height + this.limiterBottomOffset < e.height;
          }
          if (this.isSticky) {
            this._isStickyToTheLimiter =
              e.bottom <
              t.height + this.limiterBottomOffset + this.viewportTopOffset;
            this._hasViewportTopOffset =
              !this._isStickyToTheLimiter && !!this.viewportTopOffset;
            this._marginLeft = this._isStickyToTheLimiter
              ? null
              : ex(-global.window.scrollX);
          } else {
            this._isStickyToTheLimiter = false;
            this._hasViewportTopOffset = false;
            this._marginLeft = null;
          }
        }
      }
      const ix = hc("px");
      class ox extends Cl {
        static get pluginName() {
          return "BalloonToolbar";
        }
        static get requires() {
          return [Ky];
        }
        constructor(t) {
          super(t);
          this._balloonConfig = bv(t.config.get("balloonToolbar"));
          this.toolbarView = this._createToolbarView();
          this.focusTracker = new al();
          t.ui.once("ready", () => {
            this.focusTracker.add(t.ui.getEditableElement());
            this.focusTracker.add(this.toolbarView.element);
          });
          t.ui.addToolbar(this.toolbarView, {
            beforeFocus: () => this.show(true),
            afterBlur: () => this.hide(),
            isContextual: true,
          });
          this._resizeObserver = null;
          this._balloon = t.plugins.get(Ky);
          this._fireSelectionChangeDebounced = Qm(
            () => this.fire("_selectionChangeDebounced"),
            200
          );
          this.decorate("show");
        }
        init() {
          const t = this.editor;
          const e = t.model.document.selection;
          this.listenTo(this.focusTracker, "change:isFocused", (t, e, n) => {
            const i = this._balloon.visibleView === this.toolbarView;
            if (!n && i) {
              this.hide();
            } else if (n) {
              this.show();
            }
          });
          this.listenTo(e, "change:range", (t, n) => {
            if (n.directChange || e.isCollapsed) {
              this.hide();
            }
            this._fireSelectionChangeDebounced();
          });
          this.listenTo(this, "_selectionChangeDebounced", () => {
            if (this.editor.editing.view.document.isFocused) {
              this.show();
            }
          });
          if (!this._balloonConfig.shouldNotGroupWhenFull) {
            this.listenTo(t, "ready", () => {
              const e = t.ui.view.editable.element;
              this._resizeObserver = new dc(e, () => {
                this.toolbarView.maxWidth = ix(new sc(e).width * 0.9);
              });
            });
          }
          this.listenTo(this.toolbarView, "groupedItemsUpdate", () => {
            this._updatePosition();
          });
        }
        afterInit() {
          const t = this.editor.ui.componentFactory;
          this.toolbarView.fillFromConfig(this._balloonConfig, t);
        }
        _createToolbarView() {
          const t = this.editor.locale.t;
          const e = !this._balloonConfig.shouldNotGroupWhenFull;
          const n = new yv(this.editor.locale, {
            shouldGroupWhenFull: e,
            isFloating: true,
          });
          n.ariaLabel = t("Editor contextual toolbar");
          n.render();
          return n;
        }
        show(t = false) {
          const e = this.editor;
          const n = e.model.document.selection;
          const i = e.model.schema;
          if (this._balloon.hasView(this.toolbarView)) {
            return;
          }
          if (n.isCollapsed && !t) {
            return;
          }
          if (rx(n, i)) {
            return;
          }
          if (
            Array.from(this.toolbarView.items).every(
              (t) => t.isEnabled !== undefined && !t.isEnabled
            )
          ) {
            return;
          }
          this.listenTo(this.editor.ui, "update", () => {
            this._updatePosition();
          });
          this._balloon.add({
            view: this.toolbarView,
            position: this._getBalloonPositionData(),
            balloonClassName: "ck-toolbar-container",
          });
        }
        hide() {
          if (this._balloon.hasView(this.toolbarView)) {
            this.stopListening(this.editor.ui, "update");
            this._balloon.remove(this.toolbarView);
          }
        }
        _getBalloonPositionData() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          const i = n.selection;
          const o = n.selection.isBackward;
          return {
            target: () => {
              const t = o ? i.getFirstRange() : i.getLastRange();
              const n = sc.getDomRangeRects(e.domConverter.viewRangeToDom(t));
              if (o) {
                return n[0];
              } else {
                if (n.length > 1 && n[n.length - 1].width === 0) {
                  n.pop();
                }
                return n[n.length - 1];
              }
            },
            positions: this._getBalloonPositions(o),
          };
        }
        _updatePosition() {
          this._balloon.updatePosition(this._getBalloonPositionData());
        }
        destroy() {
          super.destroy();
          this.stopListening();
          this._fireSelectionChangeDebounced.cancel();
          this.toolbarView.destroy();
          this.focusTracker.destroy();
          if (this._resizeObserver) {
            this._resizeObserver.destroy();
          }
        }
        _getBalloonPositions(t) {
          const e = r.isSafari && r.isiOS;
          const n = e
            ? xC({
                heightOffset: Math.max(
                  vC.arrowHeightOffset,
                  Math.round(20 / Xa.window.visualViewport.scale)
                ),
              })
            : vC.defaultPositions;
          return t
            ? [
                n.northWestArrowSouth,
                n.northWestArrowSouthWest,
                n.northWestArrowSouthEast,
                n.northWestArrowSouthMiddleEast,
                n.northWestArrowSouthMiddleWest,
                n.southWestArrowNorth,
                n.southWestArrowNorthWest,
                n.southWestArrowNorthEast,
                n.southWestArrowNorthMiddleWest,
                n.southWestArrowNorthMiddleEast,
              ]
            : [
                n.southEastArrowNorth,
                n.southEastArrowNorthEast,
                n.southEastArrowNorthWest,
                n.southEastArrowNorthMiddleEast,
                n.southEastArrowNorthMiddleWest,
                n.northEastArrowSouth,
                n.northEastArrowSouthEast,
                n.northEastArrowSouthWest,
                n.northEastArrowSouthMiddleEast,
                n.northEastArrowSouthMiddleWest,
              ];
        }
      }
      function rx(t, e) {
        if (t.rangeCount === 1) {
          return false;
        }
        return [...t.getRanges()].every((t) => {
          const n = t.getContainedElement();
          return n && e.isSelectable(n);
        });
      }
      var sx = n(6706);
      var ax = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      ax.insert = "head";
      ax.singleton = true;
      var cx = Il()(sx.Z, ax);
      const lx = sx.Z.locals || {};
      const dx = hc("px");
      class ux extends R_ {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.isVisible = false;
          this.isToggleable = true;
          this.set("top", 0);
          this.set("left", 0);
          this.extendTemplate({
            attributes: {
              class: "ck-block-toolbar-button",
              style: {
                top: e.to("top", (t) => dx(t)),
                left: e.to("left", (t) => dx(t)),
              },
            },
          });
        }
      }
      const hx = hc("px");
      const { pilcrow: mx } = __;
      class gx extends Cl {
        static get pluginName() {
          return "BlockToolbar";
        }
        constructor(t) {
          super(t);
          this._blockToolbarConfig = bv(this.editor.config.get("blockToolbar"));
          this.toolbarView = this._createToolbarView();
          this.panelView = this._createPanelView();
          this.buttonView = this._createButtonView();
          this._resizeObserver = null;
          v_({
            emitter: this.panelView,
            contextElements: [this.panelView.element, this.buttonView.element],
            activator: () => this.panelView.isVisible,
            callback: () => this._hidePanel(),
          });
        }
        init() {
          const t = this.editor;
          this.listenTo(t.model.document.selection, "change:range", (t, e) => {
            if (e.directChange) {
              this._hidePanel();
            }
          });
          this.listenTo(t.ui, "update", () => this._updateButton());
          this.listenTo(t, "change:isReadOnly", () => this._updateButton(), {
            priority: "low",
          });
          this.listenTo(t.ui.focusTracker, "change:isFocused", () =>
            this._updateButton()
          );
          this.listenTo(this.buttonView, "change:isVisible", (t, e, n) => {
            if (n) {
              this.buttonView.listenTo(window, "resize", () =>
                this._updateButton()
              );
            } else {
              this.buttonView.stopListening(window, "resize");
              this._hidePanel();
            }
          });
          t.ui.addToolbar(this.toolbarView, {
            beforeFocus: () => this._showPanel(),
            afterBlur: () => this._hidePanel(),
          });
        }
        afterInit() {
          const t = this.editor.ui.componentFactory;
          const e = this._blockToolbarConfig;
          this.toolbarView.fillFromConfig(e, t);
          for (const t of this.toolbarView.items) {
            t.on("execute", () => this._hidePanel(true), { priority: "high" });
          }
          if (!e.shouldNotGroupWhenFull) {
            this.listenTo(this.editor, "ready", () => {
              const t = this.editor.ui.view.editable.element;
              this._resizeObserver = new dc(t, () => {
                this.toolbarView.maxWidth = this._getToolbarMaxWidth();
              });
            });
          }
        }
        destroy() {
          super.destroy();
          this.panelView.destroy();
          this.buttonView.destroy();
          this.toolbarView.destroy();
          if (this._resizeObserver) {
            this._resizeObserver.destroy();
          }
        }
        _createToolbarView() {
          const t = this.editor.locale.t;
          const e = !this._blockToolbarConfig.shouldNotGroupWhenFull;
          const n = new yv(this.editor.locale, {
            shouldGroupWhenFull: e,
            isFloating: true,
          });
          n.ariaLabel = t("Editor block content toolbar");
          n.focusTracker.on("change:isFocused", (t, e, n) => {
            if (!n) {
              this._hidePanel();
            }
          });
          return n;
        }
        _createPanelView() {
          const t = this.editor;
          const e = new vC(t.locale);
          e.content.add(this.toolbarView);
          e.class = "ck-toolbar-container";
          t.ui.view.body.add(e);
          t.ui.focusTracker.add(e.element);
          this.toolbarView.keystrokes.set("Esc", (t, e) => {
            this._hidePanel(true);
            e();
          });
          return e;
        }
        _createButtonView() {
          const t = this.editor;
          const e = t.t;
          const n = new ux(t.locale);
          const i = n.bindTemplate;
          n.set({ label: e("Edit block"), icon: mx, withText: false });
          n.extendTemplate({
            on: {
              mousedown: i.to((t) => {
                if (r.isSafari && this.panelView.isVisible) {
                  this.toolbarView.focus();
                }
                t.preventDefault();
              }),
            },
          });
          n.bind("isOn").to(this.panelView, "isVisible");
          n.bind("tooltip").to(this.panelView, "isVisible", (t) => !t);
          this.listenTo(n, "execute", () => {
            if (!this.panelView.isVisible) {
              this._showPanel();
            } else {
              this._hidePanel(true);
            }
          });
          t.ui.view.body.add(n);
          t.ui.focusTracker.add(n.element);
          return n;
        }
        _updateButton() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          if (!t.ui.focusTracker.isFocused) {
            this._hideButton();
            return;
          }
          if (t.isReadOnly) {
            this._hideButton();
            return;
          }
          const i = Array.from(e.document.selection.getSelectedBlocks())[0];
          if (
            !i ||
            Array.from(this.toolbarView.items).every((t) => !t.isEnabled)
          ) {
            this._hideButton();
            return;
          }
          const o = n.domConverter.mapViewToDom(
            t.editing.mapper.toViewElement(i)
          );
          this.buttonView.isVisible = true;
          this._attachButtonToElement(o);
          if (this.panelView.isVisible) {
            this._showPanel();
          }
        }
        _hideButton() {
          this.buttonView.isVisible = false;
        }
        _showPanel() {
          if (!this.buttonView.isVisible) {
            return;
          }
          const t = this.panelView.isVisible;
          this.panelView.show();
          this.toolbarView.maxWidth = this._getToolbarMaxWidth();
          this.panelView.pin({
            target: this.buttonView.element,
            limiter: this.editor.ui.getEditableElement(),
          });
          if (!t) {
            this.toolbarView.items.get(0).focus();
          }
        }
        _hidePanel(t) {
          this.panelView.isVisible = false;
          if (t) {
            this.editor.editing.view.focus();
          }
        }
        _attachButtonToElement(t) {
          const e = window.getComputedStyle(t);
          const n = new sc(this.editor.ui.getEditableElement());
          const i = parseInt(e.paddingTop, 10);
          const o =
            parseInt(e.lineHeight, 10) || parseInt(e.fontSize, 10) * 1.2;
          const r = kc({
            element: this.buttonView.element,
            target: t,
            positions: [
              (t, e) => {
                let r;
                if (this.editor.locale.uiLanguageDirection === "ltr") {
                  r = n.left - e.width;
                } else {
                  r = n.right;
                }
                return { top: t.top + i + (o - e.height) / 2, left: r };
              },
            ],
          });
          this.buttonView.top = r.top;
          this.buttonView.left = r.left;
        }
        _getToolbarMaxWidth() {
          const t = this.editor.ui.view.editable.element;
          const e = new sc(t);
          const n = new sc(this.buttonView.element);
          const i = this.editor.locale.uiLanguageDirection === "rtl";
          const o = i ? n.left - e.right + n.width : e.left - n.left;
          return hx(e.width + o);
        }
      }
      class fx extends NC {
        constructor(t, e) {
          super(t);
          this.view = e;
        }
        get element() {
          return this.view.editable.element;
        }
        init() {
          const t = this.editor;
          const e = this.view;
          const n = t.editing.view;
          const i = e.editable;
          const o = n.document.getRoot();
          i.name = o.rootName;
          e.render();
          const r = i.element;
          this.setEditableElement(i.name, r);
          i.bind("isFocused").to(this.focusTracker);
          n.attachDomRoot(r);
          this._initPlaceholder();
          this.fire("ready");
        }
        destroy() {
          super.destroy();
          const t = this.view;
          const e = this.editor.editing.view;
          e.detachDomRoot(t.editable.name);
          t.destroy();
        }
        _initPlaceholder() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document.getRoot();
          const i = t.sourceElement;
          const o =
            t.config.get("placeholder") ||
            (i &&
              i.tagName.toLowerCase() === "textarea" &&
              i.getAttribute("placeholder"));
          if (o) {
            Pl({
              view: e,
              element: n,
              text: o,
              isDirectHost: false,
              keepOnFocus: true,
            });
          }
        }
      }
      class px extends oy {
        constructor(t, e, n) {
          super(t);
          const i = t.t;
          this.editable = new hy(t, e, n, {
            label: (t) => i("Rich Text Editor. Editing area: %0", t.name),
          });
        }
        render() {
          super.render();
          this.registerChild(this.editable);
        }
      }
      class bx extends OC(jC(LA)) {
        constructor(t, e = {}) {
          if (!wx(t) && e.initialData !== undefined) {
            throw new M("editor-create-initial-data", null);
          }
          super(e);
          if (this.config.get("initialData") === undefined) {
            this.config.set("initialData", kx(t));
          }
          if (wx(t)) {
            this.sourceElement = t;
            FC(this);
          }
          const n = this.config.get("plugins");
          n.push(ox);
          this.config.set("plugins", n);
          this.config.define("balloonToolbar", this.config.get("toolbar"));
          this.model.document.createRoot();
          const i = new px(this.locale, this.editing.view, this.sourceElement);
          this.ui = new fx(this, i);
          PC(this);
        }
        destroy() {
          const t = this.getData();
          this.ui.destroy();
          return super.destroy().then(() => {
            if (this.sourceElement) {
              this.updateSourceElement(t);
            }
          });
        }
        static create(t, e = {}) {
          return new Promise((n) => {
            if (wx(t) && t.tagName === "TEXTAREA") {
              throw new M("editor-wrong-element", null);
            }
            const i = new this(t, e);
            n(
              i
                .initPlugins()
                .then(() => i.ui.init())
                .then(() => i.data.init(i.config.get("initialData")))
                .then(() => i.fire("ready"))
                .then(() => i)
            );
          });
        }
      }
      function kx(t) {
        return wx(t) ? ec(t) : t;
      }
      function wx(t) {
        return Va(t);
      }
      const Ax = ["left", "right", "center", "justify"];
      function Cx(t) {
        return Ax.includes(t);
      }
      function _x(t, e) {
        if (e.contentLanguageDirection == "rtl") {
          return t === "right";
        } else {
          return t === "left";
        }
      }
      function vx(t) {
        const e = t
          .map((t) => {
            let e;
            if (typeof t == "string") {
              e = { name: t };
            } else {
              e = t;
            }
            return e;
          })
          .filter((t) => {
            const e = !!Ax.includes(t.name);
            if (!e) {
              B("alignment-config-name-not-recognized", { option: t });
            }
            return e;
          });
        const n = e.filter((t) => !!t.className).length;
        if (n && n < e.length) {
          throw new M("alignment-config-classnames-are-missing", {
            configuredOptions: t,
          });
        }
        e.forEach((e, n, i) => {
          const o = i.slice(n + 1);
          const r = o.some((t) => t.name == e.name);
          if (r) {
            throw new M("alignment-config-name-already-defined", {
              option: e,
              configuredOptions: t,
            });
          }
          if (e.className) {
            const n = o.some((t) => t.className == e.className);
            if (n) {
              throw new M("alignment-config-classname-already-defined", {
                option: e,
                configuredOptions: t,
              });
            }
          }
        });
        return e;
      }
      const yx = "alignment";
      class xx extends vl {
        refresh() {
          const t = this.editor;
          const e = t.locale;
          const n = sl(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          this.isEnabled = !!n && this._canBeAligned(n);
          if (this.isEnabled && n.hasAttribute("alignment")) {
            this.value = n.getAttribute("alignment");
          } else {
            this.value =
              e.contentLanguageDirection === "rtl" ? "right" : "left";
          }
        }
        execute(t = {}) {
          const e = this.editor;
          const n = e.locale;
          const i = e.model;
          const o = i.document;
          const r = t.value;
          i.change((t) => {
            const e = Array.from(o.selection.getSelectedBlocks()).filter((t) =>
              this._canBeAligned(t)
            );
            const i = e[0].getAttribute("alignment");
            const s = _x(r, n) || i === r || !r;
            if (s) {
              Ex(e, t);
            } else {
              Dx(e, t, r);
            }
          });
        }
        _canBeAligned(t) {
          return this.editor.model.schema.checkAttribute(t, yx);
        }
      }
      function Ex(t, e) {
        for (const n of t) {
          e.removeAttribute(yx, n);
        }
      }
      function Dx(t, e, n) {
        for (const i of t) {
          e.setAttribute(yx, n, i);
        }
      }
      class Sx extends Cl {
        static get pluginName() {
          return "AlignmentEditing";
        }
        constructor(t) {
          super(t);
          t.config.define("alignment", {
            options: [...Ax.map((t) => ({ name: t }))],
          });
        }
        init() {
          const t = this.editor;
          const e = t.locale;
          const n = t.model.schema;
          const i = vx(t.config.get("alignment.options"));
          const o = i.filter((t) => Cx(t.name) && !_x(t.name, e));
          const r = o.some((t) => !!t.className);
          n.extend("$block", { allowAttributes: "alignment" });
          t.model.schema.setAttributeProperties("alignment", {
            isFormatting: true,
          });
          if (r) {
            t.conversion.attributeToAttribute(Bx(o));
          } else {
            t.conversion.for("downcast").attributeToAttribute(Tx(o));
          }
          const s = Ix(o);
          for (const e of s) {
            t.conversion.for("upcast").attributeToAttribute(e);
          }
          const a = Mx(o);
          for (const e of a) {
            t.conversion.for("upcast").attributeToAttribute(e);
          }
          t.commands.add("alignment", new xx(t));
        }
      }
      function Tx(t) {
        const e = {
          model: { key: "alignment", values: t.map((t) => t.name) },
          view: {},
        };
        for (const { name: n } of t) {
          e.view[n] = { key: "style", value: { "text-align": n } };
        }
        return e;
      }
      function Ix(t) {
        const e = [];
        for (const { name: n } of t) {
          e.push({
            view: { key: "style", value: { "text-align": n } },
            model: { key: "alignment", value: n },
          });
        }
        return e;
      }
      function Mx(t) {
        const e = [];
        for (const { name: n } of t) {
          e.push({
            view: { key: "align", value: n },
            model: { key: "alignment", value: n },
          });
        }
        return e;
      }
      function Bx(t) {
        const e = {
          model: { key: "alignment", values: t.map((t) => t.name) },
          view: {},
        };
        for (const n of t) {
          e.view[n.name] = { key: "class", value: n.className };
        }
        return e;
      }
      const Lx = new Map([
        ["left", __.alignLeft],
        ["right", __.alignRight],
        ["center", __.alignCenter],
        ["justify", __.alignJustify],
      ]);
      class Nx extends Cl {
        get localizedOptionTitles() {
          const t = this.editor.t;
          return {
            left: t("Align left"),
            right: t("Align right"),
            center: t("Align center"),
            justify: t("Justify"),
          };
        }
        static get pluginName() {
          return "AlignmentUI";
        }
        init() {
          const t = this.editor;
          const e = t.ui.componentFactory;
          const n = t.t;
          const i = vx(t.config.get("alignment.options"));
          i.map((t) => t.name)
            .filter(Cx)
            .forEach((t) => this._addButton(t));
          e.add("alignment", (o) => {
            const r = Uv(o);
            const s = i.map((t) => e.create(\`alignment:\${t.name}\`));
            qv(r, s, { enableActiveItemFocusOnDropdownOpen: true });
            r.buttonView.set({ label: n("Text alignment"), tooltip: true });
            r.toolbarView.isVertical = true;
            r.toolbarView.ariaLabel = n("Text alignment toolbar");
            r.extendTemplate({
              attributes: { class: "ck-alignment-dropdown" },
            });
            const a =
              o.contentLanguageDirection === "rtl"
                ? Lx.get("right")
                : Lx.get("left");
            r.buttonView.bind("icon").toMany(s, "isOn", (...t) => {
              const e = t.findIndex((t) => t);
              if (e < 0) {
                return a;
              }
              return s[e].icon;
            });
            r.bind("isEnabled").toMany(s, "isEnabled", (...t) =>
              t.some((t) => t)
            );
            this.listenTo(r, "execute", () => {
              t.editing.view.focus();
            });
            return r;
          });
        }
        _addButton(t) {
          const e = this.editor;
          e.ui.componentFactory.add(\`alignment:\${t}\`, (n) => {
            const i = e.commands.get("alignment");
            const o = new R_(n);
            o.set({
              label: this.localizedOptionTitles[t],
              icon: Lx.get(t),
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isEnabled").to(i);
            o.bind("isOn").to(i, "value", (e) => e === t);
            this.listenTo(o, "execute", () => {
              e.execute("alignment", { value: t });
              e.editing.view.focus();
            });
            return o;
          });
        }
      }
      class zx extends Cl {
        static get requires() {
          return [Sx, Nx];
        }
        static get pluginName() {
          return "Alignment";
        }
      }
      class Px {
        constructor(t, e = 20) {
          this._batch = null;
          this.model = t;
          this._size = 0;
          this.limit = e;
          this._isLocked = false;
          this._changeCallback = (t, e) => {
            if (e.isLocal && e.isUndoable && e !== this._batch) {
              this._reset(true);
            }
          };
          this._selectionChangeCallback = () => {
            this._reset();
          };
          this.model.document.on("change", this._changeCallback);
          this.model.document.selection.on(
            "change:range",
            this._selectionChangeCallback
          );
          this.model.document.selection.on(
            "change:attribute",
            this._selectionChangeCallback
          );
        }
        get batch() {
          if (!this._batch) {
            this._batch = this.model.createBatch({ isTyping: true });
          }
          return this._batch;
        }
        get size() {
          return this._size;
        }
        input(t) {
          this._size += t;
          if (this._size >= this.limit) {
            this._reset(true);
          }
        }
        get isLocked() {
          return this._isLocked;
        }
        lock() {
          this._isLocked = true;
        }
        unlock() {
          this._isLocked = false;
        }
        destroy() {
          this.model.document.off("change", this._changeCallback);
          this.model.document.selection.off(
            "change:range",
            this._selectionChangeCallback
          );
          this.model.document.selection.off(
            "change:attribute",
            this._selectionChangeCallback
          );
        }
        _reset(t = false) {
          if (!this.isLocked || t) {
            this._batch = null;
            this._size = 0;
          }
        }
      }
      class Rx extends vl {
        constructor(t, e) {
          super(t);
          this._buffer = new Px(t.model, e);
        }
        get buffer() {
          return this._buffer;
        }
        destroy() {
          super.destroy();
          this._buffer.destroy();
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document;
          const i = t.text || "";
          const o = i.length;
          let r = n.selection;
          if (t.selection) {
            r = t.selection;
          } else if (t.range) {
            r = e.createSelection(t.range);
          }
          const s = t.resultRange;
          e.enqueueChange(this._buffer.batch, (t) => {
            this._buffer.lock();
            e.deleteContent(r);
            if (i) {
              e.insertContent(t.createText(i, n.selection.getAttributes()), r);
            }
            if (s) {
              t.setSelection(s);
            } else if (!r.is("documentSelection")) {
              t.setSelection(r);
            }
            this._buffer.unlock();
            this._buffer.input(o);
          });
        }
      }
      const Ox = ["insertText", "insertReplacementText"];
      class jx extends Em {
        constructor(t) {
          super(t);
          if (r.isAndroid) {
            Ox.push("insertCompositionText");
          }
          const e = t.document;
          e.on("beforeinput", (n, i) => {
            if (!this.isEnabled) {
              return;
            }
            const { data: o, targetRanges: r, inputType: s, domEvent: a } = i;
            if (!Ox.includes(s)) {
              return;
            }
            const c = new y(e, "insertText");
            e.fire(
              c,
              new Tm(t, a, { text: o, selection: t.createSelection(r) })
            );
            if (c.stop.called) {
              n.stop();
            }
          });
          e.on(
            "compositionend",
            (n, { data: i, domEvent: o }) => {
              if (!this.isEnabled || r.isAndroid) {
                return;
              }
              if (!i) {
                return;
              }
              e.fire(
                "insertText",
                new Tm(t, o, { text: i, selection: e.selection })
              );
            },
            { priority: "lowest" }
          );
        }
        observe() {}
      }
      class Fx extends Cl {
        static get pluginName() {
          return "Input";
        }
        init() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          const i = e.document.selection;
          n.addObserver(jx);
          const o = new Rx(t, t.config.get("typing.undoStep") || 20);
          t.commands.add("insertText", o);
          t.commands.add("input", o);
          this.listenTo(n.document, "insertText", (i, o) => {
            if (!n.document.isComposing) {
              o.preventDefault();
            }
            const { text: s, selection: a, resultRange: c } = o;
            const l = Array.from(a.getRanges()).map((e) =>
              t.editing.mapper.toModelRange(e)
            );
            let d = s;
            if (r.isAndroid) {
              const t = Array.from(l[0].getItems()).reduce(
                (t, e) => t + (e.is("$textProxy") ? e.data : ""),
                ""
              );
              if (t) {
                if (t.length <= d.length) {
                  if (d.startsWith(t)) {
                    d = d.substring(t.length);
                    l[0].start = l[0].start.getShiftedBy(t.length);
                  }
                } else {
                  if (t.startsWith(d)) {
                    l[0].start = l[0].start.getShiftedBy(d.length);
                    d = "";
                  }
                }
              }
            }
            const u = { text: d, selection: e.createSelection(l) };
            if (c) {
              u.resultRange = t.editing.mapper.toModelRange(c);
            }
            t.execute("insertText", u);
          });
          if (r.isAndroid) {
            this.listenTo(n.document, "keydown", (t, r) => {
              if (
                i.isCollapsed ||
                r.keyCode != 229 ||
                !n.document.isComposing
              ) {
                return;
              }
              Vx(e, o);
            });
          } else {
            this.listenTo(n.document, "compositionstart", () => {
              if (i.isCollapsed) {
                return;
              }
              Vx(e, o);
            });
          }
        }
      }
      function Vx(t, e) {
        if (!e.isEnabled) {
          return;
        }
        const n = e.buffer;
        n.lock();
        t.enqueueChange(n.batch, () => {
          t.deleteContent(t.document.selection);
        });
        n.unlock();
      }
      class Hx extends vl {
        constructor(t, e) {
          super(t);
          this.direction = e;
          this._buffer = new Px(t.model, t.config.get("typing.undoStep"));
        }
        get buffer() {
          return this._buffer;
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document;
          e.enqueueChange(this._buffer.batch, (i) => {
            this._buffer.lock();
            const o = i.createSelection(t.selection || n.selection);
            const r = t.sequence || 1;
            const s = o.isCollapsed;
            if (o.isCollapsed) {
              e.modifySelection(o, {
                direction: this.direction,
                unit: t.unit,
                treatEmojiAsSingleUnit: true,
              });
            }
            if (this._shouldEntireContentBeReplacedWithParagraph(r)) {
              this._replaceEntireContentWithParagraph(i);
              return;
            }
            if (this._shouldReplaceFirstBlockWithParagraph(o, r)) {
              this.editor.execute("paragraph", { selection: o });
              return;
            }
            if (o.isCollapsed) {
              return;
            }
            let a = 0;
            o.getFirstRange()
              .getMinimalFlatRanges()
              .forEach((t) => {
                a += _t(
                  t.getWalker({
                    singleCharacters: true,
                    ignoreElementEnd: true,
                    shallow: true,
                  })
                );
              });
            e.deleteContent(o, {
              doNotResetEntireContent: s,
              direction: this.direction,
            });
            this._buffer.input(a);
            i.setSelection(o);
            this._buffer.unlock();
          });
        }
        _shouldEntireContentBeReplacedWithParagraph(t) {
          if (t > 1) {
            return false;
          }
          const e = this.editor.model;
          const n = e.document;
          const i = n.selection;
          const o = e.schema.getLimitElement(i);
          const r = i.isCollapsed && i.containsEntireContent(o);
          if (!r) {
            return false;
          }
          if (!e.schema.checkChild(o, "paragraph")) {
            return false;
          }
          const s = o.getChild(0);
          if (s && s.is("element", "paragraph")) {
            return false;
          }
          return true;
        }
        _replaceEntireContentWithParagraph(t) {
          const e = this.editor.model;
          const n = e.document;
          const i = n.selection;
          const o = e.schema.getLimitElement(i);
          const r = t.createElement("paragraph");
          t.remove(t.createRangeIn(o));
          t.insert(r, o);
          t.setSelection(r, 0);
        }
        _shouldReplaceFirstBlockWithParagraph(t, e) {
          const n = this.editor.model;
          if (e > 1 || this.direction != "backward") {
            return false;
          }
          if (!t.isCollapsed) {
            return false;
          }
          const i = t.getFirstPosition();
          const o = n.schema.getLimitElement(i);
          const r = o.getChild(0);
          if (i.parent != r) {
            return false;
          }
          if (!t.containsEntireContent(r)) {
            return false;
          }
          if (!n.schema.checkChild(o, "paragraph")) {
            return false;
          }
          if (r.name == "paragraph") {
            return false;
          }
          return true;
        }
      }
      const Ux = "character";
      const qx = "word";
      const Wx = "codePoint";
      const Gx = "selection";
      const $x = "backward";
      const Kx = "forward";
      const Yx = {
        deleteContent: { unit: Gx, direction: $x },
        deleteContentBackward: { unit: Wx, direction: $x },
        deleteWordBackward: { unit: qx, direction: $x },
        deleteHardLineBackward: { unit: Gx, direction: $x },
        deleteSoftLineBackward: { unit: Gx, direction: $x },
        deleteContentForward: { unit: Ux, direction: Kx },
        deleteWordForward: { unit: qx, direction: Kx },
        deleteHardLineForward: { unit: Gx, direction: Kx },
        deleteSoftLineForward: { unit: Gx, direction: Kx },
      };
      class Zx extends Em {
        constructor(t) {
          super(t);
          const e = t.document;
          let n = 0;
          e.on("keydown", () => {
            n++;
          });
          e.on("keyup", () => {
            n = 0;
          });
          e.on("beforeinput", (i, o) => {
            if (!this.isEnabled) {
              return;
            }
            const { targetRanges: s, domEvent: a, inputType: c } = o;
            const l = Yx[c];
            if (!l) {
              return;
            }
            const d = { direction: l.direction, unit: l.unit, sequence: n };
            if (d.unit == Gx) {
              d.selectionToRemove = t.createSelection(s[0]);
            }
            if (r.isAndroid && c === "deleteContentBackward") {
              d.sequence = 1;
              if (
                s.length == 1 &&
                (s[0].start.parent != s[0].end.parent ||
                  s[0].start.offset + 1 != s[0].end.offset)
              ) {
                d.unit = Gx;
                d.selectionToRemove = t.createSelection(s);
              }
            }
            const u = new dh(e, "delete", s[0]);
            e.fire(u, new Tm(t, a, d));
            if (u.stop.called) {
              i.stop();
            }
          });
          if (r.isBlink) {
            Qx(this);
          }
        }
        observe() {}
      }
      function Qx(t) {
        const e = t.view;
        const n = e.document;
        let i = null;
        let o = false;
        n.on("keydown", (t, { keyCode: e }) => {
          i = e;
          o = false;
        });
        n.on("keyup", (a, { keyCode: c, domEvent: l }) => {
          const d = n.selection;
          const u = t.isEnabled && c == i && r(c) && !d.isCollapsed && !o;
          i = null;
          if (u) {
            const t = d.getFirstRange();
            const i = new dh(n, "delete", t);
            const o = { unit: Gx, direction: s(c), selectionToRemove: d };
            n.fire(i, new Tm(e, l, o));
          }
        });
        n.on(
          "beforeinput",
          (t, { inputType: e }) => {
            const n = Yx[e];
            const a = r(i) && n && n.direction == s(i);
            if (a) {
              o = true;
            }
          },
          { priority: "high" }
        );
        n.on(
          "beforeinput",
          (t, { inputType: e, data: n }) => {
            const o = i == Oc["delete"] && e == "insertText" && n == "\x7F";
            if (o) {
              t.stop();
            }
          },
          { priority: "high" }
        );
        function r(t) {
          return t == Oc.backspace || t == Oc["delete"];
        }
        function s(t) {
          return t == Oc.backspace ? $x : Kx;
        }
      }
      class Jx extends Cl {
        static get pluginName() {
          return "Delete";
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          const i = t.model.document;
          e.addObserver(Zx);
          this._undoOnBackspace = false;
          const o = new Hx(t, "forward");
          t.commands.add("deleteForward", o);
          t.commands.add("forwardDelete", o);
          t.commands.add("delete", new Hx(t, "backward"));
          this.listenTo(
            n,
            "delete",
            (i, o) => {
              if (!n.isComposing) {
                o.preventDefault();
              }
              const {
                direction: r,
                sequence: s,
                selectionToRemove: a,
                unit: c,
              } = o;
              const l = r === "forward" ? "deleteForward" : "delete";
              const d = { sequence: s };
              if (c == "selection") {
                const e = Array.from(a.getRanges()).map((e) =>
                  t.editing.mapper.toModelRange(e)
                );
                d.selection = t.model.createSelection(e);
              } else {
                d.unit = c;
              }
              t.execute(l, d);
              e.scrollToTheSelection();
            },
            { priority: "low" }
          );
          if (this.editor.plugins.has("UndoEditing")) {
            this.listenTo(
              n,
              "delete",
              (e, n) => {
                if (
                  this._undoOnBackspace &&
                  n.direction == "backward" &&
                  n.sequence == 1 &&
                  n.unit == "codePoint"
                ) {
                  this._undoOnBackspace = false;
                  t.execute("undo");
                  n.preventDefault();
                  e.stop();
                }
              },
              { context: "$capture" }
            );
            this.listenTo(i, "change", () => {
              this._undoOnBackspace = false;
            });
          }
        }
        requestUndoOnBackspace() {
          if (this.editor.plugins.has("UndoEditing")) {
            this._undoOnBackspace = true;
          }
        }
      }
      class Xx extends Cl {
        static get requires() {
          return [Fx, Jx];
        }
        static get pluginName() {
          return "Typing";
        }
      }
      function tE(t, e) {
        let n = t.start;
        const i = Array.from(t.getItems()).reduce((t, i) => {
          if (!(i.is("$text") || i.is("$textProxy"))) {
            n = e.createPositionAfter(i);
            return "";
          }
          return t + i.data;
        }, "");
        return { text: i, range: e.createRange(n, t.end) };
      }
      class eE extends dt() {
        constructor(t, e) {
          super();
          this.model = t;
          this.testCallback = e;
          this._hasMatch = false;
          this.set("isEnabled", true);
          this.on("change:isEnabled", () => {
            if (this.isEnabled) {
              this._startListening();
            } else {
              this.stopListening(t.document.selection);
              this.stopListening(t.document);
            }
          });
          this._startListening();
        }
        get hasMatch() {
          return this._hasMatch;
        }
        _startListening() {
          const t = this.model;
          const e = t.document;
          this.listenTo(
            e.selection,
            "change:range",
            (t, { directChange: n }) => {
              if (!n) {
                return;
              }
              if (!e.selection.isCollapsed) {
                if (this.hasMatch) {
                  this.fire("unmatched");
                  this._hasMatch = false;
                }
                return;
              }
              this._evaluateTextBeforeSelection("selection");
            }
          );
          this.listenTo(e, "change:data", (t, e) => {
            if (e.isUndo || !e.isLocal) {
              return;
            }
            this._evaluateTextBeforeSelection("data", { batch: e });
          });
        }
        _evaluateTextBeforeSelection(t, e = {}) {
          const n = this.model;
          const i = n.document;
          const o = i.selection;
          const r = n.createRange(
            n.createPositionAt(o.focus.parent, 0),
            o.focus
          );
          const { text: s, range: a } = tE(r, n);
          const c = this.testCallback(s);
          if (!c && this.hasMatch) {
            this.fire("unmatched");
          }
          this._hasMatch = !!c;
          if (c) {
            const n = Object.assign(e, { text: s, range: a });
            if (typeof c == "object") {
              Object.assign(n, c);
            }
            this.fire(\`matched:\${t}\`, n);
          }
        }
      }
      class nE extends Cl {
        static get pluginName() {
          return "TwoStepCaretMovement";
        }
        constructor(t) {
          super(t);
          this.attributes = new Set();
          this._overrideUid = null;
        }
        init() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          const i = t.locale;
          const o = e.document.selection;
          this.listenTo(
            n.document,
            "arrowKey",
            (t, e) => {
              if (!o.isCollapsed) {
                return;
              }
              if (e.shiftKey || e.altKey || e.ctrlKey) {
                return;
              }
              const n = e.keyCode == Oc.arrowright;
              const r = e.keyCode == Oc.arrowleft;
              if (!n && !r) {
                return;
              }
              const s = i.contentLanguageDirection;
              let a = false;
              if ((s === "ltr" && n) || (s === "rtl" && r)) {
                a = this._handleForwardMovement(e);
              } else {
                a = this._handleBackwardMovement(e);
              }
              if (a === true) {
                t.stop();
              }
            },
            { context: "$text", priority: "highest" }
          );
          this._isNextGravityRestorationSkipped = false;
          this.listenTo(o, "change:range", (t, e) => {
            if (this._isNextGravityRestorationSkipped) {
              this._isNextGravityRestorationSkipped = false;
              return;
            }
            if (!this._isGravityOverridden) {
              return;
            }
            if (!e.directChange && aE(o.getFirstPosition(), this.attributes)) {
              return;
            }
            this._restoreGravity();
          });
        }
        registerAttribute(t) {
          this.attributes.add(t);
        }
        _handleForwardMovement(t) {
          const e = this.attributes;
          const n = this.editor.model;
          const i = n.document.selection;
          const o = i.getFirstPosition();
          if (this._isGravityOverridden) {
            return false;
          }
          if (o.isAtStart && iE(i, e)) {
            return false;
          }
          if (aE(o, e)) {
            rE(t);
            this._overrideGravity();
            return true;
          }
          return false;
        }
        _handleBackwardMovement(t) {
          const e = this.attributes;
          const n = this.editor.model;
          const i = n.document.selection;
          const o = i.getFirstPosition();
          if (this._isGravityOverridden) {
            rE(t);
            this._restoreGravity();
            oE(n, e, o);
            return true;
          } else {
            if (o.isAtStart) {
              if (iE(i, e)) {
                rE(t);
                oE(n, e, o);
                return true;
              }
              return false;
            }
            if (sE(o, e)) {
              if (o.isAtEnd && !iE(i, e) && aE(o, e)) {
                rE(t);
                oE(n, e, o);
                return true;
              }
              this._isNextGravityRestorationSkipped = true;
              this._overrideGravity();
              return false;
            }
          }
          return false;
        }
        get _isGravityOverridden() {
          return !!this._overrideUid;
        }
        _overrideGravity() {
          this._overrideUid = this.editor.model.change((t) =>
            t.overrideSelectionGravity()
          );
        }
        _restoreGravity() {
          this.editor.model.change((t) => {
            t.restoreSelectionGravity(this._overrideUid);
            this._overrideUid = null;
          });
        }
      }
      function iE(t, e) {
        for (const n of e) {
          if (t.hasAttribute(n)) {
            return true;
          }
        }
        return false;
      }
      function oE(t, e, n) {
        const i = n.nodeBefore;
        t.change((t) => {
          if (i) {
            t.setSelectionAttribute(i.getAttributes());
          } else {
            t.removeSelectionAttribute(e);
          }
        });
      }
      function rE(t) {
        t.preventDefault();
      }
      function sE(t, e) {
        const n = t.getShiftedBy(-1);
        return aE(n, e);
      }
      function aE(t, e) {
        const { nodeBefore: n, nodeAfter: i } = t;
        for (const t of e) {
          const e = n ? n.getAttribute(t) : undefined;
          const o = i ? i.getAttribute(t) : undefined;
          if (o !== e) {
            return true;
          }
        }
        return false;
      }
      var cE = /[\\\\^$.*+?()[\\]{}|]/g,
        lE = RegExp(cE.source);
      function dE(t) {
        t = Bd(t);
        return t && lE.test(t) ? t.replace(cE, "\\\\$&") : t;
      }
      const uE = dE;
      const hE = {
        copyright: { from: "(c)", to: "\xA9" },
        registeredTrademark: { from: "(r)", to: "\xAE" },
        trademark: { from: "(tm)", to: "\u2122" },
        oneHalf: {
          from: /(^|[^/a-z0-9])(1\\/2)([^/a-z0-9])$/i,
          to: [null, "\xBD", null],
        },
        oneThird: {
          from: /(^|[^/a-z0-9])(1\\/3)([^/a-z0-9])$/i,
          to: [null, "\u2153", null],
        },
        twoThirds: {
          from: /(^|[^/a-z0-9])(2\\/3)([^/a-z0-9])$/i,
          to: [null, "\u2154", null],
        },
        oneForth: {
          from: /(^|[^/a-z0-9])(1\\/4)([^/a-z0-9])$/i,
          to: [null, "\xBC", null],
        },
        threeQuarters: {
          from: /(^|[^/a-z0-9])(3\\/4)([^/a-z0-9])$/i,
          to: [null, "\xBE", null],
        },
        lessThanOrEqual: { from: "<=", to: "\u2264" },
        greaterThanOrEqual: { from: ">=", to: "\u2265" },
        notEqual: { from: "!=", to: "\u2260" },
        arrowLeft: { from: "<-", to: "\u2190" },
        arrowRight: { from: "->", to: "\u2192" },
        horizontalEllipsis: { from: "...", to: "\u2026" },
        enDash: { from: /(^| )(--)( )$/, to: [null, "\u2013", null] },
        emDash: { from: /(^| )(---)( )$/, to: [null, "\u2014", null] },
        quotesPrimary: { from: wE('"'), to: [null, "\u201C", null, "\u201D"] },
        quotesSecondary: { from: wE("'"), to: [null, "\u2018", null, "\u2019"] },
        quotesPrimaryEnGb: { from: wE("'"), to: [null, "\u2018", null, "\u2019"] },
        quotesSecondaryEnGb: { from: wE('"'), to: [null, "\u201C", null, "\u201D"] },
        quotesPrimaryPl: { from: wE('"'), to: [null, "\u201E", null, "\u201D"] },
        quotesSecondaryPl: { from: wE("'"), to: [null, "\u201A", null, "\u2019"] },
      };
      const mE = {
        symbols: ["copyright", "registeredTrademark", "trademark"],
        mathematical: [
          "oneHalf",
          "oneThird",
          "twoThirds",
          "oneForth",
          "threeQuarters",
          "lessThanOrEqual",
          "greaterThanOrEqual",
          "notEqual",
          "arrowLeft",
          "arrowRight",
        ],
        typography: ["horizontalEllipsis", "enDash", "emDash"],
        quotes: ["quotesPrimary", "quotesSecondary"],
      };
      const gE = ["symbols", "mathematical", "typography", "quotes"];
      class fE extends Cl {
        static get requires() {
          return ["Delete", "Input"];
        }
        static get pluginName() {
          return "TextTransformation";
        }
        constructor(t) {
          super(t);
          t.config.define("typing", { transformations: { include: gE } });
        }
        init() {
          const t = this.editor.model;
          const e = t.document.selection;
          e.on("change:range", () => {
            this.isEnabled = !e.anchor.parent.is("element", "codeBlock");
          });
          this._enableTransformationWatchers();
        }
        _enableTransformationWatchers() {
          const t = this.editor;
          const e = t.model;
          const n = t.plugins.get("Delete");
          const i = AE(t.config.get("typing.transformations"));
          const o = (t) => {
            for (const e of i) {
              const n = e.from;
              const i = n.test(t);
              if (i) {
                return { normalizedTransformation: e };
              }
            }
          };
          const r = new eE(t.model, o);
          r.on("matched:data", (t, i) => {
            if (!i.batch.isTyping) {
              return;
            }
            const { from: o, to: r } = i.normalizedTransformation;
            const s = o.exec(i.text);
            const a = r(s.slice(1));
            const c = i.range;
            let l = s.index;
            e.enqueueChange((t) => {
              for (let n = 1; n < s.length; n++) {
                const i = s[n];
                const o = a[n - 1];
                if (o == null) {
                  l += i.length;
                  continue;
                }
                const r = c.start.getShiftedBy(l);
                const d = e.createRange(r, r.getShiftedBy(i.length));
                const u = kE(r);
                e.insertContent(t.createText(o, u), d);
                l += o.length;
              }
              e.enqueueChange(() => {
                n.requestUndoOnBackspace();
              });
            });
          });
          r.bind("isEnabled").to(this);
        }
      }
      function pE(t) {
        if (typeof t == "string") {
          return new RegExp(\`(\${uE(t)})$\`);
        }
        return t;
      }
      function bE(t) {
        if (typeof t == "string") {
          return () => [t];
        } else if (t instanceof Array) {
          return () => t;
        }
        return t;
      }
      function kE(t) {
        const e = t.textNode ? t.textNode : t.nodeAfter;
        return e.getAttributes();
      }
      function wE(t) {
        return new RegExp(\`(^|\\\\s)(\${t})([^\${t}]*)(\${t})$\`);
      }
      function AE(t) {
        const e = t.extra || [];
        const n = t.remove || [];
        const i = (t) => !n.includes(t);
        const o = t.include.concat(e).filter(i);
        return CE(o)
          .filter(i)
          .map((t) => (typeof t == "string" && hE[t] ? hE[t] : t))
          .filter((t) => typeof t === "object")
          .map((t) => ({ from: pE(t.from), to: bE(t.to) }));
      }
      function CE(t) {
        const e = new Set();
        for (const n of t) {
          if (typeof n == "string" && mE[n]) {
            for (const t of mE[n]) {
              e.add(t);
            }
          } else {
            e.add(n);
          }
        }
        return Array.from(e);
      }
      function _E(t, e, n, i) {
        return i.createRange(vE(t, e, n, true, i), vE(t, e, n, false, i));
      }
      function vE(t, e, n, i, o) {
        let r = t.textNode || (i ? t.nodeBefore : t.nodeAfter);
        let s = null;
        while (r && r.getAttribute(e) == n) {
          s = r;
          r = i ? r.previousSibling : r.nextSibling;
        }
        return s ? o.createPositionAt(s, i ? "before" : "after") : t;
      }
      function yE(t, e, n, i) {
        const o = t.editing.view;
        const r = new Set();
        o.document.registerPostFixer((o) => {
          const s = t.model.document.selection;
          let a = false;
          if (s.hasAttribute(e)) {
            const c = _E(s.getFirstPosition(), e, s.getAttribute(e), t.model);
            const l = t.editing.mapper.toViewRange(c);
            for (const t of l.getItems()) {
              if (t.is("element", n) && !t.hasClass(i)) {
                o.addClass(i, t);
                r.add(t);
                a = true;
              }
            }
          }
          return a;
        });
        t.conversion.for("editingDowncast").add((t) => {
          t.on("insert", e, { priority: "highest" });
          t.on("remove", e, { priority: "highest" });
          t.on("attribute", e, { priority: "highest" });
          t.on("selection", e, { priority: "highest" });
          function e() {
            o.change((t) => {
              for (const e of r.values()) {
                t.removeClass(i, e);
                r.delete(e);
              }
            });
          }
        });
      }
      function xE(t, e, n, i) {
        let o;
        let r = null;
        if (typeof i == "function") {
          o = i;
        } else {
          r = t.commands.get(i);
          o = () => {
            t.execute(i);
          };
        }
        t.model.document.on("change:data", (s, a) => {
          if ((r && !r.isEnabled) || !e.isEnabled) {
            return;
          }
          const c = sl(t.model.document.selection.getRanges());
          if (!c.isCollapsed) {
            return;
          }
          if (a.isUndo || !a.isLocal) {
            return;
          }
          const l = Array.from(t.model.document.differ.getChanges());
          const d = l[0];
          if (
            l.length != 1 ||
            d.type !== "insert" ||
            d.name != "$text" ||
            d.length != 1
          ) {
            return;
          }
          const u = d.position.parent;
          if (u.is("element", "codeBlock")) {
            return;
          }
          if (
            u.is("element", "listItem") &&
            typeof i !== "function" &&
            !["numberedList", "bulletedList", "todoList"].includes(i)
          ) {
            return;
          }
          if (r && r.value === true) {
            return;
          }
          const h = u.getChild(0);
          const m = t.model.createRangeOn(h);
          if (!m.containsRange(c) && !c.end.isEqual(m.end)) {
            return;
          }
          const g = n.exec(h.data.substr(0, c.end.offset));
          if (!g) {
            return;
          }
          t.model.enqueueChange((e) => {
            const n = e.createPositionAt(u, 0);
            const i = e.createPositionAt(u, g[0].length);
            const r = new Ff(n, i);
            const s = o({ match: g });
            if (s !== false) {
              e.remove(r);
              const n = t.model.document.selection.getFirstRange();
              const i = e.createRangeIn(u);
              if (u.isEmpty && !i.isEqual(n) && !i.containsRange(n, true)) {
                e.remove(u);
              }
            }
            r.detach();
            t.model.enqueueChange(() => {
              t.plugins.get("Delete").requestUndoOnBackspace();
            });
          });
        });
      }
      function EE(t, e, n, i) {
        let o;
        let r;
        if (n instanceof RegExp) {
          o = n;
        } else {
          r = n;
        }
        r =
          r ||
          ((t) => {
            let e;
            const n = [];
            const i = [];
            while ((e = o.exec(t)) !== null) {
              if (e && e.length < 4) {
                break;
              }
              let { index: t, 1: o, 2: r, 3: s } = e;
              const a = o + r + s;
              t += e[0].length - a.length;
              const c = [t, t + o.length];
              const l = [
                t + o.length + r.length,
                t + o.length + r.length + s.length,
              ];
              n.push(c);
              n.push(l);
              i.push([t + o.length, t + o.length + r.length]);
            }
            return { remove: n, format: i };
          });
        t.model.document.on("change:data", (n, o) => {
          if (o.isUndo || !o.isLocal || !e.isEnabled) {
            return;
          }
          const s = t.model;
          const a = s.document.selection;
          if (!a.isCollapsed) {
            return;
          }
          const c = Array.from(s.document.differ.getChanges());
          const l = c[0];
          if (
            c.length != 1 ||
            l.type !== "insert" ||
            l.name != "$text" ||
            l.length != 1
          ) {
            return;
          }
          const d = a.focus;
          const u = d.parent;
          const { text: h, range: m } = SE(
            s.createRange(s.createPositionAt(u, 0), d),
            s
          );
          const g = r(h);
          const f = DE(m.start, g.format, s);
          const p = DE(m.start, g.remove, s);
          if (!(f.length && p.length)) {
            return;
          }
          s.enqueueChange((e) => {
            const n = i(e, f);
            if (n === false) {
              return;
            }
            for (const t of p.reverse()) {
              e.remove(t);
            }
            s.enqueueChange(() => {
              t.plugins.get("Delete").requestUndoOnBackspace();
            });
          });
        });
      }
      function DE(t, e, n) {
        return e
          .filter((t) => t[0] !== undefined && t[1] !== undefined)
          .map((e) =>
            n.createRange(t.getShiftedBy(e[0]), t.getShiftedBy(e[1]))
          );
      }
      function SE(t, e) {
        let n = t.start;
        const i = Array.from(t.getItems()).reduce((t, i) => {
          if (
            !(i.is("$text") || i.is("$textProxy")) ||
            i.getAttribute("code")
          ) {
            n = e.createPositionAfter(i);
            return "";
          }
          return t + i.data;
        }, "");
        return { text: i, range: e.createRange(n, t.end) };
      }
      class TE extends Cl {
        static get requires() {
          return [Jx];
        }
        static get pluginName() {
          return "Autoformat";
        }
        afterInit() {
          this._addListAutoformats();
          this._addBasicStylesAutoformats();
          this._addHeadingAutoformats();
          this._addBlockQuoteAutoformats();
          this._addCodeBlockAutoformats();
          this._addHorizontalLineAutoformats();
        }
        _addListAutoformats() {
          const t = this.editor.commands;
          if (t.get("bulletedList")) {
            xE(this.editor, this, /^[*-]\\s$/, "bulletedList");
          }
          if (t.get("numberedList")) {
            xE(this.editor, this, /^1[.|)]\\s$/, "numberedList");
          }
          if (t.get("todoList")) {
            xE(this.editor, this, /^\\[\\s?\\]\\s$/, "todoList");
          }
          if (t.get("checkTodoList")) {
            xE(this.editor, this, /^\\[\\s?x\\s?\\]\\s$/, () => {
              this.editor.execute("todoList");
              this.editor.execute("checkTodoList");
            });
          }
        }
        _addBasicStylesAutoformats() {
          const t = this.editor.commands;
          if (t.get("bold")) {
            const t = IE(this.editor, "bold");
            EE(this.editor, this, /(?:^|\\s)(\\*\\*)([^*]+)(\\*\\*)$/g, t);
            EE(this.editor, this, /(?:^|\\s)(__)([^_]+)(__)$/g, t);
          }
          if (t.get("italic")) {
            const t = IE(this.editor, "italic");
            EE(this.editor, this, /(?:^|\\s)(\\*)([^*_]+)(\\*)$/g, t);
            EE(this.editor, this, /(?:^|\\s)(_)([^_]+)(_)$/g, t);
          }
          if (t.get("code")) {
            const t = IE(this.editor, "code");
            EE(this.editor, this, /(\`)([^\`]+)(\`)$/g, t);
          }
          if (t.get("strikethrough")) {
            const t = IE(this.editor, "strikethrough");
            EE(this.editor, this, /(~~)([^~]+)(~~)$/g, t);
          }
        }
        _addHeadingAutoformats() {
          const t = this.editor.commands.get("heading");
          if (t) {
            t.modelElements
              .filter((t) => t.match(/^heading[1-6]$/))
              .forEach((e) => {
                const n = e[7];
                const i = new RegExp(\`^(#{\${n}})\\\\s$\`);
                xE(this.editor, this, i, () => {
                  if (!t.isEnabled || t.value === e) {
                    return false;
                  }
                  this.editor.execute("heading", { value: e });
                });
              });
          }
        }
        _addBlockQuoteAutoformats() {
          if (this.editor.commands.get("blockQuote")) {
            xE(this.editor, this, /^>\\s$/, "blockQuote");
          }
        }
        _addCodeBlockAutoformats() {
          const t = this.editor;
          const e = t.model.document.selection;
          if (t.commands.get("codeBlock")) {
            xE(t, this, /^\`\`\`$/, () => {
              if (e.getFirstPosition().parent.is("element", "listItem")) {
                return false;
              }
              this.editor.execute("codeBlock", {
                usePreviousLanguageChoice: true,
              });
            });
          }
        }
        _addHorizontalLineAutoformats() {
          if (this.editor.commands.get("horizontalLine")) {
            xE(this.editor, this, /^---$/, "horizontalLine");
          }
        }
      }
      function IE(t, e) {
        return (n, i) => {
          const o = t.commands.get(e);
          if (!o.isEnabled) {
            return false;
          }
          const r = t.model.schema.getValidRanges(i, e);
          for (const t of r) {
            n.setAttribute(e, true, t);
          }
          n.removeSelectionAttribute(e);
        };
      }
      class ME extends Im {
        constructor(t) {
          super(t);
          const e = this.document;
          this.domEventType = [
            "paste",
            "copy",
            "cut",
            "drop",
            "dragover",
            "dragstart",
            "dragend",
            "dragenter",
            "dragleave",
          ];
          this.listenTo(e, "paste", n("clipboardInput"), { priority: "low" });
          this.listenTo(e, "drop", n("clipboardInput"), { priority: "low" });
          this.listenTo(e, "dragover", n("dragging"), { priority: "low" });
          function n(t) {
            return (n, i) => {
              i.preventDefault();
              const o = i.dropRange ? [i.dropRange] : null;
              const r = new y(e, t);
              e.fire(r, {
                dataTransfer: i.dataTransfer,
                method: n.name,
                targetRanges: o,
                target: i.target,
              });
              if (r.stop.called) {
                i.stopPropagation();
              }
            };
          }
        }
        onDomEvent(t) {
          const e = {
            dataTransfer: new of(
              "clipboardData" in t ? t.clipboardData : t.dataTransfer
            ),
          };
          if (t.type == "drop" || t.type == "dragover") {
            e.dropRange = BE(this.view, t);
          }
          this.fire(t.type, t, e);
        }
      }
      function BE(t, e) {
        const n = e.target.ownerDocument;
        const i = e.clientX;
        const o = e.clientY;
        let r;
        if (n.caretRangeFromPoint && n.caretRangeFromPoint(i, o)) {
          r = n.caretRangeFromPoint(i, o);
        } else if (e.rangeParent) {
          r = n.createRange();
          r.setStart(e.rangeParent, e.rangeOffset);
          r.collapse(true);
        }
        if (r) {
          return t.domConverter.domRangeToView(r);
        }
        return null;
      }
      function LE(t) {
        t = t
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/\\r?\\n\\r?\\n/g, "</p><p>")
          .replace(/\\r?\\n/g, "<br>")
          .replace(/\\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;")
          .replace(/^\\s/, "&nbsp;")
          .replace(/\\s$/, "&nbsp;")
          .replace(/\\s\\s/g, " &nbsp;");
        if (t.includes("</p><p>") || t.includes("<br>")) {
          t = \`<p>\${t}</p>\`;
        }
        return t;
      }
      function NE(t) {
        return t
          .replace(
            /<span(?: class="Apple-converted-space"|)>(\\s+)<\\/span>/g,
            (t, e) => {
              if (e.length == 1) {
                return " ";
              }
              return e;
            }
          )
          .replace(/<!--[\\s\\S]*?-->/g, "");
      }
      const zE = ["figcaption", "li"];
      function PE(t) {
        let e = "";
        if (t.is("$text") || t.is("$textProxy")) {
          e = t.data;
        } else if (t.is("element", "img") && t.hasAttribute("alt")) {
          e = t.getAttribute("alt");
        } else if (t.is("element", "br")) {
          e = "\\n";
        } else {
          let n = null;
          for (const i of t.getChildren()) {
            const t = PE(i);
            if (n && (n.is("containerElement") || i.is("containerElement"))) {
              if (zE.includes(n.name) || zE.includes(i.name)) {
                e += "\\n";
              } else {
                e += "\\n\\n";
              }
            }
            e += t;
            n = i;
          }
        }
        return e;
      }
      class RE extends Cl {
        static get pluginName() {
          return "ClipboardPipeline";
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          e.addObserver(ME);
          this._setupPasteDrop();
          this._setupCopyCut();
        }
        _setupPasteDrop() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          const i = n.document;
          this.listenTo(
            i,
            "clipboardInput",
            (e) => {
              if (t.isReadOnly) {
                e.stop();
              }
            },
            { priority: "highest" }
          );
          this.listenTo(
            i,
            "clipboardInput",
            (t, e) => {
              const i = e.dataTransfer;
              let o;
              if (e.content) {
                o = e.content;
              } else {
                let t = "";
                if (i.getData("text/html")) {
                  t = NE(i.getData("text/html"));
                } else if (i.getData("text/plain")) {
                  t = LE(i.getData("text/plain"));
                }
                o = this.editor.data.htmlProcessor.toView(t);
              }
              const r = new y(this, "inputTransformation");
              this.fire(r, {
                content: o,
                dataTransfer: i,
                targetRanges: e.targetRanges,
                method: e.method,
              });
              if (r.stop.called) {
                t.stop();
              }
              n.scrollToTheSelection();
            },
            { priority: "low" }
          );
          this.listenTo(
            this,
            "inputTransformation",
            (t, n) => {
              if (n.content.isEmpty) {
                return;
              }
              const i = this.editor.data;
              const o = i.toModel(n.content, "$clipboardHolder");
              if (o.childCount == 0) {
                return;
              }
              t.stop();
              e.change(() => {
                this.fire("contentInsertion", {
                  content: o,
                  method: n.method,
                  dataTransfer: n.dataTransfer,
                  targetRanges: n.targetRanges,
                });
              });
            },
            { priority: "low" }
          );
          this.listenTo(
            this,
            "contentInsertion",
            (t, n) => {
              n.resultRange = e.insertContent(n.content);
            },
            { priority: "low" }
          );
        }
        _setupCopyCut() {
          const t = this.editor;
          const e = t.model.document;
          const n = t.editing.view;
          const i = n.document;
          const o = (n, o) => {
            const r = o.dataTransfer;
            o.preventDefault();
            const s = t.data.toView(t.model.getSelectedContent(e.selection));
            i.fire("clipboardOutput", {
              dataTransfer: r,
              content: s,
              method: n.name,
            });
          };
          this.listenTo(i, "copy", o, { priority: "low" });
          this.listenTo(
            i,
            "cut",
            (e, n) => {
              if (t.isReadOnly) {
                n.preventDefault();
              } else {
                o(e, n);
              }
            },
            { priority: "low" }
          );
          this.listenTo(
            i,
            "clipboardOutput",
            (n, i) => {
              if (!i.content.isEmpty) {
                i.dataTransfer.setData(
                  "text/html",
                  this.editor.data.htmlProcessor.toData(i.content)
                );
                i.dataTransfer.setData("text/plain", PE(i.content));
              }
              if (i.method == "cut") {
                t.model.deleteContent(e.selection);
              }
            },
            { priority: "low" }
          );
        }
      }
      function* OE(t, e) {
        for (const n of e) {
          if (n && t.getAttributeProperties(n[0]).copyOnEnter) {
            yield n;
          }
        }
      }
      class jE extends vl {
        execute() {
          this.editor.model.change((t) => {
            this.enterBlock(t);
            this.fire("afterExecute", { writer: t });
          });
        }
        enterBlock(t) {
          const e = this.editor.model;
          const n = e.document.selection;
          const i = e.schema;
          const o = n.isCollapsed;
          const r = n.getFirstRange();
          const s = r.start.parent;
          const a = r.end.parent;
          if (i.isLimit(s) || i.isLimit(a)) {
            if (!o && s == a) {
              e.deleteContent(n);
            }
            return false;
          }
          if (o) {
            const e = OE(t.model.schema, n.getAttributes());
            FE(t, r.start);
            t.setSelectionAttribute(e);
            return true;
          } else {
            const i = !(r.start.isAtStart && r.end.isAtEnd);
            const o = s == a;
            e.deleteContent(n, { leaveUnmerged: i });
            if (i) {
              if (o) {
                FE(t, n.focus);
                return true;
              } else {
                t.setSelection(a, 0);
              }
            }
          }
          return false;
        }
      }
      function FE(t, e) {
        t.split(e);
        t.setSelection(e.parent.nextSibling, 0);
      }
      const VE = {
        insertParagraph: { isSoft: false },
        insertLineBreak: { isSoft: true },
      };
      class HE extends Em {
        constructor(t) {
          super(t);
          const e = this.document;
          e.on("beforeinput", (n, i) => {
            if (!this.isEnabled) {
              return;
            }
            const o = i.domEvent;
            const r = VE[i.inputType];
            if (!r) {
              return;
            }
            const s = new dh(e, "enter", i.targetRanges[0]);
            e.fire(s, new Tm(t, o, { isSoft: r.isSoft }));
            if (s.stop.called) {
              n.stop();
            }
          });
        }
        observe() {}
      }
      class UE extends Cl {
        static get pluginName() {
          return "Enter";
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          e.addObserver(HE);
          t.commands.add("enter", new jE(t));
          this.listenTo(
            n,
            "enter",
            (i, o) => {
              if (!n.isComposing) {
                o.preventDefault();
              }
              if (o.isSoft) {
                return;
              }
              t.execute("enter");
              e.scrollToTheSelection();
            },
            { priority: "low" }
          );
        }
      }
      class qE extends vl {
        execute() {
          const t = this.editor.model;
          const e = t.document;
          t.change((n) => {
            GE(t, n, e.selection);
            this.fire("afterExecute", { writer: n });
          });
        }
        refresh() {
          const t = this.editor.model;
          const e = t.document;
          this.isEnabled = WE(t.schema, e.selection);
        }
      }
      function WE(t, e) {
        if (e.rangeCount > 1) {
          return false;
        }
        const n = e.anchor;
        if (!n || !t.checkChild(n, "softBreak")) {
          return false;
        }
        const i = e.getFirstRange();
        const o = i.start.parent;
        const r = i.end.parent;
        if ((KE(o, t) || KE(r, t)) && o !== r) {
          return false;
        }
        return true;
      }
      function GE(t, e, n) {
        const i = n.isCollapsed;
        const o = n.getFirstRange();
        const r = o.start.parent;
        const s = o.end.parent;
        const a = r == s;
        if (i) {
          const i = OE(t.schema, n.getAttributes());
          $E(t, e, o.end);
          e.removeSelectionAttribute(n.getAttributeKeys());
          e.setSelectionAttribute(i);
        } else {
          const i = !(o.start.isAtStart && o.end.isAtEnd);
          t.deleteContent(n, { leaveUnmerged: i });
          if (a) {
            $E(t, e, n.focus);
          } else {
            if (i) {
              e.setSelection(s, 0);
            }
          }
        }
      }
      function $E(t, e, n) {
        const i = e.createElement("softBreak");
        t.insertContent(i, n);
        e.setSelection(i, "after");
      }
      function KE(t, e) {
        if (t.is("rootElement")) {
          return false;
        }
        return e.isLimit(t) || KE(t.parent, e);
      }
      class YE extends Cl {
        static get pluginName() {
          return "ShiftEnter";
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          const n = t.conversion;
          const i = t.editing.view;
          const o = i.document;
          e.register("softBreak", { allowWhere: "$text", isInline: true });
          n.for("upcast").elementToElement({ model: "softBreak", view: "br" });
          n.for("downcast").elementToElement({
            model: "softBreak",
            view: (t, { writer: e }) => e.createEmptyElement("br"),
          });
          i.addObserver(HE);
          t.commands.add("shiftEnter", new qE(t));
          this.listenTo(
            o,
            "enter",
            (e, n) => {
              if (!o.isComposing) {
                n.preventDefault();
              }
              if (!n.isSoft) {
                return;
              }
              t.execute("shiftEnter");
              i.scrollToTheSelection();
            },
            { priority: "low" }
          );
        }
      }
      class ZE extends q() {
        constructor() {
          super();
          this._stack = [];
        }
        add(t, e) {
          const n = this._stack;
          const i = n[0];
          this._insertDescriptor(t);
          const o = n[0];
          if (i !== o && !QE(i, o)) {
            this.fire("change:top", {
              oldDescriptor: i,
              newDescriptor: o,
              writer: e,
            });
          }
        }
        remove(t, e) {
          const n = this._stack;
          const i = n[0];
          this._removeDescriptor(t);
          const o = n[0];
          if (i !== o && !QE(i, o)) {
            this.fire("change:top", {
              oldDescriptor: i,
              newDescriptor: o,
              writer: e,
            });
          }
        }
        _insertDescriptor(t) {
          const e = this._stack;
          const n = e.findIndex((e) => e.id === t.id);
          if (QE(t, e[n])) {
            return;
          }
          if (n > -1) {
            e.splice(n, 1);
          }
          let i = 0;
          while (e[i] && JE(e[i], t)) {
            i++;
          }
          e.splice(i, 0, t);
        }
        _removeDescriptor(t) {
          const e = this._stack;
          const n = e.findIndex((e) => e.id === t);
          if (n > -1) {
            e.splice(n, 1);
          }
        }
      }
      function QE(t, e) {
        return (
          t && e && t.priority == e.priority && XE(t.classes) == XE(e.classes)
        );
      }
      function JE(t, e) {
        if (t.priority > e.priority) {
          return true;
        } else if (t.priority < e.priority) {
          return false;
        }
        return XE(t.classes) > XE(e.classes);
      }
      function XE(t) {
        return Array.isArray(t) ? t.sort().join(",") : t;
      }
      const tD =
        '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';
      const eD = "ck-widget";
      const nD = "ck-widget_selected";
      function iD(t) {
        if (!t.is("element")) {
          return false;
        }
        return !!t.getCustomProperty("widget");
      }
      function oD(t, e, n = {}) {
        if (!t.is("containerElement")) {
          throw new M("widget-to-widget-wrong-element-type", null, {
            element: t,
          });
        }
        e.setAttribute("contenteditable", "false", t);
        e.addClass(eD, t);
        e.setCustomProperty("widget", true, t);
        t.getFillerOffset = mD;
        e.setCustomProperty("widgetLabel", [], t);
        if (n.label) {
          cD(t, n.label);
        }
        if (n.hasSelectionHandle) {
          gD(t, e);
        }
        aD(t, e);
        return t;
      }
      function rD(t, e, n) {
        if (e.classes) {
          n.addClass(Yc(e.classes), t);
        }
        if (e.attributes) {
          for (const i in e.attributes) {
            n.setAttribute(i, e.attributes[i], t);
          }
        }
      }
      function sD(t, e, n) {
        if (e.classes) {
          n.removeClass(Yc(e.classes), t);
        }
        if (e.attributes) {
          for (const i in e.attributes) {
            n.removeAttribute(i, t);
          }
        }
      }
      function aD(t, e, n = rD, i = sD) {
        const o = new ZE();
        o.on("change:top", (e, o) => {
          if (o.oldDescriptor) {
            i(t, o.oldDescriptor, o.writer);
          }
          if (o.newDescriptor) {
            n(t, o.newDescriptor, o.writer);
          }
        });
        const r = (t, e, n) => o.add(e, n);
        const s = (t, e, n) => o.remove(e, n);
        e.setCustomProperty("addHighlight", r, t);
        e.setCustomProperty("removeHighlight", s, t);
      }
      function cD(t, e) {
        const n = t.getCustomProperty("widgetLabel");
        n.push(e);
      }
      function lD(t) {
        const e = t.getCustomProperty("widgetLabel");
        return e.reduce((t, e) => {
          if (typeof e === "function") {
            return t ? t + ". " + e() : e();
          } else {
            return t ? t + ". " + e : e;
          }
        }, "");
      }
      function dD(t, e, n = {}) {
        e.addClass(["ck-editor__editable", "ck-editor__nested-editable"], t);
        e.setAttribute("role", "textbox", t);
        if (n.label) {
          e.setAttribute("aria-label", n.label, t);
        }
        e.setAttribute("contenteditable", t.isReadOnly ? "false" : "true", t);
        t.on("change:isReadOnly", (n, i, o) => {
          e.setAttribute("contenteditable", o ? "false" : "true", t);
        });
        t.on("change:isFocused", (n, i, o) => {
          if (o) {
            e.addClass("ck-editor__nested-editable_focused", t);
          } else {
            e.removeClass("ck-editor__nested-editable_focused", t);
          }
        });
        aD(t, e);
        return t;
      }
      function uD(t, e) {
        const n = t.getSelectedElement();
        if (n) {
          const i = AD(t);
          if (i) {
            return e.createRange(e.createPositionAt(n, i));
          }
        }
        return Ew(t, e);
      }
      function hD(t, e) {
        return (n, i) => {
          const { mapper: o, viewPosition: r } = i;
          const s = o.findMappedViewAncestor(r);
          if (!e(s)) {
            return;
          }
          const a = o.toModelElement(s);
          i.modelPosition = t.createPositionAt(
            a,
            r.isAtStart ? "before" : "after"
          );
        };
      }
      function mD() {
        return null;
      }
      function gD(t, e) {
        const n = e.createUIElement(
          "div",
          { class: "ck ck-widget__selection-handle" },
          function (t) {
            const e = this.toDomElement(t);
            const n = new B_();
            n.set("content", tD);
            n.render();
            e.appendChild(n.element);
            return e;
          }
        );
        e.insert(e.createPositionAt(t, 0), n);
        e.addClass(["ck-widget_with-selection-handle"], t);
      }
      const fD = "widget-type-around";
      function pD(t, e, n) {
        return !!t && iD(t) && !n.isInline(e);
      }
      function bD(t) {
        return t.closest(".ck-widget__type-around__button");
      }
      function kD(t) {
        return t.classList.contains("ck-widget__type-around__button_before")
          ? "before"
          : "after";
      }
      function wD(t, e) {
        const n = t.closest(".ck-widget");
        return e.mapDomToView(n);
      }
      function AD(t) {
        return t.getAttribute(fD);
      }
      const CD =
        '<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';
      var _D = n(5137);
      var vD = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      vD.insert = "head";
      vD.singleton = true;
      var yD = Il()(_D.Z, vD);
      const xD = _D.Z.locals || {};
      const ED = ["before", "after"];
      const DD = new DOMParser().parseFromString(
        CD,
        "image/svg+xml"
      ).firstChild;
      const SD = "ck-widget__type-around_disabled";
      class TD extends Cl {
        static get pluginName() {
          return "WidgetTypeAround";
        }
        static get requires() {
          return [UE, Jx];
        }
        constructor(t) {
          super(t);
          this._currentFakeCaretModelElement = null;
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          this.on("change:isEnabled", (n, i, o) => {
            e.change((t) => {
              for (const n of e.document.roots) {
                if (o) {
                  t.removeClass(SD, n);
                } else {
                  t.addClass(SD, n);
                }
              }
            });
            if (!o) {
              t.model.change((t) => {
                t.removeSelectionAttribute(fD);
              });
            }
          });
          this._enableTypeAroundUIInjection();
          this._enableInsertingParagraphsOnButtonClick();
          this._enableInsertingParagraphsOnEnterKeypress();
          this._enableInsertingParagraphsOnTypingKeystroke();
          this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows();
          this._enableDeleteIntegration();
          this._enableInsertContentIntegration();
          this._enableInsertObjectIntegration();
          this._enableDeleteContentIntegration();
        }
        destroy() {
          super.destroy();
          this._currentFakeCaretModelElement = null;
        }
        _insertParagraph(t, e) {
          const n = this.editor;
          const i = n.editing.view;
          const o = n.model.schema.getAttributesWithProperty(
            t,
            "copyOnReplace",
            true
          );
          n.execute("insertParagraph", {
            position: n.model.createPositionAt(t, e),
            attributes: o,
          });
          i.focus();
          i.scrollToTheSelection();
        }
        _listenToIfEnabled(t, e, n, i) {
          this.listenTo(
            t,
            e,
            (...t) => {
              if (this.isEnabled) {
                n(...t);
              }
            },
            i
          );
        }
        _insertParagraphAccordingToFakeCaretPosition() {
          const t = this.editor;
          const e = t.model;
          const n = e.document.selection;
          const i = AD(n);
          if (!i) {
            return false;
          }
          const o = n.getSelectedElement();
          this._insertParagraph(o, i);
          return true;
        }
        _enableTypeAroundUIInjection() {
          const t = this.editor;
          const e = t.model.schema;
          const n = t.locale.t;
          const i = {
            before: n("Insert paragraph before block"),
            after: n("Insert paragraph after block"),
          };
          t.editing.downcastDispatcher.on(
            "insert",
            (t, o, r) => {
              const s = r.mapper.toViewElement(o.item);
              if (!s) {
                return;
              }
              if (pD(s, o.item, e)) {
                ID(r.writer, i, s);
                const t = s.getCustomProperty("widgetLabel");
                t.push(() =>
                  this.isEnabled
                    ? n(
                        "Press Enter to type after or press Shift + Enter to type before the widget"
                      )
                    : ""
                );
              }
            },
            { priority: "low" }
          );
        }
        _enableTypeAroundFakeCaretActivationUsingKeyboardArrows() {
          const t = this.editor;
          const e = t.model;
          const n = e.document.selection;
          const i = e.schema;
          const o = t.editing.view;
          this._listenToIfEnabled(
            o.document,
            "arrowKey",
            (t, e) => {
              this._handleArrowKeyPress(t, e);
            },
            { context: [iD, "$text"], priority: "high" }
          );
          this._listenToIfEnabled(n, "change:range", (e, n) => {
            if (!n.directChange) {
              return;
            }
            t.model.change((t) => {
              t.removeSelectionAttribute(fD);
            });
          });
          this._listenToIfEnabled(e.document, "change:data", () => {
            const e = n.getSelectedElement();
            if (e) {
              const n = t.editing.mapper.toViewElement(e);
              if (pD(n, e, i)) {
                return;
              }
            }
            t.model.change((t) => {
              t.removeSelectionAttribute(fD);
            });
          });
          this._listenToIfEnabled(
            t.editing.downcastDispatcher,
            "selection",
            (t, e, n) => {
              const o = n.writer;
              if (this._currentFakeCaretModelElement) {
                const t = n.mapper.toViewElement(
                  this._currentFakeCaretModelElement
                );
                if (t) {
                  o.removeClass(ED.map(r), t);
                  this._currentFakeCaretModelElement = null;
                }
              }
              const s = e.selection.getSelectedElement();
              if (!s) {
                return;
              }
              const a = n.mapper.toViewElement(s);
              if (!pD(a, s, i)) {
                return;
              }
              const c = AD(e.selection);
              if (!c) {
                return;
              }
              o.addClass(r(c), a);
              this._currentFakeCaretModelElement = s;
            }
          );
          this._listenToIfEnabled(
            t.ui.focusTracker,
            "change:isFocused",
            (e, n, i) => {
              if (!i) {
                t.model.change((t) => {
                  t.removeSelectionAttribute(fD);
                });
              }
            }
          );
          function r(t) {
            return \`ck-widget_type-around_show-fake-caret_\${t}\`;
          }
        }
        _handleArrowKeyPress(t, e) {
          const n = this.editor;
          const i = n.model;
          const o = i.document.selection;
          const r = i.schema;
          const s = n.editing.view;
          const a = e.keyCode;
          const c = Gc(a, n.locale.contentLanguageDirection);
          const l = s.document.selection.getSelectedElement();
          const d = n.editing.mapper.toModelElement(l);
          let u;
          if (pD(l, d, r)) {
            u = this._handleArrowKeyPressOnSelectedWidget(c);
          } else if (o.isCollapsed) {
            u = this._handleArrowKeyPressWhenSelectionNextToAWidget(c);
          } else if (!e.shiftKey) {
            u = this._handleArrowKeyPressWhenNonCollapsedSelection(c);
          }
          if (u) {
            e.preventDefault();
            t.stop();
          }
        }
        _handleArrowKeyPressOnSelectedWidget(t) {
          const e = this.editor;
          const n = e.model;
          const i = n.document.selection;
          const o = AD(i);
          return n.change((e) => {
            if (o) {
              const n = o === (t ? "after" : "before");
              if (!n) {
                e.removeSelectionAttribute(fD);
                return true;
              }
            } else {
              e.setSelectionAttribute(fD, t ? "after" : "before");
              return true;
            }
            return false;
          });
        }
        _handleArrowKeyPressWhenSelectionNextToAWidget(t) {
          const e = this.editor;
          const n = e.model;
          const i = n.schema;
          const o = e.plugins.get("Widget");
          const r = o._getObjectElementNextToSelection(t);
          const s = e.editing.mapper.toViewElement(r);
          if (pD(s, r, i)) {
            n.change((e) => {
              o._setSelectionOverElement(r);
              e.setSelectionAttribute(fD, t ? "before" : "after");
            });
            return true;
          }
          return false;
        }
        _handleArrowKeyPressWhenNonCollapsedSelection(t) {
          const e = this.editor;
          const n = e.model;
          const i = n.schema;
          const o = e.editing.mapper;
          const r = n.document.selection;
          const s = t
            ? r.getLastPosition().nodeBefore
            : r.getFirstPosition().nodeAfter;
          const a = o.toViewElement(s);
          if (pD(a, s, i)) {
            n.change((e) => {
              e.setSelection(s, "on");
              e.setSelectionAttribute(fD, t ? "after" : "before");
            });
            return true;
          }
          return false;
        }
        _enableInsertingParagraphsOnButtonClick() {
          const t = this.editor;
          const e = t.editing.view;
          this._listenToIfEnabled(e.document, "mousedown", (n, i) => {
            const o = bD(i.domTarget);
            if (!o) {
              return;
            }
            const r = kD(o);
            const s = wD(o, e.domConverter);
            const a = t.editing.mapper.toModelElement(s);
            this._insertParagraph(a, r);
            i.preventDefault();
            n.stop();
          });
        }
        _enableInsertingParagraphsOnEnterKeypress() {
          const t = this.editor;
          const e = t.model.document.selection;
          const n = t.editing.view;
          this._listenToIfEnabled(
            n.document,
            "enter",
            (n, i) => {
              if (n.eventPhase != "atTarget") {
                return;
              }
              const o = e.getSelectedElement();
              const r = t.editing.mapper.toViewElement(o);
              const s = t.model.schema;
              let a;
              if (this._insertParagraphAccordingToFakeCaretPosition()) {
                a = true;
              } else if (pD(r, o, s)) {
                this._insertParagraph(o, i.isSoft ? "before" : "after");
                a = true;
              }
              if (a) {
                i.preventDefault();
                n.stop();
              }
            },
            { context: iD }
          );
        }
        _enableInsertingParagraphsOnTypingKeystroke() {
          const t = this.editor;
          const e = t.editing.view.document;
          this._listenToIfEnabled(
            e,
            "insertText",
            (t, n) => {
              if (this._insertParagraphAccordingToFakeCaretPosition()) {
                n.selection = e.selection;
              }
            },
            { priority: "high" }
          );
          if (r.isAndroid) {
            this._listenToIfEnabled(e, "keydown", (t, e) => {
              if (e.keyCode == 229) {
                this._insertParagraphAccordingToFakeCaretPosition();
              }
            });
          } else {
            this._listenToIfEnabled(
              e,
              "compositionstart",
              () => {
                this._insertParagraphAccordingToFakeCaretPosition();
              },
              { priority: "high" }
            );
          }
        }
        _enableDeleteIntegration() {
          const t = this.editor;
          const e = t.editing.view;
          const n = t.model;
          const i = n.schema;
          this._listenToIfEnabled(
            e.document,
            "delete",
            (e, o) => {
              if (e.eventPhase != "atTarget") {
                return;
              }
              const r = AD(n.document.selection);
              if (!r) {
                return;
              }
              const s = o.direction;
              const a = n.document.selection.getSelectedElement();
              const c = r === "before";
              const l = s == "forward";
              const d = c === l;
              if (d) {
                t.execute("delete", { selection: n.createSelection(a, "on") });
              } else {
                const e = i.getNearestSelectionRange(
                  n.createPositionAt(a, r),
                  s
                );
                if (e) {
                  if (!e.isCollapsed) {
                    n.change((n) => {
                      n.setSelection(e);
                      t.execute(l ? "deleteForward" : "delete");
                    });
                  } else {
                    const o = n.createSelection(e.start);
                    n.modifySelection(o, { direction: s });
                    if (!o.focus.isEqual(e.start)) {
                      n.change((n) => {
                        n.setSelection(e);
                        t.execute(l ? "deleteForward" : "delete");
                      });
                    } else {
                      const t = LD(i, e.start.parent);
                      n.deleteContent(n.createSelection(t, "on"), {
                        doNotAutoparagraph: true,
                      });
                    }
                  }
                }
              }
              o.preventDefault();
              e.stop();
            },
            { context: iD }
          );
        }
        _enableInsertContentIntegration() {
          const t = this.editor;
          const e = this.editor.model;
          const n = e.document.selection;
          this._listenToIfEnabled(
            t.model,
            "insertContent",
            (t, [i, o]) => {
              if (o && !o.is("documentSelection")) {
                return;
              }
              const r = AD(n);
              if (!r) {
                return;
              }
              t.stop();
              return e.change((t) => {
                const o = n.getSelectedElement();
                const s = e.createPositionAt(o, r);
                const a = t.createSelection(s);
                const c = e.insertContent(i, a);
                t.setSelection(a);
                return c;
              });
            },
            { priority: "high" }
          );
        }
        _enableInsertObjectIntegration() {
          const t = this.editor;
          const e = this.editor.model;
          const n = e.document.selection;
          this._listenToIfEnabled(
            t.model,
            "insertObject",
            (t, e) => {
              const [, i, , o = {}] = e;
              if (i && !i.is("documentSelection")) {
                return;
              }
              const r = AD(n);
              if (!r) {
                return;
              }
              o.findOptimalPosition = r;
              e[3] = o;
            },
            { priority: "high" }
          );
        }
        _enableDeleteContentIntegration() {
          const t = this.editor;
          const e = this.editor.model;
          const n = e.document.selection;
          this._listenToIfEnabled(
            t.model,
            "deleteContent",
            (t, [e]) => {
              if (e && !e.is("documentSelection")) {
                return;
              }
              const i = AD(n);
              if (i) {
                t.stop();
              }
            },
            { priority: "high" }
          );
        }
      }
      function ID(t, e, n) {
        const i = t.createUIElement(
          "div",
          { class: "ck ck-reset_all ck-widget__type-around" },
          function (t) {
            const n = this.toDomElement(t);
            MD(n, e);
            BD(n);
            return n;
          }
        );
        t.insert(t.createPositionAt(n, "end"), i);
      }
      function MD(t, e) {
        for (const n of ED) {
          const i = new jA({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-widget__type-around__button",
                \`ck-widget__type-around__button_\${n}\`,
              ],
              title: e[n],
              "aria-hidden": "true",
            },
            children: [t.ownerDocument.importNode(DD, true)],
          });
          t.appendChild(i.render());
        }
      }
      function BD(t) {
        const e = new jA({
          tag: "div",
          attributes: { class: ["ck", "ck-widget__type-around__fake-caret"] },
        });
        t.appendChild(e.render());
      }
      function LD(t, e) {
        let n = e;
        for (const i of e.getAncestors({ parentFirst: true })) {
          if (i.childCount > 1 || t.isLimit(i)) {
            break;
          }
          n = i;
        }
        return n;
      }
      function ND(t) {
        const e = t.model;
        return (n, i) => {
          const o = i.keyCode == Oc.arrowup;
          const r = i.keyCode == Oc.arrowdown;
          const s = i.shiftKey;
          const a = e.document.selection;
          if (!o && !r) {
            return;
          }
          const c = r;
          if (s && jD(a, c)) {
            return;
          }
          const l = zD(t, a, c);
          if (!l) {
            return;
          }
          if (l.isCollapsed) {
            if (a.isCollapsed) {
              return;
            } else if (s) {
              return;
            }
          }
          if (l.isCollapsed || OD(t, l, c)) {
            e.change((t) => {
              const n = c ? l.end : l.start;
              if (s) {
                const i = e.createSelection(a.anchor);
                i.setFocus(n);
                t.setSelection(i);
              } else {
                t.setSelection(n);
              }
            });
            n.stop();
            i.preventDefault();
            i.stopPropagation();
          }
        };
      }
      function zD(t, e, n) {
        const i = t.model;
        if (n) {
          const t = e.isCollapsed ? e.focus : e.getLastPosition();
          const n = PD(i, t, "forward");
          if (!n) {
            return null;
          }
          const o = i.createRange(t, n);
          const r = RD(i.schema, o, "backward");
          if (r) {
            return i.createRange(t, r);
          }
          return null;
        } else {
          const t = e.isCollapsed ? e.focus : e.getFirstPosition();
          const n = PD(i, t, "backward");
          if (!n) {
            return null;
          }
          const o = i.createRange(n, t);
          const r = RD(i.schema, o, "forward");
          if (r) {
            return i.createRange(r, t);
          }
          return null;
        }
      }
      function PD(t, e, n) {
        const i = t.schema;
        const o = t.createRangeIn(e.root);
        const r = n == "forward" ? "elementStart" : "elementEnd";
        for (const { previousPosition: t, item: s, type: a } of o.getWalker({
          startPosition: e,
          direction: n,
        })) {
          if (i.isLimit(s) && !i.isInline(s)) {
            return t;
          }
          if (a == r && i.isBlock(s)) {
            return null;
          }
        }
        return null;
      }
      function RD(t, e, n) {
        const i = n == "backward" ? e.end : e.start;
        if (t.checkChild(i, "$text")) {
          return i;
        }
        for (const { nextPosition: i } of e.getWalker({ direction: n })) {
          if (t.checkChild(i, "$text")) {
            return i;
          }
        }
        return null;
      }
      function OD(t, e, n) {
        const i = t.model;
        const o = t.view.domConverter;
        if (n) {
          const t = i.createSelection(e.start);
          i.modifySelection(t);
          if (!t.focus.isAtEnd && !e.start.isEqual(t.focus)) {
            e = i.createRange(t.focus, e.end);
          }
        }
        const r = t.mapper.toViewRange(e);
        const s = o.viewRangeToDom(r);
        const a = sc.getDomRangeRects(s);
        let c;
        for (const t of a) {
          if (c === undefined) {
            c = Math.round(t.bottom);
            continue;
          }
          if (Math.round(t.top) >= c) {
            return false;
          }
          c = Math.max(c, Math.round(t.bottom));
        }
        return true;
      }
      function jD(t, e) {
        return !t.isCollapsed && t.isBackward == e;
      }
      var FD = n(6507);
      var VD = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      VD.insert = "head";
      VD.singleton = true;
      var HD = Il()(FD.Z, VD);
      const UD = FD.Z.locals || {};
      class qD extends Cl {
        static get pluginName() {
          return "Widget";
        }
        static get requires() {
          return [TD, Jx];
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          this._previouslySelected = new Set();
          this.editor.editing.downcastDispatcher.on("selection", (e, n, i) => {
            const o = i.writer;
            const r = n.selection;
            if (r.isCollapsed) {
              return;
            }
            const s = r.getSelectedElement();
            if (!s) {
              return;
            }
            const a = t.editing.mapper.toViewElement(s);
            if (!iD(a)) {
              return;
            }
            if (!i.consumable.consume(r, "selection")) {
              return;
            }
            o.setSelection(o.createRangeOn(a), { fake: true, label: lD(a) });
          });
          this.editor.editing.downcastDispatcher.on(
            "selection",
            (t, e, n) => {
              this._clearPreviouslySelectedWidgets(n.writer);
              const i = n.writer;
              const o = i.document.selection;
              let r = null;
              for (const t of o.getRanges()) {
                for (const e of t) {
                  const t = e.item;
                  if (iD(t) && !GD(t, r)) {
                    i.addClass(nD, t);
                    this._previouslySelected.add(t);
                    r = t;
                  }
                }
              }
            },
            { priority: "low" }
          );
          e.addObserver(jw);
          this.listenTo(n, "mousedown", (...t) => this._onMousedown(...t));
          this.listenTo(
            n,
            "arrowKey",
            (...t) => {
              this._handleSelectionChangeOnArrowKeyPress(...t);
            },
            { context: [iD, "$text"] }
          );
          this.listenTo(
            n,
            "arrowKey",
            (...t) => {
              this._preventDefaultOnArrowKeyPress(...t);
            },
            { context: "$root" }
          );
          this.listenTo(n, "arrowKey", ND(this.editor.editing), {
            context: "$text",
          });
          this.listenTo(
            n,
            "delete",
            (t, e) => {
              if (this._handleDelete(e.direction == "forward")) {
                e.preventDefault();
                t.stop();
              }
            },
            { context: "$root" }
          );
        }
        _onMousedown(t, e) {
          const n = this.editor;
          const i = n.editing.view;
          const o = i.document;
          let s = e.target;
          if (WD(s)) {
            if ((r.isSafari || r.isGecko) && e.domEvent.detail >= 3) {
              const t = n.editing.mapper;
              const i = s.is("attributeElement")
                ? s.findAncestor((t) => !t.is("attributeElement"))
                : s;
              const o = t.toModelElement(i);
              e.preventDefault();
              this.editor.model.change((t) => {
                t.setSelection(o, "in");
              });
            }
            return;
          }
          if (!iD(s)) {
            s = s.findAncestor(iD);
            if (!s) {
              return;
            }
          }
          if (r.isAndroid) {
            e.preventDefault();
          }
          if (!o.isFocused) {
            i.focus();
          }
          const a = n.editing.mapper.toModelElement(s);
          this._setSelectionOverElement(a);
        }
        _handleSelectionChangeOnArrowKeyPress(t, e) {
          const n = e.keyCode;
          const i = this.editor.model;
          const o = i.schema;
          const r = i.document.selection;
          const s = r.getSelectedElement();
          const a = qc(n, this.editor.locale.contentLanguageDirection);
          const c = a == "down" || a == "right";
          const l = a == "up" || a == "down";
          if (s && o.isObject(s)) {
            const n = c ? r.getLastPosition() : r.getFirstPosition();
            const s = o.getNearestSelectionRange(n, c ? "forward" : "backward");
            if (s) {
              i.change((t) => {
                t.setSelection(s);
              });
              e.preventDefault();
              t.stop();
            }
            return;
          }
          if (!r.isCollapsed && !e.shiftKey) {
            const n = r.getFirstPosition();
            const s = r.getLastPosition();
            const a = n.nodeAfter;
            const l = s.nodeBefore;
            if ((a && o.isObject(a)) || (l && o.isObject(l))) {
              i.change((t) => {
                t.setSelection(c ? s : n);
              });
              e.preventDefault();
              t.stop();
            }
            return;
          }
          if (!r.isCollapsed) {
            return;
          }
          const d = this._getObjectElementNextToSelection(c);
          if (d && o.isObject(d)) {
            if (o.isInline(d) && l) {
              return;
            }
            this._setSelectionOverElement(d);
            e.preventDefault();
            t.stop();
          }
        }
        _preventDefaultOnArrowKeyPress(t, e) {
          const n = this.editor.model;
          const i = n.schema;
          const o = n.document.selection.getSelectedElement();
          if (o && i.isObject(o)) {
            e.preventDefault();
            t.stop();
          }
        }
        _handleDelete(t) {
          if (this.editor.isReadOnly) {
            return;
          }
          const e = this.editor.model.document;
          const n = e.selection;
          if (!n.isCollapsed) {
            return;
          }
          const i = this._getObjectElementNextToSelection(t);
          if (i) {
            this.editor.model.change((t) => {
              let e = n.anchor.parent;
              while (e.isEmpty) {
                const n = e;
                e = n.parent;
                t.remove(n);
              }
              this._setSelectionOverElement(i);
            });
            return true;
          }
        }
        _setSelectionOverElement(t) {
          this.editor.model.change((e) => {
            e.setSelection(e.createRangeOn(t));
          });
        }
        _getObjectElementNextToSelection(t) {
          const e = this.editor.model;
          const n = e.schema;
          const i = e.document.selection;
          const o = e.createSelection(i);
          e.modifySelection(o, { direction: t ? "forward" : "backward" });
          if (o.isEqual(i)) {
            return null;
          }
          const r = t ? o.focus.nodeBefore : o.focus.nodeAfter;
          if (!!r && n.isObject(r)) {
            return r;
          }
          return null;
        }
        _clearPreviouslySelectedWidgets(t) {
          for (const e of this._previouslySelected) {
            t.removeClass(nD, e);
          }
          this._previouslySelected.clear();
        }
      }
      function WD(t) {
        let e = t;
        while (e) {
          if (e.is("editableElement") && !e.is("rootElement")) {
            return true;
          }
          if (iD(e)) {
            return false;
          }
          e = e.parent;
        }
        return false;
      }
      function GD(t, e) {
        if (!e) {
          return false;
        }
        return Array.from(t.getAncestors()).includes(e);
      }
      class $D extends Cl {
        static get requires() {
          return [Ky];
        }
        static get pluginName() {
          return "WidgetToolbarRepository";
        }
        init() {
          const t = this.editor;
          if (t.plugins.has("BalloonToolbar")) {
            const e = t.plugins.get("BalloonToolbar");
            this.listenTo(
              e,
              "show",
              (e) => {
                if (ZD(t.editing.view.document.selection)) {
                  e.stop();
                }
              },
              { priority: "high" }
            );
          }
          this._toolbarDefinitions = new Map();
          this._balloon = this.editor.plugins.get("ContextualBalloon");
          this.on("change:isEnabled", () => {
            this._updateToolbarsVisibility();
          });
          this.listenTo(t.ui, "update", () => {
            this._updateToolbarsVisibility();
          });
          this.listenTo(
            t.ui.focusTracker,
            "change:isFocused",
            () => {
              this._updateToolbarsVisibility();
            },
            { priority: "low" }
          );
        }
        destroy() {
          super.destroy();
          for (const t of this._toolbarDefinitions.values()) {
            t.view.destroy();
          }
        }
        register(
          t,
          {
            ariaLabel: e,
            items: n,
            getRelatedElement: i,
            balloonClassName: o = "ck-toolbar-container",
          }
        ) {
          if (!n.length) {
            B("widget-toolbar-no-items", { toolbarId: t });
            return;
          }
          const r = this.editor;
          const s = r.t;
          const a = new yv(r.locale);
          a.ariaLabel = e || s("Widget toolbar");
          if (this._toolbarDefinitions.has(t)) {
            throw new M("widget-toolbar-duplicated", this, { toolbarId: t });
          }
          a.fillFromConfig(n, r.ui.componentFactory);
          const c = { view: a, getRelatedElement: i, balloonClassName: o };
          r.ui.addToolbar(a, {
            isContextual: true,
            beforeFocus: () => {
              const t = i(r.editing.view.document.selection);
              if (t) {
                this._showToolbar(c, t);
              }
            },
            afterBlur: () => {
              this._hideToolbar(c);
            },
          });
          this._toolbarDefinitions.set(t, c);
        }
        _updateToolbarsVisibility() {
          let t = 0;
          let e = null;
          let n = null;
          for (const i of this._toolbarDefinitions.values()) {
            const o = i.getRelatedElement(
              this.editor.editing.view.document.selection
            );
            if (!this.isEnabled || !o) {
              if (this._isToolbarInBalloon(i)) {
                this._hideToolbar(i);
              }
            } else if (!this.editor.ui.focusTracker.isFocused) {
              if (this._isToolbarVisible(i)) {
                this._hideToolbar(i);
              }
            } else {
              const r = o.getAncestors().length;
              if (r > t) {
                t = r;
                e = o;
                n = i;
              }
            }
          }
          if (n) {
            this._showToolbar(n, e);
          }
        }
        _hideToolbar(t) {
          this._balloon.remove(t.view);
          this.stopListening(this._balloon, "change:visibleView");
        }
        _showToolbar(t, e) {
          if (this._isToolbarVisible(t)) {
            KD(this.editor, e);
          } else if (!this._isToolbarInBalloon(t)) {
            this._balloon.add({
              view: t.view,
              position: YD(this.editor, e),
              balloonClassName: t.balloonClassName,
            });
            this.listenTo(this._balloon, "change:visibleView", () => {
              for (const t of this._toolbarDefinitions.values()) {
                if (this._isToolbarVisible(t)) {
                  const e = t.getRelatedElement(
                    this.editor.editing.view.document.selection
                  );
                  KD(this.editor, e);
                }
              }
            });
          }
        }
        _isToolbarVisible(t) {
          return this._balloon.visibleView === t.view;
        }
        _isToolbarInBalloon(t) {
          return this._balloon.hasView(t.view);
        }
      }
      function KD(t, e) {
        const n = t.plugins.get("ContextualBalloon");
        const i = YD(t, e);
        n.updatePosition(i);
      }
      function YD(t, e) {
        const n = t.editing.view;
        const i = vC.defaultPositions;
        return {
          target: n.domConverter.mapViewToDom(e),
          positions: [
            i.northArrowSouth,
            i.northArrowSouthWest,
            i.northArrowSouthEast,
            i.southArrowNorth,
            i.southArrowNorthWest,
            i.southArrowNorthEast,
            i.viewportStickyNorth,
          ],
        };
      }
      function ZD(t) {
        const e = t.getSelectedElement();
        return !!(e && iD(e));
      }
      class QD extends dt() {
        constructor(t) {
          super();
          this.set("activeHandlePosition", null);
          this.set("proposedWidthPercents", null);
          this.set("proposedWidth", null);
          this.set("proposedHeight", null);
          this.set("proposedHandleHostWidth", null);
          this.set("proposedHandleHostHeight", null);
          this._options = t;
          this._referenceCoordinates = null;
        }
        get originalWidth() {
          return this._originalWidth;
        }
        get originalHeight() {
          return this._originalHeight;
        }
        get originalWidthPercents() {
          return this._originalWidthPercents;
        }
        get aspectRatio() {
          return this._aspectRatio;
        }
        begin(t, e, n) {
          const i = new sc(e);
          this.activeHandlePosition = eS(t);
          this._referenceCoordinates = XD(e, nS(this.activeHandlePosition));
          this._originalWidth = i.width;
          this._originalHeight = i.height;
          this._aspectRatio = i.width / i.height;
          const o = n.style.width;
          if (o && o.match(/^\\d+(\\.\\d*)?%$/)) {
            this._originalWidthPercents = parseFloat(o);
          } else {
            this._originalWidthPercents = JD(n, i);
          }
        }
        update(t) {
          this.proposedWidth = t.width;
          this.proposedHeight = t.height;
          this.proposedWidthPercents = t.widthPercents;
          this.proposedHandleHostWidth = t.handleHostWidth;
          this.proposedHandleHostHeight = t.handleHostHeight;
        }
      }
      function JD(t, e) {
        const n = t.parentElement;
        const i = parseFloat(
          n.ownerDocument.defaultView.getComputedStyle(n).width
        );
        return (e.width / i) * 100;
      }
      function XD(t, e) {
        const n = new sc(t);
        const i = e.split("-");
        const o = {
          x: i[1] == "right" ? n.right : n.left,
          y: i[0] == "bottom" ? n.bottom : n.top,
        };
        o.x += t.ownerDocument.defaultView.scrollX;
        o.y += t.ownerDocument.defaultView.scrollY;
        return o;
      }
      function tS(t) {
        return \`ck-widget__resizer__handle-\${t}\`;
      }
      function eS(t) {
        const e = ["top-left", "top-right", "bottom-right", "bottom-left"];
        for (const n of e) {
          if (t.classList.contains(tS(n))) {
            return n;
          }
        }
      }
      function nS(t) {
        const e = t.split("-");
        const n = {
          top: "bottom",
          bottom: "top",
          left: "right",
          right: "left",
        };
        return \`\${n[e[0]]}-\${n[e[1]]}\`;
      }
      class iS extends pC {
        constructor() {
          super();
          const t = this.bindTemplate;
          this.setTemplate({
            tag: "div",
            attributes: {
              class: [
                "ck",
                "ck-size-view",
                t.to("_viewPosition", (t) => (t ? \`ck-orientation-\${t}\` : "")),
              ],
              style: { display: t.if("_isVisible", "none", (t) => !t) },
            },
            children: [{ text: t.to("_label") }],
          });
        }
        _bindToState(t, e) {
          this.bind("_isVisible").to(
            e,
            "proposedWidth",
            e,
            "proposedHeight",
            (t, e) => t !== null && e !== null
          );
          this.bind("_label").to(
            e,
            "proposedHandleHostWidth",
            e,
            "proposedHandleHostHeight",
            e,
            "proposedWidthPercents",
            (e, n, i) => {
              if (t.unit === "px") {
                return \`\${e}\xD7\${n}\`;
              } else {
                return \`\${i}%\`;
              }
            }
          );
          this.bind("_viewPosition").to(
            e,
            "activeHandlePosition",
            e,
            "proposedHandleHostWidth",
            e,
            "proposedHandleHostHeight",
            (t, e, n) => (e < 50 || n < 50 ? "above-center" : t)
          );
        }
        _dismiss() {
          this.unbind();
          this._isVisible = false;
        }
      }
      class oS extends dt() {
        constructor(t) {
          super();
          this._options = t;
          this._viewResizerWrapper = null;
          this.set("isEnabled", true);
          this.set("isSelected", false);
          this.bind("isVisible").to(
            this,
            "isEnabled",
            this,
            "isSelected",
            (t, e) => t && e
          );
          this.decorate("begin");
          this.decorate("cancel");
          this.decorate("commit");
          this.decorate("updateSize");
          this.on(
            "commit",
            (t) => {
              if (
                !this.state.proposedWidth &&
                !this.state.proposedWidthPercents
              ) {
                this._cleanup();
                t.stop();
              }
            },
            { priority: "high" }
          );
        }
        get state() {
          return this._state;
        }
        show() {
          const t = this._options.editor.editing.view;
          t.change((t) => {
            t.removeClass("ck-hidden", this._viewResizerWrapper);
          });
        }
        hide() {
          const t = this._options.editor.editing.view;
          t.change((t) => {
            t.addClass("ck-hidden", this._viewResizerWrapper);
          });
        }
        attach() {
          const t = this;
          const e = this._options.viewElement;
          const n = this._options.editor.editing.view;
          n.change((n) => {
            const i = n.createUIElement(
              "div",
              { class: "ck ck-reset_all ck-widget__resizer" },
              function (e) {
                const n = this.toDomElement(e);
                t._appendHandles(n);
                t._appendSizeUI(n);
                return n;
              }
            );
            n.insert(n.createPositionAt(e, "end"), i);
            n.addClass("ck-widget_with-resizer", e);
            this._viewResizerWrapper = i;
            if (!this.isVisible) {
              this.hide();
            }
          });
          this.on("change:isVisible", () => {
            if (this.isVisible) {
              this.show();
              this.redraw();
            } else {
              this.hide();
            }
          });
        }
        begin(t) {
          this._state = new QD(this._options);
          this._sizeView._bindToState(this._options, this.state);
          this._initialViewWidth = this._options.viewElement.getStyle("width");
          this.state.begin(t, this._getHandleHost(), this._getResizeHost());
        }
        updateSize(t) {
          const e = this._proposeNewSize(t);
          const n = this._options.editor.editing.view;
          n.change((t) => {
            const n = this._options.unit || "%";
            const i = (n === "%" ? e.widthPercents : e.width) + n;
            t.setStyle("width", i, this._options.viewElement);
          });
          const i = this._getHandleHost();
          const o = new sc(i);
          const r = Math.round(o.width);
          const s = Math.round(o.height);
          const a = new sc(i);
          e.width = Math.round(a.width);
          e.height = Math.round(a.height);
          this.redraw(o);
          this.state.update({ ...e, handleHostWidth: r, handleHostHeight: s });
        }
        commit() {
          const t = this._options.unit || "%";
          const e =
            (t === "%"
              ? this.state.proposedWidthPercents
              : this.state.proposedWidth) + t;
          this._options.editor.editing.view.change(() => {
            this._cleanup();
            this._options.onCommit(e);
          });
        }
        cancel() {
          this._cleanup();
        }
        destroy() {
          this.cancel();
        }
        redraw(t) {
          const e = this._domResizerWrapper;
          if (!aS(e)) {
            return;
          }
          const n = e.parentElement;
          const i = this._getHandleHost();
          const o = this._viewResizerWrapper;
          const r = [
            o.getStyle("width"),
            o.getStyle("height"),
            o.getStyle("left"),
            o.getStyle("top"),
          ];
          let s;
          if (n.isSameNode(i)) {
            const e = t || new sc(i);
            s = [e.width + "px", e.height + "px", undefined, undefined];
          } else {
            s = [
              i.offsetWidth + "px",
              i.offsetHeight + "px",
              i.offsetLeft + "px",
              i.offsetTop + "px",
            ];
          }
          if (vt(r, s) !== "same") {
            this._options.editor.editing.view.change((t) => {
              t.setStyle(
                { width: s[0], height: s[1], left: s[2], top: s[3] },
                o
              );
            });
          }
        }
        containsHandle(t) {
          return this._domResizerWrapper.contains(t);
        }
        static isResizeHandle(t) {
          return t.classList.contains("ck-widget__resizer__handle");
        }
        _cleanup() {
          this._sizeView._dismiss();
          const t = this._options.editor.editing.view;
          t.change((t) => {
            t.setStyle(
              "width",
              this._initialViewWidth,
              this._options.viewElement
            );
          });
        }
        _proposeNewSize(t) {
          const e = this.state;
          const n = sS(t);
          const i = this._options.isCentered
            ? this._options.isCentered(this)
            : true;
          const o = {
            x: e._referenceCoordinates.x - (n.x + e.originalWidth),
            y: n.y - e.originalHeight - e._referenceCoordinates.y,
          };
          if (i && e.activeHandlePosition.endsWith("-right")) {
            o.x = n.x - (e._referenceCoordinates.x + e.originalWidth);
          }
          if (i) {
            o.x *= 2;
          }
          let r = Math.abs(e.originalWidth + o.x);
          let s = Math.abs(e.originalHeight + o.y);
          const a = r / e.aspectRatio > s ? "width" : "height";
          if (a == "width") {
            s = r / e.aspectRatio;
          } else {
            r = s * e.aspectRatio;
          }
          return {
            width: Math.round(r),
            height: Math.round(s),
            widthPercents: Math.min(
              Math.round(
                (e.originalWidthPercents / e.originalWidth) * r * 100
              ) / 100,
              100
            ),
          };
        }
        _getResizeHost() {
          const t = this._domResizerWrapper.parentElement;
          return this._options.getResizeHost(t);
        }
        _getHandleHost() {
          const t = this._domResizerWrapper.parentElement;
          return this._options.getHandleHost(t);
        }
        get _domResizerWrapper() {
          return this._options.editor.editing.view.domConverter.mapViewToDom(
            this._viewResizerWrapper
          );
        }
        _appendHandles(t) {
          const e = ["top-left", "top-right", "bottom-right", "bottom-left"];
          for (const n of e) {
            t.appendChild(
              new jA({
                tag: "div",
                attributes: { class: \`ck-widget__resizer__handle \${rS(n)}\` },
              }).render()
            );
          }
        }
        _appendSizeUI(t) {
          this._sizeView = new iS();
          this._sizeView.render();
          t.appendChild(this._sizeView.element);
        }
      }
      function rS(t) {
        return \`ck-widget__resizer__handle-\${t}\`;
      }
      function sS(t) {
        return { x: t.pageX, y: t.pageY };
      }
      function aS(t) {
        return t && t.ownerDocument && t.ownerDocument.contains(t);
      }
      var cS = "Expected a function";
      function lS(t, e, n) {
        var i = true,
          o = true;
        if (typeof t != "function") {
          throw new TypeError(cS);
        }
        if (it(n)) {
          i = "leading" in n ? !!n.leading : i;
          o = "trailing" in n ? !!n.trailing : o;
        }
        return Qm(t, e, { leading: i, maxWait: e, trailing: o });
      }
      const dS = lS;
      var uS = n(2263);
      var hS = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      hS.insert = "head";
      hS.singleton = true;
      var mS = Il()(uS.Z, hS);
      const gS = uS.Z.locals || {};
      class fS extends Cl {
        static get pluginName() {
          return "WidgetResize";
        }
        init() {
          const t = this.editor.editing;
          const e = Xa.window.document;
          this.set("selectedResizer", null);
          this.set("_activeResizer", null);
          this._resizers = new Map();
          t.view.addObserver(jw);
          this._observer = new (Ka())();
          this.listenTo(
            t.view.document,
            "mousedown",
            this._mouseDownListener.bind(this),
            { priority: "high" }
          );
          this._observer.listenTo(
            e,
            "mousemove",
            this._mouseMoveListener.bind(this)
          );
          this._observer.listenTo(
            e,
            "mouseup",
            this._mouseUpListener.bind(this)
          );
          this._redrawSelectedResizerThrottled = dS(
            () => this.redrawSelectedResizer(),
            200
          );
          this.editor.ui.on("update", this._redrawSelectedResizerThrottled);
          this.editor.model.document.on(
            "change",
            () => {
              for (const [t, e] of this._resizers) {
                if (!t.isAttached()) {
                  this._resizers.delete(t);
                  e.destroy();
                }
              }
            },
            { priority: "lowest" }
          );
          this._observer.listenTo(
            Xa.window,
            "resize",
            this._redrawSelectedResizerThrottled
          );
          const n = this.editor.editing.view.document.selection;
          n.on("change", () => {
            const t = n.getSelectedElement();
            const e = this.getResizerByViewElement(t) || null;
            if (e) {
              this.select(e);
            } else {
              this.deselect();
            }
          });
        }
        redrawSelectedResizer() {
          if (this.selectedResizer && this.selectedResizer.isVisible) {
            this.selectedResizer.redraw();
          }
        }
        destroy() {
          super.destroy();
          this._observer.stopListening();
          for (const t of this._resizers.values()) {
            t.destroy();
          }
          this._redrawSelectedResizerThrottled.cancel();
        }
        select(t) {
          this.deselect();
          this.selectedResizer = t;
          this.selectedResizer.isSelected = true;
        }
        deselect() {
          if (this.selectedResizer) {
            this.selectedResizer.isSelected = false;
          }
          this.selectedResizer = null;
        }
        attachTo(t) {
          const e = new oS(t);
          const n = this.editor.plugins;
          e.attach();
          if (n.has("WidgetToolbarRepository")) {
            const t = n.get("WidgetToolbarRepository");
            e.on(
              "begin",
              () => {
                t.forceDisabled("resize");
              },
              { priority: "lowest" }
            );
            e.on(
              "cancel",
              () => {
                t.clearForceDisabled("resize");
              },
              { priority: "highest" }
            );
            e.on(
              "commit",
              () => {
                t.clearForceDisabled("resize");
              },
              { priority: "highest" }
            );
          }
          this._resizers.set(t.viewElement, e);
          const i = this.editor.editing.view.document.selection;
          const o = i.getSelectedElement();
          if (this.getResizerByViewElement(o) == e) {
            this.select(e);
          }
          return e;
        }
        getResizerByViewElement(t) {
          return this._resizers.get(t);
        }
        _getResizerByHandle(t) {
          for (const e of this._resizers.values()) {
            if (e.containsHandle(t)) {
              return e;
            }
          }
        }
        _mouseDownListener(t, e) {
          const n = e.domTarget;
          if (!oS.isResizeHandle(n)) {
            return;
          }
          this._activeResizer = this._getResizerByHandle(n) || null;
          if (this._activeResizer) {
            this._activeResizer.begin(n);
            t.stop();
            e.preventDefault();
          }
        }
        _mouseMoveListener(t, e) {
          if (this._activeResizer) {
            this._activeResizer.updateSize(e);
          }
        }
        _mouseUpListener() {
          if (this._activeResizer) {
            this._activeResizer.commit();
            this._activeResizer = null;
          }
        }
      }
      var pS = n(390);
      var bS = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      bS.insert = "head";
      bS.singleton = true;
      var kS = Il()(pS.Z, bS);
      const wS = pS.Z.locals || {};
      class AS extends Cl {
        static get pluginName() {
          return "DragDrop";
        }
        static get requires() {
          return [RE, qD];
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          this._draggedRange = null;
          this._draggingUid = "";
          this._draggableElement = null;
          this._updateDropMarkerThrottled = dS(
            (t) => this._updateDropMarker(t),
            40
          );
          this._removeDropMarkerDelayed = SS(
            () => this._removeDropMarker(),
            40
          );
          this._clearDraggableAttributesDelayed = SS(
            () => this._clearDraggableAttributes(),
            40
          );
          e.addObserver(ME);
          e.addObserver(jw);
          this._setupDragging();
          this._setupContentInsertionIntegration();
          this._setupClipboardInputIntegration();
          this._setupDropMarker();
          this._setupDraggableAttributeHandling();
          this.listenTo(t, "change:isReadOnly", (t, e, n) => {
            if (n) {
              this.forceDisabled("readOnlyMode");
            } else {
              this.clearForceDisabled("readOnlyMode");
            }
          });
          this.on("change:isEnabled", (t, e, n) => {
            if (!n) {
              this._finalizeDragging(false);
            }
          });
          if (r.isAndroid) {
            this.forceDisabled("noAndroidSupport");
          }
        }
        destroy() {
          if (this._draggedRange) {
            this._draggedRange.detach();
            this._draggedRange = null;
          }
          this._updateDropMarkerThrottled.cancel();
          this._removeDropMarkerDelayed.cancel();
          this._clearDraggableAttributesDelayed.cancel();
          return super.destroy();
        }
        _setupDragging() {
          const t = this.editor;
          const e = t.model;
          const n = e.document;
          const i = t.editing.view;
          const o = i.document;
          this.listenTo(
            o,
            "dragstart",
            (i, r) => {
              const s = n.selection;
              if (r.target && r.target.is("editableElement")) {
                r.preventDefault();
                return;
              }
              const a = r.target ? TS(r.target) : null;
              if (a) {
                const n = t.editing.mapper.toModelElement(a);
                this._draggedRange = Ff.fromRange(e.createRangeOn(n));
                if (t.plugins.has("WidgetToolbarRepository")) {
                  t.plugins
                    .get("WidgetToolbarRepository")
                    .forceDisabled("dragDrop");
                }
              } else if (!o.selection.isCollapsed) {
                const t = o.selection.getSelectedElement();
                if (!t || !iD(t)) {
                  this._draggedRange = Ff.fromRange(s.getFirstRange());
                }
              }
              if (!this._draggedRange) {
                r.preventDefault();
                return;
              }
              this._draggingUid = E();
              r.dataTransfer.effectAllowed = this.isEnabled
                ? "copyMove"
                : "copy";
              r.dataTransfer.setData(
                "application/ckeditor5-dragging-uid",
                this._draggingUid
              );
              const c = e.createSelection(this._draggedRange.toRange());
              const l = t.data.toView(e.getSelectedContent(c));
              o.fire("clipboardOutput", {
                dataTransfer: r.dataTransfer,
                content: l,
                method: "dragstart",
              });
              if (!this.isEnabled) {
                this._draggedRange.detach();
                this._draggedRange = null;
                this._draggingUid = "";
              }
            },
            { priority: "low" }
          );
          this.listenTo(
            o,
            "dragend",
            (t, e) => {
              this._finalizeDragging(
                !e.dataTransfer.isCanceled &&
                  e.dataTransfer.dropEffect == "move"
              );
            },
            { priority: "low" }
          );
          this.listenTo(o, "dragenter", () => {
            if (!this.isEnabled) {
              return;
            }
            i.focus();
          });
          this.listenTo(o, "dragleave", () => {
            this._removeDropMarkerDelayed();
          });
          this.listenTo(
            o,
            "dragging",
            (e, n) => {
              if (!this.isEnabled) {
                n.dataTransfer.dropEffect = "none";
                return;
              }
              this._removeDropMarkerDelayed.cancel();
              const i = CS(t, n.targetRanges, n.target);
              if (!this._draggedRange) {
                n.dataTransfer.dropEffect = "copy";
              }
              if (!r.isGecko) {
                if (n.dataTransfer.effectAllowed == "copy") {
                  n.dataTransfer.dropEffect = "copy";
                } else if (
                  ["all", "copyMove"].includes(n.dataTransfer.effectAllowed)
                ) {
                  n.dataTransfer.dropEffect = "move";
                }
              }
              if (i) {
                this._updateDropMarkerThrottled(i);
              }
            },
            { priority: "low" }
          );
        }
        _setupClipboardInputIntegration() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          this.listenTo(
            n,
            "clipboardInput",
            (e, n) => {
              if (n.method != "drop") {
                return;
              }
              const i = CS(t, n.targetRanges, n.target);
              this._removeDropMarker();
              if (!i) {
                this._finalizeDragging(false);
                e.stop();
                return;
              }
              if (
                this._draggedRange &&
                this._draggingUid !=
                  n.dataTransfer.getData("application/ckeditor5-dragging-uid")
              ) {
                this._draggedRange.detach();
                this._draggedRange = null;
                this._draggingUid = "";
              }
              const o = DS(n.dataTransfer) == "move";
              if (
                o &&
                this._draggedRange &&
                this._draggedRange.containsRange(i, true)
              ) {
                this._finalizeDragging(false);
                e.stop();
                return;
              }
              n.targetRanges = [t.editing.mapper.toViewRange(i)];
            },
            { priority: "high" }
          );
        }
        _setupContentInsertionIntegration() {
          const t = this.editor.plugins.get(RE);
          t.on(
            "contentInsertion",
            (t, e) => {
              if (!this.isEnabled || e.method !== "drop") {
                return;
              }
              const n = e.targetRanges.map((t) =>
                this.editor.editing.mapper.toModelRange(t)
              );
              this.editor.model.change((t) => t.setSelection(n));
            },
            { priority: "high" }
          );
          t.on(
            "contentInsertion",
            (t, e) => {
              if (!this.isEnabled || e.method !== "drop") {
                return;
              }
              const n = DS(e.dataTransfer) == "move";
              const i = !e.resultRange || !e.resultRange.isCollapsed;
              this._finalizeDragging(i && n);
            },
            { priority: "lowest" }
          );
        }
        _setupDraggableAttributeHandling() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          this.listenTo(n, "mousedown", (i, o) => {
            if (r.isAndroid || !o) {
              return;
            }
            this._clearDraggableAttributesDelayed.cancel();
            let s = TS(o.target);
            if (r.isBlink && !t.isReadOnly && !s && !n.selection.isCollapsed) {
              const t = n.selection.getSelectedElement();
              if (!t || !iD(t)) {
                s = n.selection.editableElement;
              }
            }
            if (s) {
              e.change((t) => {
                t.setAttribute("draggable", "true", s);
              });
              this._draggableElement = t.editing.mapper.toModelElement(s);
            }
          });
          this.listenTo(n, "mouseup", () => {
            if (!r.isAndroid) {
              this._clearDraggableAttributesDelayed();
            }
          });
        }
        _clearDraggableAttributes() {
          const t = this.editor.editing;
          t.view.change((e) => {
            if (
              this._draggableElement &&
              this._draggableElement.root.rootName != "$graveyard"
            ) {
              e.removeAttribute(
                "draggable",
                t.mapper.toViewElement(this._draggableElement)
              );
            }
            this._draggableElement = null;
          });
        }
        _setupDropMarker() {
          const t = this.editor;
          t.conversion.for("editingDowncast").markerToHighlight({
            model: "drop-target",
            view: { classes: ["ck-clipboard-drop-target-range"] },
          });
          t.conversion.for("editingDowncast").markerToElement({
            model: "drop-target",
            view: (e, { writer: n }) => {
              const i = t.model.schema.checkChild(e.markerRange.start, "$text");
              if (!i) {
                return;
              }
              return n.createUIElement(
                "span",
                { class: "ck ck-clipboard-drop-target-position" },
                function (t) {
                  const e = this.toDomElement(t);
                  e.append("\u2060", t.createElement("span"), "\u2060");
                  return e;
                }
              );
            },
          });
        }
        _updateDropMarker(t) {
          const e = this.editor;
          const n = e.model.markers;
          e.model.change((e) => {
            if (n.has("drop-target")) {
              if (!n.get("drop-target").getRange().isEqual(t)) {
                e.updateMarker("drop-target", { range: t });
              }
            } else {
              e.addMarker("drop-target", {
                range: t,
                usingOperation: false,
                affectsData: false,
              });
            }
          });
        }
        _removeDropMarker() {
          const t = this.editor.model;
          this._removeDropMarkerDelayed.cancel();
          this._updateDropMarkerThrottled.cancel();
          if (t.markers.has("drop-target")) {
            t.change((t) => {
              t.removeMarker("drop-target");
            });
          }
        }
        _finalizeDragging(t) {
          const e = this.editor;
          const n = e.model;
          this._removeDropMarker();
          this._clearDraggableAttributes();
          if (e.plugins.has("WidgetToolbarRepository")) {
            e.plugins
              .get("WidgetToolbarRepository")
              .clearForceDisabled("dragDrop");
          }
          this._draggingUid = "";
          if (!this._draggedRange) {
            return;
          }
          if (t && this.isEnabled) {
            n.deleteContent(n.createSelection(this._draggedRange), {
              doNotAutoparagraph: true,
            });
          }
          this._draggedRange.detach();
          this._draggedRange = null;
        }
      }
      function CS(t, e, n) {
        const i = t.model;
        const o = t.editing.mapper;
        let s = null;
        const a = e ? e[0].start : null;
        if (n.is("uiElement")) {
          n = n.parent;
        }
        s = _S(t, n);
        if (s) {
          return s;
        }
        const c = ES(t, n);
        const l = a ? o.toModelPosition(a) : null;
        if (!l) {
          return vS(t, c);
        }
        s = yS(t, l, c);
        if (s) {
          return s;
        }
        s = i.schema.getNearestSelectionRange(
          l,
          r.isGecko ? "forward" : "backward"
        );
        if (s) {
          return s;
        }
        return xS(t, l.parent);
      }
      function _S(t, e) {
        const n = t.model;
        const i = t.editing.mapper;
        if (iD(e)) {
          return n.createRangeOn(i.toModelElement(e));
        }
        if (!e.is("editableElement")) {
          const t = e.findAncestor((t) => iD(t) || t.is("editableElement"));
          if (iD(t)) {
            return n.createRangeOn(i.toModelElement(t));
          }
        }
        return null;
      }
      function vS(t, e) {
        const n = t.model;
        const i = n.schema;
        const o = n.createPositionAt(e, 0);
        return i.getNearestSelectionRange(o, "forward");
      }
      function yS(t, e, n) {
        const i = t.model;
        if (!i.schema.checkChild(n, "$block")) {
          return null;
        }
        const o = i.createPositionAt(n, 0);
        const r = e.path.slice(0, o.path.length);
        const s = i.createPositionFromPath(e.root, r);
        const a = s.nodeAfter;
        if (a && i.schema.isObject(a)) {
          return i.createRangeOn(a);
        }
        return null;
      }
      function xS(t, e) {
        const n = t.model;
        let i = e;
        while (i) {
          if (n.schema.isObject(i)) {
            return n.createRangeOn(i);
          }
          i = i.parent;
        }
        return null;
      }
      function ES(t, e) {
        const n = t.editing.mapper;
        const i = t.editing.view;
        const o = n.toModelElement(e);
        if (o) {
          return o;
        }
        const r = i.createPositionBefore(e);
        const s = n.findMappedViewAncestor(r);
        return n.toModelElement(s);
      }
      function DS(t) {
        if (r.isGecko) {
          return t.dropEffect;
        }
        return ["all", "copyMove"].includes(t.effectAllowed) ? "move" : "copy";
      }
      function SS(t, e) {
        let n;
        function i(...o) {
          i.cancel();
          n = setTimeout(() => t(...o), e);
        }
        i.cancel = () => {
          clearTimeout(n);
        };
        return i;
      }
      function TS(t) {
        if (t.is("editableElement")) {
          return null;
        }
        if (t.hasClass("ck-widget__selection-handle")) {
          return t.findAncestor(iD);
        }
        if (iD(t)) {
          return t;
        }
        const e = t.findAncestor((t) => iD(t) || t.is("editableElement"));
        if (iD(e)) {
          return e;
        }
        return null;
      }
      class IS extends Cl {
        static get pluginName() {
          return "PastePlainText";
        }
        static get requires() {
          return [RE];
        }
        init() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          const i = n.document;
          const o = e.document.selection;
          let r = false;
          n.addObserver(ME);
          this.listenTo(i, "keydown", (t, e) => {
            r = e.shiftKey;
          });
          t.plugins.get(RE).on("contentInsertion", (t, n) => {
            if (!r && !MS(n.content, e.schema)) {
              return;
            }
            e.change((t) => {
              const i = Array.from(o.getAttributes()).filter(
                ([t]) => e.schema.getAttributeProperties(t).isFormatting
              );
              if (!o.isCollapsed) {
                e.deleteContent(o, { doNotAutoparagraph: true });
              }
              i.push(...o.getAttributes());
              const r = t.createRangeIn(n.content);
              for (const e of r.getItems()) {
                if (e.is("$textProxy")) {
                  t.setAttributes(i, e);
                }
              }
            });
          });
        }
      }
      function MS(t, e) {
        if (t.childCount > 1) {
          return false;
        }
        const n = t.getChild(0);
        if (e.isObject(n)) {
          return false;
        }
        return Array.from(n.getAttributeKeys()).length == 0;
      }
      class BS extends Cl {
        static get pluginName() {
          return "Clipboard";
        }
        static get requires() {
          return [RE, AS, IS];
        }
      }
      class LS extends vl {
        constructor(t) {
          super(t);
          this._stack = [];
          this._createdBatches = new WeakSet();
          this.refresh();
          this.listenTo(
            t.data,
            "set",
            (t, e) => {
              e[1] = { ...e[1] };
              const n = e[1];
              if (!n.batchType) {
                n.batchType = { isUndoable: false };
              }
            },
            { priority: "high" }
          );
          this.listenTo(t.data, "set", (t, e) => {
            const n = e[1];
            if (!n.batchType.isUndoable) {
              this.clearStack();
            }
          });
        }
        refresh() {
          this.isEnabled = this._stack.length > 0;
        }
        addBatch(t) {
          const e = this.editor.model.document.selection;
          const n = {
            ranges: e.hasOwnRange ? Array.from(e.getRanges()) : [],
            isBackward: e.isBackward,
          };
          this._stack.push({ batch: t, selection: n });
          this.refresh();
        }
        clearStack() {
          this._stack = [];
          this.refresh();
        }
        _restoreSelection(t, e, n) {
          const i = this.editor.model;
          const o = i.document;
          const r = [];
          const s = t.map((t) => t.getTransformedByOperations(n));
          const a = s.flat();
          for (const t of s) {
            const e = t
              .filter((t) => t.root != o.graveyard)
              .filter((t) => !zS(t, a));
            if (!e.length) {
              continue;
            }
            NS(e);
            r.push(e[0]);
          }
          if (r.length) {
            i.change((t) => {
              t.setSelection(r, { backward: e });
            });
          }
        }
        _undo(t, e) {
          const n = this.editor.model;
          const i = n.document;
          this._createdBatches.add(e);
          const o = t.operations.slice().filter((t) => t.isDocumentOperation);
          o.reverse();
          for (const t of o) {
            const o = t.baseVersion + 1;
            const r = Array.from(i.history.getOperations(o));
            const s = Ak([t.getReversed()], r, {
              useRelations: true,
              document: this.editor.model.document,
              padWithNoOps: false,
              forceWeakRemove: true,
            });
            const a = s.operationsA;
            for (const o of a) {
              e.addOperation(o);
              n.applyOperation(o);
              i.history.setOperationAsUndone(t, o);
            }
          }
        }
      }
      function NS(t) {
        t.sort((t, e) => (t.start.isBefore(e.start) ? -1 : 1));
        for (let e = 1; e < t.length; e++) {
          const n = t[e - 1];
          const i = n.getJoined(t[e], true);
          if (i) {
            e--;
            t.splice(e, 2, i);
          }
        }
      }
      function zS(t, e) {
        return e.some((e) => e !== t && e.containsRange(t, true));
      }
      class PS extends LS {
        execute(t = null) {
          const e = t
            ? this._stack.findIndex((e) => e.batch == t)
            : this._stack.length - 1;
          const n = this._stack.splice(e, 1)[0];
          const i = this.editor.model.createBatch({ isUndo: true });
          this.editor.model.enqueueChange(i, () => {
            this._undo(n.batch, i);
            const t = this.editor.model.document.history.getOperations(
              n.batch.baseVersion
            );
            this._restoreSelection(
              n.selection.ranges,
              n.selection.isBackward,
              t
            );
            this.fire("revert", n.batch, i);
          });
          this.refresh();
        }
      }
      class RS extends LS {
        execute() {
          const t = this._stack.pop();
          const e = this.editor.model.createBatch({ isUndo: true });
          this.editor.model.enqueueChange(e, () => {
            const n = t.batch.operations[t.batch.operations.length - 1];
            const i = n.baseVersion + 1;
            const o = this.editor.model.document.history.getOperations(i);
            this._restoreSelection(
              t.selection.ranges,
              t.selection.isBackward,
              o
            );
            this._undo(t.batch, e);
          });
          this.refresh();
        }
      }
      class OS extends Cl {
        static get pluginName() {
          return "UndoEditing";
        }
        constructor(t) {
          super(t);
          this._batchRegistry = new WeakSet();
        }
        init() {
          const t = this.editor;
          this._undoCommand = new PS(t);
          this._redoCommand = new RS(t);
          t.commands.add("undo", this._undoCommand);
          t.commands.add("redo", this._redoCommand);
          this.listenTo(
            t.model,
            "applyOperation",
            (t, e) => {
              const n = e[0];
              if (!n.isDocumentOperation) {
                return;
              }
              const i = n.batch;
              const o = this._redoCommand._createdBatches.has(i);
              const r = this._undoCommand._createdBatches.has(i);
              const s = this._batchRegistry.has(i);
              if (s) {
                return;
              }
              this._batchRegistry.add(i);
              if (!i.isUndoable) {
                return;
              }
              if (o) {
                this._undoCommand.addBatch(i);
              } else if (!r) {
                this._undoCommand.addBatch(i);
                this._redoCommand.clearStack();
              }
            },
            { priority: "highest" }
          );
          this.listenTo(this._undoCommand, "revert", (t, e, n) => {
            this._redoCommand.addBatch(n);
          });
          t.keystrokes.set("CTRL+Z", "undo");
          t.keystrokes.set("CTRL+Y", "redo");
          t.keystrokes.set("CTRL+SHIFT+Z", "redo");
        }
      }
      const jS =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>';
      const FS =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';
      class VS extends Cl {
        static get pluginName() {
          return "UndoUI";
        }
        init() {
          const t = this.editor;
          const e = t.locale;
          const n = t.t;
          const i = e.uiLanguageDirection == "ltr" ? jS : FS;
          const o = e.uiLanguageDirection == "ltr" ? FS : jS;
          this._addButton("undo", n("Undo"), "CTRL+Z", i);
          this._addButton("redo", n("Redo"), "CTRL+Y", o);
        }
        _addButton(t, e, n, i) {
          const o = this.editor;
          o.ui.componentFactory.add(t, (r) => {
            const s = o.commands.get(t);
            const a = new R_(r);
            a.set({ label: e, icon: i, keystroke: n, tooltip: true });
            a.bind("isEnabled").to(s, "isEnabled");
            this.listenTo(a, "execute", () => {
              o.execute(t);
              o.editing.view.focus();
            });
            return a;
          });
        }
      }
      class HS extends Cl {
        static get requires() {
          return [OS, VS];
        }
        static get pluginName() {
          return "Undo";
        }
      }
      function US(t) {
        return t.createContainerElement(
          "span",
          { class: "image-inline" },
          t.createEmptyElement("img")
        );
      }
      function qS(t) {
        return t.createContainerElement("figure", { class: "image" }, [
          t.createEmptyElement("img"),
          t.createSlot(),
        ]);
      }
      function WS(t, e) {
        const n = t.plugins.get("ImageUtils");
        const i =
          t.plugins.has("ImageInlineEditing") &&
          t.plugins.has("ImageBlockEditing");
        return (t) => {
          if (!n.isInlineImageView(t)) {
            return null;
          }
          if (!i) {
            return o(t);
          }
          const r =
            t.getStyle("display") == "block" ||
            t.findAncestor(n.isBlockImageView)
              ? "imageBlock"
              : "imageInline";
          if (r !== e) {
            return null;
          }
          return o(t);
        };
        function o(t) {
          const e = { name: true };
          if (t.hasAttribute("src")) {
            e.attributes = ["src"];
          }
          return e;
        }
      }
      function GS(t, e) {
        const n = sl(e.getSelectedBlocks());
        if (!n || t.isObject(n)) {
          return "imageBlock";
        }
        if (n.isEmpty && n.name != "listItem") {
          return "imageBlock";
        }
        return "imageInline";
      }
      class $S extends Cl {
        static get pluginName() {
          return "ImageUtils";
        }
        isImage(t) {
          return this.isInlineImage(t) || this.isBlockImage(t);
        }
        isInlineImageView(t) {
          return !!t && t.is("element", "img");
        }
        isBlockImageView(t) {
          return !!t && t.is("element", "figure") && t.hasClass("image");
        }
        insertImage(t = {}, e = null, n = null) {
          const i = this.editor;
          const o = i.model;
          const r = o.document.selection;
          n = QS(i, e || r, n);
          t = { ...Object.fromEntries(r.getAttributes()), ...t };
          for (const e in t) {
            if (!o.schema.checkAttribute(n, e)) {
              delete t[e];
            }
          }
          return o.change((i) => {
            const r = i.createElement(n, t);
            o.insertObject(r, e, null, {
              setSelection: "on",
              findOptimalPosition: !e && n != "imageInline",
            });
            if (r.parent) {
              return r;
            }
            return null;
          });
        }
        getClosestSelectedImageWidget(t) {
          const e = t.getFirstPosition();
          if (!e) {
            return null;
          }
          const n = t.getSelectedElement();
          if (n && this.isImageWidget(n)) {
            return n;
          }
          let i = e.parent;
          while (i) {
            if (i.is("element") && this.isImageWidget(i)) {
              return i;
            }
            i = i.parent;
          }
          return null;
        }
        getClosestSelectedImageElement(t) {
          const e = t.getSelectedElement();
          return this.isImage(e)
            ? e
            : t.getFirstPosition().findAncestor("imageBlock");
        }
        isImageAllowed() {
          const t = this.editor.model;
          const e = t.document.selection;
          return KS(this.editor, e) && YS(e);
        }
        toImageWidget(t, e, n) {
          e.setCustomProperty("image", true, t);
          const i = () => {
            const e = this.findViewImgElement(t);
            const i = e.getAttribute("alt");
            return i ? \`\${i} \${n}\` : n;
          };
          return oD(t, e, { label: i });
        }
        isImageWidget(t) {
          return !!t.getCustomProperty("image") && iD(t);
        }
        isBlockImage(t) {
          return !!t && t.is("element", "imageBlock");
        }
        isInlineImage(t) {
          return !!t && t.is("element", "imageInline");
        }
        findViewImgElement(t) {
          if (this.isInlineImageView(t)) {
            return t;
          }
          const e = this.editor.editing.view;
          for (const { item: n } of e.createRangeIn(t)) {
            if (this.isInlineImageView(n)) {
              return n;
            }
          }
        }
      }
      function KS(t, e) {
        const n = QS(t, e);
        if (n == "imageBlock") {
          const n = ZS(e, t.model);
          if (t.model.schema.checkChild(n, "imageBlock")) {
            return true;
          }
        } else if (t.model.schema.checkChild(e.focus, "imageInline")) {
          return true;
        }
        return false;
      }
      function YS(t) {
        return [...t.focus.getAncestors()].every(
          (t) => !t.is("element", "imageBlock")
        );
      }
      function ZS(t, e) {
        const n = uD(t, e);
        const i = n.start.parent;
        if (i.isEmpty && !i.is("element", "$root")) {
          return i.parent;
        }
        return i;
      }
      function QS(t, e, n) {
        const i = t.model.schema;
        const o = t.config.get("image.insert.type");
        if (!t.plugins.has("ImageBlockEditing")) {
          return "imageInline";
        }
        if (!t.plugins.has("ImageInlineEditing")) {
          return "imageBlock";
        }
        if (n) {
          return n;
        }
        if (o === "inline") {
          return "imageInline";
        }
        if (o === "block") {
          return "imageBlock";
        }
        if (e.is("selection")) {
          return GS(i, e);
        }
        return i.checkChild(e, "imageInline") ? "imageInline" : "imageBlock";
      }
      const JS = new RegExp(
        String(
          /^(http(s)?:\\/\\/)?[\\w-]+\\.[\\w.~:/[\\]@!$&'()*+,;=%-]+/.source +
            /\\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source +
            /(\\?[\\w.~:/[\\]@!$&'()*+,;=%-]*)?/.source +
            /(#[\\w.~:/[\\]@!$&'()*+,;=%-]*)?$/.source
        )
      );
      class XS extends Cl {
        static get requires() {
          return [BS, $S, HS, Jx];
        }
        static get pluginName() {
          return "AutoImage";
        }
        constructor(t) {
          super(t);
          this._timeoutId = null;
          this._positionToInsert = null;
        }
        init() {
          const t = this.editor;
          const e = t.model.document;
          this.listenTo(
            t.plugins.get("ClipboardPipeline"),
            "inputTransformation",
            () => {
              const t = e.selection.getFirstRange();
              const n = Sk.fromPosition(t.start);
              n.stickiness = "toPrevious";
              const i = Sk.fromPosition(t.end);
              i.stickiness = "toNext";
              e.once(
                "change:data",
                () => {
                  this._embedImageBetweenPositions(n, i);
                  n.detach();
                  i.detach();
                },
                { priority: "high" }
              );
            }
          );
          t.commands.get("undo").on(
            "execute",
            () => {
              if (this._timeoutId) {
                Xa.window.clearTimeout(this._timeoutId);
                this._positionToInsert.detach();
                this._timeoutId = null;
                this._positionToInsert = null;
              }
            },
            { priority: "high" }
          );
        }
        _embedImageBetweenPositions(t, e) {
          const n = this.editor;
          const i = new Ff(t, e);
          const o = i.getWalker({ ignoreElementEnd: true });
          const r = Object.fromEntries(
            n.model.document.selection.getAttributes()
          );
          const s = this.editor.plugins.get("ImageUtils");
          let a = "";
          for (const t of o) {
            if (t.item.is("$textProxy")) {
              a += t.item.data;
            }
          }
          a = a.trim();
          if (!a.match(JS)) {
            i.detach();
            return;
          }
          this._positionToInsert = Sk.fromPosition(t);
          this._timeoutId = Xa.window.setTimeout(() => {
            const t = n.commands.get("insertImage");
            if (!t.isEnabled) {
              i.detach();
              return;
            }
            n.model.change((t) => {
              this._timeoutId = null;
              t.remove(i);
              i.detach();
              let e;
              if (this._positionToInsert.root.rootName !== "$graveyard") {
                e = this._positionToInsert.toPosition();
              }
              s.insertImage({ ...r, src: a }, e);
              this._positionToInsert.detach();
              this._positionToInsert = null;
            });
            n.plugins.get("Delete").requestUndoOnBackspace();
          }, 100);
        }
      }
      function tT(t, e, n) {
        var i = t.length;
        n = n === undefined ? i : n;
        return !e && n >= i ? t : Ud(t, e, n);
      }
      const eT = tT;
      var nT = "\\\\ud800-\\\\udfff",
        iT = "\\\\u0300-\\\\u036f",
        oT = "\\\\ufe20-\\\\ufe2f",
        rT = "\\\\u20d0-\\\\u20ff",
        sT = iT + oT + rT,
        aT = "\\\\ufe0e\\\\ufe0f";
      var cT = "\\\\u200d";
      var lT = RegExp("[" + cT + nT + sT + aT + "]");
      function dT(t) {
        return lT.test(t);
      }
      const uT = dT;
      function hT(t) {
        return t.split("");
      }
      const mT = hT;
      var gT = "\\\\ud800-\\\\udfff",
        fT = "\\\\u0300-\\\\u036f",
        pT = "\\\\ufe20-\\\\ufe2f",
        bT = "\\\\u20d0-\\\\u20ff",
        kT = fT + pT + bT,
        wT = "\\\\ufe0e\\\\ufe0f";
      var AT = "[" + gT + "]",
        CT = "[" + kT + "]",
        _T = "\\\\ud83c[\\\\udffb-\\\\udfff]",
        vT = "(?:" + CT + "|" + _T + ")",
        yT = "[^" + gT + "]",
        xT = "(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",
        ET = "[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",
        DT = "\\\\u200d";
      var ST = vT + "?",
        TT = "[" + wT + "]?",
        IT = "(?:" + DT + "(?:" + [yT, xT, ET].join("|") + ")" + TT + ST + ")*",
        MT = TT + ST + IT,
        BT = "(?:" + [yT + CT + "?", CT, xT, ET, AT].join("|") + ")";
      var LT = RegExp(_T + "(?=" + _T + ")|" + BT + MT, "g");
      function NT(t) {
        return t.match(LT) || [];
      }
      const zT = NT;
      function PT(t) {
        return uT(t) ? zT(t) : mT(t);
      }
      const RT = PT;
      function OT(t) {
        return function (e) {
          e = Bd(e);
          var n = uT(e) ? RT(e) : undefined;
          var i = n ? n[0] : e.charAt(0);
          var o = n ? eT(n, 1).join("") : e.slice(1);
          return i[t]() + o;
        };
      }
      const jT = OT;
      var FT = jT("toUpperCase");
      const VT = FT;
      const HT = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;
      const UT =
        /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;
      const qT =
        /^[\\S]+@((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})$/i;
      const WT = /^((\\w+:(\\/{2,})?)|(\\W))/i;
      const GT = "Ctrl+K";
      function $T(t) {
        return t.is("attributeElement") && !!t.getCustomProperty("link");
      }
      function KT(t, { writer: e }) {
        const n = e.createAttributeElement("a", { href: t }, { priority: 5 });
        e.setCustomProperty("link", true, n);
        return n;
      }
      function YT(t) {
        t = String(t);
        return ZT(t) ? t : "#";
      }
      function ZT(t) {
        const e = t.replace(HT, "");
        return e.match(UT);
      }
      function QT(t, e) {
        const n = {
          "Open in a new tab": t("Open in a new tab"),
          Downloadable: t("Downloadable"),
        };
        e.forEach((t) => {
          if (t.label && n[t.label]) {
            t.label = n[t.label];
          }
          return t;
        });
        return e;
      }
      function JT(t) {
        const e = [];
        if (t) {
          for (const [n, i] of Object.entries(t)) {
            const t = Object.assign({}, i, { id: \`link\${VT(n)}\` });
            e.push(t);
          }
        }
        return e;
      }
      function XT(t, e) {
        if (!t) {
          return false;
        }
        return e.checkAttribute(t.name, "linkHref");
      }
      function tI(t) {
        return qT.test(t);
      }
      function eI(t, e) {
        const n = tI(t) ? "mailto:" : e;
        const i = !!n && !nI(t);
        return t && i ? n + t : t;
      }
      function nI(t) {
        return WT.test(t);
      }
      function iI(t) {
        window.open(t, "_blank", "noopener");
      }
      const oI = 4;
      const rI = new RegExp(
        "(^|\\\\s)" +
          "(" +
          "(" +
          "(?:(?:(?:https?|ftp):)?\\\\/\\\\/)" +
          "(?:\\\\S+(?::\\\\S*)?@)?" +
          "(?:" +
          "(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])" +
          "(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}" +
          "(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))" +
          "|" +
          "(" +
          "((?!www\\\\.)|(www\\\\.))" +
          "(?![-_])(?:[-_a-z0-9\\\\u00a1-\\\\uffff]{1,63}\\\\.)+" +
          "(?:[a-z\\\\u00a1-\\\\uffff]{2,63})" +
          ")" +
          ")" +
          "(?::\\\\d{2,5})?" +
          "(?:[/?#]\\\\S*)?" +
          ")" +
          "|" +
          "(" +
          "(www.|(\\\\S+@))" +
          "((?![-_])(?:[-_a-z0-9\\\\u00a1-\\\\uffff]{1,63}\\\\.))+" +
          "(?:[a-z\\\\u00a1-\\\\uffff]{2,63})" +
          ")" +
          ")$",
        "i"
      );
      const sI = 2;
      class aI extends Cl {
        static get requires() {
          return [Jx];
        }
        static get pluginName() {
          return "AutoLink";
        }
        init() {
          const t = this.editor;
          const e = t.model.document.selection;
          e.on("change:range", () => {
            this.isEnabled = !e.anchor.parent.is("element", "codeBlock");
          });
          this._enableTypingHandling();
        }
        afterInit() {
          this._enableEnterHandling();
          this._enableShiftEnterHandling();
        }
        _enableTypingHandling() {
          const t = this.editor;
          const e = new eE(t.model, (t) => {
            if (!cI(t)) {
              return;
            }
            const e = lI(t.substr(0, t.length - 1));
            if (e) {
              return { url: e };
            }
          });
          e.on("matched:data", (e, n) => {
            const { batch: i, range: o, url: r } = n;
            if (!i.isTyping) {
              return;
            }
            const s = o.end.getShiftedBy(-1);
            const a = s.getShiftedBy(-r.length);
            const c = t.model.createRange(a, s);
            this._applyAutoLink(r, c);
          });
          e.bind("isEnabled").to(this);
        }
        _enableEnterHandling() {
          const t = this.editor;
          const e = t.model;
          const n = t.commands.get("enter");
          if (!n) {
            return;
          }
          n.on("execute", () => {
            const t = e.document.selection.getFirstPosition();
            if (!t.parent.previousSibling) {
              return;
            }
            const n = e.createRangeIn(t.parent.previousSibling);
            this._checkAndApplyAutoLinkOnRange(n);
          });
        }
        _enableShiftEnterHandling() {
          const t = this.editor;
          const e = t.model;
          const n = t.commands.get("shiftEnter");
          if (!n) {
            return;
          }
          n.on("execute", () => {
            const t = e.document.selection.getFirstPosition();
            const n = e.createRange(
              e.createPositionAt(t.parent, 0),
              t.getShiftedBy(-1)
            );
            this._checkAndApplyAutoLinkOnRange(n);
          });
        }
        _checkAndApplyAutoLinkOnRange(t) {
          const e = this.editor.model;
          const { text: n, range: i } = tE(t, e);
          const o = lI(n);
          if (o) {
            const t = e.createRange(i.end.getShiftedBy(-o.length), i.end);
            this._applyAutoLink(o, t);
          }
        }
        _applyAutoLink(t, e) {
          const n = this.editor.model;
          const i = this.editor.config.get("link.defaultProtocol");
          const o = eI(t, i);
          if (!this.isEnabled || !dI(e, n) || !nI(o) || uI(e)) {
            return;
          }
          this._persistAutoLink(o, e);
        }
        _persistAutoLink(t, e) {
          const n = this.editor.model;
          const i = this.editor.plugins.get("Delete");
          n.enqueueChange((o) => {
            o.setAttribute("linkHref", t, e);
            n.enqueueChange(() => {
              i.requestUndoOnBackspace();
            });
          });
        }
      }
      function cI(t) {
        return (
          t.length > oI && t[t.length - 1] === " " && t[t.length - 2] !== " "
        );
      }
      function lI(t) {
        const e = rI.exec(t);
        return e ? e[sI] : null;
      }
      function dI(t, e) {
        return e.schema.checkAttributeInSelection(
          e.createSelection(t),
          "linkHref"
        );
      }
      function uI(t) {
        const e = t.start.nodeAfter;
        return e && e.hasAttribute("linkHref");
      }
      class hI extends dt() {
        constructor() {
          super();
          const t = new window.FileReader();
          this._reader = t;
          this._data = undefined;
          this.set("loaded", 0);
          t.onprogress = (t) => {
            this.loaded = t.loaded;
          };
        }
        get error() {
          return this._reader.error;
        }
        get data() {
          return this._data;
        }
        read(t) {
          const e = this._reader;
          this.total = t.size;
          return new Promise((n, i) => {
            e.onload = () => {
              const t = e.result;
              this._data = t;
              n(t);
            };
            e.onerror = () => {
              i("error");
            };
            e.onabort = () => {
              i("aborted");
            };
            this._reader.readAsDataURL(t);
          });
        }
        abort() {
          this._reader.abort();
        }
      }
      class mI extends Cl {
        static get pluginName() {
          return "FileRepository";
        }
        static get requires() {
          return [VC];
        }
        init() {
          this.loaders = new rl();
          this.loaders.on("change", () => this._updatePendingAction());
          this._loadersMap = new Map();
          this._pendingAction = null;
          this.set("uploaded", 0);
          this.set("uploadTotal", null);
          this.bind("uploadedPercent").to(
            this,
            "uploaded",
            this,
            "uploadTotal",
            (t, e) => (e ? (t / e) * 100 : 0)
          );
        }
        getLoader(t) {
          return this._loadersMap.get(t) || null;
        }
        createLoader(t) {
          if (!this.createUploadAdapter) {
            B("filerepository-no-upload-adapter");
            return null;
          }
          const e = new gI(Promise.resolve(t), this.createUploadAdapter);
          this.loaders.add(e);
          this._loadersMap.set(t, e);
          if (t instanceof Promise) {
            e.file
              .then((t) => {
                this._loadersMap.set(t, e);
              })
              .catch(() => {});
          }
          e.on("change:uploaded", () => {
            let t = 0;
            for (const e of this.loaders) {
              t += e.uploaded;
            }
            this.uploaded = t;
          });
          e.on("change:uploadTotal", () => {
            let t = 0;
            for (const e of this.loaders) {
              if (e.uploadTotal) {
                t += e.uploadTotal;
              }
            }
            this.uploadTotal = t;
          });
          return e;
        }
        destroyLoader(t) {
          const e = t instanceof gI ? t : this.getLoader(t);
          e._destroy();
          this.loaders.remove(e);
          this._loadersMap.forEach((t, n) => {
            if (t === e) {
              this._loadersMap.delete(n);
            }
          });
        }
        _updatePendingAction() {
          const t = this.editor.plugins.get(VC);
          if (this.loaders.length) {
            if (!this._pendingAction) {
              const e = this.editor.t;
              const n = (t) => \`\${e("Upload in progress")} \${parseInt(t)}%.\`;
              this._pendingAction = t.add(n(this.uploadedPercent));
              this._pendingAction
                .bind("message")
                .to(this, "uploadedPercent", n);
            }
          } else {
            t.remove(this._pendingAction);
            this._pendingAction = null;
          }
        }
      }
      class gI extends dt() {
        constructor(t, e) {
          super();
          this.id = E();
          this._filePromiseWrapper = this._createFilePromiseWrapper(t);
          this._adapter = e(this);
          this._reader = new hI();
          this.set("status", "idle");
          this.set("uploaded", 0);
          this.set("uploadTotal", null);
          this.bind("uploadedPercent").to(
            this,
            "uploaded",
            this,
            "uploadTotal",
            (t, e) => (e ? (t / e) * 100 : 0)
          );
          this.set("uploadResponse", null);
        }
        get file() {
          if (!this._filePromiseWrapper) {
            return Promise.resolve(null);
          } else {
            return this._filePromiseWrapper.promise.then((t) =>
              this._filePromiseWrapper ? t : null
            );
          }
        }
        get data() {
          return this._reader.data;
        }
        read() {
          if (this.status != "idle") {
            throw new M("filerepository-read-wrong-status", this);
          }
          this.status = "reading";
          return this.file
            .then((t) => this._reader.read(t))
            .then((t) => {
              if (this.status !== "reading") {
                throw this.status;
              }
              this.status = "idle";
              return t;
            })
            .catch((t) => {
              if (t === "aborted") {
                this.status = "aborted";
                throw "aborted";
              }
              this.status = "error";
              throw this._reader.error ? this._reader.error : t;
            });
        }
        upload() {
          if (this.status != "idle") {
            throw new M("filerepository-upload-wrong-status", this);
          }
          this.status = "uploading";
          return this.file
            .then(() => this._adapter.upload())
            .then((t) => {
              this.uploadResponse = t;
              this.status = "idle";
              return t;
            })
            .catch((t) => {
              if (this.status === "aborted") {
                throw "aborted";
              }
              this.status = "error";
              throw t;
            });
        }
        abort() {
          const t = this.status;
          this.status = "aborted";
          if (!this._filePromiseWrapper.isFulfilled) {
            this._filePromiseWrapper.promise.catch(() => {});
            this._filePromiseWrapper.rejecter("aborted");
          } else if (t == "reading") {
            this._reader.abort();
          } else if (t == "uploading" && this._adapter.abort) {
            this._adapter.abort();
          }
          this._destroy();
        }
        _destroy() {
          this._filePromiseWrapper = undefined;
          this._reader = undefined;
          this._adapter = undefined;
          this.uploadResponse = undefined;
        }
        _createFilePromiseWrapper(t) {
          const e = {};
          e.promise = new Promise((n, i) => {
            e.rejecter = i;
            e.isFulfilled = false;
            t.then((t) => {
              e.isFulfilled = true;
              n(t);
            }).catch((t) => {
              e.isFulfilled = true;
              i(t);
            });
          });
          return e;
        }
      }
      class fI extends Cl {
        static get requires() {
          return [mI];
        }
        static get pluginName() {
          return "Base64UploadAdapter";
        }
        init() {
          this.editor.plugins.get(mI).createUploadAdapter = (t) => new pI(t);
        }
      }
      class pI {
        constructor(t) {
          this.loader = t;
        }
        upload() {
          return new Promise((t, e) => {
            const n = (this.reader = new window.FileReader());
            n.addEventListener("load", () => {
              t({ default: n.result });
            });
            n.addEventListener("error", (t) => {
              e(t);
            });
            n.addEventListener("abort", () => {
              e();
            });
            this.loader.file.then((t) => {
              n.readAsDataURL(t);
            });
          });
        }
        abort() {
          this.reader.abort();
        }
      }
      class bI extends vl {
        refresh() {
          this.value = this._getValue();
          this.isEnabled = this._checkEnabled();
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.schema;
          const i = e.document.selection;
          const o = Array.from(i.getSelectedBlocks());
          const r = t.forceValue === undefined ? !this.value : t.forceValue;
          e.change((t) => {
            if (!r) {
              this._removeQuote(t, o.filter(kI));
            } else {
              const e = o.filter((t) => kI(t) || AI(n, t));
              this._applyQuote(t, e);
            }
          });
        }
        _getValue() {
          const t = this.editor.model.document.selection;
          const e = sl(t.getSelectedBlocks());
          return !!(e && kI(e));
        }
        _checkEnabled() {
          if (this.value) {
            return true;
          }
          const t = this.editor.model.document.selection;
          const e = this.editor.model.schema;
          const n = sl(t.getSelectedBlocks());
          if (!n) {
            return false;
          }
          return AI(e, n);
        }
        _removeQuote(t, e) {
          wI(t, e)
            .reverse()
            .forEach((e) => {
              if (e.start.isAtStart && e.end.isAtEnd) {
                t.unwrap(e.start.parent);
                return;
              }
              if (e.start.isAtStart) {
                const n = t.createPositionBefore(e.start.parent);
                t.move(e, n);
                return;
              }
              if (!e.end.isAtEnd) {
                t.split(e.end);
              }
              const n = t.createPositionAfter(e.end.parent);
              t.move(e, n);
            });
        }
        _applyQuote(t, e) {
          const n = [];
          wI(t, e)
            .reverse()
            .forEach((e) => {
              let i = kI(e.start);
              if (!i) {
                i = t.createElement("blockQuote");
                t.wrap(e, i);
              }
              n.push(i);
            });
          n.reverse().reduce((e, n) => {
            if (e.nextSibling == n) {
              t.merge(t.createPositionAfter(e));
              return e;
            }
            return n;
          });
        }
      }
      function kI(t) {
        return t.parent.name == "blockQuote" ? t.parent : null;
      }
      function wI(t, e) {
        let n;
        let i = 0;
        const o = [];
        while (i < e.length) {
          const r = e[i];
          const s = e[i + 1];
          if (!n) {
            n = t.createPositionBefore(r);
          }
          if (!s || r.nextSibling != s) {
            o.push(t.createRange(n, t.createPositionAfter(r)));
            n = null;
          }
          i++;
        }
        return o;
      }
      function AI(t, e) {
        const n = t.checkChild(e.parent, "blockQuote");
        const i = t.checkChild(["$root", "blockQuote"], e);
        return n && i;
      }
      class CI extends Cl {
        static get pluginName() {
          return "BlockQuoteEditing";
        }
        static get requires() {
          return [UE, Jx];
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          t.commands.add("blockQuote", new bI(t));
          e.register("blockQuote", { inheritAllFrom: "$container" });
          t.conversion.elementToElement({
            model: "blockQuote",
            view: "blockquote",
          });
          t.model.document.registerPostFixer((n) => {
            const i = t.model.document.differ.getChanges();
            for (const t of i) {
              if (t.type == "insert") {
                const i = t.position.nodeAfter;
                if (!i) {
                  continue;
                }
                if (i.is("element", "blockQuote") && i.isEmpty) {
                  n.remove(i);
                  return true;
                } else if (
                  i.is("element", "blockQuote") &&
                  !e.checkChild(t.position, i)
                ) {
                  n.unwrap(i);
                  return true;
                } else if (i.is("element")) {
                  const t = n.createRangeIn(i);
                  for (const i of t.getItems()) {
                    if (
                      i.is("element", "blockQuote") &&
                      !e.checkChild(n.createPositionBefore(i), i)
                    ) {
                      n.unwrap(i);
                      return true;
                    }
                  }
                }
              } else if (t.type == "remove") {
                const e = t.position.parent;
                if (e.is("element", "blockQuote") && e.isEmpty) {
                  n.remove(e);
                  return true;
                }
              }
            }
            return false;
          });
          const n = this.editor.editing.view.document;
          const i = t.model.document.selection;
          const o = t.commands.get("blockQuote");
          this.listenTo(
            n,
            "enter",
            (e, n) => {
              if (!i.isCollapsed || !o.value) {
                return;
              }
              const r = i.getLastPosition().parent;
              if (r.isEmpty) {
                t.execute("blockQuote");
                t.editing.view.scrollToTheSelection();
                n.preventDefault();
                e.stop();
              }
            },
            { context: "blockquote" }
          );
          this.listenTo(
            n,
            "delete",
            (e, n) => {
              if (n.direction != "backward" || !i.isCollapsed || !o.value) {
                return;
              }
              const r = i.getLastPosition().parent;
              if (r.isEmpty && !r.previousSibling) {
                t.execute("blockQuote");
                t.editing.view.scrollToTheSelection();
                n.preventDefault();
                e.stop();
              }
            },
            { context: "blockquote" }
          );
        }
      }
      var _I = n(636);
      var vI = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      vI.insert = "head";
      vI.singleton = true;
      var yI = Il()(_I.Z, vI);
      const xI = _I.Z.locals || {};
      class EI extends Cl {
        static get pluginName() {
          return "BlockQuoteUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add("blockQuote", (n) => {
            const i = t.commands.get("blockQuote");
            const o = new R_(n);
            o.set({
              label: e("Block quote"),
              icon: __.quote,
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute("blockQuote");
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class DI extends Cl {
        static get requires() {
          return [CI, EI];
        }
        static get pluginName() {
          return "BlockQuote";
        }
      }
      class SI extends vl {
        constructor(t, e) {
          super(t);
          this.attributeKey = e;
        }
        refresh() {
          const t = this.editor.model;
          const e = t.document;
          this.value = this._getValueFromFirstAllowedNode();
          this.isEnabled = t.schema.checkAttributeInSelection(
            e.selection,
            this.attributeKey
          );
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document;
          const i = n.selection;
          const o = t.forceValue === undefined ? !this.value : t.forceValue;
          e.change((t) => {
            if (i.isCollapsed) {
              if (o) {
                t.setSelectionAttribute(this.attributeKey, true);
              } else {
                t.removeSelectionAttribute(this.attributeKey);
              }
            } else {
              const n = e.schema.getValidRanges(
                i.getRanges(),
                this.attributeKey
              );
              for (const e of n) {
                if (o) {
                  t.setAttribute(this.attributeKey, o, e);
                } else {
                  t.removeAttribute(this.attributeKey, e);
                }
              }
            }
          });
        }
        _getValueFromFirstAllowedNode() {
          const t = this.editor.model;
          const e = t.schema;
          const n = t.document.selection;
          if (n.isCollapsed) {
            return n.hasAttribute(this.attributeKey);
          }
          for (const t of n.getRanges()) {
            for (const n of t.getItems()) {
              if (e.checkAttribute(n, this.attributeKey)) {
                return n.hasAttribute(this.attributeKey);
              }
            }
          }
          return false;
        }
      }
      const TI = "bold";
      class II extends Cl {
        static get pluginName() {
          return "BoldEditing";
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: TI });
          t.model.schema.setAttributeProperties(TI, {
            isFormatting: true,
            copyOnEnter: true,
          });
          t.conversion.attributeToElement({
            model: TI,
            view: "strong",
            upcastAlso: [
              "b",
              (t) => {
                const e = t.getStyle("font-weight");
                if (!e) {
                  return null;
                }
                if (e == "bold" || Number(e) >= 600) {
                  return { name: true, styles: ["font-weight"] };
                }
              },
            ],
          });
          t.commands.add(TI, new SI(t, TI));
          t.keystrokes.set("CTRL+B", TI);
        }
      }
      const MI = "bold";
      class BI extends Cl {
        static get pluginName() {
          return "BoldUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(MI, (n) => {
            const i = t.commands.get(MI);
            const o = new R_(n);
            o.set({
              label: e("Bold"),
              icon: __.bold,
              keystroke: "CTRL+B",
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(MI);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class LI extends Cl {
        static get requires() {
          return [II, BI];
        }
        static get pluginName() {
          return "Bold";
        }
      }
      const NI = { autoRefresh: true };
      const zI = 36e5;
      class PI {
        constructor(t, e = NI) {
          if (!t) {
            throw new M("token-missing-token-url", this);
          }
          if (e.initValue) {
            this._validateTokenValue(e.initValue);
          }
          this.set("value", e.initValue);
          if (typeof t === "function") {
            this._refresh = t;
          } else {
            this._refresh = () => RI(t);
          }
          this._options = Object.assign({}, NI, e);
        }
        init() {
          return new Promise((t, e) => {
            if (!this.value) {
              this.refreshToken().then(t).catch(e);
              return;
            }
            if (this._options.autoRefresh) {
              this._registerRefreshTokenTimeout();
            }
            t(this);
          });
        }
        refreshToken() {
          return this._refresh()
            .then((t) => {
              this._validateTokenValue(t);
              this.set("value", t);
              if (this._options.autoRefresh) {
                this._registerRefreshTokenTimeout();
              }
            })
            .then(() => this);
        }
        destroy() {
          clearTimeout(this._tokenRefreshTimeout);
        }
        _validateTokenValue(t) {
          const e = typeof t === "string";
          const n = !/^".*"$/.test(t);
          const i = e && t.split(".").length === 3;
          if (!(n && i)) {
            throw new M("token-not-in-jwt-format", this);
          }
        }
        _registerRefreshTokenTimeout() {
          const t = this._getTokenRefreshTimeoutTime();
          clearTimeout(this._tokenRefreshTimeout);
          this._tokenRefreshTimeout = setTimeout(() => {
            this.refreshToken();
          }, t);
        }
        _getTokenRefreshTimeoutTime() {
          try {
            const [, t] = this.value.split(".");
            const { exp: e } = JSON.parse(atob(t));
            if (!e) {
              return zI;
            }
            const n = Math.floor((e * 1e3 - Date.now()) / 2);
            return n;
          } catch (t) {
            return zI;
          }
        }
        static create(t, e = NI) {
          const n = new PI(t, e);
          return n.init();
        }
      }
      C(PI, dt);
      function RI(t) {
        return new Promise((e, n) => {
          const i = new XMLHttpRequest();
          i.open("GET", t);
          i.addEventListener("load", () => {
            const t = i.status;
            const o = i.response;
            if (t < 200 || t > 299) {
              return n(new M("token-cannot-download-new-token", null));
            }
            return e(o);
          });
          i.addEventListener("error", () => n(new Error("Network Error")));
          i.addEventListener("abort", () => n(new Error("Abort")));
          i.send();
        });
      }
      const OI = PI;
      const jI = /^data:(\\S*?);base64,/;
      class FI {
        constructor(t, e, n) {
          if (!t) {
            throw new M("fileuploader-missing-file", null);
          }
          if (!e) {
            throw new M("fileuploader-missing-token", null);
          }
          if (!n) {
            throw new M("fileuploader-missing-api-address", null);
          }
          this.file = HI(t) ? VI(t) : t;
          this._token = e;
          this._apiAddress = n;
        }
        onProgress(t) {
          this.on("progress", (e, n) => t(n));
          return this;
        }
        onError(t) {
          this.once("error", (e, n) => t(n));
          return this;
        }
        abort() {
          this.xhr.abort();
        }
        send() {
          this._prepareRequest();
          this._attachXHRListeners();
          return this._sendRequest();
        }
        _prepareRequest() {
          const t = new XMLHttpRequest();
          t.open("POST", this._apiAddress);
          t.setRequestHeader("Authorization", this._token.value);
          t.responseType = "json";
          this.xhr = t;
        }
        _attachXHRListeners() {
          const t = this;
          const e = this.xhr;
          e.addEventListener("error", n("Network Error"));
          e.addEventListener("abort", n("Abort"));
          if (e.upload) {
            e.upload.addEventListener("progress", (t) => {
              if (t.lengthComputable) {
                this.fire("progress", { total: t.total, uploaded: t.loaded });
              }
            });
          }
          e.addEventListener("load", () => {
            const t = e.status;
            const n = e.response;
            if (t < 200 || t > 299) {
              return this.fire("error", n.message || n.error);
            }
          });
          function n(e) {
            return () => t.fire("error", e);
          }
        }
        _sendRequest() {
          const t = new FormData();
          const e = this.xhr;
          t.append("file", this.file);
          return new Promise((n, i) => {
            e.addEventListener("load", () => {
              const t = e.status;
              const o = e.response;
              if (t < 200 || t > 299) {
                if (o.message) {
                  return i(
                    new M("fileuploader-uploading-data-failed", this, {
                      message: o.message,
                    })
                  );
                }
                return i(o.error);
              }
              return n(o);
            });
            e.addEventListener("error", () => i(new Error("Network Error")));
            e.addEventListener("abort", () => i(new Error("Abort")));
            e.send(t);
          });
        }
      }
      C(FI, q);
      function VI(t, e = 512) {
        try {
          const n = t.match(jI)[1];
          const i = atob(t.replace(jI, ""));
          const o = [];
          for (let t = 0; t < i.length; t += e) {
            const n = i.slice(t, t + e);
            const r = new Array(n.length);
            for (let t = 0; t < n.length; t++) {
              r[t] = n.charCodeAt(t);
            }
            o.push(new Uint8Array(r));
          }
          return new Blob(o, { type: n });
        } catch (t) {
          throw new M("fileuploader-decoding-image-data-error", null);
        }
      }
      function HI(t) {
        if (typeof t !== "string") {
          return false;
        }
        const e = t.match(jI);
        return !!(e && e.length);
      }
      class UI {
        constructor(t, e) {
          if (!t) {
            throw new M("uploadgateway-missing-token", null);
          }
          if (!e) {
            throw new M("uploadgateway-missing-api-address", null);
          }
          this._token = t;
          this._apiAddress = e;
        }
        upload(t) {
          return new FI(t, this._token, this._apiAddress);
        }
      }
      class qI extends Sl {
        static get pluginName() {
          return "CloudServicesCore";
        }
        createToken(t, e) {
          return new OI(t, e);
        }
        createUploadGateway(t, e) {
          return new UI(t, e);
        }
      }
      class WI extends Sl {
        static get pluginName() {
          return "CloudServices";
        }
        static get requires() {
          return [qI];
        }
        init() {
          const t = this.context.config;
          const e = t.get("cloudServices") || {};
          for (const t in e) {
            this[t] = e[t];
          }
          this._tokens = new Map();
          if (!this.tokenUrl) {
            this.token = null;
            return;
          }
          this.token = this.context.plugins
            .get("CloudServicesCore")
            .createToken(this.tokenUrl);
          this._tokens.set(this.tokenUrl, this.token);
          return this.token.init();
        }
        registerTokenUrl(t) {
          if (this._tokens.has(t)) {
            return Promise.resolve(this.getTokenFor(t));
          }
          const e = this.context.plugins
            .get("CloudServicesCore")
            .createToken(t);
          this._tokens.set(t, e);
          return e.init();
        }
        getTokenFor(t) {
          const e = this._tokens.get(t);
          if (!e) {
            throw new M("cloudservices-token-not-registered", this);
          }
          return e;
        }
        destroy() {
          super.destroy();
          for (const t of this._tokens.values()) {
            t.destroy();
          }
        }
      }
      const GI = "code";
      const $I = "ck-code_selected";
      class KI extends Cl {
        static get pluginName() {
          return "CodeEditing";
        }
        static get requires() {
          return [nE];
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: GI });
          t.model.schema.setAttributeProperties(GI, {
            isFormatting: true,
            copyOnEnter: false,
          });
          t.conversion.attributeToElement({
            model: GI,
            view: "code",
            upcastAlso: { styles: { "word-wrap": "break-word" } },
          });
          t.commands.add(GI, new SI(t, GI));
          t.plugins.get(nE).registerAttribute(GI);
          yE(t, GI, "code", $I);
        }
      }
      const YI =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>';
      var ZI = n(8180);
      var QI = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      QI.insert = "head";
      QI.singleton = true;
      var JI = Il()(ZI.Z, QI);
      const XI = ZI.Z.locals || {};
      const tM = "code";
      class eM extends Cl {
        static get pluginName() {
          return "CodeUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(tM, (n) => {
            const i = t.commands.get(tM);
            const o = new R_(n);
            o.set({
              label: e("Code"),
              icon: YI,
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(tM);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class nM extends Cl {
        static get requires() {
          return [KI, eM];
        }
        static get pluginName() {
          return "Code";
        }
      }
      function iM(t) {
        const e = t.t;
        const n = t.config.get("codeBlock.languages");
        for (const t of n) {
          if (t.label === "Plain text") {
            t.label = e("Plain text");
          }
          if (t.class === undefined) {
            t.class = \`language-\${t.language}\`;
          }
        }
        return n;
      }
      function oM(t, e, n) {
        const i = {};
        for (const o of t) {
          if (e === "class") {
            i[o[e].split(" ").shift()] = o[n];
          } else {
            i[o[e]] = o[n];
          }
        }
        return i;
      }
      function rM(t) {
        return t.data.match(/^(\\s*)/)[0];
      }
      function sM(t, e) {
        const n = t.createDocumentFragment();
        const i = e.split("\\n");
        const o = i.reduce((e, n, o) => {
          e.push(n);
          if (o < i.length - 1) {
            e.push(t.createElement("br"));
          }
          return e;
        }, []);
        t.appendChild(o, n);
        return n;
      }
      function aM(t) {
        const e = t.document.selection;
        const n = [];
        if (e.isCollapsed) {
          n.push(e.anchor);
        } else {
          const i = e
            .getFirstRange()
            .getWalker({ ignoreElementEnd: true, direction: "backward" });
          for (const { item: e } of i) {
            if (e.is("$textProxy") && e.parent.is("element", "codeBlock")) {
              const i = rM(e.textNode);
              const { parent: o, startOffset: r } = e.textNode;
              const s = t.createPositionAt(o, r + i.length);
              n.push(s);
            }
          }
        }
        return n;
      }
      function cM(t) {
        const e = sl(t.getSelectedBlocks());
        return e && e.is("element", "codeBlock");
      }
      function lM(t, e) {
        if (e.is("rootElement") || t.isLimit(e)) {
          return false;
        }
        return t.checkChild(e.parent, "codeBlock");
      }
      class dM extends vl {
        constructor(t) {
          super(t);
          this._lastLanguage = null;
        }
        refresh() {
          this.value = this._getValue();
          this.isEnabled = this._checkEnabled();
        }
        execute(t = {}) {
          const e = this.editor;
          const n = e.model;
          const i = n.document.selection;
          const o = iM(e);
          const r = o[0];
          const s = Array.from(i.getSelectedBlocks());
          const a = t.forceValue === undefined ? !this.value : t.forceValue;
          const c = uM(t, this._lastLanguage, r.language);
          n.change((t) => {
            if (a) {
              this._applyCodeBlock(t, s, c);
            } else {
              this._removeCodeBlock(t, s);
            }
          });
        }
        _getValue() {
          const t = this.editor.model.document.selection;
          const e = sl(t.getSelectedBlocks());
          const n = !!(e && e.is("element", "codeBlock"));
          return n ? e.getAttribute("language") : false;
        }
        _checkEnabled() {
          if (this.value) {
            return true;
          }
          const t = this.editor.model.document.selection;
          const e = this.editor.model.schema;
          const n = sl(t.getSelectedBlocks());
          if (!n) {
            return false;
          }
          return lM(e, n);
        }
        _applyCodeBlock(t, e, n) {
          this._lastLanguage = n;
          const i = this.editor.model.schema;
          const o = e.filter((t) => lM(i, t));
          for (const e of o) {
            t.rename(e, "codeBlock");
            t.setAttribute("language", n, e);
            i.removeDisallowedAttributes([e], t);
            Array.from(e.getChildren())
              .filter((t) => !i.checkChild(e, t))
              .forEach((e) => t.remove(e));
          }
          o.reverse().forEach((e, n) => {
            const i = o[n + 1];
            if (e.previousSibling === i) {
              t.appendElement("softBreak", i);
              t.merge(t.createPositionBefore(e));
            }
          });
        }
        _removeCodeBlock(t, e) {
          const n = e.filter((t) => t.is("element", "codeBlock"));
          for (const e of n) {
            const n = t.createRangeOn(e);
            for (const e of Array.from(n.getItems()).reverse()) {
              if (
                e.is("element", "softBreak") &&
                e.parent.is("element", "codeBlock")
              ) {
                const { position: n } = t.split(t.createPositionBefore(e));
                t.rename(n.nodeAfter, "paragraph");
                t.removeAttribute("language", n.nodeAfter);
                t.remove(e);
              }
            }
            t.rename(e, "paragraph");
            t.removeAttribute("language", e);
          }
        }
      }
      function uM(t, e, n) {
        if (t.language) {
          return t.language;
        }
        if (t.usePreviousLanguageChoice && e) {
          return e;
        }
        return n;
      }
      class hM extends vl {
        constructor(t) {
          super(t);
          this._indentSequence = t.config.get("codeBlock.indentSequence");
        }
        refresh() {
          this.isEnabled = this._checkEnabled();
        }
        execute() {
          const t = this.editor;
          const e = t.model;
          e.change((t) => {
            const n = aM(e);
            for (const i of n) {
              const n = t.createText(this._indentSequence);
              e.insertContent(n, i);
            }
          });
        }
        _checkEnabled() {
          if (!this._indentSequence) {
            return false;
          }
          return cM(this.editor.model.document.selection);
        }
      }
      class mM extends vl {
        constructor(t) {
          super(t);
          this._indentSequence = t.config.get("codeBlock.indentSequence");
        }
        refresh() {
          this.isEnabled = this._checkEnabled();
        }
        execute() {
          const t = this.editor;
          const e = t.model;
          e.change(() => {
            const t = aM(e);
            for (const n of t) {
              const t = gM(e, n, this._indentSequence);
              if (t) {
                e.deleteContent(e.createSelection(t));
              }
            }
          });
        }
        _checkEnabled() {
          if (!this._indentSequence) {
            return false;
          }
          const t = this.editor.model;
          if (!cM(t.document.selection)) {
            return false;
          }
          return aM(t).some((e) => gM(t, e, this._indentSequence));
        }
      }
      function gM(t, e, n) {
        const i = fM(e);
        if (!i) {
          return null;
        }
        const o = rM(i);
        const r = o.lastIndexOf(n);
        if (r + n.length !== o.length) {
          return null;
        }
        if (r === -1) {
          return null;
        }
        const { parent: s, startOffset: a } = i;
        return t.createRange(
          t.createPositionAt(s, a + r),
          t.createPositionAt(s, a + r + n.length)
        );
      }
      function fM(t) {
        let e = t.parent.getChild(t.index);
        if (!e || e.is("element", "softBreak")) {
          e = t.nodeBefore;
        }
        if (!e || e.is("element", "softBreak")) {
          return null;
        }
        return e;
      }
      function pM(t, e, n = false) {
        const i = oM(e, "language", "class");
        const o = oM(e, "language", "label");
        return (e, r, s) => {
          const { writer: a, mapper: c, consumable: l } = s;
          if (!l.consume(r.item, "insert")) {
            return;
          }
          const d = r.item.getAttribute("language");
          const u = c.toViewPosition(t.createPositionBefore(r.item));
          const h = {};
          if (n) {
            h["data-language"] = o[d];
            h.spellcheck = "false";
          }
          const m = a.createContainerElement("code", { class: i[d] || null });
          const g = a.createContainerElement("pre", h, m);
          a.insert(u, g);
          c.bindElements(r.item, m);
        };
      }
      function bM(t) {
        return (e, n, i) => {
          if (n.item.parent.name !== "codeBlock") {
            return;
          }
          const { writer: o, mapper: r, consumable: s } = i;
          if (!s.consume(n.item, "insert")) {
            return;
          }
          const a = r.toViewPosition(t.createPositionBefore(n.item));
          o.insert(a, o.createText("\\n"));
        };
      }
      function kM(t, e) {
        const n = oM(e, "class", "language");
        const i = e[0].language;
        return (t, e, o) => {
          const r = e.viewItem;
          const s = r.parent;
          if (!s || !s.is("element", "pre")) {
            return;
          }
          if (e.modelCursor.findAncestor("codeBlock")) {
            return;
          }
          const { consumable: a, writer: c } = o;
          if (!a.test(r, { name: true })) {
            return;
          }
          const l = c.createElement("codeBlock");
          const d = [...r.getClassNames()];
          if (!d.length) {
            d.push("");
          }
          for (const t of d) {
            const e = n[t];
            if (e) {
              c.setAttribute("language", e, l);
              break;
            }
          }
          if (!l.hasAttribute("language")) {
            c.setAttribute("language", i, l);
          }
          o.convertChildren(r, l);
          if (!o.safeInsert(l, e.modelCursor)) {
            return;
          }
          a.consume(r, { name: true });
          o.updateConversionResult(l, e);
        };
      }
      function wM() {
        return (t, e, { consumable: n, writer: i }) => {
          let o = e.modelCursor;
          if (!n.test(e.viewItem)) {
            return;
          }
          if (!o.findAncestor("codeBlock")) {
            return;
          }
          n.consume(e.viewItem);
          const r = e.viewItem.data;
          const s = r.split("\\n").map((t) => i.createText(t));
          const a = s[s.length - 1];
          for (const t of s) {
            i.insert(t, o);
            o = o.getShiftedBy(t.offsetSize);
            if (t !== a) {
              const t = i.createElement("softBreak");
              i.insert(t, o);
              o = i.createPositionAfter(t);
            }
          }
          e.modelRange = i.createRange(e.modelCursor, o);
          e.modelCursor = o;
        };
      }
      function AM() {
        return (t, e, { consumable: n }) => {
          const i = e.viewItem;
          if (i.findAncestor("pre")) {
            return;
          }
          const o = Array.from(i.getChildren());
          const r = o.find((t) => t.is("element", "code"));
          if (!r) {
            return;
          }
          for (const t of o) {
            if (t === r || !t.is("$text")) {
              continue;
            }
            n.consume(t, { name: true });
          }
        };
      }
      const CM = "paragraph";
      class _M extends Cl {
        static get pluginName() {
          return "CodeBlockEditing";
        }
        static get requires() {
          return [YE];
        }
        constructor(t) {
          super(t);
          t.config.define("codeBlock", {
            languages: [
              { language: "plaintext", label: "Plain text" },
              { language: "c", label: "C" },
              { language: "cs", label: "C#" },
              { language: "cpp", label: "C++" },
              { language: "css", label: "CSS" },
              { language: "diff", label: "Diff" },
              { language: "html", label: "HTML" },
              { language: "java", label: "Java" },
              { language: "javascript", label: "JavaScript" },
              { language: "php", label: "PHP" },
              { language: "python", label: "Python" },
              { language: "ruby", label: "Ruby" },
              { language: "typescript", label: "TypeScript" },
              { language: "xml", label: "XML" },
            ],
            indentSequence: "\\t",
          });
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          const n = t.model;
          const i = t.editing.view;
          const o = t.plugins.has("DocumentListEditing");
          const r = iM(t);
          t.commands.add("codeBlock", new dM(t));
          t.commands.add("indentCodeBlock", new hM(t));
          t.commands.add("outdentCodeBlock", new mM(t));
          this.listenTo(
            i.document,
            "tab",
            (e, n) => {
              const i = n.shiftKey ? "outdentCodeBlock" : "indentCodeBlock";
              const o = t.commands.get(i);
              if (!o.isEnabled) {
                return;
              }
              t.execute(i);
              n.stopPropagation();
              n.preventDefault();
              e.stop();
            },
            { context: "pre" }
          );
          e.register("codeBlock", {
            allowWhere: "$block",
            allowChildren: "$text",
            isBlock: true,
            allowAttributes: ["language"],
          });
          e.addAttributeCheck((t, e) => {
            const n =
              t.endsWith("codeBlock") && e.startsWith("list") && e !== "list";
            if (o && n) {
              return true;
            }
            if (t.endsWith("codeBlock $text")) {
              return false;
            }
          });
          t.model.schema.addChildCheck((t, e) => {
            if (t.endsWith("codeBlock") && e.isObject) {
              return false;
            }
          });
          t.editing.downcastDispatcher.on("insert:codeBlock", pM(n, r, true));
          t.data.downcastDispatcher.on("insert:codeBlock", pM(n, r));
          t.data.downcastDispatcher.on("insert:softBreak", bM(n), {
            priority: "high",
          });
          t.data.upcastDispatcher.on("element:code", kM(i, r));
          t.data.upcastDispatcher.on("text", wM());
          t.data.upcastDispatcher.on("element:pre", AM(), { priority: "high" });
          this.listenTo(t.editing.view.document, "clipboardInput", (e, i) => {
            let o = n.createRange(n.document.selection.anchor);
            if (i.targetRanges) {
              o = t.editing.mapper.toModelRange(i.targetRanges[0]);
            }
            if (!o.start.parent.is("element", "codeBlock")) {
              return;
            }
            const r = i.dataTransfer.getData("text/plain");
            const s = new Fw(t.editing.view.document);
            i.content = sM(s, r);
          });
          this.listenTo(n, "getSelectedContent", (t, [i]) => {
            const o = i.anchor;
            if (
              i.isCollapsed ||
              !o.parent.is("element", "codeBlock") ||
              !o.hasSameParentAs(i.focus)
            ) {
              return;
            }
            n.change((n) => {
              const r = t.return;
              if (r.childCount > 1 || i.containsEntireContent(o.parent)) {
                const e = n.createElement(
                  "codeBlock",
                  o.parent.getAttributes()
                );
                n.append(r, e);
                const i = n.createDocumentFragment();
                n.append(e, i);
                t.return = i;
              } else {
                const t = r.getChild(0);
                if (e.checkAttribute(t, "code")) {
                  n.setAttribute("code", true, t);
                }
              }
            });
          });
        }
        afterInit() {
          const t = this.editor;
          const e = t.commands;
          const n = e.get("indent");
          const i = e.get("outdent");
          if (n) {
            n.registerChildCommand(e.get("indentCodeBlock"), {
              priority: "highest",
            });
          }
          if (i) {
            i.registerChildCommand(e.get("outdentCodeBlock"));
          }
          this.listenTo(
            t.editing.view.document,
            "enter",
            (e, n) => {
              const i = t.model.document.selection.getLastPosition().parent;
              if (!i.is("element", "codeBlock")) {
                return;
              }
              if (!yM(t, n.isSoft) && !xM(t, n.isSoft)) {
                vM(t);
              }
              n.preventDefault();
              e.stop();
            },
            { context: "pre" }
          );
        }
      }
      function vM(t) {
        const e = t.model;
        const n = e.document;
        const i = n.selection.getLastPosition();
        const o = i.nodeBefore || i.textNode;
        let r;
        if (o && o.is("$text")) {
          r = rM(o);
        }
        t.model.change((e) => {
          t.execute("shiftEnter");
          if (r) {
            e.insertText(r, n.selection.anchor);
          }
        });
      }
      function yM(t, e) {
        const n = t.model;
        const i = n.document;
        const o = t.editing.view;
        const r = i.selection.getLastPosition();
        const s = r.nodeAfter;
        if (e || !i.selection.isCollapsed || !r.isAtStart) {
          return false;
        }
        if (!DM(s)) {
          return false;
        }
        t.model.change((e) => {
          t.execute("enter");
          const n = i.selection.anchor.parent.previousSibling;
          e.rename(n, CM);
          e.setSelection(n, "in");
          t.model.schema.removeDisallowedAttributes([n], e);
          e.remove(s);
        });
        o.scrollToTheSelection();
        return true;
      }
      function xM(t, e) {
        const n = t.model;
        const i = n.document;
        const o = t.editing.view;
        const r = i.selection.getLastPosition();
        const s = r.nodeBefore;
        let a;
        if (
          e ||
          !i.selection.isCollapsed ||
          !r.isAtEnd ||
          !s ||
          !s.previousSibling
        ) {
          return false;
        }
        if (DM(s) && DM(s.previousSibling)) {
          a = n.createRange(
            n.createPositionBefore(s.previousSibling),
            n.createPositionAfter(s)
          );
        } else if (
          EM(s) &&
          DM(s.previousSibling) &&
          DM(s.previousSibling.previousSibling)
        ) {
          a = n.createRange(
            n.createPositionBefore(s.previousSibling.previousSibling),
            n.createPositionAfter(s)
          );
        } else if (
          EM(s) &&
          DM(s.previousSibling) &&
          EM(s.previousSibling.previousSibling) &&
          DM(s.previousSibling.previousSibling.previousSibling)
        ) {
          a = n.createRange(
            n.createPositionBefore(
              s.previousSibling.previousSibling.previousSibling
            ),
            n.createPositionAfter(s)
          );
        } else {
          return false;
        }
        t.model.change((e) => {
          e.remove(a);
          t.execute("enter");
          const n = i.selection.anchor.parent;
          e.rename(n, CM);
          t.model.schema.removeDisallowedAttributes([n], e);
        });
        o.scrollToTheSelection();
        return true;
      }
      function EM(t) {
        return t && t.is("$text") && !t.data.match(/\\S/);
      }
      function DM(t) {
        return t && t.is("element", "softBreak");
      }
      const SM =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>';
      var TM = n(9085);
      var IM = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      IM.insert = "head";
      IM.singleton = true;
      var MM = Il()(TM.Z, IM);
      const BM = TM.Z.locals || {};
      class LM extends Cl {
        static get pluginName() {
          return "CodeBlockUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          const n = t.ui.componentFactory;
          const i = iM(t);
          n.add("codeBlock", (n) => {
            const o = t.commands.get("codeBlock");
            const r = Uv(n, rv);
            const s = r.buttonView;
            s.set({
              label: e("Insert code block"),
              tooltip: true,
              icon: SM,
              isToggleable: true,
            });
            s.bind("isOn").to(o, "value", (t) => !!t);
            s.on("execute", () => {
              t.execute("codeBlock", { usePreviousLanguageChoice: true });
              t.editing.view.focus();
            });
            r.on("execute", (e) => {
              t.execute("codeBlock", {
                language: e.source._codeBlockLanguage,
                forceValue: true,
              });
              t.editing.view.focus();
            });
            r.class = "ck-code-block-dropdown";
            r.bind("isEnabled").to(o);
            Wv(r, this._getLanguageListItemDefinitions(i));
            return r;
          });
        }
        _getLanguageListItemDefinitions(t) {
          const e = this.editor;
          const n = e.commands.get("codeBlock");
          const i = new rl();
          for (const e of t) {
            const t = {
              type: "button",
              model: new Py({
                _codeBlockLanguage: e.language,
                label: e.label,
                withText: true,
              }),
            };
            t.model
              .bind("isOn")
              .to(n, "value", (e) => e === t.model._codeBlockLanguage);
            i.add(t);
          }
          return i;
        }
      }
      class NM extends Cl {
        static get requires() {
          return [_M, LM];
        }
        static get pluginName() {
          return "CodeBlock";
        }
      }
      class zM extends vl {
        constructor(t) {
          super(t);
          this.affectsData = false;
        }
        execute() {
          const t = this.editor.model;
          const e = t.document.selection;
          let n = t.schema.getLimitElement(e);
          if (e.containsEntireContent(n) || !PM(t.schema, n)) {
            do {
              n = n.parent;
              if (!n) {
                return;
              }
            } while (!PM(t.schema, n));
          }
          t.change((t) => {
            t.setSelection(n, "in");
          });
        }
      }
      function PM(t, e) {
        return (
          t.isLimit(e) &&
          (t.checkChild(e, "$text") || t.checkChild(e, "paragraph"))
        );
      }
      const RM = Vc("Ctrl+A");
      class OM extends Cl {
        static get pluginName() {
          return "SelectAllEditing";
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          t.commands.add("selectAll", new zM(t));
          this.listenTo(n, "keydown", (e, n) => {
            if (Fc(n) === RM) {
              t.execute("selectAll");
              n.preventDefault();
            }
          });
        }
      }
      const jM =
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';
      class FM extends Cl {
        static get pluginName() {
          return "SelectAllUI";
        }
        init() {
          const t = this.editor;
          t.ui.componentFactory.add("selectAll", (e) => {
            const n = t.commands.get("selectAll");
            const i = new R_(e);
            const o = e.t;
            i.set({
              label: o("Select all"),
              icon: jM,
              keystroke: "Ctrl+A",
              tooltip: true,
            });
            i.bind("isEnabled").to(n, "isEnabled");
            this.listenTo(i, "execute", () => {
              t.execute("selectAll");
              t.editing.view.focus();
            });
            return i;
          });
        }
      }
      class VM extends Cl {
        static get requires() {
          return [OM, FM];
        }
        static get pluginName() {
          return "SelectAll";
        }
      }
      class HM extends Cl {
        static get requires() {
          return [BS, UE, VM, YE, Xx, HS];
        }
        static get pluginName() {
          return "Essentials";
        }
      }
      class UM extends vl {
        constructor(t, e) {
          super(t);
          this.attributeKey = e;
        }
        refresh() {
          const t = this.editor.model;
          const e = t.document;
          this.value = e.selection.getAttribute(this.attributeKey);
          this.isEnabled = t.schema.checkAttributeInSelection(
            e.selection,
            this.attributeKey
          );
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document;
          const i = n.selection;
          const o = t.value;
          e.change((t) => {
            if (i.isCollapsed) {
              if (o) {
                t.setSelectionAttribute(this.attributeKey, o);
              } else {
                t.removeSelectionAttribute(this.attributeKey);
              }
            } else {
              const n = e.schema.getValidRanges(
                i.getRanges(),
                this.attributeKey
              );
              for (const e of n) {
                if (o) {
                  t.setAttribute(this.attributeKey, o, e);
                } else {
                  t.removeAttribute(this.attributeKey, e);
                }
              }
            }
          });
        }
      }
      class qM extends rl {
        constructor(t) {
          super(t);
          this.set("isEmpty", true);
          this.on("change", () => {
            this.set("isEmpty", this.length === 0);
          });
        }
        add(t, e) {
          if (this.find((e) => e.color === t.color)) {
            return;
          }
          super.add(t, e);
        }
        hasColor(t) {
          return !!this.find((e) => e.color === t);
        }
      }
      C(qM, dt);
      var WM = n(2585);
      var GM = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      GM.insert = "head";
      GM.singleton = true;
      var $M = Il()(WM.Z, GM);
      const KM = WM.Z.locals || {};
      class YM extends pC {
        constructor(
          t,
          {
            colors: e,
            columns: n,
            removeButtonLabel: i,
            documentColorsLabel: o,
            documentColorsCount: r,
          }
        ) {
          super(t);
          this.items = this.createCollection();
          this.colorDefinitions = e;
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.set("selectedColor");
          this.removeButtonLabel = i;
          this.columns = n;
          this.documentColors = new qM();
          this.documentColorsCount = r;
          this._focusables = new PA();
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this._documentColorsLabel = o;
          this.setTemplate({
            tag: "div",
            attributes: { class: ["ck", "ck-color-table"] },
            children: this.items,
          });
          this.items.add(this._createRemoveColorButton());
        }
        updateDocumentColors(t, e) {
          const n = t.document;
          const i = this.documentColorsCount;
          this.documentColors.clear();
          for (const o of n.getRootNames()) {
            const r = n.getRoot(o);
            const s = t.createRangeIn(r);
            for (const t of s.getItems()) {
              if (t.is("$textProxy") && t.hasAttribute(e)) {
                this._addColorToDocumentColors(t.getAttribute(e));
                if (this.documentColors.length >= i) {
                  return;
                }
              }
            }
          }
        }
        updateSelectedColors() {
          const t = this.documentColorsGrid;
          const e = this.staticColorsGrid;
          const n = this.selectedColor;
          e.selectedColor = n;
          if (t) {
            t.selectedColor = n;
          }
        }
        render() {
          super.render();
          this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        appendGrids() {
          if (this.staticColorsGrid) {
            return;
          }
          this.staticColorsGrid = this._createStaticColorsGrid();
          this.items.add(this.staticColorsGrid);
          this.focusTracker.add(this.staticColorsGrid.element);
          this._focusables.add(this.staticColorsGrid);
          if (this.documentColorsCount) {
            const t = jA.bind(this.documentColors, this.documentColors);
            const e = new ly(this.locale);
            e.text = this._documentColorsLabel;
            e.extendTemplate({
              attributes: {
                class: [
                  "ck",
                  "ck-color-grid__label",
                  t.if("isEmpty", "ck-hidden"),
                ],
              },
            });
            this.items.add(e);
            this.documentColorsGrid = this._createDocumentColorsGrid();
            this.items.add(this.documentColorsGrid);
            this.focusTracker.add(this.documentColorsGrid.element);
            this._focusables.add(this.documentColorsGrid);
          }
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        focusLast() {
          this._focusCycler.focusLast();
        }
        _createRemoveColorButton() {
          const t = new R_();
          t.set({
            withText: true,
            icon: __.eraser,
            label: this.removeButtonLabel,
          });
          t.class = "ck-color-table__remove-color";
          t.on("execute", () => {
            this.fire("execute", { value: null });
          });
          t.render();
          this.focusTracker.add(t.element);
          this._focusables.add(t);
          return t;
        }
        _createStaticColorsGrid() {
          const t = new J_(this.locale, {
            colorDefinitions: this.colorDefinitions,
            columns: this.columns,
          });
          t.delegate("execute").to(this);
          return t;
        }
        _createDocumentColorsGrid() {
          const t = jA.bind(this.documentColors, this.documentColors);
          const e = new J_(this.locale, { columns: this.columns });
          e.delegate("execute").to(this);
          e.extendTemplate({
            attributes: { class: t.if("isEmpty", "ck-hidden") },
          });
          e.items.bindTo(this.documentColors).using((t) => {
            const e = new $_();
            e.set({
              color: t.color,
              hasBorder: t.options && t.options.hasBorder,
            });
            if (t.label) {
              e.set({ label: t.label, tooltip: true });
            }
            e.on("execute", () => {
              this.fire("execute", { value: t.color });
            });
            return e;
          });
          this.documentColors.on("change:isEmpty", (t, n, i) => {
            if (i) {
              e.selectedColor = null;
            }
          });
          return e;
        }
        _addColorToDocumentColors(t) {
          const e = this.colorDefinitions.find((e) => e.color === t);
          if (!e) {
            this.documentColors.add({
              color: t,
              label: t,
              options: { hasBorder: false },
            });
          } else {
            this.documentColors.add(Object.assign({}, e));
          }
        }
      }
      const ZM = "fontSize";
      const QM = "fontFamily";
      const JM = "fontColor";
      const XM = "fontBackgroundColor";
      function tB(t, e) {
        const n = { model: { key: t, values: [] }, view: {}, upcastAlso: {} };
        for (const t of e) {
          n.model.values.push(t.model);
          n.view[t.model] = t.view;
          if (t.upcastAlso) {
            n.upcastAlso[t.model] = t.upcastAlso;
          }
        }
        return n;
      }
      function eB(t) {
        return (e) => oB(e.getStyle(t));
      }
      function nB(t) {
        return (e, { writer: n }) =>
          n.createAttributeElement(
            "span",
            { style: \`\${t}:\${e}\` },
            { priority: 7 }
          );
      }
      function iB({
        dropdownView: t,
        colors: e,
        columns: n,
        removeButtonLabel: i,
        documentColorsLabel: o,
        documentColorsCount: r,
      }) {
        const s = t.locale;
        const a = new YM(s, {
          colors: e,
          columns: n,
          removeButtonLabel: i,
          documentColorsLabel: o,
          documentColorsCount: r,
        });
        t.colorTableView = a;
        t.panelView.children.add(a);
        a.delegate("execute").to(t, "execute");
        return a;
      }
      function oB(t) {
        return t.replace(/\\s/g, "");
      }
      class rB extends UM {
        constructor(t) {
          super(t, XM);
        }
      }
      class sB extends Cl {
        static get pluginName() {
          return "FontBackgroundColorEditing";
        }
        constructor(t) {
          super(t);
          t.config.define(XM, {
            colors: [
              { color: "hsl(0, 0%, 0%)", label: "Black" },
              { color: "hsl(0, 0%, 30%)", label: "Dim grey" },
              { color: "hsl(0, 0%, 60%)", label: "Grey" },
              { color: "hsl(0, 0%, 90%)", label: "Light grey" },
              { color: "hsl(0, 0%, 100%)", label: "White", hasBorder: true },
              { color: "hsl(0, 75%, 60%)", label: "Red" },
              { color: "hsl(30, 75%, 60%)", label: "Orange" },
              { color: "hsl(60, 75%, 60%)", label: "Yellow" },
              { color: "hsl(90, 75%, 60%)", label: "Light green" },
              { color: "hsl(120, 75%, 60%)", label: "Green" },
              { color: "hsl(150, 75%, 60%)", label: "Aquamarine" },
              { color: "hsl(180, 75%, 60%)", label: "Turquoise" },
              { color: "hsl(210, 75%, 60%)", label: "Light blue" },
              { color: "hsl(240, 75%, 60%)", label: "Blue" },
              { color: "hsl(270, 75%, 60%)", label: "Purple" },
            ],
            columns: 5,
          });
          t.data.addStyleProcessorRules(mA);
          t.conversion.for("upcast").elementToAttribute({
            view: { name: "span", styles: { "background-color": /[\\s\\S]+/ } },
            model: { key: XM, value: eB("background-color") },
          });
          t.conversion
            .for("downcast")
            .attributeToElement({ model: XM, view: nB("background-color") });
          t.commands.add(XM, new rB(t));
          t.model.schema.extend("$text", { allowAttributes: XM });
          t.model.schema.setAttributeProperties(XM, {
            isFormatting: true,
            copyOnEnter: true,
          });
        }
      }
      class aB extends Cl {
        constructor(
          t,
          { commandName: e, icon: n, componentName: i, dropdownLabel: o }
        ) {
          super(t);
          this.commandName = e;
          this.componentName = i;
          this.icon = n;
          this.dropdownLabel = o;
          this.columns = t.config.get(\`\${this.componentName}.columns\`);
          this.colorTableView = undefined;
        }
        init() {
          const t = this.editor;
          const e = t.locale;
          const n = e.t;
          const i = t.commands.get(this.commandName);
          const o = q_(t.config.get(this.componentName).colors);
          const r = U_(e, o);
          const s = t.config.get(\`\${this.componentName}.documentColors\`);
          t.ui.componentFactory.add(this.componentName, (e) => {
            const o = Uv(e);
            this.colorTableView = iB({
              dropdownView: o,
              colors: r.map((t) => ({
                label: t.label,
                color: t.model,
                options: { hasBorder: t.hasBorder },
              })),
              columns: this.columns,
              removeButtonLabel: n("Remove color"),
              documentColorsLabel: s !== 0 ? n("Document colors") : undefined,
              documentColorsCount: s === undefined ? this.columns : s,
            });
            this.colorTableView.bind("selectedColor").to(i, "value");
            o.buttonView.set({
              label: this.dropdownLabel,
              icon: this.icon,
              tooltip: true,
            });
            o.extendTemplate({ attributes: { class: "ck-color-ui-dropdown" } });
            o.bind("isEnabled").to(i);
            o.on("execute", (e, n) => {
              t.execute(this.commandName, n);
              t.editing.view.focus();
            });
            o.on("change:isOpen", (e, n, i) => {
              o.colorTableView.appendGrids();
              if (i) {
                if (s !== 0) {
                  this.colorTableView.updateDocumentColors(
                    t.model,
                    this.componentName
                  );
                }
                this.colorTableView.updateSelectedColors();
              }
            });
            Gv(o, () =>
              o.colorTableView.staticColorsGrid.items.find((t) => t.isOn)
            );
            return o;
          });
        }
      }
      const cB =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>';
      class lB extends aB {
        constructor(t) {
          const e = t.locale.t;
          super(t, {
            commandName: XM,
            componentName: XM,
            icon: cB,
            dropdownLabel: e("Font Background Color"),
          });
        }
        static get pluginName() {
          return "FontBackgroundColorUI";
        }
      }
      class dB extends Cl {
        static get requires() {
          return [sB, lB];
        }
        static get pluginName() {
          return "FontBackgroundColor";
        }
      }
      class uB extends UM {
        constructor(t) {
          super(t, JM);
        }
      }
      class hB extends Cl {
        static get pluginName() {
          return "FontColorEditing";
        }
        constructor(t) {
          super(t);
          t.config.define(JM, {
            colors: [
              { color: "hsl(0, 0%, 0%)", label: "Black" },
              { color: "hsl(0, 0%, 30%)", label: "Dim grey" },
              { color: "hsl(0, 0%, 60%)", label: "Grey" },
              { color: "hsl(0, 0%, 90%)", label: "Light grey" },
              { color: "hsl(0, 0%, 100%)", label: "White", hasBorder: true },
              { color: "hsl(0, 75%, 60%)", label: "Red" },
              { color: "hsl(30, 75%, 60%)", label: "Orange" },
              { color: "hsl(60, 75%, 60%)", label: "Yellow" },
              { color: "hsl(90, 75%, 60%)", label: "Light green" },
              { color: "hsl(120, 75%, 60%)", label: "Green" },
              { color: "hsl(150, 75%, 60%)", label: "Aquamarine" },
              { color: "hsl(180, 75%, 60%)", label: "Turquoise" },
              { color: "hsl(210, 75%, 60%)", label: "Light blue" },
              { color: "hsl(240, 75%, 60%)", label: "Blue" },
              { color: "hsl(270, 75%, 60%)", label: "Purple" },
            ],
            columns: 5,
          });
          t.conversion.for("upcast").elementToAttribute({
            view: { name: "span", styles: { color: /[\\s\\S]+/ } },
            model: { key: JM, value: eB("color") },
          });
          t.conversion.for("upcast").elementToAttribute({
            view: { name: "font", attributes: { color: /^#?\\w+$/ } },
            model: { key: JM, value: (t) => t.getAttribute("color") },
          });
          t.conversion
            .for("downcast")
            .attributeToElement({ model: JM, view: nB("color") });
          t.commands.add(JM, new uB(t));
          t.model.schema.extend("$text", { allowAttributes: JM });
          t.model.schema.setAttributeProperties(JM, {
            isFormatting: true,
            copyOnEnter: true,
          });
        }
      }
      const mB =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';
      class gB extends aB {
        constructor(t) {
          const e = t.locale.t;
          super(t, {
            commandName: JM,
            componentName: JM,
            icon: mB,
            dropdownLabel: e("Font Color"),
          });
        }
        static get pluginName() {
          return "FontColorUI";
        }
      }
      class fB extends Cl {
        static get requires() {
          return [hB, gB];
        }
        static get pluginName() {
          return "FontColor";
        }
      }
      class pB extends UM {
        constructor(t) {
          super(t, QM);
        }
      }
      function bB(t) {
        return t.map(kB).filter((t) => !!t);
      }
      function kB(t) {
        if (typeof t === "object") {
          return t;
        }
        if (t === "default") {
          return { title: "Default", model: undefined };
        }
        if (typeof t !== "string") {
          return;
        }
        return wB(t);
      }
      function wB(t) {
        const e = t.replace(/"|'/g, "").split(",");
        const n = e[0];
        const i = e.map(AB).join(", ");
        return {
          title: n,
          model: i,
          view: { name: "span", styles: { "font-family": i }, priority: 7 },
        };
      }
      function AB(t) {
        t = t.trim();
        if (t.indexOf(" ") > 0) {
          t = \`'\${t}'\`;
        }
        return t;
      }
      class CB extends Cl {
        static get pluginName() {
          return "FontFamilyEditing";
        }
        constructor(t) {
          super(t);
          t.config.define(QM, {
            options: [
              "default",
              "Arial, Helvetica, sans-serif",
              "Courier New, Courier, monospace",
              "Georgia, serif",
              "Lucida Sans Unicode, Lucida Grande, sans-serif",
              "Tahoma, Geneva, sans-serif",
              "Times New Roman, Times, serif",
              "Trebuchet MS, Helvetica, sans-serif",
              "Verdana, Geneva, sans-serif",
            ],
            supportAllValues: false,
          });
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: QM });
          t.model.schema.setAttributeProperties(QM, {
            isFormatting: true,
            copyOnEnter: true,
          });
          const e = bB(t.config.get("fontFamily.options")).filter(
            (t) => t.model
          );
          const n = tB(QM, e);
          if (t.config.get("fontFamily.supportAllValues")) {
            this._prepareAnyValueConverters();
            this._prepareCompatibilityConverter();
          } else {
            t.conversion.attributeToElement(n);
          }
          t.commands.add(QM, new pB(t));
        }
        _prepareAnyValueConverters() {
          const t = this.editor;
          t.conversion.for("downcast").attributeToElement({
            model: QM,
            view: (t, { writer: e }) =>
              e.createAttributeElement(
                "span",
                { style: "font-family:" + t },
                { priority: 7 }
              ),
          });
          t.conversion.for("upcast").elementToAttribute({
            model: { key: QM, value: (t) => t.getStyle("font-family") },
            view: { name: "span", styles: { "font-family": /.*/ } },
          });
        }
        _prepareCompatibilityConverter() {
          const t = this.editor;
          t.conversion.for("upcast").elementToAttribute({
            view: { name: "font", attributes: { face: /.*/ } },
            model: { key: QM, value: (t) => t.getAttribute("face") },
          });
        }
      }
      const _B =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';
      class vB extends Cl {
        static get pluginName() {
          return "FontFamilyUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          const n = this._getLocalizedOptions();
          const i = t.commands.get(QM);
          t.ui.componentFactory.add(QM, (o) => {
            const r = Uv(o);
            Wv(r, yB(n, i));
            r.buttonView.set({
              label: e("Font Family"),
              icon: _B,
              tooltip: true,
            });
            r.extendTemplate({
              attributes: { class: "ck-font-family-dropdown" },
            });
            r.bind("isEnabled").to(i);
            this.listenTo(r, "execute", (e) => {
              t.execute(e.source.commandName, { value: e.source.commandParam });
              t.editing.view.focus();
            });
            return r;
          });
        }
        _getLocalizedOptions() {
          const t = this.editor;
          const e = t.t;
          const n = bB(t.config.get(QM).options);
          return n.map((t) => {
            if (t.title === "Default") {
              t.title = e("Default");
            }
            return t;
          });
        }
      }
      function yB(t, e) {
        const n = new rl();
        for (const i of t) {
          const t = {
            type: "button",
            model: new Py({
              commandName: QM,
              commandParam: i.model,
              label: i.title,
              withText: true,
            }),
          };
          t.model.bind("isOn").to(e, "value", (t) => {
            if (t === i.model) {
              return true;
            }
            if (!t || !i.model) {
              return false;
            }
            return (
              t.split(",")[0].replace(/'/g, "").toLowerCase() ===
              i.model.toLowerCase()
            );
          });
          if (i.view && i.view.styles) {
            t.model.set(
              "labelStyle",
              \`font-family: \${i.view.styles["font-family"]}\`
            );
          }
          n.add(t);
        }
        return n;
      }
      class xB extends Cl {
        static get requires() {
          return [CB, vB];
        }
        static get pluginName() {
          return "FontFamily";
        }
      }
      class EB extends UM {
        constructor(t) {
          super(t, ZM);
        }
      }
      function DB(t) {
        return t.map((t) => TB(t)).filter((t) => !!t);
      }
      const SB = {
        get tiny() {
          return {
            title: "Tiny",
            model: "tiny",
            view: { name: "span", classes: "text-tiny", priority: 7 },
          };
        },
        get small() {
          return {
            title: "Small",
            model: "small",
            view: { name: "span", classes: "text-small", priority: 7 },
          };
        },
        get big() {
          return {
            title: "Big",
            model: "big",
            view: { name: "span", classes: "text-big", priority: 7 },
          };
        },
        get huge() {
          return {
            title: "Huge",
            model: "huge",
            view: { name: "span", classes: "text-huge", priority: 7 },
          };
        },
      };
      function TB(t) {
        if (LB(t)) {
          return MB(t);
        }
        const e = BB(t);
        if (e) {
          return MB(e);
        }
        if (t === "default") {
          return { model: undefined, title: "Default" };
        }
        if (NB(t)) {
          return;
        }
        return IB(t);
      }
      function IB(t) {
        if (typeof t === "number" || typeof t === "string") {
          t = { title: String(t), model: \`\${parseFloat(t)}px\` };
        }
        t.view = { name: "span", styles: { "font-size": t.model } };
        return MB(t);
      }
      function MB(t) {
        if (!t.view.priority) {
          t.view.priority = 7;
        }
        return t;
      }
      function BB(t) {
        return SB[t] || SB[t.model];
      }
      function LB(t) {
        return typeof t === "object" && t.title && t.model && t.view;
      }
      function NB(t) {
        let e;
        if (typeof t === "object") {
          if (!t.model) {
            throw new M("font-size-invalid-definition", null, t);
          } else {
            e = parseFloat(t.model);
          }
        } else {
          e = parseFloat(t);
        }
        return isNaN(e);
      }
      const zB = [
        "x-small",
        "x-small",
        "small",
        "medium",
        "large",
        "x-large",
        "xx-large",
        "xxx-large",
      ];
      class PB extends Cl {
        static get pluginName() {
          return "FontSizeEditing";
        }
        constructor(t) {
          super(t);
          t.config.define(ZM, {
            options: ["tiny", "small", "default", "big", "huge"],
            supportAllValues: false,
          });
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: ZM });
          t.model.schema.setAttributeProperties(ZM, {
            isFormatting: true,
            copyOnEnter: true,
          });
          const e = t.config.get("fontSize.supportAllValues");
          const n = DB(this.editor.config.get("fontSize.options")).filter(
            (t) => t.model
          );
          const i = tB(ZM, n);
          if (e) {
            this._prepareAnyValueConverters(i);
            this._prepareCompatibilityConverter();
          } else {
            t.conversion.attributeToElement(i);
          }
          t.commands.add(ZM, new EB(t));
        }
        _prepareAnyValueConverters(t) {
          const e = this.editor;
          const n = t.model.values.filter(
            (t) => !Qw(String(t)) && !Xw(String(t))
          );
          if (n.length) {
            throw new M("font-size-invalid-use-of-named-presets", null, {
              presets: n,
            });
          }
          e.conversion.for("downcast").attributeToElement({
            model: ZM,
            view: (t, { writer: e }) => {
              if (!t) {
                return;
              }
              return e.createAttributeElement(
                "span",
                { style: "font-size:" + t },
                { priority: 7 }
              );
            },
          });
          e.conversion.for("upcast").elementToAttribute({
            model: { key: ZM, value: (t) => t.getStyle("font-size") },
            view: { name: "span", styles: { "font-size": /.*/ } },
          });
        }
        _prepareCompatibilityConverter() {
          const t = this.editor;
          t.conversion.for("upcast").elementToAttribute({
            view: { name: "font", attributes: { size: /^[+-]?\\d{1,3}$/ } },
            model: {
              key: ZM,
              value: (t) => {
                const e = t.getAttribute("size");
                const n = e[0] === "-" || e[0] === "+";
                let i = parseInt(e, 10);
                if (n) {
                  i = 3 + i;
                }
                const o = zB.length - 1;
                const r = Math.min(Math.max(i, 0), o);
                return zB[r];
              },
            },
          });
        }
      }
      const RB =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';
      var OB = n(6203);
      var jB = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      jB.insert = "head";
      jB.singleton = true;
      var FB = Il()(OB.Z, jB);
      const VB = OB.Z.locals || {};
      class HB extends Cl {
        static get pluginName() {
          return "FontSizeUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          const n = this._getLocalizedOptions();
          const i = t.commands.get(ZM);
          t.ui.componentFactory.add(ZM, (o) => {
            const r = Uv(o);
            Wv(r, UB(n, i));
            r.buttonView.set({
              label: e("Font Size"),
              icon: RB,
              tooltip: true,
            });
            r.extendTemplate({
              attributes: { class: ["ck-font-size-dropdown"] },
            });
            r.bind("isEnabled").to(i);
            this.listenTo(r, "execute", (e) => {
              t.execute(e.source.commandName, { value: e.source.commandParam });
              t.editing.view.focus();
            });
            return r;
          });
        }
        _getLocalizedOptions() {
          const t = this.editor;
          const e = t.t;
          const n = {
            Default: e("Default"),
            Tiny: e("Tiny"),
            Small: e("Small"),
            Big: e("Big"),
            Huge: e("Huge"),
          };
          const i = DB(t.config.get(ZM).options);
          return i.map((t) => {
            const e = n[t.title];
            if (e && e != t.title) {
              t = Object.assign({}, t, { title: e });
            }
            return t;
          });
        }
      }
      function UB(t, e) {
        const n = new rl();
        for (const i of t) {
          const t = {
            type: "button",
            model: new Py({
              commandName: ZM,
              commandParam: i.model,
              label: i.title,
              class: "ck-fontsize-option",
              withText: true,
            }),
          };
          if (i.view && i.view.styles) {
            t.model.set(
              "labelStyle",
              \`font-size:\${i.view.styles["font-size"]}\`
            );
          }
          if (i.view && i.view.classes) {
            t.model.set("class", \`\${t.model.class} \${i.view.classes}\`);
          }
          t.model.bind("isOn").to(e, "value", (t) => t === i.model);
          n.add(t);
        }
        return n;
      }
      class qB extends Cl {
        static get requires() {
          return [PB, HB];
        }
        static get pluginName() {
          return "FontSize";
        }
        normalizeSizeOptions(t) {
          return DB(t);
        }
      }
      const WB = {
        block: [
          { model: "codeBlock", view: "pre" },
          { model: "paragraph", view: "p" },
          { model: "blockQuote", view: "blockquote" },
          { model: "listItem", view: "li" },
          { model: "pageBreak", view: "div" },
          { model: "rawHtml", view: "div" },
          { model: "table", view: "table" },
          { model: "tableRow", view: "tr" },
          { model: "tableCell", view: "td" },
          { model: "tableCell", view: "th" },
          { model: "caption", view: "caption" },
          { model: "caption", view: "figcaption" },
          { model: "imageBlock", view: "img" },
          { model: "imageInline", view: "img" },
          {
            model: "htmlP",
            view: "p",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "htmlBlockquote",
            view: "blockquote",
            modelSchema: { inheritAllFrom: "$container" },
          },
          {
            model: "htmlTable",
            view: "table",
            modelSchema: { allowWhere: "$block", isBlock: true },
          },
          {
            model: "htmlTbody",
            view: "tbody",
            modelSchema: { allowIn: "htmlTable", isBlock: false },
          },
          {
            model: "htmlThead",
            view: "thead",
            modelSchema: { allowIn: "htmlTable", isBlock: false },
          },
          {
            model: "htmlTfoot",
            view: "tfoot",
            modelSchema: { allowIn: "htmlTable", isBlock: false },
          },
          {
            model: "htmlCaption",
            view: "caption",
            modelSchema: {
              allowIn: "htmlTable",
              allowChildren: "$text",
              isBlock: false,
            },
          },
          {
            model: "htmlColgroup",
            view: "colgroup",
            modelSchema: {
              allowIn: "htmlTable",
              allowChildren: "col",
              isBlock: false,
            },
          },
          {
            model: "htmlCol",
            view: "col",
            modelSchema: { allowIn: "htmlColgroup", isBlock: false },
          },
          {
            model: "htmlTr",
            view: "tr",
            modelSchema: {
              allowIn: ["htmlTable", "htmlThead", "htmlTbody"],
              isLimit: true,
            },
          },
          {
            model: "htmlTd",
            view: "td",
            modelSchema: {
              allowIn: "htmlTr",
              allowContentOf: "$container",
              isLimit: true,
              isBlock: false,
            },
          },
          {
            model: "htmlTh",
            view: "th",
            modelSchema: {
              allowIn: "htmlTr",
              allowContentOf: "$container",
              isLimit: true,
              isBlock: false,
            },
          },
          {
            model: "htmlFigure",
            view: "figure",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlFigcaption",
            view: "figcaption",
            modelSchema: {
              allowIn: "htmlFigure",
              allowChildren: "$text",
              isBlock: false,
            },
          },
          {
            model: "htmlAddress",
            view: "address",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlAside",
            view: "aside",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlMain",
            view: "main",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlDetails",
            view: "details",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlSummary",
            view: "summary",
            modelSchema: {
              allowChildren: "$text",
              allowIn: "htmlDetails",
              isBlock: false,
            },
          },
          {
            model: "htmlDiv",
            view: "div",
            paragraphLikeModel: "htmlDivParagraph",
            modelSchema: { inheritAllFrom: "$container" },
          },
          {
            model: "htmlFieldset",
            view: "fieldset",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlLegend",
            view: "legend",
            modelSchema: { allowIn: "htmlFieldset", allowChildren: "$text" },
          },
          {
            model: "htmlHeader",
            view: "header",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlFooter",
            view: "footer",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlForm",
            view: "form",
            modelSchema: { inheritAllFrom: "$container", isBlock: true },
          },
          {
            model: "htmlHgroup",
            view: "hgroup",
            modelSchema: {
              allowChildren: [
                "htmlH1",
                "htmlH2",
                "htmlH3",
                "htmlH4",
                "htmlH5",
                "htmlH6",
              ],
              isBlock: false,
            },
          },
          {
            model: "htmlH1",
            view: "h1",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "htmlH2",
            view: "h2",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "htmlH3",
            view: "h3",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "htmlH4",
            view: "h4",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "htmlH5",
            view: "h5",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "htmlH6",
            view: "h6",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "$htmlList",
            modelSchema: {
              allowWhere: "$container",
              allowChildren: ["$htmlList", "htmlLi"],
              isBlock: false,
            },
          },
          {
            model: "htmlDir",
            view: "dir",
            modelSchema: { inheritAllFrom: "$htmlList" },
          },
          {
            model: "htmlMenu",
            view: "menu",
            modelSchema: { inheritAllFrom: "$htmlList" },
          },
          {
            model: "htmlUl",
            view: "ul",
            modelSchema: { inheritAllFrom: "$htmlList" },
          },
          {
            model: "htmlOl",
            view: "ol",
            modelSchema: { inheritAllFrom: "$htmlList" },
          },
          {
            model: "htmlLi",
            view: "li",
            modelSchema: {
              allowIn: "$htmlList",
              allowChildren: "$text",
              isBlock: false,
            },
          },
          {
            model: "htmlPre",
            view: "pre",
            modelSchema: { inheritAllFrom: "$block" },
          },
          {
            model: "htmlArticle",
            view: "article",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlSection",
            view: "section",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlNav",
            view: "nav",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
          {
            model: "htmlDl",
            view: "dl",
            modelSchema: {
              allowWhere: "$container",
              allowChildren: ["htmlDt", "htmlDd"],
              isBlock: false,
            },
          },
          {
            model: "htmlDt",
            view: "dt",
            modelSchema: { allowChildren: "$block", isBlock: false },
          },
          {
            model: "htmlDd",
            view: "dd",
            modelSchema: { allowChildren: "$block", isBlock: false },
          },
          {
            model: "htmlCenter",
            view: "center",
            modelSchema: { inheritAllFrom: "$container", isBlock: false },
          },
        ],
        inline: [
          {
            model: "htmlAcronym",
            view: "acronym",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlTt",
            view: "tt",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlFont",
            view: "font",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlTime",
            view: "time",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlVar",
            view: "var",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlBig",
            view: "big",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlSmall",
            view: "small",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlSamp",
            view: "samp",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlQ",
            view: "q",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlOutput",
            view: "output",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlKbd",
            view: "kbd",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlBdi",
            view: "bdi",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlBdo",
            view: "bdo",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlAbbr",
            view: "abbr",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlA",
            view: "a",
            priority: 5,
            coupledAttribute: "linkHref",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlStrong",
            view: "strong",
            coupledAttribute: "bold",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlB",
            view: "b",
            coupledAttribute: "bold",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlI",
            view: "i",
            coupledAttribute: "italic",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlEm",
            view: "em",
            coupledAttribute: "italic",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlS",
            view: "s",
            coupledAttribute: "strikethrough",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlDel",
            view: "del",
            coupledAttribute: "strikethrough",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlIns",
            view: "ins",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlU",
            view: "u",
            coupledAttribute: "underline",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlSub",
            view: "sub",
            coupledAttribute: "subscript",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlSup",
            view: "sup",
            coupledAttribute: "superscript",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlCode",
            view: "code",
            coupledAttribute: "code",
            attributeProperties: { copyOnEnter: true, isFormatting: true },
          },
          {
            model: "htmlMark",
            view: "mark",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlSpan",
            view: "span",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlCite",
            view: "cite",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlLabel",
            view: "label",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlDfn",
            view: "dfn",
            attributeProperties: { copyOnEnter: true },
          },
          {
            model: "htmlObject",
            view: "object",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlIframe",
            view: "iframe",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlInput",
            view: "input",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlButton",
            view: "button",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlTextarea",
            view: "textarea",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlSelect",
            view: "select",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlVideo",
            view: "video",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlEmbed",
            view: "embed",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlOembed",
            view: "oembed",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlAudio",
            view: "audio",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlImg",
            view: "img",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlCanvas",
            view: "canvas",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlMeter",
            view: "meter",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlProgress",
            view: "progress",
            isObject: true,
            modelSchema: { inheritAllFrom: "$inlineObject" },
          },
          {
            model: "htmlScript",
            view: "script",
            modelSchema: { allowWhere: ["$text", "$block"], isInline: true },
          },
          {
            model: "htmlStyle",
            view: "style",
            modelSchema: { allowWhere: ["$text", "$block"], isInline: true },
          },
          {
            model: "htmlCustomElement",
            view: "$customElement",
            modelSchema: { allowWhere: ["$text", "$block"], isInline: true },
          },
        ],
      };
      var GB = Ru(function (t, e, n, i) {
        mu(t, e, n, i);
      });
      const $B = GB;
      class KB extends Cl {
        constructor(t) {
          super(t);
          this._definitions = new Map();
        }
        static get pluginName() {
          return "DataSchema";
        }
        init() {
          for (const t of WB.block) {
            this.registerBlockElement(t);
          }
          for (const t of WB.inline) {
            this.registerInlineElement(t);
          }
        }
        registerBlockElement(t) {
          this._definitions.set(t.model, { ...t, isBlock: true });
        }
        registerInlineElement(t) {
          this._definitions.set(t.model, { ...t, isInline: true });
        }
        extendBlockElement(t) {
          this._extendDefinition({ ...t, isBlock: true });
        }
        extendInlineElement(t) {
          this._extendDefinition({ ...t, isInline: true });
        }
        getDefinitionsForView(t, e) {
          const n = new Set();
          for (const i of this._getMatchingViewDefinitions(t)) {
            if (e) {
              for (const t of this._getReferences(i.model)) {
                n.add(t);
              }
            }
            n.add(i);
          }
          return n;
        }
        _getMatchingViewDefinitions(t) {
          return Array.from(this._definitions.values()).filter(
            (e) => e.view && YB(t, e.view)
          );
        }
        *_getReferences(t) {
          const { modelSchema: e } = this._definitions.get(t);
          if (!e) {
            return;
          }
          const n = [
            "inheritAllFrom",
            "inheritTypesFrom",
            "allowWhere",
            "allowContentOf",
            "allowAttributesOf",
          ];
          for (const i of n) {
            for (const n of Yc(e[i] || [])) {
              const e = this._definitions.get(n);
              if (n !== t && e) {
                yield* this._getReferences(e.model);
                yield e;
              }
            }
          }
        }
        _extendDefinition(t) {
          const e = this._definitions.get(t.model);
          const n = $B({}, e, t, (t, e) =>
            Array.isArray(t) ? t.concat(e) : undefined
          );
          this._definitions.set(t.model, n);
        }
      }
      function YB(t, e) {
        if (typeof t === "string") {
          return t === e;
        }
        if (t instanceof RegExp) {
          return t.test(e);
        }
        return false;
      }
      function ZB(t, e, n, i) {
        if (e) {
          JB(t, e, i);
        }
        if (n) {
          QB(t, n, i);
        }
      }
      function QB(t, e, n) {
        if (e.attributes) {
          for (const [i, o] of Object.entries(e.attributes)) {
            t.setAttribute(i, o, n);
          }
        }
        if (e.styles) {
          t.setStyle(e.styles, n);
        }
        if (e.classes) {
          t.addClass(e.classes, n);
        }
      }
      function JB(t, e, n) {
        if (e.attributes) {
          for (const [i] of Object.entries(e.attributes)) {
            t.removeAttribute(i, n);
          }
        }
        if (e.styles) {
          for (const i of Object.keys(e.styles)) {
            t.removeStyle(i, n);
          }
        }
        if (e.classes) {
          t.removeClass(e.classes, n);
        }
      }
      function XB(t, e) {
        const n = Xf(t);
        for (const i in e) {
          if (Array.isArray(e[i])) {
            n[i] = Array.from(new Set([...(t[i] || []), ...e[i]]));
          } else {
            n[i] = { ...t[i], ...e[i] };
          }
        }
        return n;
      }
      function tL({ model: t }) {
        return (e, n) =>
          n.writer.createElement(t, {
            htmlContent: e.getCustomProperty("$rawContent"),
          });
      }
      function eL(t, { view: e, isInline: n }) {
        const i = t.t;
        return (t, { writer: o }) => {
          const r = i("HTML object");
          const s = nL(e, t, o);
          const a = t.getAttribute("htmlAttributes");
          o.addClass("html-object-embed__content", s);
          if (a) {
            QB(o, a, s);
          }
          const c = o.createContainerElement(
            n ? "span" : "div",
            { class: "html-object-embed", "data-html-object-embed-label": r },
            s
          );
          return oD(c, o, { widgetLabel: r });
        };
      }
      function nL(t, e, n) {
        return n.createRawElement(t, null, (t, n) => {
          n.setContentOf(t, e.getAttribute("htmlContent"));
        });
      }
      function iL({ view: t, model: e }, n) {
        return (i) => {
          i.on(
            \`element:\${t}\`,
            (t, i, o) => {
              let r = n.processViewAttributes(i.viewItem, o);
              if (!r && !o.consumable.test(i.viewItem, { name: true })) {
                return;
              }
              r = r || {};
              o.consumable.consume(i.viewItem, { name: true });
              if (!i.modelRange) {
                i = Object.assign(
                  i,
                  o.convertChildren(i.viewItem, i.modelCursor)
                );
              }
              for (const t of i.modelRange.getItems()) {
                if (o.schema.checkAttribute(t, e)) {
                  const n = t.getAttribute(e);
                  const i = XB(r, n || {});
                  o.writer.setAttribute(e, i, t);
                }
              }
            },
            { priority: "low" }
          );
        };
      }
      function oL({ priority: t, view: e }) {
        return (n, i) => {
          if (!n) {
            return;
          }
          const { writer: o } = i;
          const r = o.createAttributeElement(e, null, { priority: t });
          QB(o, n, r);
          return r;
        };
      }
      function rL({ view: t }, e) {
        return (n) => {
          n.on(
            \`element:\${t}\`,
            (t, n, i) => {
              if (!n.modelRange || n.modelRange.isCollapsed) {
                return;
              }
              const o = e.processViewAttributes(n.viewItem, i);
              if (o) {
                i.writer.setAttribute("htmlAttributes", o, n.modelRange);
              }
            },
            { priority: "low" }
          );
        };
      }
      function sL({ model: t }) {
        return (e) => {
          e.on(\`attribute:htmlAttributes:\${t}\`, (t, e, n) => {
            if (!n.consumable.consume(e.item, t.name)) {
              return;
            }
            const { attributeOldValue: i, attributeNewValue: o } = e;
            const r = n.writer;
            const s = n.mapper.toViewElement(e.item);
            ZB(r, i, o, s);
          });
        };
      }
      function aL(t, e, n, i) {
        var o = t.length,
          r = n + (i ? 1 : -1);
        while (i ? r-- : ++r < o) {
          if (e(t[r], r, t)) {
            return r;
          }
        }
        return -1;
      }
      const cL = aL;
      function lL(t) {
        return t !== t;
      }
      const dL = lL;
      function uL(t, e, n) {
        var i = n - 1,
          o = t.length;
        while (++i < o) {
          if (t[i] === e) {
            return i;
          }
        }
        return -1;
      }
      const hL = uL;
      function mL(t, e, n) {
        return e === e ? hL(t, e, n) : cL(t, dL, n);
      }
      const gL = mL;
      function fL(t, e, n, i) {
        var o = n - 1,
          r = t.length;
        while (++o < r) {
          if (i(t[o], e)) {
            return o;
          }
        }
        return -1;
      }
      const pL = fL;
      var bL = Array.prototype;
      var kL = bL.splice;
      function wL(t, e, n, i) {
        var o = i ? pL : gL,
          r = -1,
          s = e.length,
          a = t;
        if (t === e) {
          e = lr(e);
        }
        if (n) {
          a = xd(t, po(n));
        }
        while (++r < s) {
          var c = 0,
            l = e[r],
            d = n ? n(l) : l;
          while ((c = o(a, d, c, i)) > -1) {
            if (a !== t) {
              kL.call(a, c, 1);
            }
            kL.call(t, c, 1);
          }
        }
        return t;
      }
      const AL = wL;
      function CL(t, e) {
        return t && t.length && e && e.length ? AL(t, e) : t;
      }
      const _L = CL;
      var vL = Lu(_L);
      const yL = vL;
      var xL = n(8468);
      var EL = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      EL.insert = "head";
      EL.singleton = true;
      var DL = Il()(xL.Z, EL);
      const SL = xL.Z.locals || {};
      class TL extends Cl {
        constructor(t) {
          super(t);
          this._dataSchema = t.plugins.get("DataSchema");
          this._allowedAttributes = new Ql();
          this._disallowedAttributes = new Ql();
          this._allowedElements = new Set();
          this._disallowedElements = new Set();
          this._dataInitialized = false;
          this._coupledAttributes = null;
          this._registerElementsAfterInit();
          this._registerElementHandlers();
          this._registerModelPostFixer();
        }
        static get pluginName() {
          return "DataFilter";
        }
        static get requires() {
          return [KB, qD];
        }
        loadAllowedConfig(t) {
          for (const e of t) {
            const t = e.name || /[\\s\\S]+/;
            const n = PL(e);
            this.allowElement(t);
            n.forEach((t) => this.allowAttributes(t));
          }
        }
        loadDisallowedConfig(t) {
          for (const e of t) {
            const t = e.name || /[\\s\\S]+/;
            const n = PL(e);
            if (n.length == 0) {
              this.disallowElement(t);
            } else {
              n.forEach((t) => this.disallowAttributes(t));
            }
          }
        }
        allowElement(t) {
          for (const e of this._dataSchema.getDefinitionsForView(t, true)) {
            if (this._allowedElements.has(e)) {
              continue;
            }
            this._allowedElements.add(e);
            if (this._dataInitialized) {
              this.editor.data.once(
                "set",
                () => {
                  this._fireRegisterEvent(e);
                },
                { priority: S.get("highest") + 1 }
              );
            }
            this._coupledAttributes = null;
          }
        }
        disallowElement(t) {
          for (const e of this._dataSchema.getDefinitionsForView(t, false)) {
            this._disallowedElements.add(e.view);
          }
        }
        allowAttributes(t) {
          this._allowedAttributes.add(t);
        }
        disallowAttributes(t) {
          this._disallowedAttributes.add(t);
        }
        processViewAttributes(t, e) {
          IL(t, e, this._disallowedAttributes);
          return IL(t, e, this._allowedAttributes);
        }
        _registerElementsAfterInit() {
          this.editor.data.on(
            "init",
            () => {
              this._dataInitialized = true;
              for (const t of this._allowedElements) {
                this._fireRegisterEvent(t);
              }
            },
            { priority: S.get("highest") + 1 }
          );
        }
        _registerElementHandlers() {
          this.on(
            "register",
            (t, e) => {
              const n = this.editor.model.schema;
              if (e.isObject && !n.isRegistered(e.model)) {
                this._registerObjectElement(e);
              } else if (e.isBlock) {
                this._registerBlockElement(e);
              } else if (e.isInline) {
                this._registerInlineElement(e);
              } else {
                throw new M("data-filter-invalid-definition", null, e);
              }
              t.stop();
            },
            { priority: "lowest" }
          );
        }
        _registerModelPostFixer() {
          const t = this.editor.model;
          t.document.registerPostFixer((e) => {
            const n = t.document.differ.getChanges();
            let i = false;
            const o = this._getCoupledAttributesMap();
            for (const t of n) {
              if (t.type != "attribute" || t.attributeNewValue !== null) {
                continue;
              }
              const n = o.get(t.attributeKey);
              if (!n) {
                continue;
              }
              for (const { item: o } of t.range.getWalker({ shallow: true })) {
                for (const t of n) {
                  if (o.hasAttribute(t)) {
                    e.removeAttribute(t, o);
                    i = true;
                  }
                }
              }
            }
            return i;
          });
        }
        _getCoupledAttributesMap() {
          if (this._coupledAttributes) {
            return this._coupledAttributes;
          }
          this._coupledAttributes = new Map();
          for (const t of this._allowedElements) {
            if (t.coupledAttribute && t.model) {
              const e = this._coupledAttributes.get(t.coupledAttribute);
              if (e) {
                e.push(t.model);
              } else {
                this._coupledAttributes.set(t.coupledAttribute, [t.model]);
              }
            }
          }
        }
        _fireRegisterEvent(t) {
          if (t.view && this._disallowedElements.has(t.view)) {
            return;
          }
          this.fire(t.view ? \`register:\${t.view}\` : "register", t);
        }
        _registerObjectElement(t) {
          const e = this.editor;
          const n = e.model.schema;
          const i = e.conversion;
          const { view: o, model: r } = t;
          n.register(r, t.modelSchema);
          if (!o) {
            return;
          }
          n.extend(t.model, {
            allowAttributes: ["htmlAttributes", "htmlContent"],
          });
          e.data.registerRawContentMatcher({ name: o });
          i.for("upcast").elementToElement({
            view: o,
            model: tL(t),
            converterPriority: S.get("low") + 1,
          });
          i.for("upcast").add(rL(t, this));
          i.for("editingDowncast").elementToStructure({
            model: { name: r, attributes: ["htmlAttributes"] },
            view: eL(e, t),
          });
          i.for("dataDowncast").elementToElement({
            model: r,
            view: (t, { writer: e }) => nL(o, t, e),
          });
          i.for("dataDowncast").add(sL(t));
        }
        _registerBlockElement(t) {
          const e = this.editor;
          const n = e.model.schema;
          const i = e.conversion;
          const { view: o, model: r } = t;
          if (!n.isRegistered(t.model)) {
            n.register(t.model, t.modelSchema);
            if (!o) {
              return;
            }
            i.for("upcast").elementToElement({
              model: r,
              view: o,
              converterPriority: S.get("low") + 1,
            });
            i.for("downcast").elementToElement({ model: r, view: o });
          }
          if (!o) {
            return;
          }
          n.extend(t.model, { allowAttributes: "htmlAttributes" });
          i.for("upcast").add(rL(t, this));
          i.for("downcast").add(sL(t));
        }
        _registerInlineElement(t) {
          const e = this.editor;
          const n = e.model.schema;
          const i = e.conversion;
          const o = t.model;
          n.extend("$text", { allowAttributes: o });
          if (t.attributeProperties) {
            n.setAttributeProperties(o, t.attributeProperties);
          }
          i.for("upcast").add(iL(t, this));
          i.for("downcast").attributeToElement({ model: o, view: oL(t) });
        }
      }
      function IL(t, e, n) {
        const i = ML(t, e, n);
        const { attributes: o, styles: r, classes: s } = LL(i);
        const a = {};
        if (o.size) {
          for (const t of o) {
            if (!RL(t)) {
              o.delete(t);
            }
          }
        }
        if (o.size) {
          a.attributes = NL(o, (e) => t.getAttribute(e));
        }
        if (r.size) {
          a.styles = NL(r, (e) => t.getStyle(e));
        }
        if (s.size) {
          a.classes = Array.from(s);
        }
        if (!Object.keys(a).length) {
          return null;
        }
        return a;
      }
      function ML(t, { consumable: e }, n) {
        const i = n.matchAll(t) || [];
        const o = [];
        for (const n of i) {
          BL(e, t, n);
          delete n.match.name;
          e.consume(t, n.match);
          o.push(n);
        }
        return o;
      }
      function BL(t, e, n) {
        for (const i of ["attributes", "classes", "styles"]) {
          const o = n.match[i];
          if (!o) {
            continue;
          }
          for (const n of Array.from(o)) {
            if (!t.test(e, { [i]: [n] })) {
              yL(o, n);
            }
          }
        }
      }
      function LL(t) {
        const e = {
          attributes: new Set(),
          classes: new Set(),
          styles: new Set(),
        };
        for (const n of t) {
          for (const t in e) {
            const i = n.match[t] || [];
            i.forEach((n) => e[t].add(n));
          }
        }
        return e;
      }
      function NL(t, e) {
        const n = {};
        for (const i of t) {
          const t = e(i);
          if (t !== undefined) {
            n[i] = e(i);
          }
        }
        return n;
      }
      function zL(t, e) {
        const { name: n } = t;
        if (he(t[e])) {
          return Object.entries(t[e]).map(([t, i]) => ({
            name: n,
            [e]: { [t]: i },
          }));
        }
        if (Array.isArray(t[e])) {
          return t[e].map((t) => ({ name: n, [e]: [t] }));
        }
        return [t];
      }
      function PL(t) {
        const { name: e, attributes: n, classes: i, styles: o } = t;
        const r = [];
        if (n) {
          r.push(...zL({ name: e, attributes: n }, "attributes"));
        }
        if (i) {
          r.push(...zL({ name: e, classes: i }, "classes"));
        }
        if (o) {
          r.push(...zL({ name: e, styles: o }, "styles"));
        }
        return r;
      }
      function RL(t) {
        try {
          document.createAttribute(t);
        } catch (t) {
          return false;
        }
        return true;
      }
      class OL extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "CodeBlockElementSupport";
        }
        init() {
          if (!this.editor.plugins.has("CodeBlockEditing")) {
            return;
          }
          const t = this.editor.plugins.get(TL);
          t.on("register:pre", (e, n) => {
            if (n.model !== "codeBlock") {
              return;
            }
            const i = this.editor;
            const o = i.model.schema;
            const r = i.conversion;
            o.extend("codeBlock", {
              allowAttributes: ["htmlAttributes", "htmlContentAttributes"],
            });
            r.for("upcast").add(jL(t));
            r.for("downcast").add(FL());
            e.stop();
          });
        }
      }
      function jL(t) {
        return (e) => {
          e.on(
            "element:code",
            (e, n, i) => {
              const o = n.viewItem;
              const r = o.parent;
              if (!r || !r.is("element", "pre")) {
                return;
              }
              s(r, "htmlAttributes");
              s(o, "htmlContentAttributes");
              function s(e, o) {
                const r = t.processViewAttributes(e, i);
                if (r) {
                  i.writer.setAttribute(o, r, n.modelRange);
                }
              }
            },
            { priority: "low" }
          );
        };
      }
      function FL() {
        return (t) => {
          t.on("attribute:htmlAttributes:codeBlock", (t, e, n) => {
            if (!n.consumable.consume(e.item, t.name)) {
              return;
            }
            const { attributeOldValue: i, attributeNewValue: o } = e;
            const r = n.mapper.toViewElement(e.item);
            const s = r.parent;
            ZB(n.writer, i, o, s);
          });
          t.on("attribute:htmlContentAttributes:codeBlock", (t, e, n) => {
            if (!n.consumable.consume(e.item, t.name)) {
              return;
            }
            const { attributeOldValue: i, attributeNewValue: o } = e;
            const r = n.mapper.toViewElement(e.item);
            ZB(n.writer, i, o, r);
          });
        };
      }
      class VL extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "DualContentModelElementSupport";
        }
        init() {
          const t = this.editor.plugins.get(TL);
          t.on("register", (t, e) => {
            const n = this.editor;
            const i = n.model.schema;
            const o = n.conversion;
            if (!e.paragraphLikeModel) {
              return;
            }
            if (
              i.isRegistered(e.model) ||
              i.isRegistered(e.paragraphLikeModel)
            ) {
              return;
            }
            const r = { model: e.paragraphLikeModel, view: e.view };
            i.register(e.model, e.modelSchema);
            i.register(r.model, { inheritAllFrom: "$block" });
            o.for("upcast").elementToElement({
              view: e.view,
              model: (t, { writer: n }) => {
                if (this._hasBlockContent(t)) {
                  return n.createElement(e.model);
                }
                return n.createElement(r.model);
              },
              converterPriority: S.get("low") + 1,
            });
            o.for("downcast").elementToElement({
              view: e.view,
              model: e.model,
            });
            this._addAttributeConversion(e);
            o.for("downcast").elementToElement({
              view: r.view,
              model: r.model,
            });
            this._addAttributeConversion(r);
            t.stop();
          });
        }
        _hasBlockContent(t) {
          const e = this.editor.editing.view;
          const n = e.domConverter.blockElements;
          for (const i of e.createRangeIn(t).getItems()) {
            if (i.is("element") && n.includes(i.name)) {
              return true;
            }
          }
          return false;
        }
        _addAttributeConversion(t) {
          const e = this.editor;
          const n = e.conversion;
          const i = e.plugins.get(TL);
          e.model.schema.extend(t.model, { allowAttributes: "htmlAttributes" });
          n.for("upcast").add(rL(t, i));
          n.for("downcast").add(sL(t));
        }
      }
      class HL extends Cl {
        static get requires() {
          return [KB];
        }
        static get pluginName() {
          return "HeadingElementSupport";
        }
        init() {
          const t = this.editor;
          if (!t.plugins.has("HeadingEditing")) {
            return;
          }
          const e = t.plugins.get(KB);
          const n = t.config.get("heading.options");
          const i = [];
          for (const t of n) {
            if ("model" in t && "view" in t) {
              e.registerBlockElement({ view: t.view, model: t.model });
              i.push(t.model);
            }
          }
          e.extendBlockElement({
            model: "htmlHgroup",
            modelSchema: { allowChildren: i },
          });
        }
      }
      class UL extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "ImageElementSupport";
        }
        init() {
          const t = this.editor;
          if (
            !t.plugins.has("ImageInlineEditing") &&
            !t.plugins.has("ImageBlockEditing")
          ) {
            return;
          }
          const e = t.model.schema;
          const n = t.conversion;
          const i = t.plugins.get(TL);
          i.on("register:figure", () => {
            n.for("upcast").add(WL(i));
          });
          i.on("register:img", (t, o) => {
            if (o.model !== "imageBlock" && o.model !== "imageInline") {
              return;
            }
            if (e.isRegistered("imageBlock")) {
              e.extend("imageBlock", {
                allowAttributes: [
                  "htmlAttributes",
                  "htmlFigureAttributes",
                  "htmlLinkAttributes",
                ],
              });
            }
            if (e.isRegistered("imageInline")) {
              e.extend("imageInline", {
                allowAttributes: ["htmlA", "htmlAttributes"],
              });
            }
            n.for("upcast").add(qL(i));
            n.for("downcast").add(GL());
            t.stop();
          });
        }
      }
      function qL(t) {
        return (e) => {
          e.on(
            "element:img",
            (e, n, i) => {
              if (!n.modelRange) {
                return;
              }
              const o = n.viewItem;
              const r = o.parent;
              s(o, "htmlAttributes");
              if (r.is("element", "a")) {
                a(r);
              }
              function s(e, o) {
                const r = t.processViewAttributes(e, i);
                if (r) {
                  i.writer.setAttribute(o, r, n.modelRange);
                }
              }
              function a(t) {
                if (
                  n.modelRange &&
                  n.modelRange.getContainedElement().is("element", "imageBlock")
                ) {
                  s(t, "htmlLinkAttributes");
                }
              }
            },
            { priority: "low" }
          );
        };
      }
      function WL(t) {
        return (e) => {
          e.on(
            "element:figure",
            (e, n, i) => {
              const o = n.viewItem;
              if (!n.modelRange || !o.hasClass("image")) {
                return;
              }
              const r = t.processViewAttributes(o, i);
              if (r) {
                i.writer.setAttribute("htmlFigureAttributes", r, n.modelRange);
              }
            },
            { priority: "low" }
          );
        };
      }
      function GL() {
        return (t) => {
          e("htmlAttributes");
          n("img", "htmlAttributes");
          n("figure", "htmlFigureAttributes");
          n("a", "htmlLinkAttributes");
          function e(e) {
            t.on(
              \`attribute:\${e}:imageInline\`,
              (t, e, n) => {
                if (!n.consumable.consume(e.item, t.name)) {
                  return;
                }
                const { attributeOldValue: i, attributeNewValue: o } = e;
                const r = n.mapper.toViewElement(e.item);
                ZB(n.writer, i, o, r);
              },
              { priority: "low" }
            );
          }
          function n(e, n) {
            t.on(
              \`attribute:\${n}:imageBlock\`,
              (t, n, i) => {
                if (!i.consumable.test(n.item, t.name)) {
                  return;
                }
                const { attributeOldValue: o, attributeNewValue: r } = n;
                const s = i.mapper.toViewElement(n.item);
                const a = $L(i.writer, s, e);
                if (a) {
                  ZB(i.writer, o, r, a);
                  i.consumable.consume(n.item, t.name);
                }
              },
              { priority: "low" }
            );
            if (e === "a") {
              t.on(
                "attribute:linkHref:imageBlock",
                (t, e, n) => {
                  if (
                    !n.consumable.consume(
                      e.item,
                      "attribute:htmlLinkAttributes:imageBlock"
                    )
                  ) {
                    return;
                  }
                  const i = n.mapper.toViewElement(e.item);
                  const o = $L(n.writer, i, "a");
                  QB(n.writer, e.item.getAttribute("htmlLinkAttributes"), o);
                },
                { priority: "low" }
              );
            }
          }
        };
      }
      function $L(t, e, n) {
        const i = t.createRangeOn(e);
        for (const { item: t } of i.getWalker()) {
          if (t.is("element", n)) {
            return t;
          }
        }
      }
      class KL extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "MediaEmbedElementSupport";
        }
        init() {
          const t = this.editor;
          if (
            !t.plugins.has("MediaEmbed") ||
            t.config.get("mediaEmbed.previewsInData")
          ) {
            return;
          }
          const e = t.model.schema;
          const n = t.conversion;
          const i = this.editor.plugins.get(TL);
          const o = this.editor.plugins.get(KB);
          const r = t.config.get("mediaEmbed.elementName");
          o.registerBlockElement({ model: "media", view: r });
          i.on("register:figure", () => {
            n.for("upcast").add(ZL(i));
          });
          i.on(\`register:\${r}\`, (t, o) => {
            if (o.model !== "media") {
              return;
            }
            e.extend("media", {
              allowAttributes: ["htmlAttributes", "htmlFigureAttributes"],
            });
            n.for("upcast").add(YL(i, r));
            n.for("dataDowncast").add(QL(r));
            t.stop();
          });
        }
      }
      function YL(t, e) {
        return (t) => {
          t.on(\`element:\${e}\`, n, { priority: "low" });
        };
        function n(e, n, i) {
          const o = n.viewItem;
          r(o, "htmlAttributes");
          function r(e, o) {
            const r = t.processViewAttributes(e, i);
            if (r) {
              i.writer.setAttribute(o, r, n.modelRange);
            }
          }
        }
      }
      function ZL(t) {
        return (e) => {
          e.on(
            "element:figure",
            (e, n, i) => {
              const o = n.viewItem;
              if (!n.modelRange || !o.hasClass("media")) {
                return;
              }
              const r = t.processViewAttributes(o, i);
              if (r) {
                i.writer.setAttribute("htmlFigureAttributes", r, n.modelRange);
              }
            },
            { priority: "low" }
          );
        };
      }
      function QL(t) {
        return (e) => {
          n(t, "htmlAttributes");
          n("figure", "htmlFigureAttributes");
          function n(t, n) {
            e.on(\`attribute:\${n}:media\`, (e, n, i) => {
              if (!i.consumable.consume(n.item, e.name)) {
                return;
              }
              const { attributeOldValue: o, attributeNewValue: r } = n;
              const s = i.mapper.toViewElement(n.item);
              const a = JL(i.writer, s, t);
              ZB(i.writer, o, r, a);
            });
          }
        };
      }
      function JL(t, e, n) {
        const i = t.createRangeOn(e);
        for (const { item: t } of i.getWalker()) {
          if (t.is("element", n)) {
            return t;
          }
        }
      }
      class XL extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "ScriptElementSupport";
        }
        init() {
          const t = this.editor.plugins.get(TL);
          t.on("register:script", (e, n) => {
            const i = this.editor;
            const o = i.model.schema;
            const r = i.conversion;
            o.register("htmlScript", n.modelSchema);
            o.extend("htmlScript", {
              allowAttributes: ["htmlAttributes", "htmlContent"],
              isContent: true,
            });
            i.data.registerRawContentMatcher({ name: "script" });
            r.for("upcast").elementToElement({ view: "script", model: tL(n) });
            r.for("upcast").add(rL(n, t));
            r.for("downcast").elementToElement({
              model: "htmlScript",
              view: (t, { writer: e }) => nL("script", t, e),
            });
            r.for("downcast").add(sL(n));
            e.stop();
          });
        }
      }
      class tN extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "TableElementSupport";
        }
        init() {
          const t = this.editor;
          if (!t.plugins.has("TableEditing")) {
            return;
          }
          const e = t.model.schema;
          const n = t.conversion;
          const i = t.plugins.get(TL);
          i.on("register:figure", () => {
            n.for("upcast").add(nN(i));
          });
          i.on("register:table", (t, o) => {
            if (o.model !== "table") {
              return;
            }
            e.extend("table", {
              allowAttributes: [
                "htmlAttributes",
                "htmlFigureAttributes",
                "htmlTheadAttributes",
                "htmlTbodyAttributes",
              ],
            });
            n.for("upcast").add(eN(i));
            n.for("downcast").add(iN());
            t.stop();
          });
        }
      }
      function eN(t) {
        return (e) => {
          e.on(
            "element:table",
            (e, n, i) => {
              const o = n.viewItem;
              r(o, "htmlAttributes");
              for (const t of o.getChildren()) {
                if (t.is("element", "thead")) {
                  r(t, "htmlTheadAttributes");
                }
                if (t.is("element", "tbody")) {
                  r(t, "htmlTbodyAttributes");
                }
              }
              function r(e, o) {
                const r = t.processViewAttributes(e, i);
                if (r) {
                  i.writer.setAttribute(o, r, n.modelRange);
                }
              }
            },
            { priority: "low" }
          );
        };
      }
      function nN(t) {
        return (e) => {
          e.on(
            "element:figure",
            (e, n, i) => {
              const o = n.viewItem;
              if (!n.modelRange || !o.hasClass("table")) {
                return;
              }
              const r = t.processViewAttributes(o, i);
              if (r) {
                i.writer.setAttribute("htmlFigureAttributes", r, n.modelRange);
              }
            },
            { priority: "low" }
          );
        };
      }
      function iN() {
        return (t) => {
          e("table", "htmlAttributes");
          e("figure", "htmlFigureAttributes");
          e("thead", "htmlTheadAttributes");
          e("tbody", "htmlTbodyAttributes");
          function e(e, n) {
            t.on(\`attribute:\${n}:table\`, (t, n, i) => {
              if (!i.consumable.consume(n.item, t.name)) {
                return;
              }
              const o = i.mapper.toViewElement(n.item);
              const r = oN(i.writer, o, e);
              QB(i.writer, n.attributeNewValue, r);
            });
          }
        };
      }
      function oN(t, e, n) {
        const i = t.createRangeOn(e);
        for (const { item: t } of i.getWalker()) {
          if (t.is("element", n)) {
            return t;
          }
        }
      }
      class rN extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "StyleElementSupport";
        }
        init() {
          const t = this.editor.plugins.get(TL);
          t.on("register:style", (e, n) => {
            const i = this.editor;
            const o = i.model.schema;
            const r = i.conversion;
            o.register("htmlStyle", n.modelSchema);
            o.extend("htmlStyle", {
              allowAttributes: ["htmlAttributes", "htmlContent"],
              isContent: true,
            });
            i.data.registerRawContentMatcher({ name: "style" });
            r.for("upcast").elementToElement({ view: "style", model: tL(n) });
            r.for("upcast").add(rL(n, t));
            r.for("downcast").elementToElement({
              model: "htmlStyle",
              view: (t, { writer: e }) => nL("style", t, e),
            });
            r.for("downcast").add(sL(n));
            e.stop();
          });
        }
      }
      class sN extends Cl {
        static get requires() {
          return [TL];
        }
        static get pluginName() {
          return "DocumentListElementSupport";
        }
        init() {
          const t = this.editor;
          if (!t.plugins.has("DocumentListEditing")) {
            return;
          }
          const e = t.model.schema;
          const n = t.conversion;
          const i = t.plugins.get(TL);
          const o = t.plugins.get("DocumentListEditing");
          o.registerDowncastStrategy({
            scope: "item",
            attributeName: "htmlLiAttributes",
            setAttributeOnDowncast(t, e, n) {
              QB(t, e, n);
            },
          });
          o.registerDowncastStrategy({
            scope: "list",
            attributeName: "htmlListAttributes",
            setAttributeOnDowncast(t, e, n) {
              QB(t, e, n);
            },
          });
          i.on("register", (t, o) => {
            if (!["ul", "ol", "li"].includes(o.view)) {
              return;
            }
            t.stop();
            if (e.checkAttribute("$block", "htmlListAttributes")) {
              return;
            }
            e.extend("$block", {
              allowAttributes: ["htmlListAttributes", "htmlLiAttributes"],
            });
            e.extend("$blockObject", {
              allowAttributes: ["htmlListAttributes", "htmlLiAttributes"],
            });
            e.extend("$container", {
              allowAttributes: ["htmlListAttributes", "htmlLiAttributes"],
            });
            n.for("upcast").add((t) => {
              t.on("element:ul", aN("htmlListAttributes", i), {
                priority: "low",
              });
              t.on("element:ol", aN("htmlListAttributes", i), {
                priority: "low",
              });
              t.on("element:li", aN("htmlLiAttributes", i), {
                priority: "low",
              });
            });
          });
          o.on("postFixer", (t, { listNodes: e, writer: n }) => {
            const i = [];
            for (const { node: o, previous: r } of e) {
              if (!r) {
                continue;
              }
              const e = o.getAttribute("listIndent");
              const s = r.getAttribute("listIndent");
              let a = null;
              if (e > s) {
                i[s] = r;
              } else if (e < s) {
                a = i[e];
                i.length = e;
              } else {
                a = r;
              }
              if (!a) {
                continue;
              }
              if (a.getAttribute("listType") == o.getAttribute("listType")) {
                const e = a.getAttribute("htmlListAttributes");
                if (!sk(o.getAttribute("htmlListAttributes"), e)) {
                  n.setAttribute("htmlListAttributes", e, o);
                  t.return = true;
                }
              }
              if (
                a.getAttribute("listItemId") == o.getAttribute("listItemId")
              ) {
                const e = a.getAttribute("htmlLiAttributes");
                if (!sk(o.getAttribute("htmlLiAttributes"), e)) {
                  n.setAttribute("htmlLiAttributes", e, o);
                  t.return = true;
                }
              }
            }
          });
        }
        afterInit() {
          const t = this.editor;
          if (!t.commands.get("indentList")) {
            return;
          }
          this.listenTo(
            t.commands.get("indentList"),
            "afterExecute",
            (e, n) => {
              t.model.change((t) => {
                for (const e of n) {
                  t.setAttribute("htmlListAttributes", {}, e);
                }
              });
            }
          );
        }
      }
      function aN(t, e) {
        return (n, i, o) => {
          const r = i.viewItem;
          if (!i.modelRange) {
            Object.assign(i, o.convertChildren(i.viewItem, i.modelCursor));
          }
          const s = e.processViewAttributes(r, o);
          for (const e of i.modelRange.getItems({ shallow: true })) {
            if (!e.hasAttribute("listItemId")) {
              continue;
            }
            if (e.hasAttribute(t)) {
              continue;
            }
            o.writer.setAttribute(t, s || {}, e);
          }
        };
      }
      class cN extends Cl {
        static get requires() {
          return [TL, KB];
        }
        static get pluginName() {
          return "CustomElementSupport";
        }
        init() {
          const t = this.editor.plugins.get(TL);
          const e = this.editor.plugins.get(KB);
          t.on("register:$customElement", (n, i) => {
            n.stop();
            const o = this.editor;
            const r = o.model.schema;
            const s = o.conversion;
            const a = o.editing.view.domConverter.unsafeElements;
            const c = o.data.htmlProcessor.domConverter.preElements;
            r.register(i.model, i.modelSchema);
            r.extend(i.model, {
              allowAttributes: [
                "htmlElementName",
                "htmlAttributes",
                "htmlContent",
              ],
              isContent: true,
            });
            s.for("upcast").elementToElement({
              view: /.*/,
              model: (n, r) => {
                if (n.name == "$comment") {
                  return;
                }
                if (!lN(n.name)) {
                  return;
                }
                if (e.getDefinitionsForView(n.name).size) {
                  return;
                }
                if (!a.includes(n.name)) {
                  a.push(n.name);
                }
                if (!c.includes(n.name)) {
                  c.push(n.name);
                }
                const s = r.writer.createElement(i.model, {
                  htmlElementName: n.name,
                });
                const l = t.processViewAttributes(n, r);
                if (l) {
                  r.writer.setAttribute("htmlAttributes", l, s);
                }
                const d = new Fw(n.document);
                const u = d.createDocumentFragment(n);
                const h = o.data.processor.toData(u);
                r.writer.setAttribute("htmlContent", h, s);
                for (const { item: t } of o.editing.view.createRangeIn(n)) {
                  r.consumable.consume(t, { name: true });
                }
                return s;
              },
              converterPriority: "low",
            });
            s.for("editingDowncast").elementToElement({
              model: {
                name: i.model,
                attributes: [
                  "htmlElementName",
                  "htmlAttributes",
                  "htmlContent",
                ],
              },
              view: (t, { writer: e }) => {
                const n = t.getAttribute("htmlElementName");
                const i = e.createRawElement(n);
                if (t.hasAttribute("htmlAttributes")) {
                  QB(e, t.getAttribute("htmlAttributes"), i);
                }
                return i;
              },
            });
            s.for("dataDowncast").elementToElement({
              model: {
                name: i.model,
                attributes: [
                  "htmlElementName",
                  "htmlAttributes",
                  "htmlContent",
                ],
              },
              view: (t, { writer: e }) => {
                const n = t.getAttribute("htmlElementName");
                const i = t.getAttribute("htmlContent");
                const o = e.createRawElement(n, null, (t, e) => {
                  e.setContentOf(t, i);
                  const n = t.firstChild;
                  n.remove();
                  while (n.firstChild) {
                    t.appendChild(n.firstChild);
                  }
                });
                if (t.hasAttribute("htmlAttributes")) {
                  QB(e, t.getAttribute("htmlAttributes"), o);
                }
                return o;
              },
            });
          });
        }
      }
      function lN(t) {
        try {
          document.createElement(t);
        } catch (t) {
          return false;
        }
        return true;
      }
      class dN extends Cl {
        static get pluginName() {
          return "GeneralHtmlSupport";
        }
        static get requires() {
          return [TL, OL, VL, HL, UL, KL, XL, tN, rN, sN, cN];
        }
        init() {
          const t = this.editor;
          const e = t.plugins.get(TL);
          e.loadAllowedConfig(t.config.get("htmlSupport.allow") || []);
          e.loadDisallowedConfig(t.config.get("htmlSupport.disallow") || []);
        }
        getGhsAttributeNameForElement(t) {
          const e = this.editor.plugins.get("DataSchema");
          const n = Array.from(e.getDefinitionsForView(t, false));
          if (n && n.length && n[0].isInline && !n[0].isObject) {
            return n[0].model;
          }
          return "htmlAttributes";
        }
        addModelHtmlClass(t, e, n) {
          const i = this.editor.model;
          const o = this.getGhsAttributeNameForElement(t);
          i.change((t) => {
            for (const r of uN(i, n, o)) {
              mN(t, r, o, "classes", (t) => {
                for (const n of Yc(e)) {
                  t.add(n);
                }
              });
            }
          });
        }
        removeModelHtmlClass(t, e, n) {
          const i = this.editor.model;
          const o = this.getGhsAttributeNameForElement(t);
          i.change((t) => {
            for (const r of uN(i, n, o)) {
              mN(t, r, o, "classes", (t) => {
                for (const n of Yc(e)) {
                  t.delete(n);
                }
              });
            }
          });
        }
        setModelHtmlAttributes(t, e, n) {
          const i = this.editor.model;
          const o = this.getGhsAttributeNameForElement(t);
          i.change((t) => {
            for (const r of uN(i, n, o)) {
              mN(t, r, o, "attributes", (t) => {
                for (const [n, i] of Object.entries(e)) {
                  t.set(n, i);
                }
              });
            }
          });
        }
        removeModelHtmlAttributes(t, e, n) {
          const i = this.editor.model;
          const o = this.getGhsAttributeNameForElement(t);
          i.change((t) => {
            for (const r of uN(i, n, o)) {
              mN(t, r, o, "attributes", (t) => {
                for (const n of Yc(e)) {
                  t.delete(n);
                }
              });
            }
          });
        }
        setModelHtmlStyles(t, e, n) {
          const i = this.editor.model;
          const o = this.getGhsAttributeNameForElement(t);
          i.change((t) => {
            for (const r of uN(i, n, o)) {
              mN(t, r, o, "styles", (t) => {
                for (const [n, i] of Object.entries(e)) {
                  t.set(n, i);
                }
              });
            }
          });
        }
        removeModelHtmlStyles(t, e, n) {
          const i = this.editor.model;
          const o = this.getGhsAttributeNameForElement(t);
          i.change((t) => {
            for (const r of uN(i, n, o)) {
              mN(t, r, o, "styles", (t) => {
                for (const n of Yc(e)) {
                  t.delete(n);
                }
              });
            }
          });
        }
      }
      function* uN(t, e, n) {
        if (e.is("documentSelection") && e.isCollapsed) {
          if (t.schema.checkAttributeInSelection(e, n)) {
            yield e;
          }
        } else {
          for (const i of hN(t, e, n)) {
            yield* i.getItems({ shallow: true });
          }
        }
      }
      function hN(t, e, n) {
        if (e.is("node") || e.is("$text") || e.is("$textProxy")) {
          if (t.schema.checkAttribute(e, n)) {
            return [t.createRangeOn(e)];
          } else {
            return [];
          }
        } else {
          return t.schema.getValidRanges(t.createSelection(e).getRanges(), n);
        }
      }
      function mN(t, e, n, i, o) {
        const r = e.getAttribute(n);
        const s = {};
        for (const t of ["attributes", "styles", "classes"]) {
          if (t != i) {
            if (r && r[t]) {
              s[t] = r[t];
            }
          } else {
            const e =
              t == "classes"
                ? new Set((r && r[t]) || [])
                : new Map(Object.entries((r && r[t]) || {}));
            o(e);
            if (e.size) {
              s[t] = t == "classes" ? Array.from(e) : Object.fromEntries(e);
            }
          }
        }
        if (Object.keys(s).length) {
          if (e.is("documentSelection")) {
            t.setSelectionAttribute(n, s);
          } else {
            t.setAttribute(n, s, e);
          }
        } else if (r) {
          if (e.is("documentSelection")) {
            t.removeSelectionAttribute(n);
          } else {
            t.removeAttribute(n, e);
          }
        }
      }
      class gN extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.document;
          const n = sl(e.selection.getSelectedBlocks());
          this.value = !!n && n.is("element", "paragraph");
          this.isEnabled = !!n && fN(n, t.schema);
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document;
          e.change((i) => {
            const o = (t.selection || n.selection).getSelectedBlocks();
            for (const t of o) {
              if (!t.is("element", "paragraph") && fN(t, e.schema)) {
                i.rename(t, "paragraph");
              }
            }
          });
        }
      }
      function fN(t, e) {
        return e.checkChild(t.parent, "paragraph") && !e.isObject(t);
      }
      class pN extends vl {
        execute(t) {
          const e = this.editor.model;
          const n = t.attributes;
          let i = t.position;
          e.change((t) => {
            const o = t.createElement("paragraph");
            if (n) {
              e.schema.setAllowedAttributes(o, n, t);
            }
            if (!e.schema.checkChild(i.parent, o)) {
              const n = e.schema.findAllowedParent(i, o);
              if (!n) {
                return;
              }
              i = t.split(i, n).position;
            }
            e.insertContent(o, i);
            t.setSelection(o, "in");
          });
        }
      }
      class bN extends Cl {
        static get pluginName() {
          return "Paragraph";
        }
        init() {
          const t = this.editor;
          const e = t.model;
          t.commands.add("paragraph", new gN(t));
          t.commands.add("insertParagraph", new pN(t));
          e.schema.register("paragraph", { inheritAllFrom: "$block" });
          t.conversion.elementToElement({ model: "paragraph", view: "p" });
          t.conversion.for("upcast").elementToElement({
            model: (t, { writer: e }) => {
              if (!bN.paragraphLikeElements.has(t.name)) {
                return null;
              }
              if (t.isEmpty) {
                return null;
              }
              return e.createElement("paragraph");
            },
            view: /.+/,
            converterPriority: "low",
          });
        }
      }
      bN.paragraphLikeElements = new Set([
        "blockquote",
        "dd",
        "div",
        "dt",
        "h1",
        "h2",
        "h3",
        "h4",
        "h5",
        "h6",
        "li",
        "p",
        "td",
        "th",
      ]);
      const kN = __.paragraph;
      class wN extends (null && Plugin) {
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add("paragraph", (n) => {
            const i = new ButtonView(n);
            const o = t.commands.get("paragraph");
            i.label = e("Paragraph");
            i.icon = kN;
            i.tooltip = true;
            i.isToggleable = true;
            i.bind("isEnabled").to(o);
            i.bind("isOn").to(o, "value");
            i.on("execute", () => {
              t.execute("paragraph");
            });
            return i;
          });
        }
      }
      class AN extends vl {
        constructor(t, e) {
          super(t);
          this.modelElements = e;
        }
        refresh() {
          const t = sl(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          this.value = !!t && this.modelElements.includes(t.name) && t.name;
          this.isEnabled =
            !!t &&
            this.modelElements.some((e) => CN(t, e, this.editor.model.schema));
        }
        execute(t) {
          const e = this.editor.model;
          const n = e.document;
          const i = t.value;
          e.change((t) => {
            const o = Array.from(n.selection.getSelectedBlocks()).filter((t) =>
              CN(t, i, e.schema)
            );
            for (const e of o) {
              if (!e.is("element", i)) {
                t.rename(e, i);
              }
            }
          });
        }
      }
      function CN(t, e, n) {
        return n.checkChild(t.parent, e) && !n.isObject(t);
      }
      const _N = "paragraph";
      class vN extends Cl {
        static get pluginName() {
          return "HeadingEditing";
        }
        constructor(t) {
          super(t);
          t.config.define("heading", {
            options: [
              {
                model: "paragraph",
                title: "Paragraph",
                class: "ck-heading_paragraph",
              },
              {
                model: "heading1",
                view: "h2",
                title: "Heading 1",
                class: "ck-heading_heading1",
              },
              {
                model: "heading2",
                view: "h3",
                title: "Heading 2",
                class: "ck-heading_heading2",
              },
              {
                model: "heading3",
                view: "h4",
                title: "Heading 3",
                class: "ck-heading_heading3",
              },
            ],
          });
        }
        static get requires() {
          return [bN];
        }
        init() {
          const t = this.editor;
          const e = t.config.get("heading.options");
          const n = [];
          for (const i of e) {
            if (i.model !== _N) {
              t.model.schema.register(i.model, { inheritAllFrom: "$block" });
              t.conversion.elementToElement(i);
              n.push(i.model);
            }
          }
          this._addDefaultH1Conversion(t);
          t.commands.add("heading", new AN(t, n));
        }
        afterInit() {
          const t = this.editor;
          const e = t.commands.get("enter");
          const n = t.config.get("heading.options");
          if (e) {
            this.listenTo(e, "afterExecute", (e, i) => {
              const o = t.model.document.selection.getFirstPosition().parent;
              const r = n.some((t) => o.is("element", t.model));
              if (r && !o.is("element", _N) && o.childCount === 0) {
                i.writer.rename(o, _N);
              }
            });
          }
        }
        _addDefaultH1Conversion(t) {
          t.conversion.for("upcast").elementToElement({
            model: "heading1",
            view: "h1",
            converterPriority: S.get("low") + 1,
          });
        }
      }
      function yN(t) {
        const e = t.t;
        const n = {
          Paragraph: e("Paragraph"),
          "Heading 1": e("Heading 1"),
          "Heading 2": e("Heading 2"),
          "Heading 3": e("Heading 3"),
          "Heading 4": e("Heading 4"),
          "Heading 5": e("Heading 5"),
          "Heading 6": e("Heading 6"),
        };
        return t.config.get("heading.options").map((t) => {
          const e = n[t.title];
          if (e && e != t.title) {
            t.title = e;
          }
          return t;
        });
      }
      var xN = n(3230);
      var EN = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      EN.insert = "head";
      EN.singleton = true;
      var DN = Il()(xN.Z, EN);
      const SN = xN.Z.locals || {};
      class TN extends Cl {
        static get pluginName() {
          return "HeadingUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          const n = yN(t);
          const i = e("Choose heading");
          const o = e("Heading");
          t.ui.componentFactory.add("heading", (e) => {
            const r = {};
            const s = new rl();
            const a = t.commands.get("heading");
            const c = t.commands.get("paragraph");
            const l = [a];
            for (const t of n) {
              const e = {
                type: "button",
                model: new Py({
                  label: t.title,
                  class: t.class,
                  withText: true,
                }),
              };
              if (t.model === "paragraph") {
                e.model.bind("isOn").to(c, "value");
                e.model.set("commandName", "paragraph");
                l.push(c);
              } else {
                e.model.bind("isOn").to(a, "value", (e) => e === t.model);
                e.model.set({ commandName: "heading", commandValue: t.model });
              }
              s.add(e);
              r[t.model] = t.title;
            }
            const d = Uv(e);
            Wv(d, s);
            d.buttonView.set({ isOn: false, withText: true, tooltip: o });
            d.extendTemplate({
              attributes: { class: ["ck-heading-dropdown"] },
            });
            d.bind("isEnabled").toMany(l, "isEnabled", (...t) =>
              t.some((t) => t)
            );
            d.buttonView.bind("label").to(a, "value", c, "value", (t, e) => {
              const n = t || (e && "paragraph");
              return r[n] ? r[n] : i;
            });
            this.listenTo(d, "execute", (e) => {
              t.execute(
                e.source.commandName,
                e.source.commandValue
                  ? { value: e.source.commandValue }
                  : undefined
              );
              t.editing.view.focus();
            });
            return d;
          });
        }
      }
      class IN extends Cl {
        static get requires() {
          return [vN, TN];
        }
        static get pluginName() {
          return "Heading";
        }
      }
      class MN extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.document;
          this.value = e.selection.getAttribute("highlight");
          this.isEnabled = t.schema.checkAttributeInSelection(
            e.selection,
            "highlight"
          );
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document;
          const i = n.selection;
          const o = t.value;
          e.change((t) => {
            if (i.isCollapsed) {
              const e = i.getFirstPosition();
              if (i.hasAttribute("highlight")) {
                const n = (t) =>
                  t.item.hasAttribute("highlight") &&
                  t.item.getAttribute("highlight") === this.value;
                const i = e.getLastMatchingPosition(n, {
                  direction: "backward",
                });
                const r = e.getLastMatchingPosition(n);
                const s = t.createRange(i, r);
                if (!o || this.value === o) {
                  if (!e.isEqual(r)) {
                    t.removeAttribute("highlight", s);
                  }
                  t.removeSelectionAttribute("highlight");
                } else {
                  if (!e.isEqual(r)) {
                    t.setAttribute("highlight", o, s);
                  }
                  t.setSelectionAttribute("highlight", o);
                }
              } else if (o) {
                t.setSelectionAttribute("highlight", o);
              }
            } else {
              const n = e.schema.getValidRanges(i.getRanges(), "highlight");
              for (const e of n) {
                if (o) {
                  t.setAttribute("highlight", o, e);
                } else {
                  t.removeAttribute("highlight", e);
                }
              }
            }
          });
        }
      }
      class BN extends Cl {
        static get pluginName() {
          return "HighlightEditing";
        }
        constructor(t) {
          super(t);
          t.config.define("highlight", {
            options: [
              {
                model: "yellowMarker",
                class: "marker-yellow",
                title: "Yellow marker",
                color: "var(--ck-highlight-marker-yellow)",
                type: "marker",
              },
              {
                model: "greenMarker",
                class: "marker-green",
                title: "Green marker",
                color: "var(--ck-highlight-marker-green)",
                type: "marker",
              },
              {
                model: "pinkMarker",
                class: "marker-pink",
                title: "Pink marker",
                color: "var(--ck-highlight-marker-pink)",
                type: "marker",
              },
              {
                model: "blueMarker",
                class: "marker-blue",
                title: "Blue marker",
                color: "var(--ck-highlight-marker-blue)",
                type: "marker",
              },
              {
                model: "redPen",
                class: "pen-red",
                title: "Red pen",
                color: "var(--ck-highlight-pen-red)",
                type: "pen",
              },
              {
                model: "greenPen",
                class: "pen-green",
                title: "Green pen",
                color: "var(--ck-highlight-pen-green)",
                type: "pen",
              },
            ],
          });
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: "highlight" });
          const e = t.config.get("highlight.options");
          t.conversion.attributeToElement(LN(e));
          t.commands.add("highlight", new MN(t));
        }
      }
      function LN(t) {
        const e = { model: { key: "highlight", values: [] }, view: {} };
        for (const n of t) {
          e.model.values.push(n.model);
          e.view[n.model] = { name: "mark", classes: n.class };
        }
        return e;
      }
      const NN =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';
      const zN =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';
      var PN = n(713);
      var RN = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      RN.insert = "head";
      RN.singleton = true;
      var ON = Il()(PN.Z, RN);
      const jN = PN.Z.locals || {};
      class FN extends Cl {
        get localizedOptionTitles() {
          const t = this.editor.t;
          return {
            "Yellow marker": t("Yellow marker"),
            "Green marker": t("Green marker"),
            "Pink marker": t("Pink marker"),
            "Blue marker": t("Blue marker"),
            "Red pen": t("Red pen"),
            "Green pen": t("Green pen"),
          };
        }
        static get pluginName() {
          return "HighlightUI";
        }
        init() {
          const t = this.editor.config.get("highlight.options");
          for (const e of t) {
            this._addHighlighterButton(e);
          }
          this._addRemoveHighlightButton();
          this._addDropdown(t);
        }
        _addRemoveHighlightButton() {
          const t = this.editor.t;
          const e = this.editor.commands.get("highlight");
          this._addButton(
            "removeHighlight",
            t("Remove highlight"),
            __.eraser,
            null,
            (t) => {
              t.bind("isEnabled").to(e, "isEnabled");
            }
          );
        }
        _addHighlighterButton(t) {
          const e = this.editor.commands.get("highlight");
          this._addButton(
            "highlight:" + t.model,
            t.title,
            HN(t.type),
            t.model,
            n
          );
          function n(n) {
            n.bind("isEnabled").to(e, "isEnabled");
            n.bind("isOn").to(e, "value", (e) => e === t.model);
            n.iconView.fillColor = t.color;
            n.isToggleable = true;
          }
        }
        _addButton(t, e, n, i, o) {
          const r = this.editor;
          r.ui.componentFactory.add(t, (t) => {
            const s = new R_(t);
            const a = this.localizedOptionTitles[e]
              ? this.localizedOptionTitles[e]
              : e;
            s.set({ label: a, icon: n, tooltip: true });
            s.on("execute", () => {
              r.execute("highlight", { value: i });
              r.editing.view.focus();
            });
            o(s);
            return s;
          });
        }
        _addDropdown(t) {
          const e = this.editor;
          const n = e.t;
          const i = e.ui.componentFactory;
          const o = t[0];
          const r = t.reduce((t, e) => {
            t[e.model] = e;
            return t;
          }, {});
          i.add("highlight", (s) => {
            const a = e.commands.get("highlight");
            const c = Uv(s, rv);
            const l = c.buttonView;
            l.set({
              label: n("Highlight"),
              tooltip: true,
              lastExecuted: o.model,
              commandValue: o.model,
              isToggleable: true,
            });
            l.bind("icon").to(a, "value", (t) => HN(u(t, "type")));
            l.bind("color").to(a, "value", (t) => u(t, "color"));
            l.bind("commandValue").to(a, "value", (t) => u(t, "model"));
            l.bind("isOn").to(a, "value", (t) => !!t);
            l.delegate("execute").to(c);
            const d = t.map((t) => {
              const e = i.create("highlight:" + t.model);
              this.listenTo(e, "execute", () => {
                c.buttonView.set({ lastExecuted: t.model });
              });
              return e;
            });
            c.bind("isEnabled").toMany(d, "isEnabled", (...t) =>
              t.some((t) => t)
            );
            d.push(new gv());
            d.push(i.create("removeHighlight"));
            qv(c, d, { enableActiveItemFocusOnDropdownOpen: true });
            VN(c);
            c.toolbarView.ariaLabel = n("Text highlight toolbar");
            l.on("execute", () => {
              e.execute("highlight", { value: l.commandValue });
            });
            this.listenTo(c, "execute", () => {
              e.editing.view.focus();
            });
            function u(t, e) {
              const n = !t || t === l.lastExecuted ? l.lastExecuted : t;
              return r[n][e];
            }
            return c;
          });
        }
      }
      function VN(t) {
        const e = t.buttonView.actionView;
        e.iconView.bind("fillColor").to(t.buttonView, "color");
      }
      function HN(t) {
        return t === "marker" ? NN : zN;
      }
      class UN extends Cl {
        static get requires() {
          return [BN, FN];
        }
        static get pluginName() {
          return "Highlight";
        }
      }
      class qN extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.schema;
          const n = t.document.selection;
          this.isEnabled = WN(n, e, t);
        }
        execute() {
          const t = this.editor.model;
          t.change((e) => {
            const n = e.createElement("horizontalLine");
            t.insertObject(n, null, null, { setSelection: "after" });
          });
        }
      }
      function WN(t, e, n) {
        const i = GN(t, n);
        return e.checkChild(i, "horizontalLine");
      }
      function GN(t, e) {
        const n = uD(t, e);
        const i = n.start.parent;
        if (i.isEmpty && !i.is("element", "$root")) {
          return i.parent;
        }
        return i;
      }
      var $N = n(2536);
      var KN = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      KN.insert = "head";
      KN.singleton = true;
      var YN = Il()($N.Z, KN);
      const ZN = $N.Z.locals || {};
      class QN extends Cl {
        static get pluginName() {
          return "HorizontalLineEditing";
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          const n = t.t;
          const i = t.conversion;
          e.register("horizontalLine", { inheritAllFrom: "$blockObject" });
          i.for("dataDowncast").elementToElement({
            model: "horizontalLine",
            view: (t, { writer: e }) => e.createEmptyElement("hr"),
          });
          i.for("editingDowncast").elementToStructure({
            model: "horizontalLine",
            view: (t, { writer: e }) => {
              const i = n("Horizontal line");
              const o = e.createContainerElement(
                "div",
                null,
                e.createEmptyElement("hr")
              );
              e.addClass("ck-horizontal-line", o);
              e.setCustomProperty("hr", true, o);
              return JN(o, e, i);
            },
          });
          i.for("upcast").elementToElement({
            view: "hr",
            model: "horizontalLine",
          });
          t.commands.add("horizontalLine", new qN(t));
        }
      }
      function JN(t, e, n) {
        e.setCustomProperty("horizontalLine", true, t);
        return oD(t, e, { label: n });
      }
      const XN =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>';
      class tz extends Cl {
        static get pluginName() {
          return "HorizontalLineUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add("horizontalLine", (n) => {
            const i = t.commands.get("horizontalLine");
            const o = new R_(n);
            o.set({ label: e("Horizontal line"), icon: XN, tooltip: true });
            o.bind("isEnabled").to(i, "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute("horizontalLine");
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class ez extends Cl {
        static get requires() {
          return [QN, tz, qD];
        }
        static get pluginName() {
          return "HorizontalLine";
        }
      }
      class nz extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.schema;
          const n = t.document.selection;
          const i = rz(n);
          this.isEnabled = iz(n, e, t);
          this.value = i ? i.getAttribute("value") || "" : null;
        }
        execute(t) {
          const e = this.editor.model;
          const n = e.document.selection;
          e.change((i) => {
            let o;
            if (this.value !== null) {
              o = rz(n);
            } else {
              o = i.createElement("rawHtml");
              e.insertObject(o, null, null, { setSelection: "on" });
            }
            i.setAttribute("value", t, o);
          });
        }
      }
      function iz(t, e, n) {
        const i = oz(t, n);
        return e.checkChild(i, "rawHtml");
      }
      function oz(t, e) {
        const n = uD(t, e);
        const i = n.start.parent;
        if (i.isEmpty && !i.is("element", "$root")) {
          return i.parent;
        }
        return i;
      }
      function rz(t) {
        const e = t.getSelectedElement();
        if (e && e.is("element", "rawHtml")) {
          return e;
        }
        return null;
      }
      var sz = n(3403);
      var az = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      az.insert = "head";
      az.singleton = true;
      var cz = Il()(sz.Z, az);
      const lz = sz.Z.locals || {};
      class dz extends Cl {
        static get pluginName() {
          return "HtmlEmbedEditing";
        }
        constructor(t) {
          super(t);
          t.config.define("htmlEmbed", {
            showPreviews: false,
            sanitizeHtml: (t) => {
              B("html-embed-provide-sanitize-function");
              return { html: t, hasChanged: false };
            },
          });
          this._widgetButtonViewReferences = new Set();
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          e.register("rawHtml", {
            inheritAllFrom: "$blockObject",
            allowAttributes: ["value"],
          });
          t.commands.add("htmlEmbed", new nz(t));
          this._setupConversion();
        }
        _setupConversion() {
          const t = this.editor;
          const e = t.t;
          const n = t.editing.view;
          const i = this._widgetButtonViewReferences;
          const o = t.config.get("htmlEmbed");
          this.editor.editing.view.on(
            "render",
            () => {
              for (const t of i) {
                if (t.element.isConnected) {
                  return;
                }
                t.destroy();
                i.delete(t);
              }
            },
            { priority: "lowest" }
          );
          t.data.registerRawContentMatcher({
            name: "div",
            classes: "raw-html-embed",
          });
          t.conversion.for("upcast").elementToElement({
            view: { name: "div", classes: "raw-html-embed" },
            model: (t, { writer: e }) =>
              e.createElement("rawHtml", {
                value: t.getCustomProperty("$rawContent"),
              }),
          });
          t.conversion.for("dataDowncast").elementToElement({
            model: "rawHtml",
            view: (t, { writer: e }) =>
              e.createRawElement(
                "div",
                { class: "raw-html-embed" },
                function (e) {
                  e.innerHTML = t.getAttribute("value") || "";
                }
              ),
          });
          t.conversion.for("editingDowncast").elementToStructure({
            model: { name: "rawHtml", attributes: ["value"] },
            view: (i, { writer: s }) => {
              let a, c, l;
              const d = s.createRawElement(
                "div",
                { class: "raw-html-embed__content-wrapper" },
                function (e) {
                  a = e;
                  r({ domElement: e, editor: t, state: c, props: l });
                  a.addEventListener(
                    "mousedown",
                    () => {
                      if (c.isEditable) {
                        const e = t.model;
                        const n = e.document.selection.getSelectedElement();
                        if (n !== i) {
                          e.change((t) => t.setSelection(i, "on"));
                        }
                      }
                    },
                    true
                  );
                }
              );
              const u = {
                makeEditable() {
                  c = Object.assign({}, c, { isEditable: true });
                  r({ domElement: a, editor: t, state: c, props: l });
                  n.change((t) => {
                    t.setAttribute("data-cke-ignore-events", "true", d);
                  });
                  a.querySelector("textarea").focus();
                },
                save(e) {
                  if (e !== c.getRawHtmlValue()) {
                    t.execute("htmlEmbed", e);
                    t.editing.view.focus();
                  } else {
                    this.cancel();
                  }
                },
                cancel() {
                  c = Object.assign({}, c, { isEditable: false });
                  r({ domElement: a, editor: t, state: c, props: l });
                  t.editing.view.focus();
                  n.change((t) => {
                    t.removeAttribute("data-cke-ignore-events", d);
                  });
                },
              };
              c = {
                showPreviews: o.showPreviews,
                isEditable: false,
                getRawHtmlValue: () => i.getAttribute("value") || "",
              };
              l = {
                sanitizeHtml: o.sanitizeHtml,
                textareaPlaceholder: e("Paste raw HTML here..."),
                onEditClick() {
                  u.makeEditable();
                },
                onSaveClick(t) {
                  u.save(t);
                },
                onCancelClick() {
                  u.cancel();
                },
              };
              const h = s.createContainerElement(
                "div",
                {
                  class: "raw-html-embed",
                  "data-html-embed-label": e("HTML snippet"),
                  dir: t.locale.uiLanguageDirection,
                },
                d
              );
              s.setCustomProperty("rawHtmlApi", u, h);
              s.setCustomProperty("rawHtml", true, h);
              return oD(h, s, {
                widgetLabel: e("HTML snippet"),
                hasSelectionHandle: true,
              });
            },
          });
          function r({ domElement: t, editor: e, state: n, props: i }) {
            t.textContent = "";
            const o = t.ownerDocument;
            let r;
            if (n.isEditable) {
              const e = {
                isDisabled: false,
                placeholder: i.textareaPlaceholder,
              };
              r = a({ domDocument: o, state: n, props: e });
              t.append(r);
            } else if (n.showPreviews) {
              const r = { sanitizeHtml: i.sanitizeHtml };
              t.append(c({ domDocument: o, state: n, props: r, editor: e }));
            } else {
              const e = {
                isDisabled: true,
                placeholder: i.textareaPlaceholder,
              };
              t.append(a({ domDocument: o, state: n, props: e }));
            }
            const l = {
              onEditClick: i.onEditClick,
              onSaveClick: () => {
                i.onSaveClick(r.value);
              },
              onCancelClick: i.onCancelClick,
            };
            t.prepend(s({ editor: e, domDocument: o, state: n, props: l }));
          }
          function s({ editor: t, domDocument: e, state: n, props: o }) {
            const r = te(e, "div", {
              class: "raw-html-embed__buttons-wrapper",
            });
            if (n.isEditable) {
              const e = uz(t, "save", o.onSaveClick);
              const n = uz(t, "cancel", o.onCancelClick);
              r.append(e.element, n.element);
              i.add(e).add(n);
            } else {
              const e = uz(t, "edit", o.onEditClick);
              r.append(e.element);
              i.add(e);
            }
            return r;
          }
          function a({ domDocument: t, state: e, props: n }) {
            const i = te(t, "textarea", {
              placeholder: n.placeholder,
              class:
                "ck ck-reset ck-input ck-input-text raw-html-embed__source",
            });
            i.disabled = n.isDisabled;
            i.value = e.getRawHtmlValue();
            return i;
          }
          function c({ domDocument: t, state: n, props: i, editor: o }) {
            const r = i.sanitizeHtml(n.getRawHtmlValue());
            const s =
              n.getRawHtmlValue().length > 0
                ? e("No preview available")
                : e("Empty snippet content");
            const a = te(
              t,
              "div",
              { class: "ck ck-reset_all raw-html-embed__preview-placeholder" },
              s
            );
            const c = te(t, "div", {
              class: "raw-html-embed__preview-content",
              dir: o.locale.contentLanguageDirection,
            });
            const l = t.createRange();
            const d = l.createContextualFragment(r.html);
            c.appendChild(d);
            const u = te(t, "div", { class: "raw-html-embed__preview" }, [
              a,
              c,
            ]);
            return u;
          }
        }
      }
      function uz(t, e, n) {
        const i = t.locale.t;
        const o = new R_(t.locale);
        const r = t.commands.get("htmlEmbed");
        o.set({
          class: \`raw-html-embed__\${e}-button\`,
          icon: __.pencil,
          tooltip: true,
          tooltipPosition: t.locale.uiLanguageDirection === "rtl" ? "e" : "w",
        });
        o.render();
        if (e === "edit") {
          o.set({ icon: __.pencil, label: i("Edit source") });
          o.bind("isEnabled").to(r);
        } else if (e === "save") {
          o.set({ icon: __.check, label: i("Save changes") });
          o.bind("isEnabled").to(r);
        } else {
          o.set({ icon: __.cancel, label: i("Cancel") });
        }
        o.on("execute", n);
        return o;
      }
      const hz =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>';
      class mz extends Cl {
        static get pluginName() {
          return "HtmlEmbedUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add("htmlEmbed", (n) => {
            const i = t.commands.get("htmlEmbed");
            const o = new R_(n);
            o.set({ label: e("Insert HTML"), icon: hz, tooltip: true });
            o.bind("isEnabled").to(i, "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute("htmlEmbed");
              t.editing.view.focus();
              const e = t.editing.view.document.selection.getSelectedElement();
              e.getCustomProperty("rawHtmlApi").makeEditable();
            });
            return o;
          });
        }
      }
      class gz extends Cl {
        static get requires() {
          return [dz, mz, qD];
        }
        static get pluginName() {
          return "HtmlEmbed";
        }
      }
      class fz extends vl {
        refresh() {
          const t = this.editor;
          const e = t.plugins.get("ImageUtils");
          const n = e.getClosestSelectedImageElement(
            this.editor.model.document.selection
          );
          this.isEnabled = !!n;
          if (this.isEnabled && n.hasAttribute("alt")) {
            this.value = n.getAttribute("alt");
          } else {
            this.value = false;
          }
        }
        execute(t) {
          const e = this.editor;
          const n = e.plugins.get("ImageUtils");
          const i = e.model;
          const o = n.getClosestSelectedImageElement(i.document.selection);
          i.change((e) => {
            e.setAttribute("alt", t.newValue, o);
          });
        }
      }
      class pz extends Cl {
        static get requires() {
          return [$S];
        }
        static get pluginName() {
          return "ImageTextAlternativeEditing";
        }
        init() {
          this.editor.commands.add("imageTextAlternative", new fz(this.editor));
        }
      }
      var bz = n(6831);
      var kz = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      kz.insert = "head";
      kz.singleton = true;
      var wz = Il()(bz.Z, kz);
      const Az = bz.Z.locals || {};
      var Cz = n(1590);
      var _z = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      _z.insert = "head";
      _z.singleton = true;
      var vz = Il()(Cz.Z, _z);
      const yz = Cz.Z.locals || {};
      class xz extends pC {
        constructor(t) {
          super(t);
          const e = this.locale.t;
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.labeledInput = this._createLabeledInputView();
          this.saveButtonView = this._createButton(
            e("Save"),
            __.check,
            "ck-button-save"
          );
          this.saveButtonView.type = "submit";
          this.cancelButtonView = this._createButton(
            e("Cancel"),
            __.cancel,
            "ck-button-cancel",
            "cancel"
          );
          this._focusables = new PA();
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this.setTemplate({
            tag: "form",
            attributes: {
              class: ["ck", "ck-text-alternative-form", "ck-responsive-form"],
              tabindex: "-1",
            },
            children: [
              this.labeledInput,
              this.saveButtonView,
              this.cancelButtonView,
            ],
          });
          y_(this);
        }
        render() {
          super.render();
          this.keystrokes.listenTo(this.element);
          x_({ view: this });
          [
            this.labeledInput,
            this.saveButtonView,
            this.cancelButtonView,
          ].forEach((t) => {
            this._focusables.add(t);
            this.focusTracker.add(t.element);
          });
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        _createButton(t, e, n, i) {
          const o = new R_(this.locale);
          o.set({ label: t, icon: e, tooltip: true });
          o.extendTemplate({ attributes: { class: n } });
          if (i) {
            o.delegate("execute").to(this, i);
          }
          return o;
        }
        _createLabeledInputView() {
          const t = this.locale.t;
          const e = new My(this.locale, By);
          e.label = t("Text alternative");
          return e;
        }
      }
      function Ez(t) {
        const e = t.plugins.get("ContextualBalloon");
        if (
          t.plugins
            .get("ImageUtils")
            .getClosestSelectedImageWidget(t.editing.view.document.selection)
        ) {
          const n = Dz(t);
          e.updatePosition(n);
        }
      }
      function Dz(t) {
        const e = t.editing.view;
        const n = vC.defaultPositions;
        const i = t.plugins.get("ImageUtils");
        return {
          target: e.domConverter.mapViewToDom(
            i.getClosestSelectedImageWidget(e.document.selection)
          ),
          positions: [
            n.northArrowSouth,
            n.northArrowSouthWest,
            n.northArrowSouthEast,
            n.southArrowNorth,
            n.southArrowNorthWest,
            n.southArrowNorthEast,
            n.viewportStickyNorth,
          ],
        };
      }
      class Sz extends Cl {
        static get requires() {
          return [Ky];
        }
        static get pluginName() {
          return "ImageTextAlternativeUI";
        }
        init() {
          this._createButton();
          this._createForm();
        }
        destroy() {
          super.destroy();
          this._form.destroy();
        }
        _createButton() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add("imageTextAlternative", (n) => {
            const i = t.commands.get("imageTextAlternative");
            const o = new R_(n);
            o.set({
              label: e("Change image text alternative"),
              icon: __.lowVision,
              tooltip: true,
            });
            o.bind("isEnabled").to(i, "isEnabled");
            o.bind("isOn").to(i, "value", (t) => !!t);
            this.listenTo(o, "execute", () => {
              this._showForm();
            });
            return o;
          });
        }
        _createForm() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          const i = t.plugins.get("ImageUtils");
          this._balloon = this.editor.plugins.get("ContextualBalloon");
          this._form = new xz(t.locale);
          this._form.render();
          this.listenTo(this._form, "submit", () => {
            t.execute("imageTextAlternative", {
              newValue: this._form.labeledInput.fieldView.element.value,
            });
            this._hideForm(true);
          });
          this.listenTo(this._form, "cancel", () => {
            this._hideForm(true);
          });
          this._form.keystrokes.set("Esc", (t, e) => {
            this._hideForm(true);
            e();
          });
          this.listenTo(t.ui, "update", () => {
            if (!i.getClosestSelectedImageWidget(n.selection)) {
              this._hideForm(true);
            } else if (this._isVisible) {
              Ez(t);
            }
          });
          v_({
            emitter: this._form,
            activator: () => this._isVisible,
            contextElements: [this._balloon.view.element],
            callback: () => this._hideForm(),
          });
        }
        _showForm() {
          if (this._isVisible) {
            return;
          }
          const t = this.editor;
          const e = t.commands.get("imageTextAlternative");
          const n = this._form.labeledInput;
          this._form.disableCssTransitions();
          if (!this._isInBalloon) {
            this._balloon.add({ view: this._form, position: Dz(t) });
          }
          n.fieldView.value = n.fieldView.element.value = e.value || "";
          this._form.labeledInput.fieldView.select();
          this._form.enableCssTransitions();
        }
        _hideForm(t) {
          if (!this._isInBalloon) {
            return;
          }
          if (this._form.focusTracker.isFocused) {
            this._form.saveButtonView.focus();
          }
          this._balloon.remove(this._form);
          if (t) {
            this.editor.editing.view.focus();
          }
        }
        get _isVisible() {
          return this._balloon.visibleView === this._form;
        }
        get _isInBalloon() {
          return this._balloon.hasView(this._form);
        }
      }
      class Tz extends Cl {
        static get requires() {
          return [pz, Sz];
        }
        static get pluginName() {
          return "ImageTextAlternative";
        }
      }
      function Iz(t) {
        return (t) => {
          t.on("element:figure", e);
        };
        function e(e, n, i) {
          if (
            !i.consumable.test(n.viewItem, { name: true, classes: "image" })
          ) {
            return;
          }
          const o = t.findViewImgElement(n.viewItem);
          if (!o || !i.consumable.test(o, { name: true })) {
            return;
          }
          i.consumable.consume(n.viewItem, { name: true, classes: "image" });
          const r = i.convertItem(o, n.modelCursor);
          const s = sl(r.modelRange.getItems());
          if (!s) {
            i.consumable.revert(n.viewItem, { name: true, classes: "image" });
            return;
          }
          i.convertChildren(n.viewItem, s);
          i.updateConversionResult(s, n);
        }
      }
      function Mz(t) {
        const e = ["srcset", "media", "type", "sizes"];
        return (t) => {
          t.on("element:picture", n);
        };
        function n(n, i, o) {
          const r = i.viewItem;
          if (!o.consumable.test(r, { name: true })) {
            return;
          }
          const s = new Map();
          for (const t of r.getChildren()) {
            if (t.is("element", "source")) {
              const n = {};
              for (const i of e) {
                if (t.hasAttribute(i)) {
                  if (o.consumable.test(t, { attributes: i })) {
                    n[i] = t.getAttribute(i);
                  }
                }
              }
              if (Object.keys(n).length) {
                s.set(t, n);
              }
            }
          }
          const a = t.findViewImgElement(r);
          if (!a) {
            return;
          }
          let c = i.modelCursor.parent;
          if (!c.is("element", "imageBlock")) {
            const t = o.convertItem(a, i.modelCursor);
            i.modelRange = t.modelRange;
            i.modelCursor = t.modelCursor;
            c = first(t.modelRange.getItems());
          }
          o.consumable.consume(r, { name: true });
          for (const [t, e] of s) {
            o.consumable.consume(t, { attributes: Object.keys(e) });
          }
          if (s.size) {
            o.writer.setAttribute("sources", Array.from(s.values()), c);
          }
          o.convertChildren(r, c);
        }
      }
      function Bz(t, e) {
        return (t) => {
          t.on(\`attribute:srcset:\${e}\`, n);
        };
        function n(e, n, i) {
          if (!i.consumable.consume(n.item, e.name)) {
            return;
          }
          const o = i.writer;
          const r = i.mapper.toViewElement(n.item);
          const s = t.findViewImgElement(r);
          if (n.attributeNewValue === null) {
            const t = n.attributeOldValue;
            if (t.data) {
              o.removeAttribute("srcset", s);
              o.removeAttribute("sizes", s);
              if (t.width) {
                o.removeAttribute("width", s);
              }
            }
          } else {
            const t = n.attributeNewValue;
            if (t.data) {
              o.setAttribute("srcset", t.data, s);
              o.setAttribute("sizes", "100vw", s);
              if (t.width) {
                o.setAttribute("width", t.width, s);
              }
            }
          }
        }
      }
      function Lz(t) {
        return (t) => {
          t.on("attribute:sources:imageBlock", e);
          t.on("attribute:sources:imageInline", e);
        };
        function e(e, n, i) {
          if (!i.consumable.consume(n.item, e.name)) {
            return;
          }
          const o = i.writer;
          const r = i.mapper.toViewElement(n.item);
          const s = t.findViewImgElement(r);
          if (n.attributeNewValue && n.attributeNewValue.length) {
            const t = o.createContainerElement(
              "picture",
              null,
              n.attributeNewValue.map((t) => o.createEmptyElement("source", t))
            );
            const e = [];
            let i = s.parent;
            while (i && i.is("attributeElement")) {
              const t = i.parent;
              o.unwrap(o.createRangeOn(s), i);
              e.unshift(i);
              i = t;
            }
            o.insert(o.createPositionBefore(s), t);
            o.move(o.createRangeOn(s), o.createPositionAt(t, "end"));
            for (const n of e) {
              o.wrap(o.createRangeOn(t), n);
            }
          } else if (s.parent.is("element", "picture")) {
            const t = s.parent;
            o.move(o.createRangeOn(s), o.createPositionBefore(t));
            o.remove(t);
          }
        }
      }
      function Nz(t, e, n) {
        return (t) => {
          t.on(\`attribute:\${n}:\${e}\`, i);
        };
        function i(e, n, i) {
          if (!i.consumable.consume(n.item, e.name)) {
            return;
          }
          const o = i.writer;
          const r = i.mapper.toViewElement(n.item);
          const s = t.findViewImgElement(r);
          o.setAttribute(n.attributeKey, n.attributeNewValue || "", s);
        }
      }
      class zz extends Em {
        observe(t) {
          this.listenTo(
            t,
            "load",
            (t, e) => {
              const n = e.target;
              if (this.checkShouldIgnoreEventFromTarget(n)) {
                return;
              }
              if (n.tagName == "IMG") {
                this._fireEvents(e);
              }
            },
            { useCapture: true }
          );
        }
        _fireEvents(t) {
          if (this.isEnabled) {
            this.document.fire("layoutChanged");
            this.document.fire("imageLoaded", t);
          }
        }
      }
      class Pz extends vl {
        constructor(t) {
          super(t);
          const e = t.config.get("image.insert.type");
          if (!t.plugins.has("ImageBlockEditing")) {
            if (e === "block") {
              B("image-block-plugin-required");
            }
          }
          if (!t.plugins.has("ImageInlineEditing")) {
            if (e === "inline") {
              B("image-inline-plugin-required");
            }
          }
        }
        refresh() {
          this.isEnabled = this.editor.plugins
            .get("ImageUtils")
            .isImageAllowed();
        }
        execute(t) {
          const e = Yc(t.source);
          const n = this.editor.model.document.selection;
          const i = this.editor.plugins.get("ImageUtils");
          const o = Object.fromEntries(n.getAttributes());
          e.forEach((t, e) => {
            const r = n.getSelectedElement();
            if (typeof t === "string") {
              t = { src: t };
            }
            if (e && r && i.isImage(r)) {
              const e = this.editor.model.createPositionAfter(r);
              i.insertImage({ ...t, ...o }, e);
            } else {
              i.insertImage({ ...t, ...o });
            }
          });
        }
      }
      class Rz extends Cl {
        static get requires() {
          return [$S];
        }
        static get pluginName() {
          return "ImageEditing";
        }
        init() {
          const t = this.editor;
          const e = t.conversion;
          t.editing.view.addObserver(zz);
          e.for("upcast")
            .attributeToAttribute({
              view: { name: "img", key: "alt" },
              model: "alt",
            })
            .attributeToAttribute({
              view: { name: "img", key: "srcset" },
              model: {
                key: "srcset",
                value: (t) => {
                  const e = { data: t.getAttribute("srcset") };
                  if (t.hasAttribute("width")) {
                    e.width = t.getAttribute("width");
                  }
                  return e;
                },
              },
            });
          const n = new Pz(t);
          t.commands.add("insertImage", n);
          t.commands.add("imageInsert", n);
        }
      }
      class Oz extends vl {
        constructor(t, e) {
          super(t);
          this._modelElementName = e;
        }
        refresh() {
          const t = this.editor;
          const e = t.plugins.get("ImageUtils");
          const n = e.getClosestSelectedImageElement(
            this.editor.model.document.selection
          );
          if (this._modelElementName === "imageBlock") {
            this.isEnabled = e.isInlineImage(n);
          } else {
            this.isEnabled = e.isBlockImage(n);
          }
        }
        execute() {
          const t = this.editor;
          const e = this.editor.model;
          const n = t.plugins.get("ImageUtils");
          const i = n.getClosestSelectedImageElement(e.document.selection);
          const o = Object.fromEntries(i.getAttributes());
          if (!o.src && !o.uploadId) {
            return null;
          }
          return e.change((t) => {
            const r = Array.from(e.markers).filter((t) =>
              t.getRange().containsItem(i)
            );
            const s = n.insertImage(
              o,
              e.createSelection(i, "on"),
              this._modelElementName
            );
            if (!s) {
              return null;
            }
            const a = t.createRangeOn(s);
            for (const e of r) {
              const n = e.getRange();
              const i =
                n.root.rootName != "$graveyard" ? n.getJoined(a, true) : a;
              t.updateMarker(e, { range: i });
            }
            return { oldElement: i, newElement: s };
          });
        }
      }
      class jz extends Cl {
        static get requires() {
          return [Rz, $S, RE];
        }
        static get pluginName() {
          return "ImageBlockEditing";
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          e.register("imageBlock", {
            inheritAllFrom: "$blockObject",
            allowAttributes: ["alt", "src", "srcset"],
          });
          this._setupConversion();
          if (t.plugins.has("ImageInlineEditing")) {
            t.commands.add("imageTypeBlock", new Oz(this.editor, "imageBlock"));
            this._setupClipboardIntegration();
          }
        }
        _setupConversion() {
          const t = this.editor;
          const e = t.t;
          const n = t.conversion;
          const i = t.plugins.get("ImageUtils");
          n.for("dataDowncast").elementToStructure({
            model: "imageBlock",
            view: (t, { writer: e }) => qS(e),
          });
          n.for("editingDowncast").elementToStructure({
            model: "imageBlock",
            view: (t, { writer: n }) =>
              i.toImageWidget(qS(n), n, e("image widget")),
          });
          n.for("downcast")
            .add(Nz(i, "imageBlock", "src"))
            .add(Nz(i, "imageBlock", "alt"))
            .add(Bz(i, "imageBlock"));
          n.for("upcast")
            .elementToElement({
              view: WS(t, "imageBlock"),
              model: (t, { writer: e }) =>
                e.createElement(
                  "imageBlock",
                  t.hasAttribute("src") ? { src: t.getAttribute("src") } : null
                ),
            })
            .add(Iz(i));
        }
        _setupClipboardIntegration() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          const i = t.plugins.get("ImageUtils");
          this.listenTo(
            t.plugins.get("ClipboardPipeline"),
            "inputTransformation",
            (o, r) => {
              const s = Array.from(r.content.getChildren());
              let a;
              if (!s.every(i.isInlineImageView)) {
                return;
              }
              if (r.targetRanges) {
                a = t.editing.mapper.toModelRange(r.targetRanges[0]);
              } else {
                a = e.document.selection.getFirstRange();
              }
              const c = e.createSelection(a);
              if (GS(e.schema, c) === "imageBlock") {
                const t = new Fw(n.document);
                const e = s.map((e) =>
                  t.createElement("figure", { class: "image" }, e)
                );
                r.content = t.createDocumentFragment(e);
              }
            }
          );
        }
      }
      var Fz = n(9048);
      var Vz = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Vz.insert = "head";
      Vz.singleton = true;
      var Hz = Il()(Fz.Z, Vz);
      const Uz = Fz.Z.locals || {};
      class qz extends Cl {
        static get requires() {
          return [jz, qD, Tz];
        }
        static get pluginName() {
          return "ImageBlock";
        }
      }
      class Wz extends Cl {
        static get requires() {
          return [Rz, $S, RE];
        }
        static get pluginName() {
          return "ImageInlineEditing";
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          e.register("imageInline", {
            inheritAllFrom: "$inlineObject",
            allowAttributes: ["alt", "src", "srcset"],
          });
          e.addChildCheck((t, e) => {
            if (t.endsWith("caption") && e.name === "imageInline") {
              return false;
            }
          });
          this._setupConversion();
          if (t.plugins.has("ImageBlockEditing")) {
            t.commands.add(
              "imageTypeInline",
              new Oz(this.editor, "imageInline")
            );
            this._setupClipboardIntegration();
          }
        }
        _setupConversion() {
          const t = this.editor;
          const e = t.t;
          const n = t.conversion;
          const i = t.plugins.get("ImageUtils");
          n.for("dataDowncast").elementToElement({
            model: "imageInline",
            view: (t, { writer: e }) => e.createEmptyElement("img"),
          });
          n.for("editingDowncast").elementToStructure({
            model: "imageInline",
            view: (t, { writer: n }) =>
              i.toImageWidget(US(n), n, e("image widget")),
          });
          n.for("downcast")
            .add(Nz(i, "imageInline", "src"))
            .add(Nz(i, "imageInline", "alt"))
            .add(Bz(i, "imageInline"));
          n.for("upcast").elementToElement({
            view: WS(t, "imageInline"),
            model: (t, { writer: e }) =>
              e.createElement(
                "imageInline",
                t.hasAttribute("src") ? { src: t.getAttribute("src") } : null
              ),
          });
        }
        _setupClipboardIntegration() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          const i = t.plugins.get("ImageUtils");
          this.listenTo(
            t.plugins.get("ClipboardPipeline"),
            "inputTransformation",
            (o, r) => {
              const s = Array.from(r.content.getChildren());
              let a;
              if (!s.every(i.isBlockImageView)) {
                return;
              }
              if (r.targetRanges) {
                a = t.editing.mapper.toModelRange(r.targetRanges[0]);
              } else {
                a = e.document.selection.getFirstRange();
              }
              const c = e.createSelection(a);
              if (GS(e.schema, c) === "imageInline") {
                const t = new Fw(n.document);
                const e = s.map((e) => {
                  if (e.childCount === 1) {
                    Array.from(e.getAttributes()).forEach((n) =>
                      t.setAttribute(...n, i.findViewImgElement(e))
                    );
                    return e.getChild(0);
                  } else {
                    return e;
                  }
                });
                r.content = t.createDocumentFragment(e);
              }
            }
          );
        }
      }
      class Gz extends Cl {
        static get requires() {
          return [Wz, qD, Tz];
        }
        static get pluginName() {
          return "ImageInline";
        }
      }
      class $z extends Cl {
        static get requires() {
          return [qz, Gz];
        }
        static get pluginName() {
          return "Image";
        }
      }
      class Kz extends vl {
        refresh() {
          const t = this.editor;
          const e = t.plugins.get("ImageCaptionUtils");
          if (!t.plugins.has(jz)) {
            this.isEnabled = false;
            this.value = false;
            return;
          }
          const n = t.model.document.selection;
          const i = n.getSelectedElement();
          if (!i) {
            const t = e.getCaptionFromModelSelection(n);
            this.isEnabled = !!t;
            this.value = !!t;
            return;
          }
          this.isEnabled = this.editor.plugins.get("ImageUtils").isImage(i);
          if (!this.isEnabled) {
            this.value = false;
          } else {
            this.value = !!e.getCaptionFromImageModelElement(i);
          }
        }
        execute(t = {}) {
          const { focusCaptionOnShow: e } = t;
          this.editor.model.change((t) => {
            if (this.value) {
              this._hideImageCaption(t);
            } else {
              this._showImageCaption(t, e);
            }
          });
        }
        _showImageCaption(t, e) {
          const n = this.editor.model;
          const i = n.document.selection;
          const o = this.editor.plugins.get("ImageCaptionEditing");
          let r = i.getSelectedElement();
          const s = o._getSavedCaption(r);
          if (this.editor.plugins.get("ImageUtils").isInlineImage(r)) {
            this.editor.execute("imageTypeBlock");
            r = i.getSelectedElement();
          }
          const a = s || t.createElement("caption");
          t.append(a, r);
          if (e) {
            t.setSelection(a, "in");
          }
        }
        _hideImageCaption(t) {
          const e = this.editor;
          const n = e.model.document.selection;
          const i = e.plugins.get("ImageCaptionEditing");
          const o = e.plugins.get("ImageCaptionUtils");
          let r = n.getSelectedElement();
          let s;
          if (r) {
            s = o.getCaptionFromImageModelElement(r);
          } else {
            s = o.getCaptionFromModelSelection(n);
            r = s.parent;
          }
          i._saveCaption(r, s);
          t.setSelection(r, "on");
          t.remove(s);
        }
      }
      class Yz extends Cl {
        static get pluginName() {
          return "ImageCaptionUtils";
        }
        static get requires() {
          return [$S];
        }
        getCaptionFromImageModelElement(t) {
          for (const e of t.getChildren()) {
            if (!!e && e.is("element", "caption")) {
              return e;
            }
          }
          return null;
        }
        getCaptionFromModelSelection(t) {
          const e = this.editor.plugins.get("ImageUtils");
          const n = t.getFirstPosition().findAncestor("caption");
          if (!n) {
            return null;
          }
          if (e.isBlockImage(n.parent)) {
            return n;
          }
          return null;
        }
        matchImageCaptionViewElement(t) {
          const e = this.editor.plugins.get("ImageUtils");
          if (t.name == "figcaption" && e.isBlockImageView(t.parent)) {
            return { name: true };
          }
          return null;
        }
      }
      class Zz extends Cl {
        static get requires() {
          return [$S, Yz];
        }
        static get pluginName() {
          return "ImageCaptionEditing";
        }
        constructor(t) {
          super(t);
          this._savedCaptionsMap = new WeakMap();
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          if (!e.isRegistered("caption")) {
            e.register("caption", {
              allowIn: "imageBlock",
              allowContentOf: "$block",
              isLimit: true,
            });
          } else {
            e.extend("caption", { allowIn: "imageBlock" });
          }
          t.commands.add("toggleImageCaption", new Kz(this.editor));
          this._setupConversion();
          this._setupImageTypeCommandsIntegration();
          this._registerCaptionReconversion();
        }
        _setupConversion() {
          const t = this.editor;
          const e = t.editing.view;
          const n = t.plugins.get("ImageUtils");
          const i = t.plugins.get("ImageCaptionUtils");
          const o = t.t;
          t.conversion.for("upcast").elementToElement({
            view: (t) => i.matchImageCaptionViewElement(t),
            model: "caption",
          });
          t.conversion.for("dataDowncast").elementToElement({
            model: "caption",
            view: (t, { writer: e }) => {
              if (!n.isBlockImage(t.parent)) {
                return null;
              }
              return e.createContainerElement("figcaption");
            },
          });
          t.conversion.for("editingDowncast").elementToElement({
            model: "caption",
            view: (t, { writer: i }) => {
              if (!n.isBlockImage(t.parent)) {
                return null;
              }
              const r = i.createEditableElement("figcaption");
              i.setCustomProperty("imageCaption", true, r);
              Pl({
                view: e,
                element: r,
                text: o("Enter image caption"),
                keepOnFocus: true,
              });
              const s = t.parent.getAttribute("alt");
              const a = s
                ? o("Caption for image: %0", [s])
                : o("Caption for the image");
              return dD(r, i, { label: a });
            },
          });
        }
        _setupImageTypeCommandsIntegration() {
          const t = this.editor;
          const e = t.plugins.get("ImageUtils");
          const n = t.plugins.get("ImageCaptionUtils");
          const i = t.commands.get("imageTypeInline");
          const o = t.commands.get("imageTypeBlock");
          const r = (t) => {
            if (!t.return) {
              return;
            }
            const { oldElement: i, newElement: o } = t.return;
            if (!i) {
              return;
            }
            if (e.isBlockImage(i)) {
              const t = n.getCaptionFromImageModelElement(i);
              if (t) {
                this._saveCaption(o, t);
                return;
              }
            }
            const r = this._getSavedCaption(i);
            if (r) {
              this._saveCaption(o, r);
            }
          };
          if (i) {
            this.listenTo(i, "execute", r, { priority: "low" });
          }
          if (o) {
            this.listenTo(o, "execute", r, { priority: "low" });
          }
        }
        _getSavedCaption(t) {
          const e = this._savedCaptionsMap.get(t);
          return e ? ff.fromJSON(e) : null;
        }
        _saveCaption(t, e) {
          this._savedCaptionsMap.set(t, e.toJSON());
        }
        _registerCaptionReconversion() {
          const t = this.editor;
          const e = t.model;
          const n = t.plugins.get("ImageUtils");
          const i = t.plugins.get("ImageCaptionUtils");
          e.document.on("change:data", () => {
            const o = e.document.differ.getChanges();
            for (const e of o) {
              if (e.attributeKey !== "alt") {
                continue;
              }
              const o = e.range.start.nodeAfter;
              if (n.isBlockImage(o)) {
                const e = i.getCaptionFromImageModelElement(o);
                if (!e) {
                  return;
                }
                t.editing.reconvertItem(e);
              }
            }
          });
        }
      }
      class Qz extends Cl {
        static get requires() {
          return [Yz];
        }
        static get pluginName() {
          return "ImageCaptionUI";
        }
        init() {
          const t = this.editor;
          const e = t.editing.view;
          const n = t.plugins.get("ImageCaptionUtils");
          const i = t.t;
          t.ui.componentFactory.add("toggleImageCaption", (o) => {
            const r = t.commands.get("toggleImageCaption");
            const s = new R_(o);
            s.set({ icon: __.caption, tooltip: true, isToggleable: true });
            s.bind("isOn", "isEnabled").to(r, "value", "isEnabled");
            s.bind("label").to(r, "value", (t) =>
              t ? i("Toggle caption off") : i("Toggle caption on")
            );
            this.listenTo(s, "execute", () => {
              t.execute("toggleImageCaption", { focusCaptionOnShow: true });
              const i = n.getCaptionFromModelSelection(
                t.model.document.selection
              );
              if (i) {
                const n = t.editing.mapper.toViewElement(i);
                e.scrollToTheSelection();
                e.change((t) => {
                  t.addClass("image__caption_highlighted", n);
                });
              }
              t.editing.view.focus();
            });
            return s;
          });
        }
      }
      var Jz = n(8662);
      var Xz = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Xz.insert = "head";
      Xz.singleton = true;
      var tP = Il()(Jz.Z, Xz);
      const eP = Jz.Z.locals || {};
      class nP extends Cl {
        static get requires() {
          return [Zz, Qz];
        }
        static get pluginName() {
          return "ImageCaption";
        }
      }
      class iP extends pC {
        constructor(t) {
          super(t);
          this.buttonView = new R_(t);
          this._fileInputView = new oP(t);
          this._fileInputView.bind("acceptedType").to(this);
          this._fileInputView.bind("allowMultipleFiles").to(this);
          this._fileInputView.delegate("done").to(this);
          this.setTemplate({
            tag: "span",
            attributes: { class: "ck-file-dialog-button" },
            children: [this.buttonView, this._fileInputView],
          });
          this.buttonView.on("execute", () => {
            this._fileInputView.open();
          });
        }
        focus() {
          this.buttonView.focus();
        }
      }
      class oP extends pC {
        constructor(t) {
          super(t);
          this.set("acceptedType", undefined);
          this.set("allowMultipleFiles", false);
          const e = this.bindTemplate;
          this.setTemplate({
            tag: "input",
            attributes: {
              class: ["ck-hidden"],
              type: "file",
              tabindex: "-1",
              accept: e.to("acceptedType"),
              multiple: e.to("allowMultipleFiles"),
            },
            on: {
              change: e.to(() => {
                if (
                  this.element &&
                  this.element.files &&
                  this.element.files.length
                ) {
                  this.fire("done", this.element.files);
                }
                this.element.value = "";
              }),
            },
          });
        }
        open() {
          this.element.click();
        }
      }
      class rP extends (null && Plugin) {
        static get requires() {
          return [FileRepository];
        }
        static get pluginName() {
          return "SimpleUploadAdapter";
        }
        init() {
          const t = this.editor.config.get("simpleUpload");
          if (!t) {
            return;
          }
          if (!t.uploadUrl) {
            logWarning("simple-upload-adapter-missing-uploadurl");
            return;
          }
          this.editor.plugins.get(FileRepository).createUploadAdapter = (e) =>
            new sP(e, t);
        }
      }
      class sP {
        constructor(t, e) {
          this.loader = t;
          this.options = e;
        }
        upload() {
          return this.loader.file.then(
            (t) =>
              new Promise((e, n) => {
                this._initRequest();
                this._initListeners(e, n, t);
                this._sendRequest(t);
              })
          );
        }
        abort() {
          if (this.xhr) {
            this.xhr.abort();
          }
        }
        _initRequest() {
          const t = (this.xhr = new XMLHttpRequest());
          t.open("POST", this.options.uploadUrl, true);
          t.responseType = "json";
        }
        _initListeners(t, e, n) {
          const i = this.xhr;
          const o = this.loader;
          const r = \`Couldn't upload file: \${n.name}.\`;
          i.addEventListener("error", () => e(r));
          i.addEventListener("abort", () => e());
          i.addEventListener("load", () => {
            const n = i.response;
            if (!n || n.error) {
              return e(n && n.error && n.error.message ? n.error.message : r);
            }
            const o = n.url ? { default: n.url } : n.urls;
            t({ ...n, urls: o });
          });
          if (i.upload) {
            i.upload.addEventListener("progress", (t) => {
              if (t.lengthComputable) {
                o.uploadTotal = t.total;
                o.uploaded = t.loaded;
              }
            });
          }
        }
        _sendRequest(t) {
          const e = this.options.headers || {};
          const n = this.options.withCredentials || false;
          for (const t of Object.keys(e)) {
            this.xhr.setRequestHeader(t, e[t]);
          }
          this.xhr.withCredentials = n;
          const i = new FormData();
          i.append("upload", t);
          this.xhr.send(i);
        }
      }
      function aP(t) {
        const e = t.map((t) => t.replace("+", "\\\\+"));
        return new RegExp(\`^image\\\\/(\${e.join("|")})$\`);
      }
      function cP(t) {
        return new Promise((e, n) => {
          const i = t.getAttribute("src");
          fetch(i)
            .then((t) => t.blob())
            .then((t) => {
              const n = dP(t, i);
              const o = n.replace("image/", "");
              const r = \`image.\${o}\`;
              const s = new File([t], r, { type: n });
              e(s);
            })
            .catch((t) =>
              t && t.name === "TypeError" ? uP(i).then(e).catch(n) : n(t)
            );
        });
      }
      function lP(t, e) {
        if (!t.isInlineImageView(e) || !e.getAttribute("src")) {
          return false;
        }
        return (
          e.getAttribute("src").match(/^data:image\\/\\w+;base64,/g) ||
          e.getAttribute("src").match(/^blob:/g)
        );
      }
      function dP(t, e) {
        if (t.type) {
          return t.type;
        } else if (e.match(/data:(image\\/\\w+);base64/)) {
          return e.match(/data:(image\\/\\w+);base64/)[1].toLowerCase();
        } else {
          return "image/jpeg";
        }
      }
      function uP(t) {
        return hP(t).then((e) => {
          const n = dP(e, t);
          const i = n.replace("image/", "");
          const o = \`image.\${i}\`;
          return new File([e], o, { type: n });
        });
      }
      function hP(t) {
        return new Promise((e, n) => {
          const i = Xa.document.createElement("img");
          i.addEventListener("load", () => {
            const t = Xa.document.createElement("canvas");
            t.width = i.width;
            t.height = i.height;
            const o = t.getContext("2d");
            o.drawImage(i, 0, 0);
            t.toBlob((t) => (t ? e(t) : n()));
          });
          i.addEventListener("error", () => n());
          i.src = t;
        });
      }
      class mP extends Cl {
        static get pluginName() {
          return "ImageUploadUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          const n = (n) => {
            const i = new iP(n);
            const o = t.commands.get("uploadImage");
            const r = t.config.get("image.upload.types");
            const s = aP(r);
            i.set({
              acceptedType: r.map((t) => \`image/\${t}\`).join(","),
              allowMultipleFiles: true,
            });
            i.buttonView.set({
              label: e("Insert image"),
              icon: __.image,
              tooltip: true,
            });
            i.buttonView.bind("isEnabled").to(o);
            i.on("done", (e, n) => {
              const i = Array.from(n).filter((t) => s.test(t.type));
              if (i.length) {
                t.execute("uploadImage", { file: i });
                t.editing.view.focus();
              }
            });
            return i;
          };
          t.ui.componentFactory.add("uploadImage", n);
          t.ui.componentFactory.add("imageUpload", n);
        }
      }
      var gP = n(5870);
      var fP = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      fP.insert = "head";
      fP.singleton = true;
      var pP = Il()(gP.Z, fP);
      const bP = gP.Z.locals || {};
      var kP = n(9899);
      var wP = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      wP.insert = "head";
      wP.singleton = true;
      var AP = Il()(kP.Z, wP);
      const CP = kP.Z.locals || {};
      var _P = n(9825);
      var vP = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      vP.insert = "head";
      vP.singleton = true;
      var yP = Il()(_P.Z, vP);
      const xP = _P.Z.locals || {};
      class EP extends Cl {
        static get pluginName() {
          return "ImageUploadProgress";
        }
        constructor(t) {
          super(t);
          this.placeholder =
            "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
        }
        init() {
          const t = this.editor;
          if (t.plugins.has("ImageBlockEditing")) {
            t.editing.downcastDispatcher.on(
              "attribute:uploadStatus:imageBlock",
              (...t) => this.uploadStatusChange(...t)
            );
          }
          if (t.plugins.has("ImageInlineEditing")) {
            t.editing.downcastDispatcher.on(
              "attribute:uploadStatus:imageInline",
              (...t) => this.uploadStatusChange(...t)
            );
          }
        }
        uploadStatusChange(t, e, n) {
          const i = this.editor;
          const o = e.item;
          const r = o.getAttribute("uploadId");
          if (!n.consumable.consume(e.item, t.name)) {
            return;
          }
          const s = i.plugins.get("ImageUtils");
          const a = i.plugins.get(mI);
          const c = r ? e.attributeNewValue : null;
          const l = this.placeholder;
          const d = i.editing.mapper.toViewElement(o);
          const u = n.writer;
          if (c == "reading") {
            DP(d, u);
            TP(s, l, d, u);
            return;
          }
          if (c == "uploading") {
            const t = a.loaders.get(r);
            DP(d, u);
            if (!t) {
              TP(s, l, d, u);
            } else {
              IP(d, u);
              MP(d, u, t, i.editing.view);
              OP(s, d, u, t);
            }
            return;
          }
          if (c == "complete" && a.loaders.get(r)) {
            LP(d, u, i.editing.view);
          }
          BP(d, u);
          IP(d, u);
          SP(d, u);
        }
      }
      function DP(t, e) {
        if (!t.hasClass("ck-appear")) {
          e.addClass("ck-appear", t);
        }
      }
      function SP(t, e) {
        e.removeClass("ck-appear", t);
      }
      function TP(t, e, n, i) {
        if (!n.hasClass("ck-image-upload-placeholder")) {
          i.addClass("ck-image-upload-placeholder", n);
        }
        const o = t.findViewImgElement(n);
        if (o.getAttribute("src") !== e) {
          i.setAttribute("src", e, o);
        }
        if (!PP(n, "placeholder")) {
          i.insert(i.createPositionAfter(o), zP(i));
        }
      }
      function IP(t, e) {
        if (t.hasClass("ck-image-upload-placeholder")) {
          e.removeClass("ck-image-upload-placeholder", t);
        }
        RP(t, e, "placeholder");
      }
      function MP(t, e, n, i) {
        const o = NP(e);
        e.insert(e.createPositionAt(t, "end"), o);
        n.on("change:uploadedPercent", (t, e, n) => {
          i.change((t) => {
            t.setStyle("width", n + "%", o);
          });
        });
      }
      function BP(t, e) {
        RP(t, e, "progressBar");
      }
      function LP(t, e, n) {
        const i = e.createUIElement("div", {
          class: "ck-image-upload-complete-icon",
        });
        e.insert(e.createPositionAt(t, "end"), i);
        setTimeout(() => {
          n.change((t) => t.remove(t.createRangeOn(i)));
        }, 3e3);
      }
      function NP(t) {
        const e = t.createUIElement("div", { class: "ck-progress-bar" });
        t.setCustomProperty("progressBar", true, e);
        return e;
      }
      function zP(t) {
        const e = t.createUIElement("div", {
          class: "ck-upload-placeholder-loader",
        });
        t.setCustomProperty("placeholder", true, e);
        return e;
      }
      function PP(t, e) {
        for (const n of t.getChildren()) {
          if (n.getCustomProperty(e)) {
            return n;
          }
        }
      }
      function RP(t, e, n) {
        const i = PP(t, n);
        if (i) {
          e.remove(e.createRangeOn(i));
        }
      }
      function OP(t, e, n, i) {
        if (i.data) {
          const o = t.findViewImgElement(e);
          n.setAttribute("src", i.data, o);
        }
      }
      class jP extends vl {
        refresh() {
          const t = this.editor;
          const e = t.plugins.get("ImageUtils");
          const n = t.model.document.selection.getSelectedElement();
          this.isEnabled = e.isImageAllowed() || e.isImage(n);
        }
        execute(t) {
          const e = Yc(t.file);
          const n = this.editor.model.document.selection;
          const i = this.editor.plugins.get("ImageUtils");
          const o = Object.fromEntries(n.getAttributes());
          e.forEach((t, e) => {
            const r = n.getSelectedElement();
            if (e && r && i.isImage(r)) {
              const e = this.editor.model.createPositionAfter(r);
              this._uploadImage(t, o, e);
            } else {
              this._uploadImage(t, o);
            }
          });
        }
        _uploadImage(t, e, n) {
          const i = this.editor;
          const o = i.plugins.get(mI);
          const r = o.createLoader(t);
          const s = i.plugins.get("ImageUtils");
          if (!r) {
            return;
          }
          s.insertImage({ ...e, uploadId: r.id }, n);
        }
      }
      class FP extends Cl {
        static get requires() {
          return [mI, zy, RE, $S];
        }
        static get pluginName() {
          return "ImageUploadEditing";
        }
        constructor(t) {
          super(t);
          t.config.define("image", {
            upload: { types: ["jpeg", "png", "gif", "bmp", "webp", "tiff"] },
          });
          this._uploadImageElements = new Map();
        }
        init() {
          const t = this.editor;
          const e = t.model.document;
          const n = t.conversion;
          const i = t.plugins.get(mI);
          const o = t.plugins.get("ImageUtils");
          const r = aP(t.config.get("image.upload.types"));
          const s = new jP(t);
          t.commands.add("uploadImage", s);
          t.commands.add("imageUpload", s);
          n.for("upcast").attributeToAttribute({
            view: { name: "img", key: "uploadId" },
            model: "uploadId",
          });
          this.listenTo(t.editing.view.document, "clipboardInput", (e, n) => {
            if (VP(n.dataTransfer)) {
              return;
            }
            const i = Array.from(n.dataTransfer.files).filter((t) => {
              if (!t) {
                return false;
              }
              return r.test(t.type);
            });
            if (!i.length) {
              return;
            }
            e.stop();
            t.model.change((e) => {
              if (n.targetRanges) {
                e.setSelection(
                  n.targetRanges.map((e) => t.editing.mapper.toModelRange(e))
                );
              }
              t.model.enqueueChange(() => {
                t.execute("uploadImage", { file: i });
              });
            });
          });
          this.listenTo(
            t.plugins.get("ClipboardPipeline"),
            "inputTransformation",
            (e, n) => {
              const r = Array.from(t.editing.view.createRangeIn(n.content))
                .filter(
                  (t) =>
                    lP(o, t.item) && !t.item.getAttribute("uploadProcessed")
                )
                .map((t) => ({ promise: cP(t.item), imageElement: t.item }));
              if (!r.length) {
                return;
              }
              const s = new Fw(t.editing.view.document);
              for (const t of r) {
                s.setAttribute("uploadProcessed", true, t.imageElement);
                const e = i.createLoader(t.promise);
                if (e) {
                  s.setAttribute("src", "", t.imageElement);
                  s.setAttribute("uploadId", e.id, t.imageElement);
                }
              }
            }
          );
          t.editing.view.document.on("dragover", (t, e) => {
            e.preventDefault();
          });
          e.on("change", () => {
            const n = e.differ
              .getChanges({ includeChangesInGraveyard: true })
              .reverse();
            const o = new Set();
            for (const e of n) {
              if (e.type == "insert" && e.name != "$text") {
                const n = e.position.nodeAfter;
                const r = e.position.root.rootName == "$graveyard";
                for (const e of HP(t, n)) {
                  const t = e.getAttribute("uploadId");
                  if (!t) {
                    continue;
                  }
                  const n = i.loaders.get(t);
                  if (!n) {
                    continue;
                  }
                  if (r) {
                    if (!o.has(t)) {
                      n.abort();
                    }
                  } else {
                    o.add(t);
                    this._uploadImageElements.set(t, e);
                    if (n.status == "idle") {
                      this._readAndUpload(n);
                    }
                  }
                }
              }
            }
          });
          this.on(
            "uploadComplete",
            (t, { imageElement: e, data: n }) => {
              const i = n.urls ? n.urls : n;
              this.editor.model.change((t) => {
                t.setAttribute("src", i.default, e);
                this._parseAndSetSrcsetAttributeOnImage(i, e, t);
              });
            },
            { priority: "low" }
          );
        }
        afterInit() {
          const t = this.editor.model.schema;
          if (this.editor.plugins.has("ImageBlockEditing")) {
            t.extend("imageBlock", {
              allowAttributes: ["uploadId", "uploadStatus"],
            });
          }
          if (this.editor.plugins.has("ImageInlineEditing")) {
            t.extend("imageInline", {
              allowAttributes: ["uploadId", "uploadStatus"],
            });
          }
        }
        _readAndUpload(t) {
          const e = this.editor;
          const n = e.model;
          const i = e.locale.t;
          const o = e.plugins.get(mI);
          const s = e.plugins.get(zy);
          const a = e.plugins.get("ImageUtils");
          const c = this._uploadImageElements;
          n.enqueueChange({ isUndoable: false }, (e) => {
            e.setAttribute("uploadStatus", "reading", c.get(t.id));
          });
          return t
            .read()
            .then(() => {
              const i = t.upload();
              const o = c.get(t.id);
              if (r.isSafari) {
                const t = e.editing.mapper.toViewElement(o);
                const n = a.findViewImgElement(t);
                e.editing.view.once("render", () => {
                  if (!n.parent) {
                    return;
                  }
                  const t = e.editing.view.domConverter.mapViewToDom(n.parent);
                  if (!t) {
                    return;
                  }
                  const i = t.style.display;
                  t.style.display = "none";
                  t._ckHack = t.offsetHeight;
                  t.style.display = i;
                });
              }
              n.enqueueChange({ isUndoable: false }, (t) => {
                t.setAttribute("uploadStatus", "uploading", o);
              });
              return i;
            })
            .then((e) => {
              n.enqueueChange({ isUndoable: false }, (n) => {
                const i = c.get(t.id);
                n.setAttribute("uploadStatus", "complete", i);
                this.fire("uploadComplete", { data: e, imageElement: i });
              });
              l();
            })
            .catch((e) => {
              if (t.status !== "error" && t.status !== "aborted") {
                throw e;
              }
              if (t.status == "error" && e) {
                s.showWarning(e, {
                  title: i("Upload failed"),
                  namespace: "upload",
                });
              }
              n.enqueueChange({ isUndoable: false }, (e) => {
                e.remove(c.get(t.id));
              });
              l();
            });
          function l() {
            n.enqueueChange({ isUndoable: false }, (e) => {
              const n = c.get(t.id);
              e.removeAttribute("uploadId", n);
              e.removeAttribute("uploadStatus", n);
              c.delete(t.id);
            });
            o.destroyLoader(t);
          }
        }
        _parseAndSetSrcsetAttributeOnImage(t, e, n) {
          let i = 0;
          const o = Object.keys(t)
            .filter((t) => {
              const e = parseInt(t, 10);
              if (!isNaN(e)) {
                i = Math.max(i, e);
                return true;
              }
            })
            .map((e) => \`\${t[e]} \${e}w\`)
            .join(", ");
          if (o != "") {
            n.setAttribute("srcset", { data: o, width: i }, e);
          }
        }
      }
      function VP(t) {
        return (
          Array.from(t.types).includes("text/html") &&
          t.getData("text/html") !== ""
        );
      }
      function HP(t, e) {
        const n = t.plugins.get("ImageUtils");
        return Array.from(t.model.createRangeOn(e))
          .filter((t) => n.isImage(t.item))
          .map((t) => t.item);
      }
      class UP extends Cl {
        static get pluginName() {
          return "ImageUpload";
        }
        static get requires() {
          return [FP, mP, EP];
        }
      }
      var qP = n(5150);
      var WP = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      WP.insert = "head";
      WP.singleton = true;
      var GP = Il()(qP.Z, WP);
      const $P = qP.Z.locals || {};
      class KP extends pC {
        constructor(t, e = {}) {
          super(t);
          const n = this.bindTemplate;
          this.set("class", e.class || null);
          this.children = this.createCollection();
          if (e.children) {
            e.children.forEach((t) => this.children.add(t));
          }
          this.set("_role", null);
          this.set("_ariaLabelledBy", null);
          if (e.labelView) {
            this.set({ _role: "group", _ariaLabelledBy: e.labelView.id });
          }
          this.setTemplate({
            tag: "div",
            attributes: {
              class: ["ck", "ck-form__row", n.to("class")],
              role: n.to("_role"),
              "aria-labelledby": n.to("_ariaLabelledBy"),
            },
            children: this.children,
          });
        }
      }
      var YP = n(9292);
      var ZP = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      ZP.insert = "head";
      ZP.singleton = true;
      var QP = Il()(YP.Z, ZP);
      const JP = YP.Z.locals || {};
      class XP extends pC {
        constructor(t, e) {
          super(t);
          const { insertButtonView: n, cancelButtonView: i } =
            this._createActionButtons(t);
          this.insertButtonView = n;
          this.cancelButtonView = i;
          this.set("imageURLInputValue", "");
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this._focusables = new PA();
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this.set("_integrations", new rl());
          if (e) {
            for (const [t, n] of Object.entries(e)) {
              if (t === "insertImageViaUrl") {
                n.fieldView
                  .bind("value")
                  .to(this, "imageURLInputValue", (t) => t || "");
                n.fieldView.on("input", () => {
                  this.imageURLInputValue = n.fieldView.element.value.trim();
                });
              }
              n.name = t;
              this._integrations.add(n);
            }
          }
          this.setTemplate({
            tag: "form",
            attributes: {
              class: ["ck", "ck-image-insert-form"],
              tabindex: "-1",
            },
            children: [
              ...this._integrations,
              new KP(t, {
                children: [this.insertButtonView, this.cancelButtonView],
                class: "ck-image-insert-form__action-row",
              }),
            ],
          });
        }
        render() {
          super.render();
          x_({ view: this });
          const t = [
            ...this._integrations,
            this.insertButtonView,
            this.cancelButtonView,
          ];
          t.forEach((t) => {
            this._focusables.add(t);
            this.focusTracker.add(t.element);
          });
          this.keystrokes.listenTo(this.element);
          const e = (t) => t.stopPropagation();
          this.keystrokes.set("arrowright", e);
          this.keystrokes.set("arrowleft", e);
          this.keystrokes.set("arrowup", e);
          this.keystrokes.set("arrowdown", e);
          this.listenTo(
            t[0].element,
            "selectstart",
            (t, e) => {
              e.stopPropagation();
            },
            { priority: "high" }
          );
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        getIntegration(t) {
          return this._integrations.find((e) => e.name === t);
        }
        _createActionButtons(t) {
          const e = t.t;
          const n = new R_(t);
          const i = new R_(t);
          n.set({
            label: e("Insert"),
            icon: __.check,
            class: "ck-button-save",
            type: "submit",
            withText: true,
            isEnabled: this.imageURLInputValue,
          });
          i.set({
            label: e("Cancel"),
            icon: __.cancel,
            class: "ck-button-cancel",
            withText: true,
          });
          n.bind("isEnabled").to(this, "imageURLInputValue", (t) => !!t);
          n.delegate("execute").to(this, "submit");
          i.delegate("execute").to(this, "cancel");
          return { insertButtonView: n, cancelButtonView: i };
        }
        focus() {
          this._focusCycler.focusFirst();
        }
      }
      function tR(t) {
        const e = t.config.get("image.insert.integrations");
        const n = t.plugins.get("ImageInsertUI");
        const i = { insertImageViaUrl: eR(t.locale) };
        if (!e) {
          return i;
        }
        if (
          e.find((t) => t === "openCKFinder") &&
          t.ui.componentFactory.has("ckfinder")
        ) {
          const e = t.ui.componentFactory.create("ckfinder");
          e.set({ withText: true, class: "ck-image-insert__ck-finder-button" });
          e.delegate("execute").to(n, "cancel");
          i.openCKFinder = e;
        }
        return e.reduce((e, n) => {
          if (i[n]) {
            e[n] = i[n];
          } else if (t.ui.componentFactory.has(n)) {
            e[n] = t.ui.componentFactory.create(n);
          }
          return e;
        }, {});
      }
      function eR(t) {
        const e = t.t;
        const n = new My(t, By);
        n.set({ label: e("Insert image via URL") });
        n.fieldView.placeholder = "https://example.com/image.png";
        return n;
      }
      class nR extends Cl {
        static get pluginName() {
          return "ImageInsertUI";
        }
        init() {
          const t = this.editor;
          const e = (t) => this._createDropdownView(t);
          t.ui.componentFactory.add("insertImage", e);
          t.ui.componentFactory.add("imageInsert", e);
        }
        _createDropdownView(t) {
          const e = this.editor;
          const n = t.t;
          const i = e.commands.get("uploadImage");
          const o = e.commands.get("insertImage");
          this.dropdownView = Uv(t, i ? rv : undefined);
          const r = this.dropdownView.buttonView;
          const s = this.dropdownView.panelView;
          r.set({ label: n("Insert image"), icon: __.image, tooltip: true });
          s.extendTemplate({ attributes: { class: "ck-image-insert__panel" } });
          if (i) {
            const t = this.dropdownView.buttonView;
            t.actionView = e.ui.componentFactory.create("uploadImage");
            t.actionView.extendTemplate({
              attributes: { class: "ck ck-button ck-splitbutton__action" },
            });
          }
          return this._setUpDropdown(i || o);
        }
        _setUpDropdown(t) {
          const e = this.editor;
          const n = e.t;
          const i = new XP(e.locale, tR(e));
          const o = i.insertButtonView;
          const r = i.getIntegration("insertImageViaUrl");
          const s = this.dropdownView;
          const a = s.panelView;
          const c = this.editor.plugins.get("ImageUtils");
          s.bind("isEnabled").to(t);
          s.once("change:isOpen", () => {
            a.children.add(i);
          });
          s.on(
            "change:isOpen",
            () => {
              const t = e.model.document.selection.getSelectedElement();
              if (s.isOpen) {
                if (c.isImage(t)) {
                  i.imageURLInputValue = t.getAttribute("src");
                  o.label = n("Update");
                  r.label = n("Update image URL");
                } else {
                  i.imageURLInputValue = "";
                  o.label = n("Insert");
                  r.label = n("Insert image via URL");
                }
              }
            },
            { priority: "low" }
          );
          i.delegate("submit", "cancel").to(s);
          this.delegate("cancel").to(s);
          s.on("submit", () => {
            d();
            l();
          });
          s.on("cancel", () => {
            d();
          });
          function l() {
            const t = e.model.document.selection.getSelectedElement();
            if (c.isImage(t)) {
              e.model.change((e) => {
                e.setAttribute("src", i.imageURLInputValue, t);
                e.removeAttribute("srcset", t);
                e.removeAttribute("sizes", t);
              });
            } else {
              e.execute("insertImage", { source: i.imageURLInputValue });
            }
          }
          function d() {
            e.editing.view.focus();
            s.isOpen = false;
          }
          return s;
        }
      }
      class iR extends Cl {
        static get pluginName() {
          return "ImageInsertViaUrl";
        }
        static get requires() {
          return [nR];
        }
      }
      class oR extends Cl {
        static get pluginName() {
          return "ImageInsert";
        }
        static get requires() {
          return [UP, iR, nR];
        }
      }
      class rR extends vl {
        refresh() {
          const t = this.editor;
          const e = t.plugins.get("ImageUtils");
          const n = e.getClosestSelectedImageElement(
            t.model.document.selection
          );
          this.isEnabled = !!n;
          if (!n || !n.hasAttribute("width")) {
            this.value = null;
          } else {
            this.value = { width: n.getAttribute("width"), height: null };
          }
        }
        execute(t) {
          const e = this.editor;
          const n = e.model;
          const i = e.plugins.get("ImageUtils");
          const o = i.getClosestSelectedImageElement(n.document.selection);
          this.value = { width: t.width, height: null };
          if (o) {
            n.change((e) => {
              e.setAttribute("width", t.width, o);
            });
          }
        }
      }
      class sR extends Cl {
        static get requires() {
          return [$S];
        }
        static get pluginName() {
          return "ImageResizeEditing";
        }
        constructor(t) {
          super(t);
          t.config.define("image", {
            resizeUnit: "%",
            resizeOptions: [
              { name: "resizeImage:original", value: null, icon: "original" },
              { name: "resizeImage:25", value: "25", icon: "small" },
              { name: "resizeImage:50", value: "50", icon: "medium" },
              { name: "resizeImage:75", value: "75", icon: "large" },
            ],
          });
        }
        init() {
          const t = this.editor;
          const e = new rR(t);
          this._registerSchema();
          this._registerConverters("imageBlock");
          this._registerConverters("imageInline");
          t.commands.add("resizeImage", e);
          t.commands.add("imageResize", e);
        }
        _registerSchema() {
          if (this.editor.plugins.has("ImageBlockEditing")) {
            this.editor.model.schema.extend("imageBlock", {
              allowAttributes: "width",
            });
          }
          if (this.editor.plugins.has("ImageInlineEditing")) {
            this.editor.model.schema.extend("imageInline", {
              allowAttributes: "width",
            });
          }
        }
        _registerConverters(t) {
          const e = this.editor;
          e.conversion.for("downcast").add((e) =>
            e.on(\`attribute:width:\${t}\`, (t, e, n) => {
              if (!n.consumable.consume(e.item, t.name)) {
                return;
              }
              const i = n.writer;
              const o = n.mapper.toViewElement(e.item);
              if (e.attributeNewValue !== null) {
                i.setStyle("width", e.attributeNewValue, o);
                i.addClass("image_resized", o);
              } else {
                i.removeStyle("width", o);
                i.removeClass("image_resized", o);
              }
            })
          );
          e.conversion.for("upcast").attributeToAttribute({
            view: {
              name: t === "imageBlock" ? "figure" : "img",
              styles: { width: /.+/ },
            },
            model: { key: "width", value: (t) => t.getStyle("width") },
          });
        }
      }
      const aR = {
        small: __.objectSizeSmall,
        medium: __.objectSizeMedium,
        large: __.objectSizeLarge,
        original: __.objectSizeFull,
      };
      class cR extends Cl {
        static get requires() {
          return [sR];
        }
        static get pluginName() {
          return "ImageResizeButtons";
        }
        constructor(t) {
          super(t);
          this._resizeUnit = t.config.get("image.resizeUnit");
        }
        init() {
          const t = this.editor;
          const e = t.config.get("image.resizeOptions");
          const n = t.commands.get("resizeImage");
          this.bind("isEnabled").to(n);
          for (const t of e) {
            this._registerImageResizeButton(t);
          }
          this._registerImageResizeDropdown(e);
        }
        _registerImageResizeButton(t) {
          const e = this.editor;
          const { name: n, value: i, icon: o } = t;
          const r = i ? i + this._resizeUnit : null;
          e.ui.componentFactory.add(n, (n) => {
            const i = new R_(n);
            const s = e.commands.get("resizeImage");
            const a = this._getOptionLabelValue(t, true);
            if (!aR[o]) {
              throw new M("imageresizebuttons-missing-icon", e, t);
            }
            i.set({ label: a, icon: aR[o], tooltip: a, isToggleable: true });
            i.bind("isEnabled").to(this);
            i.bind("isOn").to(s, "value", lR(r));
            this.listenTo(i, "execute", () => {
              e.execute("resizeImage", { width: r });
            });
            return i;
          });
        }
        _registerImageResizeDropdown(t) {
          const e = this.editor;
          const n = e.t;
          const i = t.find((t) => !t.value);
          const o = (o) => {
            const r = e.commands.get("resizeImage");
            const s = Uv(o, tv);
            const a = s.buttonView;
            a.set({
              tooltip: n("Resize image"),
              commandValue: i.value,
              icon: aR.medium,
              isToggleable: true,
              label: this._getOptionLabelValue(i),
              withText: true,
              class: "ck-resize-image-button",
            });
            a.bind("label").to(r, "value", (t) => {
              if (t && t.width) {
                return t.width;
              } else {
                return this._getOptionLabelValue(i);
              }
            });
            s.bind("isOn").to(r);
            s.bind("isEnabled").to(this);
            Wv(s, this._getResizeDropdownListItemDefinitions(t, r));
            s.listView.ariaLabel = n("Image resize list");
            this.listenTo(s, "execute", (t) => {
              e.execute(t.source.commandName, { width: t.source.commandValue });
              e.editing.view.focus();
            });
            return s;
          };
          e.ui.componentFactory.add("resizeImage", o);
          e.ui.componentFactory.add("imageResize", o);
        }
        _getOptionLabelValue(t, e) {
          const n = this.editor.t;
          if (t.label) {
            return t.label;
          } else if (e) {
            if (t.value) {
              return n("Resize image to %0", t.value + this._resizeUnit);
            } else {
              return n("Resize image to the original size");
            }
          } else {
            if (t.value) {
              return t.value + this._resizeUnit;
            } else {
              return n("Original");
            }
          }
        }
        _getResizeDropdownListItemDefinitions(t, e) {
          const n = new rl();
          t.map((t) => {
            const i = t.value ? t.value + this._resizeUnit : null;
            const o = {
              type: "button",
              model: new Py({
                commandName: "resizeImage",
                commandValue: i,
                label: this._getOptionLabelValue(t),
                withText: true,
                icon: null,
              }),
            };
            o.model.bind("isOn").to(e, "value", lR(i));
            n.add(o);
          });
          return n;
        }
      }
      function lR(t) {
        return (e) => {
          if (t === null && e === t) {
            return true;
          }
          return e && e.width === t;
        };
      }
      const dR =
        "figure.image.ck-widget > img," +
        "figure.image.ck-widget > picture > img," +
        "figure.image.ck-widget > a > img," +
        "figure.image.ck-widget > a > picture > img," +
        "span.image-inline.ck-widget > img," +
        "span.image-inline.ck-widget > picture > img";
      const uR = /(image|image-inline)/;
      const hR = "image_resized";
      class mR extends Cl {
        static get requires() {
          return [fS];
        }
        static get pluginName() {
          return "ImageResizeHandles";
        }
        init() {
          const t = this.editor.commands.get("resizeImage");
          this.bind("isEnabled").to(t);
          this._setupResizerCreator();
        }
        _setupResizerCreator() {
          const t = this.editor;
          const e = t.editing.view;
          e.addObserver(zz);
          this.listenTo(e.document, "imageLoaded", (n, i) => {
            if (!i.target.matches(dR)) {
              return;
            }
            const o = t.editing.view.domConverter;
            const r = o.domToView(i.target);
            const s = r.findAncestor({ classes: uR });
            let a = this.editor.plugins.get(fS).getResizerByViewElement(s);
            if (a) {
              a.redraw();
              return;
            }
            const c = t.editing.mapper;
            const l = c.toModelElement(s);
            a = t.plugins.get(fS).attachTo({
              unit: t.config.get("image.resizeUnit"),
              modelElement: l,
              viewElement: s,
              editor: t,
              getHandleHost(t) {
                return t.querySelector("img");
              },
              getResizeHost() {
                return o.mapViewToDom(c.toViewElement(l.parent));
              },
              isCentered() {
                const t = l.getAttribute("imageStyle");
                return !t || t == "block" || t == "alignCenter";
              },
              onCommit(n) {
                e.change((t) => {
                  t.removeClass(hR, s);
                });
                t.execute("resizeImage", { width: n });
              },
            });
            a.on("updateSize", () => {
              if (!s.hasClass(hR)) {
                e.change((t) => {
                  t.addClass(hR, s);
                });
              }
            });
            a.bind("isEnabled").to(this);
          });
        }
      }
      var gR = n(1043);
      var fR = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      fR.insert = "head";
      fR.singleton = true;
      var pR = Il()(gR.Z, fR);
      const bR = gR.Z.locals || {};
      class kR extends Cl {
        static get requires() {
          return [sR, mR, cR];
        }
        static get pluginName() {
          return "ImageResize";
        }
      }
      class wR extends vl {
        constructor(t, e) {
          super(t);
          this._defaultStyles = { imageBlock: false, imageInline: false };
          this._styles = new Map(
            e.map((t) => {
              if (t.isDefault) {
                for (const e of t.modelElements) {
                  this._defaultStyles[e] = t.name;
                }
              }
              return [t.name, t];
            })
          );
        }
        refresh() {
          const t = this.editor;
          const e = t.plugins.get("ImageUtils");
          const n = e.getClosestSelectedImageElement(
            this.editor.model.document.selection
          );
          this.isEnabled = !!n;
          if (!this.isEnabled) {
            this.value = false;
          } else if (n.hasAttribute("imageStyle")) {
            this.value = n.getAttribute("imageStyle");
          } else {
            this.value = this._defaultStyles[n.name];
          }
        }
        execute(t = {}) {
          const e = this.editor;
          const n = e.model;
          const i = e.plugins.get("ImageUtils");
          n.change((e) => {
            const o = t.value;
            let r = i.getClosestSelectedImageElement(n.document.selection);
            if (o && this.shouldConvertImageType(o, r)) {
              this.editor.execute(
                i.isBlockImage(r) ? "imageTypeInline" : "imageTypeBlock"
              );
              r = i.getClosestSelectedImageElement(n.document.selection);
            }
            if (!o || this._styles.get(o).isDefault) {
              e.removeAttribute("imageStyle", r);
            } else {
              e.setAttribute("imageStyle", o, r);
            }
          });
        }
        shouldConvertImageType(t, e) {
          const n = this._styles.get(t).modelElements;
          return !n.includes(e.name);
        }
      }
      const {
        objectFullWidth: AR,
        objectInline: CR,
        objectLeft: _R,
        objectRight: vR,
        objectCenter: yR,
        objectBlockLeft: xR,
        objectBlockRight: ER,
      } = __;
      const DR = {
        get inline() {
          return {
            name: "inline",
            title: "In line",
            icon: CR,
            modelElements: ["imageInline"],
            isDefault: true,
          };
        },
        get alignLeft() {
          return {
            name: "alignLeft",
            title: "Left aligned image",
            icon: _R,
            modelElements: ["imageBlock", "imageInline"],
            className: "image-style-align-left",
          };
        },
        get alignBlockLeft() {
          return {
            name: "alignBlockLeft",
            title: "Left aligned image",
            icon: xR,
            modelElements: ["imageBlock"],
            className: "image-style-block-align-left",
          };
        },
        get alignCenter() {
          return {
            name: "alignCenter",
            title: "Centered image",
            icon: yR,
            modelElements: ["imageBlock"],
            className: "image-style-align-center",
          };
        },
        get alignRight() {
          return {
            name: "alignRight",
            title: "Right aligned image",
            icon: vR,
            modelElements: ["imageBlock", "imageInline"],
            className: "image-style-align-right",
          };
        },
        get alignBlockRight() {
          return {
            name: "alignBlockRight",
            title: "Right aligned image",
            icon: ER,
            modelElements: ["imageBlock"],
            className: "image-style-block-align-right",
          };
        },
        get block() {
          return {
            name: "block",
            title: "Centered image",
            icon: yR,
            modelElements: ["imageBlock"],
            isDefault: true,
          };
        },
        get side() {
          return {
            name: "side",
            title: "Side image",
            icon: vR,
            modelElements: ["imageBlock"],
            className: "image-style-side",
          };
        },
      };
      const SR = {
        full: AR,
        left: xR,
        right: ER,
        center: yR,
        inlineLeft: _R,
        inlineRight: vR,
        inline: CR,
      };
      const TR = [
        {
          name: "imageStyle:wrapText",
          title: "Wrap text",
          defaultItem: "imageStyle:alignLeft",
          items: ["imageStyle:alignLeft", "imageStyle:alignRight"],
        },
        {
          name: "imageStyle:breakText",
          title: "Break text",
          defaultItem: "imageStyle:block",
          items: [
            "imageStyle:alignBlockLeft",
            "imageStyle:block",
            "imageStyle:alignBlockRight",
          ],
        },
      ];
      function IR(t) {
        const e = t.configuredStyles.options || [];
        const n = e.map((t) => LR(t)).filter((e) => NR(e, t));
        return n;
      }
      function MR(t, e) {
        if (t && e) {
          return {
            options: [
              "inline",
              "alignLeft",
              "alignRight",
              "alignCenter",
              "alignBlockLeft",
              "alignBlockRight",
              "block",
              "side",
            ],
          };
        } else if (t) {
          return { options: ["block", "side"] };
        } else if (e) {
          return { options: ["inline", "alignLeft", "alignRight"] };
        }
        return {};
      }
      function BR(t) {
        if (t.has("ImageBlockEditing") && t.has("ImageInlineEditing")) {
          return [...TR];
        } else {
          return [];
        }
      }
      function LR(t) {
        if (typeof t === "string") {
          if (!DR[t]) {
            t = { name: t };
          } else {
            t = { ...DR[t] };
          }
        } else {
          t = zR(DR[t.name], t);
        }
        if (typeof t.icon === "string") {
          t.icon = SR[t.icon] || t.icon;
        }
        return t;
      }
      function NR(t, { isBlockPluginLoaded: e, isInlinePluginLoaded: n }) {
        const { modelElements: i, name: o } = t;
        if (!i || !i.length || !o) {
          PR({ style: t });
          return false;
        } else {
          const o = [e ? "imageBlock" : null, n ? "imageInline" : null];
          if (!i.some((t) => o.includes(t))) {
            B("image-style-missing-dependency", {
              style: t,
              missingPlugins: i.map((t) =>
                t === "imageBlock" ? "ImageBlockEditing" : "ImageInlineEditing"
              ),
            });
            return false;
          }
        }
        return true;
      }
      function zR(t, e) {
        const n = { ...e };
        for (const i in t) {
          if (!Object.prototype.hasOwnProperty.call(e, i)) {
            n[i] = t[i];
          }
        }
        return n;
      }
      function PR(t) {
        B("image-style-configuration-definition-invalid", t);
      }
      const RR = {
        normalizeStyles: IR,
        getDefaultStylesConfiguration: MR,
        getDefaultDropdownDefinitions: BR,
        warnInvalidStyle: PR,
        DEFAULT_OPTIONS: DR,
        DEFAULT_ICONS: SR,
        DEFAULT_DROPDOWN_DEFINITIONS: TR,
      };
      function OR(t) {
        return (e, n, i) => {
          if (!i.consumable.consume(n.item, e.name)) {
            return;
          }
          const o = FR(n.attributeNewValue, t);
          const r = FR(n.attributeOldValue, t);
          const s = i.mapper.toViewElement(n.item);
          const a = i.writer;
          if (r) {
            a.removeClass(r.className, s);
          }
          if (o) {
            a.addClass(o.className, s);
          }
        };
      }
      function jR(t) {
        const e = {
          imageInline: t.filter(
            (t) => !t.isDefault && t.modelElements.includes("imageInline")
          ),
          imageBlock: t.filter(
            (t) => !t.isDefault && t.modelElements.includes("imageBlock")
          ),
        };
        return (t, n, i) => {
          if (!n.modelRange) {
            return;
          }
          const o = n.viewItem;
          const r = sl(n.modelRange.getItems());
          if (!r) {
            return;
          }
          if (!i.schema.checkAttribute(r, "imageStyle")) {
            return;
          }
          for (const t of e[r.name]) {
            if (i.consumable.consume(o, { classes: t.className })) {
              i.writer.setAttribute("imageStyle", t.name, r);
            }
          }
        };
      }
      function FR(t, e) {
        for (const n of e) {
          if (n.name === t) {
            return n;
          }
        }
      }
      class VR extends Cl {
        static get pluginName() {
          return "ImageStyleEditing";
        }
        static get requires() {
          return [$S];
        }
        init() {
          const { normalizeStyles: t, getDefaultStylesConfiguration: e } = RR;
          const n = this.editor;
          const i = n.plugins.has("ImageBlockEditing");
          const o = n.plugins.has("ImageInlineEditing");
          n.config.define("image.styles", e(i, o));
          this.normalizedStyles = t({
            configuredStyles: n.config.get("image.styles"),
            isBlockPluginLoaded: i,
            isInlinePluginLoaded: o,
          });
          this._setupConversion(i, o);
          this._setupPostFixer();
          n.commands.add("imageStyle", new wR(n, this.normalizedStyles));
        }
        _setupConversion(t, e) {
          const n = this.editor;
          const i = n.model.schema;
          const o = OR(this.normalizedStyles);
          const r = jR(this.normalizedStyles);
          n.editing.downcastDispatcher.on("attribute:imageStyle", o);
          n.data.downcastDispatcher.on("attribute:imageStyle", o);
          if (t) {
            i.extend("imageBlock", { allowAttributes: "imageStyle" });
            n.data.upcastDispatcher.on("element:figure", r, {
              priority: "low",
            });
          }
          if (e) {
            i.extend("imageInline", { allowAttributes: "imageStyle" });
            n.data.upcastDispatcher.on("element:img", r, { priority: "low" });
          }
        }
        _setupPostFixer() {
          const t = this.editor;
          const e = t.model.document;
          const n = t.plugins.get($S);
          const i = new Map(this.normalizedStyles.map((t) => [t.name, t]));
          e.registerPostFixer((t) => {
            let o = false;
            for (const r of e.differ.getChanges()) {
              if (
                r.type == "insert" ||
                (r.type == "attribute" && r.attributeKey == "imageStyle")
              ) {
                let e =
                  r.type == "insert"
                    ? r.position.nodeAfter
                    : r.range.start.nodeAfter;
                if (e && e.is("element", "paragraph") && e.childCount > 0) {
                  e = e.getChild(0);
                }
                if (!n.isImage(e)) {
                  continue;
                }
                const s = e.getAttribute("imageStyle");
                if (!s) {
                  continue;
                }
                const a = i.get(s);
                if (!a || !a.modelElements.includes(e.name)) {
                  t.removeAttribute("imageStyle", e);
                  o = true;
                }
              }
            }
            return o;
          });
        }
      }
      var HR = n(4622);
      var UR = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      UR.insert = "head";
      UR.singleton = true;
      var qR = Il()(HR.Z, UR);
      const WR = HR.Z.locals || {};
      class GR extends Cl {
        static get requires() {
          return [VR];
        }
        static get pluginName() {
          return "ImageStyleUI";
        }
        get localizedDefaultStylesTitles() {
          const t = this.editor.t;
          return {
            "Wrap text": t("Wrap text"),
            "Break text": t("Break text"),
            "In line": t("In line"),
            "Full size image": t("Full size image"),
            "Side image": t("Side image"),
            "Left aligned image": t("Left aligned image"),
            "Centered image": t("Centered image"),
            "Right aligned image": t("Right aligned image"),
          };
        }
        init() {
          const t = this.editor.plugins;
          const e = this.editor.config.get("image.toolbar") || [];
          const n = $R(
            t.get("ImageStyleEditing").normalizedStyles,
            this.localizedDefaultStylesTitles
          );
          for (const t of n) {
            this._createButton(t);
          }
          const i = $R(
            [...e.filter(it), ...RR.getDefaultDropdownDefinitions(t)],
            this.localizedDefaultStylesTitles
          );
          for (const t of i) {
            this._createDropdown(t, n);
          }
        }
        _createDropdown(t, e) {
          const n = this.editor.ui.componentFactory;
          n.add(t.name, (i) => {
            let o;
            const { defaultItem: r, items: s, title: a } = t;
            const c = s
              .filter((t) => e.find(({ name: e }) => KR(e) === t))
              .map((t) => {
                const e = n.create(t);
                if (t === r) {
                  o = e;
                }
                return e;
              });
            if (s.length !== c.length) {
              RR.warnInvalidStyle({ dropdown: t });
            }
            const l = Uv(i, rv);
            const d = l.buttonView;
            const u = d.arrowView;
            qv(l, c, { enableActiveItemFocusOnDropdownOpen: true });
            d.set({ label: YR(a, o.label), class: null, tooltip: true });
            u.unbind("label");
            u.set({ label: a });
            d.bind("icon").toMany(c, "isOn", (...t) => {
              const e = t.findIndex(fu);
              return e < 0 ? o.icon : c[e].icon;
            });
            d.bind("label").toMany(c, "isOn", (...t) => {
              const e = t.findIndex(fu);
              return YR(a, e < 0 ? o.label : c[e].label);
            });
            d.bind("isOn").toMany(c, "isOn", (...t) => t.some(fu));
            d.bind("class").toMany(c, "isOn", (...t) =>
              t.some(fu) ? "ck-splitbutton_flatten" : null
            );
            d.on("execute", () => {
              if (!c.some(({ isOn: t }) => t)) {
                o.fire("execute");
              } else {
                l.isOpen = !l.isOpen;
              }
            });
            l.bind("isEnabled").toMany(c, "isEnabled", (...t) => t.some(fu));
            this.listenTo(l, "execute", () => {
              this.editor.editing.view.focus();
            });
            return l;
          });
        }
        _createButton(t) {
          const e = t.name;
          this.editor.ui.componentFactory.add(KR(e), (n) => {
            const i = this.editor.commands.get("imageStyle");
            const o = new R_(n);
            o.set({
              label: t.title,
              icon: t.icon,
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isEnabled").to(i, "isEnabled");
            o.bind("isOn").to(i, "value", (t) => t === e);
            o.on("execute", this._executeCommand.bind(this, e));
            return o;
          });
        }
        _executeCommand(t) {
          this.editor.execute("imageStyle", { value: t });
          this.editor.editing.view.focus();
        }
      }
      function $R(t, e) {
        for (const n of t) {
          if (e[n.title]) {
            n.title = e[n.title];
          }
        }
        return t;
      }
      function KR(t) {
        return \`imageStyle:\${t}\`;
      }
      function YR(t, e) {
        return (t ? t + ": " : "") + e;
      }
      class ZR extends Cl {
        static get requires() {
          return [VR, GR];
        }
        static get pluginName() {
          return "ImageStyle";
        }
      }
      class QR extends Cl {
        static get requires() {
          return [$D, $S];
        }
        static get pluginName() {
          return "ImageToolbar";
        }
        afterInit() {
          const t = this.editor;
          const e = t.t;
          const n = t.plugins.get($D);
          const i = t.plugins.get("ImageUtils");
          n.register("image", {
            ariaLabel: e("Image toolbar"),
            items: JR(t.config.get("image.toolbar") || []),
            getRelatedElement: (t) => i.getClosestSelectedImageWidget(t),
          });
        }
      }
      function JR(t) {
        return t.map((t) => (it(t) ? t.name : t));
      }
      class XR extends Cl {
        static get pluginName() {
          return "IndentEditing";
        }
        init() {
          const t = this.editor;
          t.commands.add("indent", new xl(t));
          t.commands.add("outdent", new xl(t));
        }
      }
      const tO =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>';
      const eO =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';
      class nO extends Cl {
        static get pluginName() {
          return "IndentUI";
        }
        init() {
          const t = this.editor;
          const e = t.locale;
          const n = t.t;
          const i = e.uiLanguageDirection == "ltr" ? tO : eO;
          const o = e.uiLanguageDirection == "ltr" ? eO : tO;
          this._defineButton("indent", n("Increase indent"), i);
          this._defineButton("outdent", n("Decrease indent"), o);
        }
        _defineButton(t, e, n) {
          const i = this.editor;
          i.ui.componentFactory.add(t, (o) => {
            const r = i.commands.get(t);
            const s = new R_(o);
            s.set({ label: e, icon: n, tooltip: true });
            s.bind("isOn", "isEnabled").to(r, "value", "isEnabled");
            this.listenTo(s, "execute", () => {
              i.execute(t);
              i.editing.view.focus();
            });
            return s;
          });
        }
      }
      class iO extends Cl {
        static get pluginName() {
          return "Indent";
        }
        static get requires() {
          return [XR, nO];
        }
      }
      class oO extends vl {
        constructor(t, e) {
          super(t);
          this._indentBehavior = e;
        }
        refresh() {
          const t = this.editor;
          const e = t.model;
          const n = sl(e.document.selection.getSelectedBlocks());
          if (!n || !e.schema.checkAttribute(n, "blockIndent")) {
            this.isEnabled = false;
            return;
          }
          this.isEnabled = this._indentBehavior.checkEnabled(
            n.getAttribute("blockIndent")
          );
        }
        execute() {
          const t = this.editor.model;
          const e = rO(t);
          t.change((t) => {
            for (const n of e) {
              const e = n.getAttribute("blockIndent");
              const i = this._indentBehavior.getNextIndent(e);
              if (i) {
                t.setAttribute("blockIndent", i, n);
              } else {
                t.removeAttribute("blockIndent", n);
              }
            }
          });
        }
      }
      function rO(t) {
        const e = t.document.selection;
        const n = t.schema;
        const i = Array.from(e.getSelectedBlocks());
        return i.filter((t) => n.checkAttribute(t, "blockIndent"));
      }
      class sO {
        constructor(t) {
          this.isForward = t.direction === "forward";
          this.offset = t.offset;
          this.unit = t.unit;
        }
        checkEnabled(t) {
          const e = parseFloat(t || 0);
          return this.isForward || e > 0;
        }
        getNextIndent(t) {
          const e = parseFloat(t || 0);
          const n = !t || t.endsWith(this.unit);
          if (!n) {
            return this.isForward ? this.offset + this.unit : undefined;
          }
          const i = this.isForward ? this.offset : -this.offset;
          const o = e + i;
          return o > 0 ? o + this.unit : undefined;
        }
      }
      class aO {
        constructor(t) {
          this.isForward = t.direction === "forward";
          this.classes = t.classes;
        }
        checkEnabled(t) {
          const e = this.classes.indexOf(t);
          if (this.isForward) {
            return e < this.classes.length - 1;
          } else {
            return e >= 0;
          }
        }
        getNextIndent(t) {
          const e = this.classes.indexOf(t);
          const n = this.isForward ? 1 : -1;
          return this.classes[e + n];
        }
      }
      const cO = [
        "paragraph",
        "heading1",
        "heading2",
        "heading3",
        "heading4",
        "heading5",
        "heading6",
      ];
      class lO extends Cl {
        constructor(t) {
          super(t);
          t.config.define("indentBlock", { offset: 40, unit: "px" });
        }
        static get pluginName() {
          return "IndentBlock";
        }
        init() {
          const t = this.editor;
          const e = t.config.get("indentBlock");
          const n = !e.classes || !e.classes.length;
          const i = Object.assign({ direction: "forward" }, e);
          const o = Object.assign({ direction: "backward" }, e);
          if (n) {
            t.data.addStyleProcessorRules(TA);
            this._setupConversionUsingOffset(t.conversion);
            t.commands.add("indentBlock", new oO(t, new sO(i)));
            t.commands.add("outdentBlock", new oO(t, new sO(o)));
          } else {
            this._setupConversionUsingClasses(e.classes);
            t.commands.add("indentBlock", new oO(t, new aO(i)));
            t.commands.add("outdentBlock", new oO(t, new aO(o)));
          }
        }
        afterInit() {
          const t = this.editor;
          const e = t.model.schema;
          const n = t.commands.get("indent");
          const i = t.commands.get("outdent");
          const o = t.config.get("heading.options");
          const r = o && o.map((t) => t.model);
          const s = r || cO;
          s.forEach((t) => {
            if (e.isRegistered(t)) {
              e.extend(t, { allowAttributes: "blockIndent" });
            }
          });
          e.setAttributeProperties("blockIndent", { isFormatting: true });
          n.registerChildCommand(t.commands.get("indentBlock"));
          i.registerChildCommand(t.commands.get("outdentBlock"));
        }
        _setupConversionUsingOffset() {
          const t = this.editor.conversion;
          const e = this.editor.locale;
          const n =
            e.contentLanguageDirection === "rtl"
              ? "margin-right"
              : "margin-left";
          t.for("upcast").attributeToAttribute({
            view: { styles: { [n]: /[\\s\\S]+/ } },
            model: { key: "blockIndent", value: (t) => t.getStyle(n) },
          });
          t.for("downcast").attributeToAttribute({
            model: "blockIndent",
            view: (t) => ({ key: "style", value: { [n]: t } }),
          });
        }
        _setupConversionUsingClasses(t) {
          const e = { model: { key: "blockIndent", values: [] }, view: {} };
          for (const n of t) {
            e.model.values.push(n);
            e.view[n] = { key: "class", value: [n] };
          }
          this.editor.conversion.attributeToAttribute(e);
        }
      }
      const dO = "italic";
      class uO extends Cl {
        static get pluginName() {
          return "ItalicEditing";
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: dO });
          t.model.schema.setAttributeProperties(dO, {
            isFormatting: true,
            copyOnEnter: true,
          });
          t.conversion.attributeToElement({
            model: dO,
            view: "i",
            upcastAlso: ["em", { styles: { "font-style": "italic" } }],
          });
          t.commands.add(dO, new SI(t, dO));
          t.keystrokes.set("CTRL+I", dO);
        }
      }
      const hO =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';
      const mO = "italic";
      class gO extends Cl {
        static get pluginName() {
          return "ItalicUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(mO, (n) => {
            const i = t.commands.get(mO);
            const o = new R_(n);
            o.set({
              label: e("Italic"),
              icon: hO,
              keystroke: "CTRL+I",
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(mO);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class fO extends Cl {
        static get requires() {
          return [uO, gO];
        }
        static get pluginName() {
          return "Italic";
        }
      }
      class pO {
        constructor() {
          this._definitions = new Set();
        }
        get length() {
          return this._definitions.size;
        }
        add(t) {
          if (Array.isArray(t)) {
            t.forEach((t) => this._definitions.add(t));
          } else {
            this._definitions.add(t);
          }
        }
        getDispatcher() {
          return (t) => {
            t.on(
              "attribute:linkHref",
              (t, e, n) => {
                if (!n.consumable.test(e.item, "attribute:linkHref")) {
                  return;
                }
                if (!(e.item.is("selection") || n.schema.isInline(e.item))) {
                  return;
                }
                const i = n.writer;
                const o = i.document.selection;
                for (const t of this._definitions) {
                  const r = i.createAttributeElement("a", t.attributes, {
                    priority: 5,
                  });
                  if (t.classes) {
                    i.addClass(t.classes, r);
                  }
                  for (const e in t.styles) {
                    i.setStyle(e, t.styles[e], r);
                  }
                  i.setCustomProperty("link", true, r);
                  if (t.callback(e.attributeNewValue)) {
                    if (e.item.is("selection")) {
                      i.wrap(o.getFirstRange(), r);
                    } else {
                      i.wrap(n.mapper.toViewRange(e.range), r);
                    }
                  } else {
                    i.unwrap(n.mapper.toViewRange(e.range), r);
                  }
                }
              },
              { priority: "high" }
            );
          };
        }
        getDispatcherForLinkedImage() {
          return (t) => {
            t.on(
              "attribute:linkHref:imageBlock",
              (t, e, { writer: n, mapper: i }) => {
                const o = i.toViewElement(e.item);
                const r = Array.from(o.getChildren()).find(
                  (t) => t.name === "a"
                );
                for (const t of this._definitions) {
                  const i = dl(t.attributes);
                  if (t.callback(e.attributeNewValue)) {
                    for (const [t, e] of i) {
                      if (t === "class") {
                        n.addClass(e, r);
                      } else {
                        n.setAttribute(t, e, r);
                      }
                    }
                    if (t.classes) {
                      n.addClass(t.classes, r);
                    }
                    for (const e in t.styles) {
                      n.setStyle(e, t.styles[e], r);
                    }
                  } else {
                    for (const [t, e] of i) {
                      if (t === "class") {
                        n.removeClass(e, r);
                      } else {
                        n.removeAttribute(t, r);
                      }
                    }
                    if (t.classes) {
                      n.removeClass(t.classes, r);
                    }
                    for (const e in t.styles) {
                      n.removeStyle(e, r);
                    }
                  }
                }
              }
            );
          };
        }
      }
      class bO extends vl {
        constructor(t) {
          super(t);
          this.manualDecorators = new rl();
          this.automaticDecorators = new pO();
        }
        restoreManualDecoratorStates() {
          for (const t of this.manualDecorators) {
            t.value = this._getDecoratorStateFromModel(t.id);
          }
        }
        refresh() {
          const t = this.editor.model;
          const e = t.document.selection;
          const n = e.getSelectedElement() || sl(e.getSelectedBlocks());
          if (XT(n, t.schema)) {
            this.value = n.getAttribute("linkHref");
            this.isEnabled = t.schema.checkAttribute(n, "linkHref");
          } else {
            this.value = e.getAttribute("linkHref");
            this.isEnabled = t.schema.checkAttributeInSelection(e, "linkHref");
          }
          for (const t of this.manualDecorators) {
            t.value = this._getDecoratorStateFromModel(t.id);
          }
        }
        execute(t, e = {}) {
          const n = this.editor.model;
          const i = n.document.selection;
          const o = [];
          const r = [];
          for (const t in e) {
            if (e[t]) {
              o.push(t);
            } else {
              r.push(t);
            }
          }
          n.change((e) => {
            if (i.isCollapsed) {
              const s = i.getFirstPosition();
              if (i.hasAttribute("linkHref")) {
                const a = _E(s, "linkHref", i.getAttribute("linkHref"), n);
                e.setAttribute("linkHref", t, a);
                o.forEach((t) => {
                  e.setAttribute(t, true, a);
                });
                r.forEach((t) => {
                  e.removeAttribute(t, a);
                });
                e.setSelection(e.createPositionAfter(a.end.nodeBefore));
              } else if (t !== "") {
                const r = dl(i.getAttributes());
                r.set("linkHref", t);
                o.forEach((t) => {
                  r.set(t, true);
                });
                const { end: a } = n.insertContent(e.createText(t, r), s);
                e.setSelection(a);
              }
              ["linkHref", ...o, ...r].forEach((t) => {
                e.removeSelectionAttribute(t);
              });
            } else {
              const s = n.schema.getValidRanges(i.getRanges(), "linkHref");
              const a = [];
              for (const t of i.getSelectedBlocks()) {
                if (n.schema.checkAttribute(t, "linkHref")) {
                  a.push(e.createRangeOn(t));
                }
              }
              const c = a.slice();
              for (const t of s) {
                if (this._isRangeToUpdate(t, a)) {
                  c.push(t);
                }
              }
              for (const n of c) {
                e.setAttribute("linkHref", t, n);
                o.forEach((t) => {
                  e.setAttribute(t, true, n);
                });
                r.forEach((t) => {
                  e.removeAttribute(t, n);
                });
              }
            }
          });
        }
        _getDecoratorStateFromModel(t) {
          const e = this.editor.model;
          const n = e.document.selection;
          const i = n.getSelectedElement();
          if (XT(i, e.schema)) {
            return i.getAttribute(t);
          }
          return n.getAttribute(t);
        }
        _isRangeToUpdate(t, e) {
          for (const n of e) {
            if (n.containsRange(t)) {
              return false;
            }
          }
          return true;
        }
      }
      class kO extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.document.selection;
          const n = e.getSelectedElement();
          if (XT(n, t.schema)) {
            this.isEnabled = t.schema.checkAttribute(n, "linkHref");
          } else {
            this.isEnabled = t.schema.checkAttributeInSelection(e, "linkHref");
          }
        }
        execute() {
          const t = this.editor;
          const e = this.editor.model;
          const n = e.document.selection;
          const i = t.commands.get("link");
          e.change((t) => {
            const o = n.isCollapsed
              ? [
                  _E(
                    n.getFirstPosition(),
                    "linkHref",
                    n.getAttribute("linkHref"),
                    e
                  ),
                ]
              : e.schema.getValidRanges(n.getRanges(), "linkHref");
            for (const e of o) {
              t.removeAttribute("linkHref", e);
              if (i) {
                for (const n of i.manualDecorators) {
                  t.removeAttribute(n.id, e);
                }
              }
            }
          });
        }
      }
      class wO {
        constructor({
          id: t,
          label: e,
          attributes: n,
          classes: i,
          styles: o,
          defaultValue: r,
        }) {
          this.id = t;
          this.set("value");
          this.defaultValue = r;
          this.label = e;
          this.attributes = n;
          this.classes = i;
          this.styles = o;
        }
        _createPattern() {
          return {
            attributes: this.attributes,
            classes: this.classes,
            styles: this.styles,
          };
        }
      }
      C(wO, dt);
      var AO = n(399);
      var CO = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      CO.insert = "head";
      CO.singleton = true;
      var _O = Il()(AO.Z, CO);
      const vO = AO.Z.locals || {};
      const yO = "ck-link_selected";
      const xO = "automatic";
      const EO = "manual";
      const DO = /^(https?:)?\\/\\//;
      class SO extends Cl {
        static get pluginName() {
          return "LinkEditing";
        }
        static get requires() {
          return [nE, Fx, RE];
        }
        constructor(t) {
          super(t);
          t.config.define("link", { addTargetToExternalLinks: false });
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: "linkHref" });
          t.conversion
            .for("dataDowncast")
            .attributeToElement({ model: "linkHref", view: KT });
          t.conversion.for("editingDowncast").attributeToElement({
            model: "linkHref",
            view: (t, e) => KT(YT(t), e),
          });
          t.conversion.for("upcast").elementToAttribute({
            view: { name: "a", attributes: { href: true } },
            model: { key: "linkHref", value: (t) => t.getAttribute("href") },
          });
          t.commands.add("link", new bO(t));
          t.commands.add("unlink", new kO(t));
          const e = QT(t.t, JT(t.config.get("link.decorators")));
          this._enableAutomaticDecorators(e.filter((t) => t.mode === xO));
          this._enableManualDecorators(e.filter((t) => t.mode === EO));
          const n = t.plugins.get(nE);
          n.registerAttribute("linkHref");
          yE(t, "linkHref", "a", yO);
          this._enableLinkOpen();
          this._enableInsertContentSelectionAttributesFixer();
          this._enableClickingAfterLink();
          this._enableTypingOverLink();
          this._handleDeleteContentAfterLink();
        }
        _enableAutomaticDecorators(t) {
          const e = this.editor;
          const n = e.commands.get("link");
          const i = n.automaticDecorators;
          if (e.config.get("link.addTargetToExternalLinks")) {
            i.add({
              id: "linkIsExternal",
              mode: xO,
              callback: (t) => DO.test(t),
              attributes: { target: "_blank", rel: "noopener noreferrer" },
            });
          }
          i.add(t);
          if (i.length) {
            e.conversion.for("downcast").add(i.getDispatcher());
          }
        }
        _enableManualDecorators(t) {
          if (!t.length) {
            return;
          }
          const e = this.editor;
          const n = e.commands.get("link");
          const i = n.manualDecorators;
          t.forEach((t) => {
            e.model.schema.extend("$text", { allowAttributes: t.id });
            t = new wO(t);
            i.add(t);
            e.conversion.for("downcast").attributeToElement({
              model: t.id,
              view: (e, { writer: n, schema: i }, { item: o }) => {
                if (!(o.is("selection") || i.isInline(o))) {
                  return;
                }
                if (e) {
                  const e = n.createAttributeElement("a", t.attributes, {
                    priority: 5,
                  });
                  if (t.classes) {
                    n.addClass(t.classes, e);
                  }
                  for (const i in t.styles) {
                    n.setStyle(i, t.styles[i], e);
                  }
                  n.setCustomProperty("link", true, e);
                  return e;
                }
              },
            });
            e.conversion.for("upcast").elementToAttribute({
              view: { name: "a", ...t._createPattern() },
              model: { key: t.id },
            });
          });
        }
        _enableLinkOpen() {
          const t = this.editor;
          const e = t.editing.view;
          const n = e.document;
          this.listenTo(
            n,
            "click",
            (t, e) => {
              const n = r.isMac ? e.domEvent.metaKey : e.domEvent.ctrlKey;
              if (!n) {
                return;
              }
              let i = e.domTarget;
              if (i.tagName.toLowerCase() != "a") {
                i = i.closest("a");
              }
              if (!i) {
                return;
              }
              const o = i.getAttribute("href");
              if (!o) {
                return;
              }
              t.stop();
              e.preventDefault();
              iI(o);
            },
            { context: "$capture" }
          );
          this.listenTo(n, "keydown", (e, n) => {
            const i = t.commands.get("link").value;
            const o = i && n.keyCode === Oc.enter && n.altKey;
            if (!o) {
              return;
            }
            e.stop();
            iI(i);
          });
        }
        _enableInsertContentSelectionAttributesFixer() {
          const t = this.editor;
          const e = t.model;
          const n = e.document.selection;
          this.listenTo(
            e,
            "insertContent",
            () => {
              const t = n.anchor.nodeBefore;
              const i = n.anchor.nodeAfter;
              if (!n.hasAttribute("linkHref")) {
                return;
              }
              if (!t) {
                return;
              }
              if (!t.hasAttribute("linkHref")) {
                return;
              }
              if (i && i.hasAttribute("linkHref")) {
                return;
              }
              e.change((t) => {
                TO(t, BO(e.schema));
              });
            },
            { priority: "low" }
          );
        }
        _enableClickingAfterLink() {
          const t = this.editor;
          const e = t.model;
          t.editing.view.addObserver(jw);
          let n = false;
          this.listenTo(t.editing.view.document, "mousedown", () => {
            n = true;
          });
          this.listenTo(t.editing.view.document, "selectionChange", () => {
            if (!n) {
              return;
            }
            n = false;
            const t = e.document.selection;
            if (!t.isCollapsed) {
              return;
            }
            if (!t.hasAttribute("linkHref")) {
              return;
            }
            const i = t.getFirstPosition();
            const o = _E(i, "linkHref", t.getAttribute("linkHref"), e);
            if (i.isTouching(o.start) || i.isTouching(o.end)) {
              e.change((t) => {
                TO(t, BO(e.schema));
              });
            }
          });
        }
        _enableTypingOverLink() {
          const t = this.editor;
          const e = t.editing.view;
          let n;
          let i;
          this.listenTo(
            e.document,
            "delete",
            () => {
              i = true;
            },
            { priority: "high" }
          );
          this.listenTo(
            t.model,
            "deleteContent",
            () => {
              const e = t.model.document.selection;
              if (e.isCollapsed) {
                return;
              }
              if (i) {
                i = false;
                return;
              }
              if (!MO(t)) {
                return;
              }
              if (IO(t.model)) {
                n = e.getAttributes();
              }
            },
            { priority: "high" }
          );
          this.listenTo(
            t.model,
            "insertContent",
            (e, [o]) => {
              i = false;
              if (!MO(t)) {
                return;
              }
              if (!n) {
                return;
              }
              t.model.change((t) => {
                for (const [e, i] of n) {
                  t.setAttribute(e, i, o);
                }
              });
              n = null;
            },
            { priority: "high" }
          );
        }
        _handleDeleteContentAfterLink() {
          const t = this.editor;
          const e = t.model;
          const n = e.document.selection;
          const i = t.editing.view;
          let o = false;
          let r = false;
          this.listenTo(
            i.document,
            "delete",
            (t, e) => {
              r = e.direction === "backward";
            },
            { priority: "high" }
          );
          this.listenTo(
            e,
            "deleteContent",
            () => {
              o = false;
              const t = n.getFirstPosition();
              const i = n.getAttribute("linkHref");
              if (!i) {
                return;
              }
              const r = _E(t, "linkHref", i, e);
              o = r.containsPosition(t) || r.end.isEqual(t);
            },
            { priority: "high" }
          );
          this.listenTo(
            e,
            "deleteContent",
            () => {
              if (!r) {
                return;
              }
              r = false;
              if (o) {
                return;
              }
              t.model.enqueueChange((t) => {
                TO(t, BO(e.schema));
              });
            },
            { priority: "low" }
          );
        }
      }
      function TO(t, e) {
        t.removeSelectionAttribute("linkHref");
        for (const n of e) {
          t.removeSelectionAttribute(n);
        }
      }
      function IO(t) {
        const e = t.document.selection;
        const n = e.getFirstPosition();
        const i = e.getLastPosition();
        const o = n.nodeAfter;
        if (!o) {
          return false;
        }
        if (!o.is("$text")) {
          return false;
        }
        if (!o.hasAttribute("linkHref")) {
          return false;
        }
        const r = i.textNode || i.nodeBefore;
        if (o === r) {
          return true;
        }
        const s = _E(n, "linkHref", o.getAttribute("linkHref"), t);
        return s.containsRange(t.createRange(n, i), true);
      }
      function MO(t) {
        const e = t.model.change((t) => t.batch);
        return e.isTyping;
      }
      function BO(t) {
        const e = t.getDefinition("$text").allowAttributes;
        return e.filter((t) => t.startsWith("link"));
      }
      var LO = n(4827);
      var NO = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      NO.insert = "head";
      NO.singleton = true;
      var zO = Il()(LO.Z, NO);
      const PO = LO.Z.locals || {};
      class RO extends pC {
        constructor(t, e) {
          super(t);
          const n = t.t;
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.urlInputView = this._createUrlInput();
          this.saveButtonView = this._createButton(
            n("Save"),
            __.check,
            "ck-button-save"
          );
          this.saveButtonView.type = "submit";
          this.cancelButtonView = this._createButton(
            n("Cancel"),
            __.cancel,
            "ck-button-cancel",
            "cancel"
          );
          this._manualDecoratorSwitches =
            this._createManualDecoratorSwitches(e);
          this.children = this._createFormChildren(e.manualDecorators);
          this._focusables = new PA();
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          const i = ["ck", "ck-link-form", "ck-responsive-form"];
          if (e.manualDecorators.length) {
            i.push("ck-link-form_layout-vertical", "ck-vertical-form");
          }
          this.setTemplate({
            tag: "form",
            attributes: { class: i, tabindex: "-1" },
            children: this.children,
          });
          y_(this);
        }
        getDecoratorSwitchesState() {
          return Array.from(this._manualDecoratorSwitches).reduce((t, e) => {
            t[e.name] = e.isOn;
            return t;
          }, {});
        }
        render() {
          super.render();
          x_({ view: this });
          const t = [
            this.urlInputView,
            ...this._manualDecoratorSwitches,
            this.saveButtonView,
            this.cancelButtonView,
          ];
          t.forEach((t) => {
            this._focusables.add(t);
            this.focusTracker.add(t.element);
          });
          this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        _createUrlInput() {
          const t = this.locale.t;
          const e = new My(this.locale, By);
          e.label = t("Link URL");
          return e;
        }
        _createButton(t, e, n, i) {
          const o = new R_(this.locale);
          o.set({ label: t, icon: e, tooltip: true });
          o.extendTemplate({ attributes: { class: n } });
          if (i) {
            o.delegate("execute").to(this, i);
          }
          return o;
        }
        _createManualDecoratorSwitches(t) {
          const e = this.createCollection();
          for (const n of t.manualDecorators) {
            const i = new H_(this.locale);
            i.set({ name: n.id, label: n.label, withText: true });
            i.bind("isOn").toMany([n, t], "value", (t, e) =>
              e === undefined && t === undefined ? n.defaultValue : t
            );
            i.on("execute", () => {
              n.set("value", !i.isOn);
            });
            e.add(i);
          }
          return e;
        }
        _createFormChildren(t) {
          const e = this.createCollection();
          e.add(this.urlInputView);
          if (t.length) {
            const t = new pC();
            t.setTemplate({
              tag: "ul",
              children: this._manualDecoratorSwitches.map((t) => ({
                tag: "li",
                children: [t],
                attributes: { class: ["ck", "ck-list__item"] },
              })),
              attributes: { class: ["ck", "ck-reset", "ck-list"] },
            });
            e.add(t);
          }
          e.add(this.saveButtonView);
          e.add(this.cancelButtonView);
          return e;
        }
      }
      var OO = n(9465);
      var jO = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      jO.insert = "head";
      jO.singleton = true;
      var FO = Il()(OO.Z, jO);
      const VO = OO.Z.locals || {};
      const HO =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';
      class UO extends pC {
        constructor(t) {
          super(t);
          const e = t.t;
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.previewButtonView = this._createPreviewButton();
          this.unlinkButtonView = this._createButton(e("Unlink"), HO, "unlink");
          this.editButtonView = this._createButton(
            e("Edit link"),
            __.pencil,
            "edit"
          );
          this.set("href");
          this._focusables = new PA();
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this.setTemplate({
            tag: "div",
            attributes: {
              class: ["ck", "ck-link-actions", "ck-responsive-form"],
              tabindex: "-1",
            },
            children: [
              this.previewButtonView,
              this.editButtonView,
              this.unlinkButtonView,
            ],
          });
        }
        render() {
          super.render();
          const t = [
            this.previewButtonView,
            this.editButtonView,
            this.unlinkButtonView,
          ];
          t.forEach((t) => {
            this._focusables.add(t);
            this.focusTracker.add(t.element);
          });
          this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        _createButton(t, e, n) {
          const i = new R_(this.locale);
          i.set({ label: t, icon: e, tooltip: true });
          i.delegate("execute").to(this, n);
          return i;
        }
        _createPreviewButton() {
          const t = new R_(this.locale);
          const e = this.bindTemplate;
          const n = this.t;
          t.set({ withText: true, tooltip: n("Open link in new tab") });
          t.extendTemplate({
            attributes: {
              class: ["ck", "ck-link-actions__preview"],
              href: e.to("href", (t) => t && YT(t)),
              target: "_blank",
              rel: "noopener noreferrer",
            },
          });
          t.bind("label").to(
            this,
            "href",
            (t) => t || n("This link has no URL")
          );
          t.bind("isEnabled").to(this, "href", (t) => !!t);
          t.template.tag = "a";
          t.template.eventListeners = {};
          return t;
        }
      }
      const qO =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';
      const WO = "link-ui";
      class GO extends Cl {
        static get requires() {
          return [Ky];
        }
        static get pluginName() {
          return "LinkUI";
        }
        init() {
          const t = this.editor;
          t.editing.view.addObserver(Ow);
          this.actionsView = this._createActionsView();
          this.formView = this._createFormView();
          this._balloon = t.plugins.get(Ky);
          this._createToolbarLinkButton();
          this._enableUserBalloonInteractions();
          t.conversion.for("editingDowncast").markerToHighlight({
            model: WO,
            view: { classes: ["ck-fake-link-selection"] },
          });
          t.conversion.for("editingDowncast").markerToElement({
            model: WO,
            view: {
              name: "span",
              classes: [
                "ck-fake-link-selection",
                "ck-fake-link-selection_collapsed",
              ],
            },
          });
        }
        destroy() {
          super.destroy();
          this.formView.destroy();
        }
        _createActionsView() {
          const t = this.editor;
          const e = new UO(t.locale);
          const n = t.commands.get("link");
          const i = t.commands.get("unlink");
          e.bind("href").to(n, "value");
          e.editButtonView.bind("isEnabled").to(n);
          e.unlinkButtonView.bind("isEnabled").to(i);
          this.listenTo(e, "edit", () => {
            this._addFormView();
          });
          this.listenTo(e, "unlink", () => {
            t.execute("unlink");
            this._hideUI();
          });
          e.keystrokes.set("Esc", (t, e) => {
            this._hideUI();
            e();
          });
          e.keystrokes.set(GT, (t, e) => {
            this._addFormView();
            e();
          });
          return e;
        }
        _createFormView() {
          const t = this.editor;
          const e = t.commands.get("link");
          const n = t.config.get("link.defaultProtocol");
          const i = new RO(t.locale, e);
          i.urlInputView.fieldView.bind("value").to(e, "value");
          i.urlInputView.bind("isReadOnly").to(e, "isEnabled", (t) => !t);
          i.saveButtonView.bind("isEnabled").to(e);
          this.listenTo(i, "submit", () => {
            const { value: e } = i.urlInputView.fieldView.element;
            const o = eI(e, n);
            t.execute("link", o, i.getDecoratorSwitchesState());
            this._closeFormView();
          });
          this.listenTo(i, "cancel", () => {
            this._closeFormView();
          });
          i.keystrokes.set("Esc", (t, e) => {
            this._closeFormView();
            e();
          });
          return i;
        }
        _createToolbarLinkButton() {
          const t = this.editor;
          const e = t.commands.get("link");
          const n = t.t;
          t.keystrokes.set(GT, (t, n) => {
            n();
            if (e.isEnabled) {
              this._showUI(true);
            }
          });
          t.ui.componentFactory.add("link", (t) => {
            const i = new R_(t);
            i.isEnabled = true;
            i.label = n("Link");
            i.icon = qO;
            i.keystroke = GT;
            i.tooltip = true;
            i.isToggleable = true;
            i.bind("isEnabled").to(e, "isEnabled");
            i.bind("isOn").to(e, "value", (t) => !!t);
            this.listenTo(i, "execute", () => this._showUI(true));
            return i;
          });
        }
        _enableUserBalloonInteractions() {
          const t = this.editor.editing.view.document;
          this.listenTo(t, "click", () => {
            const t = this._getSelectedLinkElement();
            if (t) {
              this._showUI();
            }
          });
          this.editor.keystrokes.set(
            "Tab",
            (t, e) => {
              if (
                this._areActionsVisible &&
                !this.actionsView.focusTracker.isFocused
              ) {
                this.actionsView.focus();
                e();
              }
            },
            { priority: "high" }
          );
          this.editor.keystrokes.set("Esc", (t, e) => {
            if (this._isUIVisible) {
              this._hideUI();
              e();
            }
          });
          v_({
            emitter: this.formView,
            activator: () => this._isUIInPanel,
            contextElements: [this._balloon.view.element],
            callback: () => this._hideUI(),
          });
        }
        _addActionsView() {
          if (this._areActionsInPanel) {
            return;
          }
          this._balloon.add({
            view: this.actionsView,
            position: this._getBalloonPositionData(),
          });
        }
        _addFormView() {
          if (this._isFormInPanel) {
            return;
          }
          const t = this.editor;
          const e = t.commands.get("link");
          this.formView.disableCssTransitions();
          this._balloon.add({
            view: this.formView,
            position: this._getBalloonPositionData(),
          });
          if (this._balloon.visibleView === this.formView) {
            this.formView.urlInputView.fieldView.select();
          }
          this.formView.enableCssTransitions();
          this.formView.urlInputView.fieldView.element.value = e.value || "";
        }
        _closeFormView() {
          const t = this.editor.commands.get("link");
          t.restoreManualDecoratorStates();
          if (t.value !== undefined) {
            this._removeFormView();
          } else {
            this._hideUI();
          }
        }
        _removeFormView() {
          if (this._isFormInPanel) {
            this.formView.saveButtonView.focus();
            this._balloon.remove(this.formView);
            this.editor.editing.view.focus();
            this._hideFakeVisualSelection();
          }
        }
        _showUI(t = false) {
          if (!this._getSelectedLinkElement()) {
            this._showFakeVisualSelection();
            this._addActionsView();
            if (t) {
              this._balloon.showStack("main");
            }
            this._addFormView();
          } else {
            if (this._areActionsVisible) {
              this._addFormView();
            } else {
              this._addActionsView();
            }
            if (t) {
              this._balloon.showStack("main");
            }
          }
          this._startUpdatingUI();
        }
        _hideUI() {
          if (!this._isUIInPanel) {
            return;
          }
          const t = this.editor;
          this.stopListening(t.ui, "update");
          this.stopListening(this._balloon, "change:visibleView");
          t.editing.view.focus();
          this._removeFormView();
          this._balloon.remove(this.actionsView);
          this._hideFakeVisualSelection();
        }
        _startUpdatingUI() {
          const t = this.editor;
          const e = t.editing.view.document;
          let n = this._getSelectedLinkElement();
          let i = r();
          const o = () => {
            const t = this._getSelectedLinkElement();
            const e = r();
            if ((n && !t) || (!n && e !== i)) {
              this._hideUI();
            } else if (this._isUIVisible) {
              this._balloon.updatePosition(this._getBalloonPositionData());
            }
            n = t;
            i = e;
          };
          function r() {
            return e.selection.focus
              .getAncestors()
              .reverse()
              .find((t) => t.is("element"));
          }
          this.listenTo(t.ui, "update", o);
          this.listenTo(this._balloon, "change:visibleView", o);
        }
        get _isFormInPanel() {
          return this._balloon.hasView(this.formView);
        }
        get _areActionsInPanel() {
          return this._balloon.hasView(this.actionsView);
        }
        get _areActionsVisible() {
          return this._balloon.visibleView === this.actionsView;
        }
        get _isUIInPanel() {
          return this._isFormInPanel || this._areActionsInPanel;
        }
        get _isUIVisible() {
          const t = this._balloon.visibleView;
          return t == this.formView || this._areActionsVisible;
        }
        _getBalloonPositionData() {
          const t = this.editor.editing.view;
          const e = this.editor.model;
          const n = t.document;
          let i = null;
          if (e.markers.has(WO)) {
            const e = Array.from(
              this.editor.editing.mapper.markerNameToElements(WO)
            );
            const n = t.createRange(
              t.createPositionBefore(e[0]),
              t.createPositionAfter(e[e.length - 1])
            );
            i = t.domConverter.viewRangeToDom(n);
          } else {
            i = () => {
              const e = this._getSelectedLinkElement();
              return e
                ? t.domConverter.mapViewToDom(e)
                : t.domConverter.viewRangeToDom(n.selection.getFirstRange());
            };
          }
          return { target: i };
        }
        _getSelectedLinkElement() {
          const t = this.editor.editing.view;
          const e = t.document.selection;
          const n = e.getSelectedElement();
          if (e.isCollapsed || (n && iD(n))) {
            return $O(e.getFirstPosition());
          } else {
            const n = e.getFirstRange().getTrimmed();
            const i = $O(n.start);
            const o = $O(n.end);
            if (!i || i != o) {
              return null;
            }
            if (t.createRangeIn(i).getTrimmed().isEqual(n)) {
              return i;
            } else {
              return null;
            }
          }
        }
        _showFakeVisualSelection() {
          const t = this.editor.model;
          t.change((e) => {
            const n = t.document.selection.getFirstRange();
            if (t.markers.has(WO)) {
              e.updateMarker(WO, { range: n });
            } else {
              if (n.start.isAtEnd) {
                const i = n.start.getLastMatchingPosition(
                  ({ item: e }) => !t.schema.isContent(e),
                  { boundaries: n }
                );
                e.addMarker(WO, {
                  usingOperation: false,
                  affectsData: false,
                  range: e.createRange(i, n.end),
                });
              } else {
                e.addMarker(WO, {
                  usingOperation: false,
                  affectsData: false,
                  range: n,
                });
              }
            }
          });
        }
        _hideFakeVisualSelection() {
          const t = this.editor.model;
          if (t.markers.has(WO)) {
            t.change((t) => {
              t.removeMarker(WO);
            });
          }
        }
      }
      function $O(t) {
        return t.getAncestors().find((t) => $T(t));
      }
      class KO extends Cl {
        static get requires() {
          return [SO, GO, aI];
        }
        static get pluginName() {
          return "Link";
        }
      }
      class YO extends Cl {
        static get requires() {
          return ["ImageEditing", "ImageUtils", SO];
        }
        static get pluginName() {
          return "LinkImageEditing";
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          if (t.plugins.has("ImageBlockEditing")) {
            e.extend("imageBlock", { allowAttributes: ["linkHref"] });
          }
          t.conversion.for("upcast").add(ZO(t));
          t.conversion.for("downcast").add(QO(t));
          this._enableAutomaticDecorators();
          this._enableManualDecorators();
        }
        _enableAutomaticDecorators() {
          const t = this.editor;
          const e = t.commands.get("link");
          const n = e.automaticDecorators;
          if (n.length) {
            t.conversion.for("downcast").add(n.getDispatcherForLinkedImage());
          }
        }
        _enableManualDecorators() {
          const t = this.editor;
          const e = t.commands.get("link");
          for (const n of e.manualDecorators) {
            if (t.plugins.has("ImageBlockEditing")) {
              t.model.schema.extend("imageBlock", { allowAttributes: n.id });
            }
            if (t.plugins.has("ImageInlineEditing")) {
              t.model.schema.extend("imageInline", { allowAttributes: n.id });
            }
            t.conversion.for("downcast").add(JO(n));
            t.conversion.for("upcast").add(XO(t, n));
          }
        }
      }
      function ZO(t) {
        const e = t.plugins.has("ImageInlineEditing");
        const n = t.plugins.get("ImageUtils");
        return (t) => {
          t.on(
            "element:a",
            (t, i, o) => {
              const r = i.viewItem;
              const s = n.findViewImgElement(r);
              if (!s) {
                return;
              }
              const a = s.findAncestor((t) => n.isBlockImageView(t));
              if (e && !a) {
                return;
              }
              const c = { attributes: ["href"] };
              if (!o.consumable.consume(r, c)) {
                return;
              }
              const l = r.getAttribute("href");
              if (!l) {
                return;
              }
              let d = i.modelCursor.parent;
              if (!d.is("element", "imageBlock")) {
                const t = o.convertItem(s, i.modelCursor);
                i.modelRange = t.modelRange;
                i.modelCursor = t.modelCursor;
                d = i.modelCursor.nodeBefore;
              }
              if (d && d.is("element", "imageBlock")) {
                o.writer.setAttribute("linkHref", l, d);
              }
            },
            { priority: "high" }
          );
        };
      }
      function QO(t) {
        const e = t.plugins.get("ImageUtils");
        return (t) => {
          t.on(
            "attribute:linkHref:imageBlock",
            (t, n, i) => {
              if (!i.consumable.consume(n.item, t.name)) {
                return;
              }
              const o = i.mapper.toViewElement(n.item);
              const r = i.writer;
              const s = Array.from(o.getChildren()).find((t) => t.name === "a");
              const a = e.findViewImgElement(o);
              const c = a.parent.is("element", "picture") ? a.parent : a;
              if (s) {
                if (n.attributeNewValue) {
                  r.setAttribute("href", n.attributeNewValue, s);
                } else {
                  r.move(r.createRangeOn(c), r.createPositionAt(o, 0));
                  r.remove(s);
                }
              } else {
                const t = r.createContainerElement("a", {
                  href: n.attributeNewValue,
                });
                r.insert(r.createPositionAt(o, 0), t);
                r.move(r.createRangeOn(c), r.createPositionAt(t, 0));
              }
            },
            { priority: "high" }
          );
        };
      }
      function JO(t) {
        return (e) => {
          e.on(\`attribute:\${t.id}:imageBlock\`, (e, n, i) => {
            const o = i.mapper.toViewElement(n.item);
            const r = Array.from(o.getChildren()).find((t) => t.name === "a");
            if (!r) {
              return;
            }
            for (const [e, n] of dl(t.attributes)) {
              i.writer.setAttribute(e, n, r);
            }
            if (t.classes) {
              i.writer.addClass(t.classes, r);
            }
            for (const e in t.styles) {
              i.writer.setStyle(e, t.styles[e], r);
            }
          });
        };
      }
      function XO(t, e) {
        const n = t.plugins.has("ImageInlineEditing");
        const i = t.plugins.get("ImageUtils");
        return (t) => {
          t.on(
            "element:a",
            (t, o, r) => {
              const s = o.viewItem;
              const a = i.findViewImgElement(s);
              if (!a) {
                return;
              }
              const c = a.findAncestor((t) => i.isBlockImageView(t));
              if (n && !c) {
                return;
              }
              const l = new Ql(e._createPattern());
              const d = l.match(s);
              if (!d) {
                return;
              }
              if (!r.consumable.consume(s, d.match)) {
                return;
              }
              const u = o.modelCursor.nodeBefore || o.modelCursor.parent;
              r.writer.setAttribute(e.id, true, u);
            },
            { priority: "high" }
          );
        };
      }
      class tj extends Cl {
        static get requires() {
          return [SO, GO, "ImageBlockEditing"];
        }
        static get pluginName() {
          return "LinkImageUI";
        }
        init() {
          const t = this.editor;
          const e = t.editing.view.document;
          this.listenTo(
            e,
            "click",
            (e, n) => {
              if (this._isSelectedLinkedImage(t.model.document.selection)) {
                n.preventDefault();
                e.stop();
              }
            },
            { priority: "high" }
          );
          this._createToolbarLinkImageButton();
        }
        _createToolbarLinkImageButton() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add("linkImage", (n) => {
            const i = new R_(n);
            const o = t.plugins.get("LinkUI");
            const r = t.commands.get("link");
            i.set({
              isEnabled: true,
              label: e("Link image"),
              icon: qO,
              keystroke: GT,
              tooltip: true,
              isToggleable: true,
            });
            i.bind("isEnabled").to(r, "isEnabled");
            i.bind("isOn").to(r, "value", (t) => !!t);
            this.listenTo(i, "execute", () => {
              if (this._isSelectedLinkedImage(t.model.document.selection)) {
                o._addActionsView();
              } else {
                o._showUI(true);
              }
            });
            return i;
          });
        }
        _isSelectedLinkedImage(t) {
          const e = t.getSelectedElement();
          const n = this.editor.plugins.get("ImageUtils");
          return n.isImage(e) && e.hasAttribute("linkHref");
        }
      }
      var ej = n(3858);
      var nj = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      nj.insert = "head";
      nj.singleton = true;
      var ij = Il()(ej.Z, nj);
      const oj = ej.Z.locals || {};
      class rj extends Cl {
        static get requires() {
          return [YO, tj];
        }
        static get pluginName() {
          return "LinkImage";
        }
      }
      class sj extends vl {
        constructor(t, e) {
          super(t);
          this.type = e;
        }
        refresh() {
          this.value = this._getValue();
          this.isEnabled = this._checkEnabled();
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document;
          const i = Array.from(n.selection.getSelectedBlocks()).filter((t) =>
            cj(t, e.schema)
          );
          const o = t.forceValue !== undefined ? !t.forceValue : this.value;
          e.change((t) => {
            if (o) {
              let e = i[i.length - 1].nextSibling;
              let n = Number.POSITIVE_INFINITY;
              let o = [];
              while (
                e &&
                e.name == "listItem" &&
                e.getAttribute("listIndent") !== 0
              ) {
                const t = e.getAttribute("listIndent");
                if (t < n) {
                  n = t;
                }
                const i = t - n;
                o.push({ element: e, listIndent: i });
                e = e.nextSibling;
              }
              o = o.reverse();
              for (const e of o) {
                t.setAttribute("listIndent", e.listIndent, e.element);
              }
            }
            if (!o) {
              let t = Number.POSITIVE_INFINITY;
              for (const e of i) {
                if (
                  e.is("element", "listItem") &&
                  e.getAttribute("listIndent") < t
                ) {
                  t = e.getAttribute("listIndent");
                }
              }
              t = t === 0 ? 1 : t;
              aj(i, true, t);
              aj(i, false, t);
            }
            for (const e of i.reverse()) {
              if (o && e.name == "listItem") {
                t.rename(e, "paragraph");
              } else if (!o && e.name != "listItem") {
                t.setAttributes({ listType: this.type, listIndent: 0 }, e);
                t.rename(e, "listItem");
              } else if (
                !o &&
                e.name == "listItem" &&
                e.getAttribute("listType") != this.type
              ) {
                t.setAttribute("listType", this.type, e);
              }
            }
            this.fire("_executeCleanup", i);
          });
        }
        _getValue() {
          const t = sl(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          return (
            !!t &&
            t.is("element", "listItem") &&
            t.getAttribute("listType") == this.type
          );
        }
        _checkEnabled() {
          if (this.value) {
            return true;
          }
          const t = this.editor.model.document.selection;
          const e = this.editor.model.schema;
          const n = sl(t.getSelectedBlocks());
          if (!n) {
            return false;
          }
          return cj(n, e);
        }
      }
      function aj(t, e, n) {
        const i = e ? t[0] : t[t.length - 1];
        if (i.is("element", "listItem")) {
          let o = i[e ? "previousSibling" : "nextSibling"];
          let r = i.getAttribute("listIndent");
          while (
            o &&
            o.is("element", "listItem") &&
            o.getAttribute("listIndent") >= n
          ) {
            if (r > o.getAttribute("listIndent")) {
              r = o.getAttribute("listIndent");
            }
            if (o.getAttribute("listIndent") == r) {
              t[e ? "unshift" : "push"](o);
            }
            o = o[e ? "previousSibling" : "nextSibling"];
          }
        }
      }
      function cj(t, e) {
        return e.checkChild(t.parent, "listItem") && !e.isObject(t);
      }
      class lj extends vl {
        constructor(t, e) {
          super(t);
          this._indentBy = e == "forward" ? 1 : -1;
        }
        refresh() {
          this.isEnabled = this._checkEnabled();
        }
        execute() {
          const t = this.editor.model;
          const e = t.document;
          let n = Array.from(e.selection.getSelectedBlocks());
          t.change((t) => {
            const e = n[n.length - 1];
            let i = e.nextSibling;
            while (
              i &&
              i.name == "listItem" &&
              i.getAttribute("listIndent") > e.getAttribute("listIndent")
            ) {
              n.push(i);
              i = i.nextSibling;
            }
            if (this._indentBy < 0) {
              n = n.reverse();
            }
            for (const e of n) {
              const n = e.getAttribute("listIndent") + this._indentBy;
              if (n < 0) {
                t.rename(e, "paragraph");
              } else {
                t.setAttribute("listIndent", n, e);
              }
            }
            this.fire("_executeCleanup", n);
          });
        }
        _checkEnabled() {
          const t = sl(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          if (!t || !t.is("element", "listItem")) {
            return false;
          }
          if (this._indentBy > 0) {
            const e = t.getAttribute("listIndent");
            const n = t.getAttribute("listType");
            let i = t.previousSibling;
            while (
              i &&
              i.is("element", "listItem") &&
              i.getAttribute("listIndent") >= e
            ) {
              if (i.getAttribute("listIndent") == e) {
                return i.getAttribute("listType") == n;
              }
              i = i.previousSibling;
            }
            return false;
          }
          return true;
        }
      }
      function dj(t) {
        const e = t.createContainerElement("li");
        e.getFillerOffset = vj;
        return e;
      }
      function uj(t, e) {
        const n = e.mapper;
        const i = e.writer;
        const o = t.getAttribute("listType") == "numbered" ? "ol" : "ul";
        const r = dj(i);
        const s = i.createContainerElement(o, null);
        i.insert(i.createPositionAt(s, 0), r);
        n.bindElements(t, r);
        return r;
      }
      function hj(t, e, n, i) {
        const o = e.parent;
        const r = n.mapper;
        const s = n.writer;
        let a = r.toViewPosition(i.createPositionBefore(t));
        const c = fj(t.previousSibling, {
          sameIndent: true,
          smallerIndent: true,
          listIndent: t.getAttribute("listIndent"),
        });
        const l = t.previousSibling;
        if (c && c.getAttribute("listIndent") == t.getAttribute("listIndent")) {
          const t = r.toViewElement(c);
          a = s.breakContainer(s.createPositionAfter(t));
        } else {
          if (l && l.name == "listItem") {
            a = r.toViewPosition(i.createPositionAt(l, "end"));
            const t = r.findMappedViewAncestor(a);
            const e = bj(t);
            if (e) {
              a = s.createPositionBefore(e);
            } else {
              a = s.createPositionAt(t, "end");
            }
          } else {
            a = r.toViewPosition(i.createPositionBefore(t));
          }
        }
        a = gj(a);
        s.insert(a, o);
        if (l && l.name == "listItem") {
          const t = r.toViewElement(l);
          const n = s.createRange(s.createPositionAt(t, 0), a);
          const i = n.getWalker({ ignoreElementEnd: true });
          for (const t of i) {
            if (t.item.is("element", "li")) {
              const n = s.breakContainer(s.createPositionBefore(t.item));
              const o = t.item.parent;
              const r = s.createPositionAt(e, "end");
              mj(s, r.nodeBefore, r.nodeAfter);
              s.move(s.createRangeOn(o), r);
              i.position = n;
            }
          }
        } else {
          const n = o.nextSibling;
          if (n && (n.is("element", "ul") || n.is("element", "ol"))) {
            let i = null;
            for (const e of n.getChildren()) {
              const n = r.toModelElement(e);
              if (
                n &&
                n.getAttribute("listIndent") > t.getAttribute("listIndent")
              ) {
                i = e;
              } else {
                break;
              }
            }
            if (i) {
              s.breakContainer(s.createPositionAfter(i));
              s.move(s.createRangeOn(i.parent), s.createPositionAt(e, "end"));
            }
          }
        }
        mj(s, o, o.nextSibling);
        mj(s, o.previousSibling, o);
      }
      function mj(t, e, n) {
        if (!e || !n || (e.name != "ul" && e.name != "ol")) {
          return null;
        }
        if (
          e.name != n.name ||
          e.getAttribute("class") !== n.getAttribute("class")
        ) {
          return null;
        }
        return t.mergeContainers(t.createPositionAfter(e));
      }
      function gj(t) {
        return t.getLastMatchingPosition((t) => t.item.is("uiElement"));
      }
      function fj(t, e) {
        const n = !!e.sameIndent;
        const i = !!e.smallerIndent;
        const o = e.listIndent;
        let r = t;
        while (r && r.name == "listItem") {
          const t = r.getAttribute("listIndent");
          if ((n && o == t) || (i && o > t)) {
            return r;
          }
          if (e.direction === "forward") {
            r = r.nextSibling;
          } else {
            r = r.previousSibling;
          }
        }
        return null;
      }
      function pj(t, e, n, i) {
        t.ui.componentFactory.add(e, (o) => {
          const r = t.commands.get(e);
          const s = new R_(o);
          s.set({ label: n, icon: i, tooltip: true, isToggleable: true });
          s.bind("isOn", "isEnabled").to(r, "value", "isEnabled");
          s.on("execute", () => {
            t.execute(e);
            t.editing.view.focus();
          });
          return s;
        });
      }
      function bj(t) {
        for (const e of t.getChildren()) {
          if (e.name == "ul" || e.name == "ol") {
            return e;
          }
        }
        return null;
      }
      function kj(t, e) {
        const n = [];
        const i = t.parent;
        const o = {
          ignoreElementEnd: false,
          startPosition: t,
          shallow: true,
          direction: e,
        };
        const r = i.getAttribute("listIndent");
        const s = [...new bf(o)]
          .filter((t) => t.item.is("element"))
          .map((t) => t.item);
        for (const t of s) {
          if (!t.is("element", "listItem")) {
            break;
          }
          if (t.getAttribute("listIndent") < r) {
            break;
          }
          if (t.getAttribute("listIndent") > r) {
            continue;
          }
          if (t.getAttribute("listType") !== i.getAttribute("listType")) {
            break;
          }
          if (t.getAttribute("listStyle") !== i.getAttribute("listStyle")) {
            break;
          }
          if (
            t.getAttribute("listReversed") !== i.getAttribute("listReversed")
          ) {
            break;
          }
          if (t.getAttribute("listStart") !== i.getAttribute("listStart")) {
            break;
          }
          if (e === "backward") {
            n.unshift(t);
          } else {
            n.push(t);
          }
        }
        return n;
      }
      function wj(t) {
        const e = t.document;
        let n = [...e.selection.getSelectedBlocks()]
          .filter((t) => t.is("element", "listItem"))
          .map((e) => {
            const n = t.change((t) => t.createPositionAt(e, 0));
            return [...kj(n, "backward"), ...kj(n, "forward")];
          })
          .flat();
        n = [...new Set(n)];
        return n;
      }
      const Aj = ["disc", "circle", "square"];
      const Cj = [
        "decimal",
        "decimal-leading-zero",
        "lower-roman",
        "upper-roman",
        "lower-latin",
        "upper-latin",
      ];
      function _j(t) {
        if (Aj.includes(t)) {
          return "bulleted";
        }
        if (Cj.includes(t)) {
          return "numbered";
        }
        return null;
      }
      function vj() {
        const t =
          !this.isEmpty &&
          (this.getChild(0).name == "ul" || this.getChild(0).name == "ol");
        if (this.isEmpty || t) {
          return 0;
        }
        return th.call(this);
      }
      class yj extends Cl {
        static get pluginName() {
          return "ListUtils";
        }
        getListTypeFromListStyleType(t) {
          return _j(t);
        }
        getSelectedListItems(t) {
          return wj(t);
        }
        getSiblingNodes(t, e) {
          return kj(t, e);
        }
      }
      function xj(t) {
        return (e, n, i) => {
          const o = i.consumable;
          if (
            !o.test(n.item, "insert") ||
            !o.test(n.item, "attribute:listType") ||
            !o.test(n.item, "attribute:listIndent")
          ) {
            return;
          }
          o.consume(n.item, "insert");
          o.consume(n.item, "attribute:listType");
          o.consume(n.item, "attribute:listIndent");
          const r = n.item;
          const s = uj(r, i);
          hj(r, s, i, t);
        };
      }
      function Ej(t) {
        return (e, n, i) => {
          const o = i.mapper.toViewPosition(n.position);
          const r = o.getLastMatchingPosition(
            (t) => !t.item.is("element", "li")
          );
          const s = r.nodeAfter;
          const a = i.writer;
          a.breakContainer(a.createPositionBefore(s));
          a.breakContainer(a.createPositionAfter(s));
          const c = s.parent;
          const l = c.previousSibling;
          const d = a.createRangeOn(c);
          const u = a.remove(d);
          if (l && l.nextSibling) {
            mj(a, l, l.nextSibling);
          }
          const h = i.mapper.toModelElement(s);
          Vj(h.getAttribute("listIndent") + 1, n.position, d.start, s, i, t);
          for (const t of a.createRangeIn(u).getItems()) {
            i.mapper.unbindViewElement(t);
          }
          e.stop();
        };
      }
      function Dj(t, e, n) {
        if (!n.consumable.test(e.item, t.name)) {
          return;
        }
        const i = n.mapper.toViewElement(e.item);
        const o = n.writer;
        o.breakContainer(o.createPositionBefore(i));
        o.breakContainer(o.createPositionAfter(i));
        const r = i.parent;
        const s = e.attributeNewValue == "numbered" ? "ol" : "ul";
        o.rename(s, r);
      }
      function Sj(t, e, n) {
        n.consumable.consume(e.item, t.name);
        const i = n.mapper.toViewElement(e.item);
        const o = i.parent;
        const r = n.writer;
        mj(r, o, o.nextSibling);
        mj(r, o.previousSibling, o);
      }
      function Tj(t) {
        return (e, n, i) => {
          if (!i.consumable.consume(n.item, "attribute:listIndent")) {
            return;
          }
          const o = i.mapper.toViewElement(n.item);
          const r = i.writer;
          r.breakContainer(r.createPositionBefore(o));
          r.breakContainer(r.createPositionAfter(o));
          const s = o.parent;
          const a = s.previousSibling;
          const c = r.createRangeOn(s);
          r.remove(c);
          if (a && a.nextSibling) {
            mj(r, a, a.nextSibling);
          }
          Vj(n.attributeOldValue + 1, n.range.start, c.start, o, i, t);
          hj(n.item, o, i, t);
          for (const t of n.item.getChildren()) {
            i.consumable.consume(t, "insert");
          }
        };
      }
      function Ij(t, e, n) {
        if (!n.consumable.test(e.item, t.name)) {
          return;
        }
        if (e.item.name != "listItem") {
          let t = n.mapper.toViewPosition(e.range.start);
          const i = n.writer;
          const o = [];
          while (t.parent.name == "ul" || t.parent.name == "ol") {
            t = i.breakContainer(t);
            if (t.parent.name != "li") {
              break;
            }
            const e = t;
            const n = i.createPositionAt(t.parent, "end");
            if (!e.isEqual(n)) {
              const t = i.remove(i.createRange(e, n));
              o.push(t);
            }
            t = i.createPositionAfter(t.parent);
          }
          if (o.length > 0) {
            for (let e = 0; e < o.length; e++) {
              const n = t.nodeBefore;
              const r = i.insert(t, o[e]);
              t = r.end;
              if (e > 0) {
                const e = mj(i, n, n.nextSibling);
                if (e && e.parent == n) {
                  t.offset--;
                }
              }
            }
            mj(i, t.nodeBefore, t.nodeAfter);
          }
        }
      }
      function Mj(t, e, n) {
        const i = n.mapper.toViewPosition(e.position);
        const o = i.nodeBefore;
        const r = i.nodeAfter;
        mj(n.writer, o, r);
      }
      function Bj(t, e, n) {
        if (n.consumable.consume(e.viewItem, { name: true })) {
          const t = n.writer;
          const i = t.createElement("listItem");
          const o = Uj(e.viewItem);
          t.setAttribute("listIndent", o, i);
          const r =
            e.viewItem.parent && e.viewItem.parent.name == "ol"
              ? "numbered"
              : "bulleted";
          t.setAttribute("listType", r, i);
          if (!n.safeInsert(i, e.modelCursor)) {
            return;
          }
          const s = jj(i, e.viewItem.getChildren(), n);
          e.modelRange = t.createRange(e.modelCursor, s);
          n.updateConversionResult(i, e);
        }
      }
      function Lj(t, e, n) {
        if (n.consumable.test(e.viewItem, { name: true })) {
          const t = Array.from(e.viewItem.getChildren());
          for (const e of t) {
            const t = !(e.is("element", "li") || Hj(e));
            if (t) {
              e._remove();
            }
          }
        }
      }
      function Nj(t, e, n) {
        if (n.consumable.test(e.viewItem, { name: true })) {
          if (e.viewItem.childCount === 0) {
            return;
          }
          const t = [...e.viewItem.getChildren()];
          let n = false;
          for (const e of t) {
            if (n && !Hj(e)) {
              e._remove();
            }
            if (Hj(e)) {
              n = true;
            }
          }
        }
      }
      function zj(t) {
        return (e, n) => {
          if (n.isPhantom) {
            return;
          }
          const i = n.modelPosition.nodeBefore;
          if (i && i.is("element", "listItem")) {
            const e = n.mapper.toViewElement(i);
            const o = e.getAncestors().find(Hj);
            const r = t.createPositionAt(e, 0).getWalker();
            for (const t of r) {
              if (t.type == "elementStart" && t.item.is("element", "li")) {
                n.viewPosition = t.previousPosition;
                break;
              } else if (t.type == "elementEnd" && t.item == o) {
                n.viewPosition = t.nextPosition;
                break;
              }
            }
          }
        };
      }
      function Pj(t) {
        return (e, n) => {
          const i = n.viewPosition;
          const o = i.parent;
          const r = n.mapper;
          if (o.name == "ul" || o.name == "ol") {
            if (!i.isAtEnd) {
              const e = r.toModelElement(i.nodeAfter);
              n.modelPosition = t.createPositionBefore(e);
            } else {
              const e = r.toModelElement(i.nodeBefore);
              const o = r.getModelLength(i.nodeBefore);
              n.modelPosition = t.createPositionBefore(e).getShiftedBy(o);
            }
            e.stop();
          } else if (
            o.name == "li" &&
            i.nodeBefore &&
            (i.nodeBefore.name == "ul" || i.nodeBefore.name == "ol")
          ) {
            const s = r.toModelElement(o);
            let a = 1;
            let c = i.nodeBefore;
            while (c && Hj(c)) {
              a += r.getModelLength(c);
              c = c.previousSibling;
            }
            n.modelPosition = t.createPositionBefore(s).getShiftedBy(a);
            e.stop();
          }
        };
      }
      function Rj(t, e) {
        const n = t.document.differ.getChanges();
        const i = new Map();
        let o = false;
        for (const i of n) {
          if (i.type == "insert" && i.name == "listItem") {
            r(i.position);
          } else if (i.type == "insert" && i.name != "listItem") {
            if (i.name != "$text") {
              const n = i.position.nodeAfter;
              if (n.hasAttribute("listIndent")) {
                e.removeAttribute("listIndent", n);
                o = true;
              }
              if (n.hasAttribute("listType")) {
                e.removeAttribute("listType", n);
                o = true;
              }
              if (n.hasAttribute("listStyle")) {
                e.removeAttribute("listStyle", n);
                o = true;
              }
              if (n.hasAttribute("listReversed")) {
                e.removeAttribute("listReversed", n);
                o = true;
              }
              if (n.hasAttribute("listStart")) {
                e.removeAttribute("listStart", n);
                o = true;
              }
              for (const e of Array.from(t.createRangeIn(n)).filter((t) =>
                t.item.is("element", "listItem")
              )) {
                r(e.previousPosition);
              }
            }
            const n = i.position.getShiftedBy(i.length);
            r(n);
          } else if (i.type == "remove" && i.name == "listItem") {
            r(i.position);
          } else if (i.type == "attribute" && i.attributeKey == "listIndent") {
            r(i.range.start);
          } else if (i.type == "attribute" && i.attributeKey == "listType") {
            r(i.range.start);
          }
        }
        for (const t of i.values()) {
          s(t);
          a(t);
        }
        return o;
        function r(t) {
          const e = t.nodeBefore;
          if (!e || !e.is("element", "listItem")) {
            const e = t.nodeAfter;
            if (e && e.is("element", "listItem")) {
              i.set(e, e);
            }
          } else {
            let t = e;
            if (i.has(t)) {
              return;
            }
            for (
              let e = t.previousSibling;
              e && e.is("element", "listItem");
              e = t.previousSibling
            ) {
              t = e;
              if (i.has(t)) {
                return;
              }
            }
            i.set(e, t);
          }
        }
        function s(t) {
          let n = 0;
          let i = null;
          while (t && t.is("element", "listItem")) {
            const r = t.getAttribute("listIndent");
            if (r > n) {
              let s;
              if (i === null) {
                i = r - n;
                s = n;
              } else {
                if (i > r) {
                  i = r;
                }
                s = r - i;
              }
              e.setAttribute("listIndent", s, t);
              o = true;
            } else {
              i = null;
              n = t.getAttribute("listIndent") + 1;
            }
            t = t.nextSibling;
          }
        }
        function a(t) {
          let n = [];
          let i = null;
          while (t && t.is("element", "listItem")) {
            const r = t.getAttribute("listIndent");
            if (i && i.getAttribute("listIndent") > r) {
              n = n.slice(0, r + 1);
            }
            if (r != 0) {
              if (n[r]) {
                const i = n[r];
                if (t.getAttribute("listType") != i) {
                  e.setAttribute("listType", i, t);
                  o = true;
                }
              } else {
                n[r] = t.getAttribute("listType");
              }
            }
            i = t;
            t = t.nextSibling;
          }
        }
      }
      function Oj(t, [e, n, i]) {
        let o = e.is("documentFragment") ? e.getChild(0) : e;
        let r;
        if (!n) {
          r = this.document.selection;
        } else {
          r = this.createSelection(n, i);
        }
        if (o && o.is("element", "listItem")) {
          const t = r.getFirstPosition();
          let e = null;
          if (t.parent.is("element", "listItem")) {
            e = t.parent;
          } else if (t.nodeBefore && t.nodeBefore.is("element", "listItem")) {
            e = t.nodeBefore;
          }
          if (e) {
            const t = e.getAttribute("listIndent");
            if (t > 0) {
              while (o && o.is("element", "listItem")) {
                o._setAttribute("listIndent", o.getAttribute("listIndent") + t);
                o = o.nextSibling;
              }
            }
          }
        }
      }
      function jj(t, e, n) {
        const { writer: i, schema: o } = n;
        let r = i.createPositionAfter(t);
        for (const s of e) {
          if (s.name == "ul" || s.name == "ol") {
            r = n.convertItem(s, r).modelCursor;
          } else {
            const e = n.convertItem(s, i.createPositionAt(t, "end"));
            const a = e.modelRange.start.nodeAfter;
            const c = a && a.is("element") && !o.checkChild(t, a.name);
            if (c) {
              if (e.modelCursor.parent.is("element", "listItem")) {
                t = e.modelCursor.parent;
              } else {
                t = Fj(e.modelCursor);
              }
              r = i.createPositionAfter(t);
            }
          }
        }
        return r;
      }
      function Fj(t) {
        const e = new bf({ startPosition: t });
        let n;
        do {
          n = e.next();
        } while (!n.value.item.is("element", "listItem"));
        return n.value.item;
      }
      function Vj(t, e, n, i, o, r) {
        const s = fj(e.nodeBefore, {
          sameIndent: true,
          smallerIndent: true,
          listIndent: t,
          foo: "b",
        });
        const a = o.mapper;
        const c = o.writer;
        const l = s ? s.getAttribute("listIndent") : null;
        let d;
        if (!s) {
          d = n;
        } else if (l == t) {
          const t = a.toViewElement(s).parent;
          d = c.createPositionAfter(t);
        } else {
          const t = r.createPositionAt(s, "end");
          d = a.toViewPosition(t);
        }
        d = gj(d);
        for (const t of [...i.getChildren()]) {
          if (Hj(t)) {
            d = c.move(c.createRangeOn(t), d).end;
            mj(c, t, t.nextSibling);
            mj(c, t.previousSibling, t);
          }
        }
      }
      function Hj(t) {
        return t.is("element", "ol") || t.is("element", "ul");
      }
      function Uj(t) {
        let e = 0;
        let n = t.parent;
        while (n) {
          if (n.is("element", "li")) {
            e++;
          } else {
            const t = n.previousSibling;
            if (t && t.is("element", "li")) {
              e++;
            }
          }
          n = n.parent;
        }
        return e;
      }
      class qj extends Cl {
        static get pluginName() {
          return "ListEditing";
        }
        static get requires() {
          return [UE, Jx, yj];
        }
        init() {
          const t = this.editor;
          t.model.schema.register("listItem", {
            inheritAllFrom: "$block",
            allowAttributes: ["listType", "listIndent"],
          });
          const e = t.data;
          const n = t.editing;
          t.model.document.registerPostFixer((e) => Rj(t.model, e));
          n.mapper.registerViewToModelLength("li", Wj);
          e.mapper.registerViewToModelLength("li", Wj);
          n.mapper.on("modelToViewPosition", zj(n.view));
          n.mapper.on("viewToModelPosition", Pj(t.model));
          e.mapper.on("modelToViewPosition", zj(n.view));
          t.conversion.for("editingDowncast").add((e) => {
            e.on("insert", Ij, { priority: "high" });
            e.on("insert:listItem", xj(t.model));
            e.on("attribute:listType:listItem", Dj, { priority: "high" });
            e.on("attribute:listType:listItem", Sj, { priority: "low" });
            e.on("attribute:listIndent:listItem", Tj(t.model));
            e.on("remove:listItem", Ej(t.model));
            e.on("remove", Mj, { priority: "low" });
          });
          t.conversion.for("dataDowncast").add((e) => {
            e.on("insert", Ij, { priority: "high" });
            e.on("insert:listItem", xj(t.model));
          });
          t.conversion.for("upcast").add((t) => {
            t.on("element:ul", Lj, { priority: "high" });
            t.on("element:ol", Lj, { priority: "high" });
            t.on("element:li", Nj, { priority: "high" });
            t.on("element:li", Bj);
          });
          t.model.on("insertContent", Oj, { priority: "high" });
          t.commands.add("numberedList", new sj(t, "numbered"));
          t.commands.add("bulletedList", new sj(t, "bulleted"));
          t.commands.add("indentList", new lj(t, "forward"));
          t.commands.add("outdentList", new lj(t, "backward"));
          const i = n.view.document;
          this.listenTo(
            i,
            "enter",
            (t, e) => {
              const n = this.editor.model.document;
              const i = n.selection.getLastPosition().parent;
              if (
                n.selection.isCollapsed &&
                i.name == "listItem" &&
                i.isEmpty
              ) {
                this.editor.execute("outdentList");
                e.preventDefault();
                t.stop();
              }
            },
            { context: "li" }
          );
          this.listenTo(
            i,
            "delete",
            (t, e) => {
              if (e.direction !== "backward") {
                return;
              }
              const n = this.editor.model.document.selection;
              if (!n.isCollapsed) {
                return;
              }
              const i = n.getFirstPosition();
              if (!i.isAtStart) {
                return;
              }
              const o = i.parent;
              if (o.name !== "listItem") {
                return;
              }
              const r =
                o.previousSibling && o.previousSibling.name === "listItem";
              if (r) {
                return;
              }
              this.editor.execute("outdentList");
              e.preventDefault();
              t.stop();
            },
            { context: "li" }
          );
          this.listenTo(
            t.editing.view.document,
            "tab",
            (e, n) => {
              const i = n.shiftKey ? "outdentList" : "indentList";
              const o = this.editor.commands.get(i);
              if (o.isEnabled) {
                t.execute(i);
                n.stopPropagation();
                n.preventDefault();
                e.stop();
              }
            },
            { context: "li" }
          );
        }
        afterInit() {
          const t = this.editor.commands;
          const e = t.get("indent");
          const n = t.get("outdent");
          if (e) {
            e.registerChildCommand(t.get("indentList"));
          }
          if (n) {
            n.registerChildCommand(t.get("outdentList"));
          }
        }
      }
      function Wj(t) {
        let e = 1;
        for (const n of t.getChildren()) {
          if (n.name == "ul" || n.name == "ol") {
            for (const t of n.getChildren()) {
              e += Wj(t);
            }
          }
        }
        return e;
      }
      const Gj =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';
      const $j =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';
      class Kj extends Cl {
        static get pluginName() {
          return "ListUI";
        }
        init() {
          const t = this.editor.t;
          pj(this.editor, "numberedList", t("Numbered List"), Gj);
          pj(this.editor, "bulletedList", t("Bulleted List"), $j);
        }
      }
      class Yj extends Cl {
        static get requires() {
          return [qj, Kj];
        }
        static get pluginName() {
          return "List";
        }
      }
      function Zj(t, e) {
        return (t) => {
          t.on("attribute:url:media", n);
        };
        function n(n, i, o) {
          if (!o.consumable.consume(i.item, n.name)) {
            return;
          }
          const r = i.attributeNewValue;
          const s = o.writer;
          const a = o.mapper.toViewElement(i.item);
          const c = [...a.getChildren()].find((t) =>
            t.getCustomProperty("media-content")
          );
          s.remove(c);
          const l = t.getMediaViewElement(s, r, e);
          s.insert(s.createPositionAt(a, 0), l);
        }
      }
      function Qj(t, e, n) {
        e.setCustomProperty("media", true, t);
        return oD(t, e, { label: n });
      }
      function Jj(t) {
        const e = t.getSelectedElement();
        if (e && Xj(e)) {
          return e;
        }
        return null;
      }
      function Xj(t) {
        return !!t.getCustomProperty("media") && iD(t);
      }
      function tF(t, e, n, i) {
        return t.createContainerElement("figure", { class: "media" }, [
          e.getMediaViewElement(t, n, i),
          t.createSlot(),
        ]);
      }
      function eF(t) {
        const e = t.getSelectedElement();
        if (e && e.is("element", "media")) {
          return e;
        }
        return null;
      }
      function nF(t, e, n, i) {
        t.change((o) => {
          const r = o.createElement("media", { url: e });
          t.insertObject(r, n, null, {
            setSelection: "on",
            findOptimalPosition: i,
          });
        });
      }
      class iF extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.document.selection;
          const n = eF(e);
          this.value = n ? n.getAttribute("url") : null;
          this.isEnabled = rF(e) || oF(e, t);
        }
        execute(t) {
          const e = this.editor.model;
          const n = e.document.selection;
          const i = eF(n);
          if (i) {
            e.change((e) => {
              e.setAttribute("url", t, i);
            });
          } else {
            nF(e, t, n, true);
          }
        }
      }
      function oF(t, e) {
        const n = uD(t, e);
        let i = n.start.parent;
        if (i.isEmpty && !e.schema.isLimit(i)) {
          i = i.parent;
        }
        return e.schema.checkChild(i, "media");
      }
      function rF(t) {
        const e = t.getSelectedElement();
        return !!e && e.name === "media";
      }
      const sF =
        '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>';
      const aF = "0 0 64 42";
      class cF {
        constructor(t, e) {
          const n = e.providers;
          const i = e.extraProviders || [];
          const o = new Set(e.removeProviders);
          const r = n.concat(i).filter((t) => {
            const e = t.name;
            if (!e) {
              B("media-embed-no-provider-name", { provider: t });
              return false;
            }
            return !o.has(e);
          });
          this.locale = t;
          this.providerDefinitions = r;
        }
        hasMedia(t) {
          return !!this._getMedia(t);
        }
        getMediaViewElement(t, e, n) {
          return this._getMedia(e).getViewElement(t, n);
        }
        _getMedia(t) {
          if (!t) {
            return new lF(this.locale);
          }
          t = t.trim();
          for (const e of this.providerDefinitions) {
            const n = e.html;
            const i = Yc(e.url);
            for (const e of i) {
              const i = this._getUrlMatches(t, e);
              if (i) {
                return new lF(this.locale, t, i, n);
              }
            }
          }
          return null;
        }
        _getUrlMatches(t, e) {
          let n = t.match(e);
          if (n) {
            return n;
          }
          let i = t.replace(/^https?:\\/\\//, "");
          n = i.match(e);
          if (n) {
            return n;
          }
          i = i.replace(/^www\\./, "");
          n = i.match(e);
          if (n) {
            return n;
          }
          return null;
        }
      }
      class lF {
        constructor(t, e, n, i) {
          this.url = this._getValidUrl(e);
          this._locale = t;
          this._match = n;
          this._previewRenderer = i;
        }
        getViewElement(t, e) {
          const n = {};
          let i;
          if (
            e.renderForEditingView ||
            (e.renderMediaPreview && this.url && this._previewRenderer)
          ) {
            if (this.url) {
              n["data-oembed-url"] = this.url;
            }
            if (e.renderForEditingView) {
              n.class = "ck-media__wrapper";
            }
            const o = this._getPreviewHtml(e);
            i = t.createRawElement("div", n, (t, e) => {
              e.setContentOf(t, o);
            });
          } else {
            if (this.url) {
              n.url = this.url;
            }
            i = t.createEmptyElement(e.elementName, n);
          }
          t.setCustomProperty("media-content", true, i);
          return i;
        }
        _getPreviewHtml(t) {
          if (this._previewRenderer) {
            return this._previewRenderer(this._match);
          } else {
            if (this.url && t.renderForEditingView) {
              return this._getPlaceholderHtml();
            }
            return "";
          }
        }
        _getPlaceholderHtml() {
          const t = new B_();
          const e = this._locale.t;
          t.content = sF;
          t.viewBox = aF;
          const n = new jA({
            tag: "div",
            attributes: { class: "ck ck-reset_all ck-media__placeholder" },
            children: [
              {
                tag: "div",
                attributes: { class: "ck-media__placeholder__icon" },
                children: [t],
              },
              {
                tag: "a",
                attributes: {
                  class: "ck-media__placeholder__url",
                  target: "_blank",
                  rel: "noopener noreferrer",
                  href: this.url,
                  "data-cke-tooltip-text": e("Open media in new tab"),
                },
                children: [
                  {
                    tag: "span",
                    attributes: { class: "ck-media__placeholder__url__text" },
                    children: [this.url],
                  },
                ],
              },
            ],
          }).render();
          return n.outerHTML;
        }
        _getValidUrl(t) {
          if (!t) {
            return null;
          }
          if (t.match(/^https?/)) {
            return t;
          }
          return "https://" + t;
        }
      }
      var dF = n(952);
      var uF = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      uF.insert = "head";
      uF.singleton = true;
      var hF = Il()(dF.Z, uF);
      const mF = dF.Z.locals || {};
      class gF extends Cl {
        static get pluginName() {
          return "MediaEmbedEditing";
        }
        constructor(t) {
          super(t);
          t.config.define("mediaEmbed", {
            elementName: "oembed",
            providers: [
              {
                name: "dailymotion",
                url: /^dailymotion\\.com\\/video\\/(\\w+)/,
                html: (t) => {
                  const e = t[1];
                  return (
                    '<div style="position: relative; padding-bottom: 100%; height: 0; ">' +
                    \`<iframe src="https://www.dailymotion.com/embed/video/\${e}" \` +
                    'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' +
                    'frameborder="0" width="480" height="270" allowfullscreen allow="autoplay">' +
                    "</iframe>" +
                    "</div>"
                  );
                },
              },
              {
                name: "spotify",
                url: [
                  /^open\\.spotify\\.com\\/(artist\\/\\w+)/,
                  /^open\\.spotify\\.com\\/(album\\/\\w+)/,
                  /^open\\.spotify\\.com\\/(track\\/\\w+)/,
                ],
                html: (t) => {
                  const e = t[1];
                  return (
                    '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">' +
                    \`<iframe src="https://open.spotify.com/embed/\${e}" \` +
                    'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' +
                    'frameborder="0" allowtransparency="true" allow="encrypted-media">' +
                    "</iframe>" +
                    "</div>"
                  );
                },
              },
              {
                name: "youtube",
                url: [
                  /^(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)(?:&t=(\\d+))?/,
                  /^(?:m\\.)?youtube\\.com\\/v\\/([\\w-]+)(?:\\?t=(\\d+))?/,
                  /^youtube\\.com\\/embed\\/([\\w-]+)(?:\\?start=(\\d+))?/,
                  /^youtu\\.be\\/([\\w-]+)(?:\\?t=(\\d+))?/,
                ],
                html: (t) => {
                  const e = t[1];
                  const n = t[2];
                  return (
                    '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' +
                    \`<iframe src="https://www.youtube.com/embed/\${e}\${
                      n ? \`?start=\${n}\` : ""
                    }" \` +
                    'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' +
                    'frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>' +
                    "</iframe>" +
                    "</div>"
                  );
                },
              },
              {
                name: "vimeo",
                url: [
                  /^vimeo\\.com\\/(\\d+)/,
                  /^vimeo\\.com\\/[^/]+\\/[^/]+\\/video\\/(\\d+)/,
                  /^vimeo\\.com\\/album\\/[^/]+\\/video\\/(\\d+)/,
                  /^vimeo\\.com\\/channels\\/[^/]+\\/(\\d+)/,
                  /^vimeo\\.com\\/groups\\/[^/]+\\/videos\\/(\\d+)/,
                  /^vimeo\\.com\\/ondemand\\/[^/]+\\/(\\d+)/,
                  /^player\\.vimeo\\.com\\/video\\/(\\d+)/,
                ],
                html: (t) => {
                  const e = t[1];
                  return (
                    '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' +
                    \`<iframe src="https://player.vimeo.com/video/\${e}" \` +
                    'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' +
                    'frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>' +
                    "</iframe>" +
                    "</div>"
                  );
                },
              },
              { name: "instagram", url: /^instagram\\.com\\/p\\/(\\w+)/ },
              { name: "twitter", url: /^twitter\\.com/ },
              {
                name: "googleMaps",
                url: [
                  /^google\\.com\\/maps/,
                  /^goo\\.gl\\/maps/,
                  /^maps\\.google\\.com/,
                  /^maps\\.app\\.goo\\.gl/,
                ],
              },
              { name: "flickr", url: /^flickr\\.com/ },
              { name: "facebook", url: /^facebook\\.com/ },
            ],
          });
          this.registry = new cF(t.locale, t.config.get("mediaEmbed"));
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          const n = t.t;
          const i = t.conversion;
          const o = t.config.get("mediaEmbed.previewsInData");
          const r = t.config.get("mediaEmbed.elementName");
          const s = this.registry;
          t.commands.add("mediaEmbed", new iF(t));
          e.register("media", {
            inheritAllFrom: "$blockObject",
            allowAttributes: ["url"],
          });
          i.for("dataDowncast").elementToStructure({
            model: "media",
            view: (t, { writer: e }) => {
              const n = t.getAttribute("url");
              return tF(e, s, n, {
                elementName: r,
                renderMediaPreview: n && o,
              });
            },
          });
          i.for("dataDowncast").add(
            Zj(s, { elementName: r, renderMediaPreview: o })
          );
          i.for("editingDowncast").elementToStructure({
            model: "media",
            view: (t, { writer: e }) => {
              const i = t.getAttribute("url");
              const o = tF(e, s, i, {
                elementName: r,
                renderForEditingView: true,
              });
              return Qj(o, e, n("media widget"));
            },
          });
          i.for("editingDowncast").add(
            Zj(s, { elementName: r, renderForEditingView: true })
          );
          i.for("upcast")
            .elementToElement({
              view: (t) =>
                ["oembed", r].includes(t.name) && t.getAttribute("url")
                  ? { name: true }
                  : null,
              model: (t, { writer: e }) => {
                const n = t.getAttribute("url");
                if (s.hasMedia(n)) {
                  return e.createElement("media", { url: n });
                }
              },
            })
            .elementToElement({
              view: { name: "div", attributes: { "data-oembed-url": true } },
              model: (t, { writer: e }) => {
                const n = t.getAttribute("data-oembed-url");
                if (s.hasMedia(n)) {
                  return e.createElement("media", { url: n });
                }
              },
            })
            .add((t) => {
              t.on("element:figure", e);
              function e(t, e, n) {
                if (
                  !n.consumable.consume(e.viewItem, {
                    name: true,
                    classes: "media",
                  })
                ) {
                  return;
                }
                const { modelRange: i, modelCursor: o } = n.convertChildren(
                  e.viewItem,
                  e.modelCursor
                );
                e.modelRange = i;
                e.modelCursor = o;
                const r = sl(i.getItems());
                if (!r) {
                  n.consumable.revert(e.viewItem, {
                    name: true,
                    classes: "media",
                  });
                }
              }
            });
        }
      }
      const fF = /^(?:http(s)?:\\/\\/)?[\\w-]+\\.[\\w-.~:/?#[\\]@!$&'()*+,;=%]+$/;
      class pF extends Cl {
        static get requires() {
          return [BS, Jx, HS];
        }
        static get pluginName() {
          return "AutoMediaEmbed";
        }
        constructor(t) {
          super(t);
          this._timeoutId = null;
          this._positionToInsert = null;
        }
        init() {
          const t = this.editor;
          const e = t.model.document;
          this.listenTo(
            t.plugins.get("ClipboardPipeline"),
            "inputTransformation",
            () => {
              const t = e.selection.getFirstRange();
              const n = Sk.fromPosition(t.start);
              n.stickiness = "toPrevious";
              const i = Sk.fromPosition(t.end);
              i.stickiness = "toNext";
              e.once(
                "change:data",
                () => {
                  this._embedMediaBetweenPositions(n, i);
                  n.detach();
                  i.detach();
                },
                { priority: "high" }
              );
            }
          );
          t.commands.get("undo").on(
            "execute",
            () => {
              if (this._timeoutId) {
                Xa.window.clearTimeout(this._timeoutId);
                this._positionToInsert.detach();
                this._timeoutId = null;
                this._positionToInsert = null;
              }
            },
            { priority: "high" }
          );
        }
        _embedMediaBetweenPositions(t, e) {
          const n = this.editor;
          const i = n.plugins.get(gF).registry;
          const o = new Ff(t, e);
          const r = o.getWalker({ ignoreElementEnd: true });
          let s = "";
          for (const t of r) {
            if (t.item.is("$textProxy")) {
              s += t.item.data;
            }
          }
          s = s.trim();
          if (!s.match(fF)) {
            o.detach();
            return;
          }
          if (!i.hasMedia(s)) {
            o.detach();
            return;
          }
          const a = n.commands.get("mediaEmbed");
          if (!a.isEnabled) {
            o.detach();
            return;
          }
          this._positionToInsert = Sk.fromPosition(t);
          this._timeoutId = Xa.window.setTimeout(() => {
            n.model.change((t) => {
              this._timeoutId = null;
              t.remove(o);
              o.detach();
              let e;
              if (this._positionToInsert.root.rootName !== "$graveyard") {
                e = this._positionToInsert;
              }
              nF(n.model, s, e, false);
              this._positionToInsert.detach();
              this._positionToInsert = null;
            });
            n.plugins.get("Delete").requestUndoOnBackspace();
          }, 100);
        }
      }
      var bF = n(3525);
      var kF = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      kF.insert = "head";
      kF.singleton = true;
      var wF = Il()(bF.Z, kF);
      const AF = bF.Z.locals || {};
      class CF extends pC {
        constructor(t, e) {
          super(e);
          const n = e.t;
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.set("mediaURLInputValue", "");
          this.urlInputView = this._createUrlInput();
          this.saveButtonView = this._createButton(
            n("Save"),
            __.check,
            "ck-button-save"
          );
          this.saveButtonView.type = "submit";
          this.saveButtonView
            .bind("isEnabled")
            .to(this, "mediaURLInputValue", (t) => !!t);
          this.cancelButtonView = this._createButton(
            n("Cancel"),
            __.cancel,
            "ck-button-cancel",
            "cancel"
          );
          this._focusables = new PA();
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this._validators = t;
          this.setTemplate({
            tag: "form",
            attributes: {
              class: ["ck", "ck-media-form", "ck-responsive-form"],
              tabindex: "-1",
            },
            children: [
              this.urlInputView,
              this.saveButtonView,
              this.cancelButtonView,
            ],
          });
          y_(this);
        }
        render() {
          super.render();
          x_({ view: this });
          const t = [
            this.urlInputView,
            this.saveButtonView,
            this.cancelButtonView,
          ];
          t.forEach((t) => {
            this._focusables.add(t);
            this.focusTracker.add(t.element);
          });
          this.keystrokes.listenTo(this.element);
          const e = (t) => t.stopPropagation();
          this.keystrokes.set("arrowright", e);
          this.keystrokes.set("arrowleft", e);
          this.keystrokes.set("arrowup", e);
          this.keystrokes.set("arrowdown", e);
          this.listenTo(
            this.urlInputView.element,
            "selectstart",
            (t, e) => {
              e.stopPropagation();
            },
            { priority: "high" }
          );
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        get url() {
          return this.urlInputView.fieldView.element.value.trim();
        }
        set url(t) {
          this.urlInputView.fieldView.element.value = t.trim();
        }
        isValid() {
          this.resetFormStatus();
          for (const t of this._validators) {
            const e = t(this);
            if (e) {
              this.urlInputView.errorText = e;
              return false;
            }
          }
          return true;
        }
        resetFormStatus() {
          this.urlInputView.errorText = null;
          this.urlInputView.infoText = this._urlInputViewInfoDefault;
        }
        _createUrlInput() {
          const t = this.locale.t;
          const e = new My(this.locale, By);
          const n = e.fieldView;
          this._urlInputViewInfoDefault = t(
            "Paste the media URL in the input."
          );
          this._urlInputViewInfoTip = t(
            "Tip: Paste the URL into the content to embed faster."
          );
          e.label = t("Media URL");
          e.infoText = this._urlInputViewInfoDefault;
          n.on("input", () => {
            e.infoText = n.element.value
              ? this._urlInputViewInfoTip
              : this._urlInputViewInfoDefault;
            this.mediaURLInputValue = n.element.value.trim();
          });
          return e;
        }
        _createButton(t, e, n, i) {
          const o = new R_(this.locale);
          o.set({ label: t, icon: e, tooltip: true });
          o.extendTemplate({ attributes: { class: n } });
          if (i) {
            o.delegate("execute").to(this, i);
          }
          return o;
        }
      }
      const _F =
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';
      class vF extends Cl {
        static get requires() {
          return [gF];
        }
        static get pluginName() {
          return "MediaEmbedUI";
        }
        init() {
          const t = this.editor;
          const e = t.commands.get("mediaEmbed");
          const n = t.plugins.get(gF).registry;
          t.ui.componentFactory.add("mediaEmbed", (i) => {
            const o = Uv(i);
            const r = new CF(yF(t.t, n), t.locale);
            this._setUpDropdown(o, r, e, t);
            this._setUpForm(o, r, e);
            return o;
          });
        }
        _setUpDropdown(t, e, n) {
          const i = this.editor;
          const o = i.t;
          const r = t.buttonView;
          t.bind("isEnabled").to(n);
          t.panelView.children.add(e);
          r.set({ label: o("Insert media"), icon: _F, tooltip: true });
          r.on(
            "open",
            () => {
              e.disableCssTransitions();
              e.url = n.value || "";
              e.urlInputView.fieldView.select();
              e.enableCssTransitions();
            },
            { priority: "low" }
          );
          t.on("submit", () => {
            if (e.isValid()) {
              i.execute("mediaEmbed", e.url);
              i.editing.view.focus();
            }
          });
          t.on("change:isOpen", () => e.resetFormStatus());
          t.on("cancel", () => {
            i.editing.view.focus();
          });
        }
        _setUpForm(t, e, n) {
          e.delegate("submit", "cancel").to(t);
          e.urlInputView.bind("value").to(n, "value");
          e.urlInputView.bind("isReadOnly").to(n, "isEnabled", (t) => !t);
        }
      }
      function yF(t, e) {
        return [
          (e) => {
            if (!e.url.length) {
              return t("The URL must not be empty.");
            }
          },
          (n) => {
            if (!e.hasMedia(n.url)) {
              return t("This media URL is not supported.");
            }
          },
        ];
      }
      var xF = n(5777);
      var EF = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      EF.insert = "head";
      EF.singleton = true;
      var DF = Il()(xF.Z, EF);
      const SF = xF.Z.locals || {};
      class TF extends Cl {
        static get requires() {
          return [gF, vF, pF, qD];
        }
        static get pluginName() {
          return "MediaEmbed";
        }
      }
      class IF extends Cl {
        static get requires() {
          return [$D];
        }
        static get pluginName() {
          return "MediaEmbedToolbar";
        }
        afterInit() {
          const t = this.editor;
          const e = t.t;
          const n = t.plugins.get($D);
          n.register("mediaEmbed", {
            ariaLabel: e("Media toolbar"),
            items: t.config.get("mediaEmbed.toolbar") || [],
            getRelatedElement: Jj,
          });
        }
      }
      class MF extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.document;
          this.isEnabled = t.schema.checkAttributeInSelection(
            e.selection,
            "mention"
          );
        }
        execute(t) {
          const e = this.editor.model;
          const n = e.document;
          const i = n.selection;
          const o =
            typeof t.mention == "string" ? { id: t.mention } : t.mention;
          const r = o.id;
          const s = t.range || i.getFirstRange();
          const a = t.text || r;
          const c = LF({ _text: a, id: r }, o);
          if (t.marker.length != 1) {
            throw new M("mentioncommand-incorrect-marker", this);
          }
          if (r.charAt(0) != t.marker) {
            throw new M("mentioncommand-incorrect-id", this);
          }
          e.change((t) => {
            const n = dl(i.getAttributes());
            const o = new Map(n.entries());
            o.set("mention", c);
            e.insertContent(t.createText(a, o), s);
            e.insertContent(
              t.createText(" ", n),
              s.start.getShiftedBy(a.length)
            );
          });
        }
      }
      class BF extends Cl {
        static get pluginName() {
          return "MentionEditing";
        }
        init() {
          const t = this.editor;
          const e = t.model;
          const n = e.document;
          e.schema.extend("$text", { allowAttributes: "mention" });
          t.conversion.for("upcast").elementToAttribute({
            view: { name: "span", key: "data-mention", classes: "mention" },
            model: { key: "mention", value: (t) => NF(t) },
          });
          t.conversion
            .for("downcast")
            .attributeToElement({ model: "mention", view: PF });
          t.conversion.for("downcast").add(zF);
          n.registerPostFixer((t) => jF(t, n, e.schema));
          n.registerPostFixer((t) => FF(t, n));
          n.registerPostFixer((t) => RF(t, n));
          t.commands.add("mention", new MF(t));
        }
      }
      function LF(t, e) {
        return Object.assign({ uid: E() }, t, e || {});
      }
      function NF(t, e) {
        const n = t.getAttribute("data-mention");
        const i = t.getChild(0);
        if (!i) {
          return;
        }
        const o = { id: n, _text: i.data };
        return LF(o, e);
      }
      function zF(t) {
        t.on(
          "attribute:mention",
          (t, e, n) => {
            const i = e.attributeNewValue;
            if (!e.item.is("$textProxy") || !i) {
              return;
            }
            const o = e.range.start;
            const r = o.textNode || o.nodeAfter;
            if (r.data != i._text) {
              n.consumable.consume(e.item, t.name);
            }
          },
          { priority: "highest" }
        );
      }
      function PF(t, { writer: e }) {
        if (!t) {
          return;
        }
        const n = { class: "mention", "data-mention": t.id };
        const i = { id: t.uid, priority: 20 };
        return e.createAttributeElement("span", n, i);
      }
      function RF(t, e) {
        const n = e.selection;
        const i = n.focus;
        if (n.isCollapsed && n.hasAttribute("mention") && OF(i)) {
          t.removeSelectionAttribute("mention");
          return true;
        }
      }
      function OF(t) {
        const e = t.isAtStart;
        const n = t.nodeBefore && t.nodeBefore.is("$text");
        return n || e;
      }
      function jF(t, e, n) {
        const i = e.differ.getChanges();
        let o = false;
        for (const e of i) {
          const i = e.position;
          if (e.name == "$text") {
            const e = i.textNode && i.textNode.nextSibling;
            o = HF(i.textNode, t) || o;
            o = HF(e, t) || o;
            o = HF(i.nodeBefore, t) || o;
            o = HF(i.nodeAfter, t) || o;
          }
          if (e.name != "$text" && e.type == "insert") {
            const e = i.nodeAfter;
            for (const n of t.createRangeIn(e).getItems()) {
              o = HF(n, t) || o;
            }
          }
          if (e.type == "insert" && n.isInline(e.name)) {
            const e = i.nodeAfter && i.nodeAfter.nextSibling;
            o = HF(i.nodeBefore, t) || o;
            o = HF(e, t) || o;
          }
        }
        return o;
      }
      function FF(t, e) {
        const n = e.differ.getChanges();
        let i = false;
        for (const e of n) {
          if (e.type === "attribute" && e.attributeKey != "mention") {
            const n = e.range.start.nodeBefore;
            const o = e.range.end.nodeAfter;
            for (const r of [n, o]) {
              if (
                VF(r) &&
                r.getAttribute(e.attributeKey) != e.attributeNewValue
              ) {
                t.setAttribute(e.attributeKey, e.attributeNewValue, r);
                i = true;
              }
            }
          }
        }
        return i;
      }
      function VF(t) {
        if (
          !t ||
          !(t.is("$text") || t.is("$textProxy")) ||
          !t.hasAttribute("mention")
        ) {
          return false;
        }
        const e = t.data;
        const n = t.getAttribute("mention");
        const i = n._text;
        return e != i;
      }
      function HF(t, e) {
        if (VF(t)) {
          e.removeAttribute("mention", t);
          return true;
        }
        return false;
      }
      var UF = n(6391);
      var qF = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      qF.insert = "head";
      qF.singleton = true;
      var WF = Il()(UF.Z, qF);
      const GF = UF.Z.locals || {};
      class $F extends Bv {
        constructor(t) {
          super(t);
          this.extendTemplate({
            attributes: { class: ["ck-mentions"], tabindex: "-1" },
          });
        }
        selectFirst() {
          this.select(0);
        }
        selectNext() {
          const t = this.selected;
          const e = this.items.getIndex(t);
          this.select(e + 1);
        }
        selectPrevious() {
          const t = this.selected;
          const e = this.items.getIndex(t);
          this.select(e - 1);
        }
        select(t) {
          let e = 0;
          if (t > 0 && t < this.items.length) {
            e = t;
          } else if (t < 0) {
            e = this.items.length - 1;
          }
          const n = this.items.get(e);
          if (this.selected === n) {
            return;
          }
          if (this.selected) {
            this.selected.removeHighlight();
          }
          n.highlight();
          this.selected = n;
          if (!this._isItemVisibleInScrolledArea(n)) {
            this.element.scrollTop = n.element.offsetTop;
          }
        }
        executeSelected() {
          this.selected.fire("execute");
        }
        _isItemVisibleInScrolledArea(t) {
          return new sc(this.element).contains(new sc(t.element));
        }
      }
      class KF extends pC {
        constructor(t, e) {
          super(t);
          this.template = false;
          this.domElement = e;
          this.domElement.classList.add("ck-button");
          this.set("isOn", false);
          this.on("change:isOn", (t, e, n) => {
            if (n) {
              this.domElement.classList.add("ck-on");
              this.domElement.classList.remove("ck-off");
            } else {
              this.domElement.classList.add("ck-off");
              this.domElement.classList.remove("ck-on");
            }
          });
          this.listenTo(this.domElement, "click", () => {
            this.fire("execute");
          });
        }
        render() {
          super.render();
          this.element = this.domElement;
        }
      }
      class YF extends Lv {
        highlight() {
          const t = this.children.first;
          t.isOn = true;
        }
        removeHighlight() {
          const t = this.children.first;
          t.isOn = false;
        }
      }
      const ZF = 3;
      const QF = [Oc.arrowup, Oc.arrowdown, Oc.esc];
      const JF = [Oc.enter, Oc.tab];
      class XF extends Cl {
        static get pluginName() {
          return "MentionUI";
        }
        static get requires() {
          return [Ky];
        }
        constructor(t) {
          super(t);
          this._mentionsView = this._createMentionView();
          this._mentionsConfigurations = new Map();
          this._requestFeedDebounced = Qm(this._requestFeed, 100);
          t.config.define("mention", { feeds: [] });
        }
        init() {
          const t = this.editor;
          const e = t.config.get("mention.commitKeys") || JF;
          const n = QF.concat(e);
          this._balloon = t.plugins.get(Ky);
          t.editing.view.document.on(
            "keydown",
            (t, n) => {
              if (o(n.keyCode) && this._isUIVisible) {
                n.preventDefault();
                t.stop();
                if (n.keyCode == Oc.arrowdown) {
                  this._mentionsView.selectNext();
                }
                if (n.keyCode == Oc.arrowup) {
                  this._mentionsView.selectPrevious();
                }
                if (e.includes(n.keyCode)) {
                  this._mentionsView.executeSelected();
                }
                if (n.keyCode == Oc.esc) {
                  this._hideUIAndRemoveMarker();
                }
              }
            },
            { priority: "highest" }
          );
          v_({
            emitter: this._mentionsView,
            activator: () => this._isUIVisible,
            contextElements: [this._balloon.view.element],
            callback: () => this._hideUIAndRemoveMarker(),
          });
          const i = t.config.get("mention.feeds");
          for (const t of i) {
            const e = t.feed;
            const n = t.marker;
            if (!cV(n)) {
              throw new M("mentionconfig-incorrect-marker", null, {
                marker: n,
              });
            }
            const i = typeof e == "function" ? e.bind(this.editor) : rV(e);
            const o = t.itemRenderer;
            const r = { marker: n, feedCallback: i, itemRenderer: o };
            this._mentionsConfigurations.set(n, r);
          }
          this._setupTextWatcher(i);
          this.listenTo(t, "change:isReadOnly", () => {
            this._hideUIAndRemoveMarker();
          });
          this.on("requestFeed:response", (t, e) =>
            this._handleFeedResponse(e)
          );
          this.on("requestFeed:error", () => this._hideUIAndRemoveMarker());
          function o(t) {
            return n.includes(t);
          }
        }
        destroy() {
          super.destroy();
          this._mentionsView.destroy();
        }
        get _isUIVisible() {
          return this._balloon.visibleView === this._mentionsView;
        }
        _createMentionView() {
          const t = this.editor.locale;
          const e = new $F(t);
          this._items = new rl();
          e.items.bindTo(this._items).using((n) => {
            const { item: i, marker: o } = n;
            const r = this.editor.config.get("mention.dropdownLimit") || 10;
            if (e.items.length >= r) {
              return;
            }
            const s = new YF(t);
            const a = this._renderItem(i, o);
            a.delegate("execute").to(s);
            s.children.add(a);
            s.item = i;
            s.marker = o;
            s.on("execute", () => {
              e.fire("execute", { item: i, marker: o });
            });
            return s;
          });
          e.on("execute", (t, e) => {
            const n = this.editor;
            const i = n.model;
            const o = e.item;
            const r = e.marker;
            const s = n.model.markers.get("mention");
            const a = i.createPositionAt(i.document.selection.focus);
            const c = i.createPositionAt(s.getStart());
            const l = i.createRange(c, a);
            this._hideUIAndRemoveMarker();
            n.execute("mention", {
              mention: o,
              text: o.text,
              marker: r,
              range: l,
            });
            n.editing.view.focus();
          });
          return e;
        }
        _getItemRenderer(t) {
          const { itemRenderer: e } = this._mentionsConfigurations.get(t);
          return e;
        }
        _requestFeed(t, e) {
          this._lastRequested = e;
          const { feedCallback: n } = this._mentionsConfigurations.get(t);
          const i = n(e);
          const o = i instanceof Promise;
          if (!o) {
            this.fire("requestFeed:response", {
              feed: i,
              marker: t,
              feedText: e,
            });
            return;
          }
          i.then((n) => {
            if (this._lastRequested == e) {
              this.fire("requestFeed:response", {
                feed: n,
                marker: t,
                feedText: e,
              });
            } else {
              this.fire("requestFeed:discarded", {
                feed: n,
                marker: t,
                feedText: e,
              });
            }
          }).catch((e) => {
            this.fire("requestFeed:error", { error: e });
            B("mention-feed-callback-error", { marker: t });
          });
        }
        _setupTextWatcher(t) {
          const e = this.editor;
          const n = t.map((t) => ({
            ...t,
            pattern: nV(t.marker, t.minimumCharacters || 0),
          }));
          const i = new eE(e.model, iV(n));
          i.on("matched", (t, i) => {
            const o = eV(n, i.text);
            const r = e.model.document.selection;
            const s = r.focus;
            const a = e.model.createPositionAt(s.parent, o.position);
            if (sV(s) || aV(a)) {
              this._hideUIAndRemoveMarker();
              return;
            }
            const c = oV(o, i.text);
            const l = o.marker.length + c.length;
            const d = s.getShiftedBy(-l);
            const u = s.getShiftedBy(-c.length);
            const h = e.model.createRange(d, u);
            if (lV(e)) {
              const t = e.model.markers.get("mention");
              e.model.change((e) => {
                e.updateMarker(t, { range: h });
              });
            } else {
              e.model.change((t) => {
                t.addMarker("mention", {
                  range: h,
                  usingOperation: false,
                  affectsData: false,
                });
              });
            }
            this._requestFeedDebounced(o.marker, c);
          });
          i.on("unmatched", () => {
            this._hideUIAndRemoveMarker();
          });
          const o = e.commands.get("mention");
          i.bind("isEnabled").to(o);
          return i;
        }
        _handleFeedResponse(t) {
          const { feed: e, marker: n } = t;
          if (!lV(this.editor)) {
            return;
          }
          this._items.clear();
          for (const t of e) {
            const e = typeof t != "object" ? { id: t, text: t } : t;
            this._items.add({ item: e, marker: n });
          }
          const i = this.editor.model.markers.get("mention");
          if (this._items.length) {
            this._showOrUpdateUI(i);
          } else {
            this._hideUIAndRemoveMarker();
          }
        }
        _showOrUpdateUI(t) {
          if (this._isUIVisible) {
            this._balloon.updatePosition(
              this._getBalloonPanelPositionData(t, this._mentionsView.position)
            );
          } else {
            this._balloon.add({
              view: this._mentionsView,
              position: this._getBalloonPanelPositionData(
                t,
                this._mentionsView.position
              ),
              singleViewMode: true,
            });
          }
          this._mentionsView.position = this._balloon.view.position;
          this._mentionsView.selectFirst();
        }
        _hideUIAndRemoveMarker() {
          if (this._balloon.hasView(this._mentionsView)) {
            this._balloon.remove(this._mentionsView);
          }
          if (lV(this.editor)) {
            this.editor.model.change((t) => t.removeMarker("mention"));
          }
          this._mentionsView.position = undefined;
        }
        _renderItem(t, e) {
          const n = this.editor;
          let i;
          let o = t.id;
          const r = this._getItemRenderer(e);
          if (r) {
            const e = r(t);
            if (typeof e != "string") {
              i = new KF(n.locale, e);
            } else {
              o = e;
            }
          }
          if (!i) {
            const t = new R_(n.locale);
            t.label = o;
            t.withText = true;
            i = t;
          }
          return i;
        }
        _getBalloonPanelPositionData(t, e) {
          const n = this.editor;
          const i = n.editing;
          const o = i.view.domConverter;
          const r = i.mapper;
          return {
            target: () => {
              let e = t.getRange();
              if (e.start.root.rootName == "$graveyard") {
                e = n.model.document.selection.getFirstRange();
              }
              const i = r.toViewRange(e);
              const s = sc.getDomRangeRects(o.viewRangeToDom(i));
              return s.pop();
            },
            limiter: () => {
              const t = this.editor.editing.view;
              const e = t.document;
              const n = e.selection.editableElement;
              if (n) {
                return t.domConverter.mapViewToDom(n.root);
              }
              return null;
            },
            positions: tV(e),
          };
        }
      }
      function tV(t) {
        const e = {
          caret_se: (t) => ({
            top: t.bottom + ZF,
            left: t.right,
            name: "caret_se",
            config: { withArrow: false },
          }),
          caret_ne: (t, e) => ({
            top: t.top - e.height - ZF,
            left: t.right,
            name: "caret_ne",
            config: { withArrow: false },
          }),
          caret_sw: (t, e) => ({
            top: t.bottom + ZF,
            left: t.right - e.width,
            name: "caret_sw",
            config: { withArrow: false },
          }),
          caret_nw: (t, e) => ({
            top: t.top - e.height - ZF,
            left: t.right - e.width,
            name: "caret_nw",
            config: { withArrow: false },
          }),
        };
        if (Object.prototype.hasOwnProperty.call(e, t)) {
          return [e[t]];
        }
        return [e.caret_se, e.caret_sw, e.caret_ne, e.caret_nw];
      }
      function eV(t, e) {
        let n;
        for (const i of t) {
          const t = e.lastIndexOf(i.marker);
          if (t > 0 && !e.substring(t - 1).match(i.pattern)) {
            continue;
          }
          if (!n || t >= n.position) {
            n = {
              marker: i.marker,
              position: t,
              minimumCharacters: i.minimumCharacters,
              pattern: i.pattern,
            };
          }
        }
        return n;
      }
      function nV(t, e) {
        const n = e == 0 ? "*" : \`{\${e},}\`;
        const i = r.features.isRegExpUnicodePropertySupported
          ? "\\\\p{Ps}\\\\p{Pi}\\"'"
          : "\\\\(\\\\[{\\"'";
        const o = ".";
        const s = \`(?:^|[ \${i}])([\${t}])(\${o}\${n})$\`;
        return new RegExp(s, "u");
      }
      function iV(t) {
        const e = (e) => {
          const n = eV(t, e);
          if (!n) {
            return false;
          }
          let i = 0;
          if (n.position !== 0) {
            i = n.position - 1;
          }
          const o = e.substring(i);
          return n.pattern.test(o);
        };
        return e;
      }
      function oV(t, e) {
        let n = 0;
        if (t.position !== 0) {
          n = t.position - 1;
        }
        const i = nV(t.marker, 0);
        const o = e.substring(n);
        const r = o.match(i);
        return r[2];
      }
      function rV(t) {
        return (e) => {
          const n = t.filter((t) => {
            const n = typeof t == "string" ? t : String(t.id);
            return n.toLowerCase().includes(e.toLowerCase());
          });
          return n;
        };
      }
      function sV(t) {
        const e = t.textNode && t.textNode.hasAttribute("mention");
        const n = t.nodeBefore;
        return e || (n && n.is("$text") && n.hasAttribute("mention"));
      }
      function aV(t) {
        const e = t.nodeAfter;
        return e && e.is("$text") && e.hasAttribute("mention");
      }
      function cV(t) {
        return t && t.length == 1;
      }
      function lV(t) {
        return t.model.markers.has("mention");
      }
      var dV = n(7583);
      var uV = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      uV.insert = "head";
      uV.singleton = true;
      var hV = Il()(dV.Z, uV);
      const mV = dV.Z.locals || {};
      class gV extends Cl {
        toMentionAttribute(t, e) {
          return NF(t, e);
        }
        static get pluginName() {
          return "Mention";
        }
        static get requires() {
          return [BF, XF];
        }
      }
      function fV(t, e) {
        for (const n of t.getChildren()) {
          if (n.is("element", "b") && n.getStyle("font-weight") === "normal") {
            const i = t.getChildIndex(n);
            e.remove(n);
            e.insertChild(i, n.getChildren(), t);
          }
        }
      }
      function pV(t, e) {
        const n = new kh(e.document.stylesProcessor);
        const i = new Am(n, { renderingMode: "data" });
        const o = i.blockElements;
        const r = i.inlineObjectElements;
        const s = [];
        for (const n of e.createRangeIn(t)) {
          const t = n.item;
          if (t.is("element", "br")) {
            const n = bV(t, "forward", e, {
              blockElements: o,
              inlineObjectElements: r,
            });
            const i = bV(t, "backward", e, {
              blockElements: o,
              inlineObjectElements: r,
            });
            const a = kV(n, o);
            const c = kV(i, o);
            if (c || a) {
              s.push(t);
            }
          }
        }
        for (const t of s) {
          if (t.hasClass("Apple-interchange-newline")) {
            e.remove(t);
          } else {
            e.replace(t, e.createElement("p"));
          }
        }
      }
      function bV(t, e, n, { blockElements: i, inlineObjectElements: o }) {
        let r = n.createPositionAt(t, e == "forward" ? "after" : "before");
        r = r.getLastMatchingPosition(
          ({ item: t }) =>
            t.is("element") && !i.includes(t.name) && !o.includes(t.name),
          { direction: e }
        );
        return e == "forward" ? r.nodeAfter : r.nodeBefore;
      }
      function kV(t, e) {
        return !!t && t.is("element") && e.includes(t.name);
      }
      function wV(t, e) {
        if (!t.childCount) {
          return;
        }
        const n = new Fw(t.document);
        const i = CV(t, n);
        if (!i.length) {
          return;
        }
        let o = null;
        let r = 1;
        i.forEach((t, s) => {
          const a = IV(i[s - 1], t);
          const c = a ? null : i[s - 1];
          const l = BV(c, t);
          if (a) {
            o = null;
            r = 1;
          }
          if (!o || l !== 0) {
            const i = _V(t, e);
            if (!o) {
              o = EV(i, t.element, n);
            } else if (t.indent > r) {
              const t = o.getChild(o.childCount - 1);
              const e = t.getChild(t.childCount - 1);
              o = EV(i, e, n);
              r += 1;
            } else if (t.indent < r) {
              const e = r - t.indent;
              o = LV(o, e);
              r = parseInt(t.indent);
            }
            if (t.indent <= r) {
              if (!o.is("element", i.type)) {
                o = n.rename(i.type, o);
              }
            }
          }
          const d = DV(t.element, n);
          n.appendChild(d, o);
        });
      }
      function AV(t, e) {
        for (const n of e.createRangeIn(t)) {
          const t = n.item;
          if (t.is("element", "li")) {
            const n = t.getChild(0);
            if (n && n.is("element", "p")) {
              e.unwrapElement(n);
            }
          }
        }
      }
      function CV(t, e) {
        const n = e.createRangeIn(t);
        const i = new Ql({ name: /^p|h\\d+$/, styles: { "mso-list": /.*/ } });
        const o = [];
        for (const t of n) {
          if (t.type === "elementStart" && i.match(t.item)) {
            const e = SV(t.item);
            o.push({
              element: t.item,
              id: e.id,
              order: e.order,
              indent: e.indent,
            });
          }
        }
        return o;
      }
      function _V(t, e) {
        const n = new RegExp(
          \`@list l\${t.id}:level\${t.indent}\\\\s*({[^}]*)\`,
          "gi"
        );
        const i = /mso-level-number-format:([^;]{0,100});/gi;
        const o = /mso-level-start-at:\\s{0,100}([0-9]{0,10})\\s{0,100};/gi;
        const r = n.exec(e);
        let s = "decimal";
        let a = "ol";
        let c = null;
        if (r && r[1]) {
          const e = i.exec(r[1]);
          if (e && e[1]) {
            s = e[1].trim();
            a = s !== "bullet" && s !== "image" ? "ol" : "ul";
          }
          if (s === "bullet") {
            const e = vV(t.element);
            if (e) {
              s = e;
            }
          } else {
            const t = o.exec(r[1]);
            if (t && t[1]) {
              c = parseInt(t[1]);
            }
          }
        }
        return { type: a, startIndex: c, style: xV(s) };
      }
      function vV(t) {
        const e = yV(t);
        if (!e) {
          return null;
        }
        const n = e._data;
        if (n === "o") {
          return "circle";
        } else if (n === "\xB7") {
          return "disc";
        } else if (n === "\xA7") {
          return "square";
        }
        return null;
      }
      function yV(t) {
        if (t.getChild(0).is("$text")) {
          return null;
        }
        for (const e of t.getChildren()) {
          if (!e.is("element", "span")) {
            continue;
          }
          const t = e.getChild(0);
          if (t.is("$text")) {
            return t;
          }
          return t.getChild(0);
        }
      }
      function xV(t) {
        if (t.startsWith("arabic-leading-zero")) {
          return "decimal-leading-zero";
        }
        switch (t) {
          case "alpha-upper":
            return "upper-alpha";
          case "alpha-lower":
            return "lower-alpha";
          case "roman-upper":
            return "upper-roman";
          case "roman-lower":
            return "lower-roman";
          case "circle":
          case "disc":
          case "square":
            return t;
          default:
            return null;
        }
      }
      function EV(t, e, n) {
        const i = e.parent;
        const o = n.createElement(t.type);
        const r = i.getChildIndex(e) + 1;
        n.insertChild(r, o, i);
        if (t.style) {
          n.setStyle("list-style-type", t.style, o);
        }
        if (t.startIndex && t.startIndex > 1) {
          n.setAttribute("start", t.startIndex, o);
        }
        return o;
      }
      function DV(t, e) {
        TV(t, e);
        return e.rename("li", t);
      }
      function SV(t) {
        const e = {};
        const n = t.getStyle("mso-list");
        if (n) {
          const t = n.match(/(^|\\s{1,100})l(\\d+)/i);
          const i = n.match(/\\s{0,100}lfo(\\d+)/i);
          const o = n.match(/\\s{0,100}level(\\d+)/i);
          if (t && i && o) {
            e.id = t[2];
            e.order = i[1];
            e.indent = o[1];
          }
        }
        return e;
      }
      function TV(t, e) {
        const n = new Ql({ name: "span", styles: { "mso-list": "Ignore" } });
        const i = e.createRangeIn(t);
        for (const t of i) {
          if (t.type === "elementStart" && n.match(t.item)) {
            e.remove(t.item);
          }
        }
      }
      function IV(t, e) {
        if (!t) {
          return true;
        }
        if (t.id !== e.id) {
          if (e.indent - t.indent === 1) {
            return false;
          }
          return true;
        }
        const n = e.element.previousSibling;
        if (!n) {
          return true;
        }
        return !MV(n);
      }
      function MV(t) {
        return t.is("element", "ol") || t.is("element", "ul");
      }
      function BV(t, e) {
        return t ? e.indent - t.indent : e.indent - 1;
      }
      function LV(t, e) {
        const n = t.getAncestors({ parentFirst: true });
        let i = null;
        let o = 0;
        for (const t of n) {
          if (t.name === "ul" || t.name === "ol") {
            o++;
          }
          if (o === e) {
            i = t;
            break;
          }
        }
        return i;
      }
      const NV = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;
      class zV {
        constructor(t) {
          this.document = t;
        }
        isActive(t) {
          return NV.test(t);
        }
        execute(t) {
          const e = new Fw(this.document);
          const { body: n } = t._parsedData;
          fV(n, e);
          AV(n, e);
          pV(n, e);
          t.content = n;
        }
      }
      function PV(t, e) {
        if (!t.childCount) {
          return;
        }
        const n = new Fw();
        const i = OV(t, n);
        jV(i, t, n);
        FV(t, n);
        const o = VV(t, n);
        if (o.length) {
          UV(o, HV(e), n);
        }
      }
      function RV(t) {
        return btoa(
          t
            .match(/\\w{2}/g)
            .map((t) => String.fromCharCode(parseInt(t, 16)))
            .join("")
        );
      }
      function OV(t, e) {
        const n = e.createRangeIn(t);
        const i = new Ql({ name: /v:(.+)/ });
        const o = [];
        for (const t of n) {
          if (t.type != "elementStart") {
            continue;
          }
          const e = t.item;
          const n = (e.previousSibling && e.previousSibling.name) || null;
          if (
            i.match(e) &&
            e.getAttribute("o:gfxdata") &&
            n !== "v:shapetype"
          ) {
            o.push(t.item.getAttribute("id"));
          }
        }
        return o;
      }
      function jV(t, e, n) {
        const i = n.createRangeIn(e);
        const o = new Ql({ name: "img" });
        const r = [];
        for (const e of i) {
          if (o.match(e.item)) {
            const n = e.item;
            const i = n.getAttribute("v:shapes")
              ? n.getAttribute("v:shapes").split(" ")
              : [];
            if (i.length && i.every((e) => t.indexOf(e) > -1)) {
              r.push(n);
            } else if (!n.getAttribute("src")) {
              r.push(n);
            }
          }
        }
        for (const t of r) {
          n.remove(t);
        }
      }
      function FV(t, e) {
        const n = e.createRangeIn(t);
        const i = new Ql({ name: /v:(.+)/ });
        const o = [];
        for (const t of n) {
          if (t.type == "elementStart" && i.match(t.item)) {
            o.push(t.item);
          }
        }
        for (const t of o) {
          e.remove(t);
        }
      }
      function VV(t, e) {
        const n = e.createRangeIn(t);
        const i = new Ql({ name: "img" });
        const o = [];
        for (const t of n) {
          if (i.match(t.item)) {
            if (t.item.getAttribute("src").startsWith("file://")) {
              o.push(t.item);
            }
          }
        }
        return o;
      }
      function HV(t) {
        if (!t) {
          return [];
        }
        const e =
          /{\\\\pict[\\s\\S]+?\\\\bliptag-?\\d+(\\\\blipupi-?\\d+)?({\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s}]*?/;
        const n = new RegExp("(?:(" + e.source + "))([\\\\da-fA-F\\\\s]+)\\\\}", "g");
        const i = t.match(n);
        const o = [];
        if (i) {
          for (const t of i) {
            let n = false;
            if (t.includes("\\\\pngblip")) {
              n = "image/png";
            } else if (t.includes("\\\\jpegblip")) {
              n = "image/jpeg";
            }
            if (n) {
              o.push({
                hex: t.replace(e, "").replace(/[^\\da-fA-F]/g, ""),
                type: n,
              });
            }
          }
        }
        return o;
      }
      function UV(t, e, n) {
        if (t.length === e.length) {
          for (let i = 0; i < t.length; i++) {
            const o = \`data:\${e[i].type};base64,\${RV(e[i].hex)}\`;
            n.setAttribute("src", o, t[i]);
          }
        }
      }
      const qV =
        /<meta\\s*name="?generator"?\\s*content="?microsoft\\s*word\\s*\\d+"?\\/?>/i;
      const WV = /xmlns:o="urn:schemas-microsoft-com/i;
      class GV {
        constructor(t) {
          this.document = t;
        }
        isActive(t) {
          return qV.test(t) || WV.test(t);
        }
        execute(t) {
          const { body: e, stylesString: n } = t._parsedData;
          wV(e, n);
          PV(e, t.dataTransfer.getData("text/rtf"));
          t.content = e;
        }
      }
      function $V(t) {
        return YV(YV(t))
          .replace(
            /(<span\\s+style=['"]mso-spacerun:yes['"]>[^\\S\\r\\n]*?)[\\r\\n]+([^\\S\\r\\n]*<\\/span>)/g,
            "$1$2"
          )
          .replace(/<span\\s+style=['"]mso-spacerun:yes['"]><\\/span>/g, "")
          .replace(/ <\\//g, "\xA0</")
          .replace(/ <o:p><\\/o:p>/g, "\xA0<o:p></o:p>")
          .replace(/<o:p>(&nbsp;|\\u00A0)<\\/o:p>/g, "")
          .replace(/>([^\\S\\r\\n]*[\\r\\n]\\s*)</g, "><");
      }
      function KV(t) {
        t.querySelectorAll("span[style*=spacerun]").forEach((t) => {
          const e = t.innerText.length || 0;
          t.innerText = Array(e + 1)
            .join("\xA0 ")
            .substr(0, e);
        });
      }
      function YV(t) {
        return t.replace(
          /<span(?: class="Apple-converted-space"|)>(\\s+)<\\/span>/g,
          (t, e) =>
            e.length === 1
              ? " "
              : Array(e.length + 1)
                  .join("\xA0 ")
                  .substr(0, e.length)
        );
      }
      function ZV(t, e) {
        const n = new DOMParser();
        t = t.replace(/<!--\\[if gte vml 1]>/g, "");
        const i = $V(XV(t));
        const o = n.parseFromString(i, "text/html");
        KV(o);
        const r = o.body.innerHTML;
        const s = QV(o, e);
        const a = JV(o);
        return {
          body: s,
          bodyString: r,
          styles: a.styles,
          stylesString: a.stylesString,
        };
      }
      function QV(t, e) {
        const n = new kh(e);
        const i = new Am(n, { renderingMode: "data" });
        const o = t.createDocumentFragment();
        const r = t.body.childNodes;
        while (r.length > 0) {
          o.appendChild(r[0]);
        }
        return i.domToView(o, { skipComments: true });
      }
      function JV(t) {
        const e = [];
        const n = [];
        const i = Array.from(t.getElementsByTagName("style"));
        for (const t of i) {
          if (t.sheet && t.sheet.cssRules && t.sheet.cssRules.length) {
            e.push(t.sheet);
            n.push(t.innerHTML);
          }
        }
        return { styles: e, stylesString: n.join(" ") };
      }
      function XV(t) {
        const e = "</body>";
        const n = "</html>";
        const i = t.indexOf(e);
        if (i < 0) {
          return t;
        }
        const o = t.indexOf(n, i + e.length);
        return t.substring(0, i + e.length) + (o >= 0 ? t.substring(o) : "");
      }
      class tH extends Cl {
        static get pluginName() {
          return "PasteFromOffice";
        }
        static get requires() {
          return [RE];
        }
        init() {
          const t = this.editor;
          const e = t.editing.view.document;
          const n = [];
          n.push(new GV(e));
          n.push(new zV(e));
          t.plugins.get("ClipboardPipeline").on(
            "inputTransformation",
            (i, o) => {
              if (o._isTransformedWithPasteFromOffice) {
                return;
              }
              const r = t.model.document.selection.getFirstPosition().parent;
              if (r.is("element", "codeBlock")) {
                return;
              }
              const s = o.dataTransfer.getData("text/html");
              const a = n.find((t) => t.isActive(s));
              if (a) {
                o._parsedData = ZV(s, e.stylesProcessor);
                a.execute(o);
                o._isTransformedWithPasteFromOffice = true;
              }
            },
            { priority: "high" }
          );
        }
      }
      const eH =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';
      const nH = "removeFormat";
      class iH extends Cl {
        static get pluginName() {
          return "RemoveFormatUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(nH, (n) => {
            const i = t.commands.get(nH);
            const o = new R_(n);
            o.set({ label: e("Remove Format"), icon: eH, tooltip: true });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(nH);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class oH extends vl {
        refresh() {
          const t = this.editor.model;
          this.isEnabled = !!sl(
            this._getFormattingItems(t.document.selection, t.schema)
          );
        }
        execute() {
          const t = this.editor.model;
          const e = t.schema;
          t.change((n) => {
            for (const i of this._getFormattingItems(t.document.selection, e)) {
              if (i.is("selection")) {
                for (const t of this._getFormattingAttributes(i, e)) {
                  n.removeSelectionAttribute(t);
                }
              } else {
                const t = n.createRangeOn(i);
                for (const o of this._getFormattingAttributes(i, e)) {
                  n.removeAttribute(o, t);
                }
              }
            }
          });
        }
        *_getFormattingItems(t, e) {
          const n = (t) => !!sl(this._getFormattingAttributes(t, e));
          for (const i of t.getRanges()) {
            for (const t of i.getItems()) {
              if (!e.isBlock(t) && n(t)) {
                yield t;
              }
            }
          }
          for (const e of t.getSelectedBlocks()) {
            if (n(e)) {
              yield e;
            }
          }
          if (n(t)) {
            yield t;
          }
        }
        *_getFormattingAttributes(t, e) {
          for (const [n] of t.getAttributes()) {
            const t = e.getAttributeProperties(n);
            if (t && t.isFormatting) {
              yield n;
            }
          }
        }
      }
      class rH extends Cl {
        static get pluginName() {
          return "RemoveFormatEditing";
        }
        init() {
          const t = this.editor;
          t.commands.add("removeFormat", new oH(t));
        }
      }
      class sH extends Cl {
        static get requires() {
          return [rH, iH];
        }
        static get pluginName() {
          return "RemoveFormat";
        }
      }
      function aH(t) {
        const e = [
          { name: "address", isVoid: false },
          { name: "article", isVoid: false },
          { name: "aside", isVoid: false },
          { name: "blockquote", isVoid: false },
          { name: "br", isVoid: true },
          { name: "details", isVoid: false },
          { name: "dialog", isVoid: false },
          { name: "dd", isVoid: false },
          { name: "div", isVoid: false },
          { name: "dl", isVoid: false },
          { name: "dt", isVoid: false },
          { name: "fieldset", isVoid: false },
          { name: "figcaption", isVoid: false },
          { name: "figure", isVoid: false },
          { name: "footer", isVoid: false },
          { name: "form", isVoid: false },
          { name: "h1", isVoid: false },
          { name: "h2", isVoid: false },
          { name: "h3", isVoid: false },
          { name: "h4", isVoid: false },
          { name: "h5", isVoid: false },
          { name: "h6", isVoid: false },
          { name: "header", isVoid: false },
          { name: "hgroup", isVoid: false },
          { name: "hr", isVoid: true },
          { name: "input", isVoid: true },
          { name: "li", isVoid: false },
          { name: "main", isVoid: false },
          { name: "nav", isVoid: false },
          { name: "ol", isVoid: false },
          { name: "p", isVoid: false },
          { name: "section", isVoid: false },
          { name: "table", isVoid: false },
          { name: "tbody", isVoid: false },
          { name: "td", isVoid: false },
          { name: "textarea", isVoid: false },
          { name: "th", isVoid: false },
          { name: "thead", isVoid: false },
          { name: "tr", isVoid: false },
          { name: "ul", isVoid: false },
        ];
        const n = e.map((t) => t.name).join("|");
        const i = t
          .replace(new RegExp(\`</?(\${n})( .*?)?>\`, "g"), "\\n$&\\n")
          .split("\\n");
        let o = 0;
        return i
          .filter((t) => t.length)
          .map((t) => {
            if (cH(t, e)) {
              return dH(t, o++);
            }
            if (lH(t, e)) {
              return dH(t, --o);
            }
            return dH(t, o);
          })
          .join("\\n");
      }
      function cH(t, e) {
        return e.some((e) => {
          if (e.isVoid) {
            return false;
          }
          if (!new RegExp(\`<\${e.name}( .*?)?>\`).test(t)) {
            return false;
          }
          return true;
        });
      }
      function lH(t, e) {
        return e.some((e) => new RegExp(\`</\${e.name}>\`).test(t));
      }
      function dH(t, e, n = "    ") {
        return \`\${n.repeat(Math.max(0, e))}\${t}\`;
      }
      var uH = n(671);
      var hH = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      hH.insert = "head";
      hH.singleton = true;
      var mH = Il()(uH.Z, hH);
      const gH = uH.Z.locals || {};
      const fH =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>';
      const pH = "SourceEditingMode";
      class bH extends Cl {
        static get pluginName() {
          return "SourceEditing";
        }
        static get requires() {
          return [VC];
        }
        constructor(t) {
          super(t);
          this.set("isSourceEditingMode", false);
          this._elementReplacer = new Ct();
          this._replacedRoots = new Map();
          this._dataFromRoots = new Map();
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add("sourceEditing", (n) => {
            const i = new R_(n);
            i.set({
              label: e("Source"),
              icon: fH,
              tooltip: true,
              withText: true,
              class: "ck-source-editing-button",
            });
            i.bind("isOn").to(this, "isSourceEditingMode");
            i.bind("isEnabled").to(
              this,
              "isEnabled",
              t,
              "isReadOnly",
              t.plugins.get(VC),
              "hasAny",
              (t, e, n) => {
                if (!t) {
                  return false;
                }
                if (e) {
                  return false;
                }
                if (n) {
                  return false;
                }
                return true;
              }
            );
            this.listenTo(i, "execute", () => {
              this.isSourceEditingMode = !this.isSourceEditingMode;
            });
            return i;
          });
          if (this._isAllowedToHandleSourceEditingMode()) {
            this.on("change:isSourceEditingMode", (t, e, n) => {
              if (n) {
                this._showSourceEditing();
                this._disableCommands();
              } else {
                this._hideSourceEditing();
                this._enableCommands();
              }
            });
            this.on("change:isEnabled", (t, e, n) =>
              this._handleReadOnlyMode(!n)
            );
            this.listenTo(t, "change:isReadOnly", (t, e, n) =>
              this._handleReadOnlyMode(n)
            );
          }
          t.data.on(
            "get",
            () => {
              if (this.isSourceEditingMode) {
                this._updateEditorData();
              }
            },
            { priority: "high" }
          );
        }
        afterInit() {
          const t = this.editor;
          const e = [
            "RealTimeCollaborativeEditing",
            "CommentsEditing",
            "TrackChangesEditing",
            "RevisionHistory",
          ];
          if (e.some((e) => t.plugins.has(e))) {
            console.warn(
              "You initialized the editor with the source editing feature and at least one of the collaboration features. " +
                "Please be advised that the source editing feature may not work, and be careful when editing document source " +
                "that contains markers created by the collaboration features."
            );
          }
          if (t.plugins.has("RestrictedEditingModeEditing")) {
            console.warn(
              "You initialized the editor with the source editing feature and restricted editing feature. " +
                "Please be advised that the source editing feature may not work, and be careful when editing document source " +
                "that contains markers created by the restricted editing feature."
            );
          }
        }
        _showSourceEditing() {
          const t = this.editor;
          const e = t.editing.view;
          const n = t.model;
          n.change((t) => {
            t.setSelection(null);
            t.removeSelectionAttribute(n.document.selection.getAttributeKeys());
          });
          for (const [n, i] of e.domRoots) {
            const o = kH(t.data.get({ rootName: n }));
            const r = te(i.ownerDocument, "textarea", {
              rows: "1",
              "aria-label": "Source code editing area",
            });
            const s = te(
              i.ownerDocument,
              "div",
              { class: "ck-source-editing-area", "data-value": o },
              [r]
            );
            r.value = o;
            r.setSelectionRange(0, 0);
            r.addEventListener("input", () => {
              s.dataset.value = r.value;
            });
            e.change((t) => {
              const i = e.document.getRoot(n);
              t.addClass("ck-hidden", i);
            });
            t.ui.setEditableElement("sourceEditing:" + n, r);
            this._replacedRoots.set(n, s);
            this._elementReplacer.replace(i, s);
            this._dataFromRoots.set(n, o);
          }
          this._focusSourceEditing();
        }
        _hideSourceEditing() {
          const t = this.editor;
          const e = t.editing.view;
          this._updateEditorData();
          e.change((t) => {
            for (const [n] of this._replacedRoots) {
              t.removeClass("ck-hidden", e.document.getRoot(n));
            }
          });
          this._elementReplacer.restore();
          this._replacedRoots.clear();
          this._dataFromRoots.clear();
          e.focus();
        }
        _updateEditorData() {
          const t = this.editor;
          const e = {};
          for (const [t, n] of this._replacedRoots) {
            const i = this._dataFromRoots.get(t);
            const o = n.dataset.value;
            if (i !== o) {
              e[t] = o;
            }
          }
          if (Object.keys(e).length) {
            t.data.set(e, { batchType: { isUndoable: true } });
          }
        }
        _focusSourceEditing() {
          const t = this.editor;
          const [e] = this._replacedRoots.values();
          const n = e.querySelector("textarea");
          t.editing.view.document.isFocused = false;
          n.focus();
        }
        _disableCommands() {
          const t = this.editor;
          for (const e of t.commands.commands()) {
            e.forceDisabled(pH);
          }
        }
        _enableCommands() {
          const t = this.editor;
          for (const e of t.commands.commands()) {
            e.clearForceDisabled(pH);
          }
        }
        _handleReadOnlyMode(t) {
          if (!this.isSourceEditingMode) {
            return;
          }
          for (const [, e] of this._replacedRoots) {
            e.querySelector("textarea").readOnly = t;
          }
        }
        _isAllowedToHandleSourceEditingMode() {
          const t = this.editor;
          const e = t.ui.view.editable;
          return e && !e._hasExternalElement;
        }
      }
      function kH(t) {
        if (!wH(t)) {
          return t;
        }
        return aH(t);
      }
      function wH(t) {
        return t.startsWith("<");
      }
      class AH extends by {
        constructor(t, e) {
          super(t);
          const n = t.t;
          this.set("class", "ck-special-characters-navigation");
          this.groupDropdownView = this._createGroupDropdown(e);
          this.groupDropdownView.panelPosition =
            t.uiLanguageDirection === "rtl" ? "se" : "sw";
          this.label = n("Special characters");
          this.children.add(this.groupDropdownView);
        }
        get currentGroupName() {
          return this.groupDropdownView.value;
        }
        focus() {
          this.groupDropdownView.focus();
        }
        _createGroupDropdown(t) {
          const e = this.locale;
          const n = e.t;
          const i = Uv(e);
          const o = this._getCharacterGroupListItemDefinitions(i, t);
          i.set("value", o.first.model.label);
          i.buttonView.bind("label").to(i, "value");
          i.buttonView.set({
            isOn: false,
            withText: true,
            tooltip: n("Character categories"),
            class: ["ck-dropdown__button_label-width_auto"],
          });
          i.on("execute", (t) => {
            i.value = t.source.label;
          });
          i.delegate("execute").to(this);
          Wv(i, o);
          return i;
        }
        _getCharacterGroupListItemDefinitions(t, e) {
          const n = new rl();
          for (const i of e) {
            const e = {
              type: "button",
              model: new Py({ label: i, withText: true }),
            };
            e.model.bind("isOn").to(t, "value", (t) => t === e.model.label);
            n.add(e);
          }
          return n;
        }
      }
      var CH = n(4046);
      var _H = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      _H.insert = "head";
      _H.singleton = true;
      var vH = Il()(CH.Z, _H);
      const yH = CH.Z.locals || {};
      class xH extends pC {
        constructor(t) {
          super(t);
          this.tiles = this.createCollection();
          this.setTemplate({
            tag: "div",
            children: [
              {
                tag: "div",
                attributes: { class: ["ck", "ck-character-grid__tiles"] },
                children: this.tiles,
              },
            ],
            attributes: { class: ["ck", "ck-character-grid"] },
          });
          this.focusTracker = new al();
          this.keystrokes = new cl();
          E_({
            keystrokeHandler: this.keystrokes,
            focusTracker: this.focusTracker,
            gridItems: this.tiles,
            numberOfColumns: () =>
              Xa.window
                .getComputedStyle(this.element.firstChild)
                .getPropertyValue("grid-template-columns")
                .split(" ").length,
            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection,
          });
        }
        createTile(t, e) {
          const n = new R_(this.locale);
          n.set({ label: t, withText: true, class: "ck-character-grid__tile" });
          n.extendTemplate({
            attributes: { title: e },
            on: {
              mouseover: n.bindTemplate.to("mouseover"),
              focus: n.bindTemplate.to("focus"),
            },
          });
          n.on("mouseover", () => {
            this.fire("tileHover", { name: e, character: t });
          });
          n.on("focus", () => {
            this.fire("tileFocus", { name: e, character: t });
          });
          n.on("execute", () => {
            this.fire("execute", { name: e, character: t });
          });
          return n;
        }
        render() {
          super.render();
          for (const t of this.tiles) {
            this.focusTracker.add(t.element);
          }
          this.tiles.on("change", (t, { added: e, removed: n }) => {
            if (e.length > 0) {
              for (const t of e) {
                this.focusTracker.add(t.element);
              }
            }
            if (n.length > 0) {
              for (const t of n) {
                this.focusTracker.remove(t.element);
              }
            }
          });
          this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this.tiles.get(0).focus();
        }
      }
      var EH = n(4779);
      var DH = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      DH.insert = "head";
      DH.singleton = true;
      var SH = Il()(EH.Z, DH);
      const TH = EH.Z.locals || {};
      class IH extends pC {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.set("character", null);
          this.set("name", null);
          this.bind("code").to(this, "character", MH);
          this.setTemplate({
            tag: "div",
            children: [
              {
                tag: "span",
                attributes: { class: ["ck-character-info__name"] },
                children: [{ text: e.to("name", (t) => (t ? t : "\u200B")) }],
              },
              {
                tag: "span",
                attributes: { class: ["ck-character-info__code"] },
                children: [{ text: e.to("code") }],
              },
            ],
            attributes: { class: ["ck", "ck-character-info"] },
          });
        }
      }
      function MH(t) {
        if (t === null) {
          return "";
        }
        const e = t.codePointAt(0).toString(16);
        return "U+" + ("0000" + e).slice(-4);
      }
      class BH extends pC {
        constructor(t, e, n, i) {
          super(t);
          this.items = this.createCollection();
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this._focusCycler = new hv({
            focusables: this.items,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this.navigationView = e;
          this.gridView = n;
          this.infoView = i;
          this.setTemplate({
            tag: "div",
            children: [this.navigationView, this.gridView, this.infoView],
            attributes: { tabindex: "-1" },
          });
          this.items.add(this.navigationView.groupDropdownView.buttonView);
          this.items.add(this.gridView);
        }
        render() {
          super.render();
          this.focusTracker.add(
            this.navigationView.groupDropdownView.buttonView.element
          );
          this.focusTracker.add(this.gridView.element);
          this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this.navigationView.focus();
        }
      }
      const LH =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>';
      var NH = n(8170);
      var zH = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      zH.insert = "head";
      zH.singleton = true;
      var PH = Il()(NH.Z, zH);
      const RH = NH.Z.locals || {};
      const OH = "All";
      class jH extends Cl {
        static get requires() {
          return [Xx];
        }
        static get pluginName() {
          return "SpecialCharacters";
        }
        constructor(t) {
          super(t);
          this._characters = new Map();
          this._groups = new Map();
        }
        init() {
          const t = this.editor;
          const e = t.t;
          const n = t.commands.get("input");
          t.ui.componentFactory.add("specialCharacters", (i) => {
            const o = Uv(i);
            let r;
            o.buttonView.set({
              label: e("Special characters"),
              icon: LH,
              tooltip: true,
            });
            o.bind("isEnabled").to(n);
            o.on("execute", (e, n) => {
              t.execute("insertText", { text: n.character });
              t.editing.view.focus();
            });
            o.on("change:isOpen", () => {
              if (!r) {
                r = this._createDropdownPanelContent(i, o);
                const t = new BH(i, r.navigationView, r.gridView, r.infoView);
                o.panelView.children.add(t);
              }
              r.infoView.set({ character: null, name: null });
            });
            return o;
          });
        }
        addItems(t, e) {
          if (t === OH) {
            throw new M(
              \`special-character-invalid-group-name: The name "\${OH}" is reserved and cannot be used.\`
            );
          }
          const n = this._getGroup(t);
          for (const t of e) {
            n.add(t.title);
            this._characters.set(t.title, t.character);
          }
        }
        getGroups() {
          return this._groups.keys();
        }
        getCharactersForGroup(t) {
          if (t === OH) {
            return new Set(this._characters.keys());
          }
          return this._groups.get(t);
        }
        getCharacter(t) {
          return this._characters.get(t);
        }
        _getGroup(t) {
          if (!this._groups.has(t)) {
            this._groups.set(t, new Set());
          }
          return this._groups.get(t);
        }
        _updateGrid(t, e) {
          e.tiles.clear();
          const n = this.getCharactersForGroup(t);
          for (const t of n) {
            const n = this.getCharacter(t);
            e.tiles.add(e.createTile(n, t));
          }
        }
        _createDropdownPanelContent(t, e) {
          const n = [...this.getGroups()];
          n.unshift(OH);
          const i = new AH(t, n);
          const o = new xH(t);
          const r = new IH(t);
          o.delegate("execute").to(e);
          o.on("tileHover", (t, e) => {
            r.set(e);
          });
          o.on("tileFocus", (t, e) => {
            r.set(e);
          });
          i.on("execute", () => {
            this._updateGrid(i.currentGroupName, o);
          });
          this._updateGrid(i.currentGroupName, o);
          return { navigationView: i, gridView: o, infoView: r };
        }
      }
      class FH extends Cl {
        static get pluginName() {
          return "SpecialCharactersArrows";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.plugins.get("SpecialCharacters").addItems("Arrows", [
            { title: e("leftwards simple arrow"), character: "\u2190" },
            { title: e("rightwards simple arrow"), character: "\u2192" },
            { title: e("upwards simple arrow"), character: "\u2191" },
            { title: e("downwards simple arrow"), character: "\u2193" },
            { title: e("leftwards double arrow"), character: "\u21D0" },
            { title: e("rightwards double arrow"), character: "\u21D2" },
            { title: e("upwards double arrow"), character: "\u21D1" },
            { title: e("downwards double arrow"), character: "\u21D3" },
            { title: e("leftwards dashed arrow"), character: "\u21E0" },
            { title: e("rightwards dashed arrow"), character: "\u21E2" },
            { title: e("upwards dashed arrow"), character: "\u21E1" },
            { title: e("downwards dashed arrow"), character: "\u21E3" },
            { title: e("leftwards arrow to bar"), character: "\u21E4" },
            { title: e("rightwards arrow to bar"), character: "\u21E5" },
            { title: e("upwards arrow to bar"), character: "\u2912" },
            { title: e("downwards arrow to bar"), character: "\u2913" },
            { title: e("up down arrow with base"), character: "\u21A8" },
            { title: e("back with leftwards arrow above"), character: "\u{1F519}" },
            { title: e("end with leftwards arrow above"), character: "\u{1F51A}" },
            {
              title: e("on with exclamation mark with left right arrow above"),
              character: "\u{1F51B}",
            },
            { title: e("soon with rightwards arrow above"), character: "\u{1F51C}" },
            { title: e("top with upwards arrow above"), character: "\u{1F51D}" },
          ]);
        }
      }
      class VH extends Cl {
        static get pluginName() {
          return "SpecialCharactersCurrency";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.plugins.get("SpecialCharacters").addItems("Currency", [
            { character: "$", title: e("Dollar sign") },
            { character: "\u20AC", title: e("Euro sign") },
            { character: "\xA5", title: e("Yen sign") },
            { character: "\xA3", title: e("Pound sign") },
            { character: "\xA2", title: e("Cent sign") },
            { character: "\u20A0", title: e("Euro-currency sign") },
            { character: "\u20A1", title: e("Colon sign") },
            { character: "\u20A2", title: e("Cruzeiro sign") },
            { character: "\u20A3", title: e("French franc sign") },
            { character: "\u20A4", title: e("Lira sign") },
            { character: "\xA4", title: e("Currency sign") },
            { character: "\u20BF", title: e("Bitcoin sign") },
            { character: "\u20A5", title: e("Mill sign") },
            { character: "\u20A6", title: e("Naira sign") },
            { character: "\u20A7", title: e("Peseta sign") },
            { character: "\u20A8", title: e("Rupee sign") },
            { character: "\u20A9", title: e("Won sign") },
            { character: "\u20AA", title: e("New sheqel sign") },
            { character: "\u20AB", title: e("Dong sign") },
            { character: "\u20AD", title: e("Kip sign") },
            { character: "\u20AE", title: e("Tugrik sign") },
            { character: "\u20AF", title: e("Drachma sign") },
            { character: "\u20B0", title: e("German penny sign") },
            { character: "\u20B1", title: e("Peso sign") },
            { character: "\u20B2", title: e("Guarani sign") },
            { character: "\u20B3", title: e("Austral sign") },
            { character: "\u20B4", title: e("Hryvnia sign") },
            { character: "\u20B5", title: e("Cedi sign") },
            { character: "\u20B6", title: e("Livre tournois sign") },
            { character: "\u20B7", title: e("Spesmilo sign") },
            { character: "\u20B8", title: e("Tenge sign") },
            { character: "\u20B9", title: e("Indian rupee sign") },
            { character: "\u20BA", title: e("Turkish lira sign") },
            { character: "\u20BB", title: e("Nordic mark sign") },
            { character: "\u20BC", title: e("Manat sign") },
            { character: "\u20BD", title: e("Ruble sign") },
          ]);
        }
      }
      class HH extends Cl {
        static get pluginName() {
          return "SpecialCharactersMathematical";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.plugins.get("SpecialCharacters").addItems("Mathematical", [
            { character: "<", title: e("Less-than sign") },
            { character: ">", title: e("Greater-than sign") },
            { character: "\u2264", title: e("Less-than or equal to") },
            { character: "\u2265", title: e("Greater-than or equal to") },
            { character: "\u2013", title: e("En dash") },
            { character: "\u2014", title: e("Em dash") },
            { character: "\xAF", title: e("Macron") },
            { character: "\u203E", title: e("Overline") },
            { character: "\xB0", title: e("Degree sign") },
            { character: "\u2212", title: e("Minus sign") },
            { character: "\xB1", title: e("Plus-minus sign") },
            { character: "\xF7", title: e("Division sign") },
            { character: "\u2044", title: e("Fraction slash") },
            { character: "\xD7", title: e("Multiplication sign") },
            { character: "\u0192", title: e("Latin small letter f with hook") },
            { character: "\u222B", title: e("Integral") },
            { character: "\u2211", title: e("N-ary summation") },
            { character: "\u221E", title: e("Infinity") },
            { character: "\u221A", title: e("Square root") },
            { character: "\u223C", title: e("Tilde operator") },
            { character: "\u2245", title: e("Approximately equal to") },
            { character: "\u2248", title: e("Almost equal to") },
            { character: "\u2260", title: e("Not equal to") },
            { character: "\u2261", title: e("Identical to") },
            { character: "\u2208", title: e("Element of") },
            { character: "\u2209", title: e("Not an element of") },
            { character: "\u220B", title: e("Contains as member") },
            { character: "\u220F", title: e("N-ary product") },
            { character: "\u2227", title: e("Logical and") },
            { character: "\u2228", title: e("Logical or") },
            { character: "\xAC", title: e("Not sign") },
            { character: "\u2229", title: e("Intersection") },
            { character: "\u222A", title: e("Union") },
            { character: "\u2202", title: e("Partial differential") },
            { character: "\u2200", title: e("For all") },
            { character: "\u2203", title: e("There exists") },
            { character: "\u2205", title: e("Empty set") },
            { character: "\u2207", title: e("Nabla") },
            { character: "\u2217", title: e("Asterisk operator") },
            { character: "\u221D", title: e("Proportional to") },
            { character: "\u2220", title: e("Angle") },
            { character: "\xBC", title: e("Vulgar fraction one quarter") },
            { character: "\xBD", title: e("Vulgar fraction one half") },
            { character: "\xBE", title: e("Vulgar fraction three quarters") },
          ]);
        }
      }
      class UH extends Cl {
        static get pluginName() {
          return "SpecialCharactersLatin";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.plugins.get("SpecialCharacters").addItems("Latin", [
            { character: "\u0100", title: e("Latin capital letter a with macron") },
            { character: "\u0101", title: e("Latin small letter a with macron") },
            { character: "\u0102", title: e("Latin capital letter a with breve") },
            { character: "\u0103", title: e("Latin small letter a with breve") },
            { character: "\u0104", title: e("Latin capital letter a with ogonek") },
            { character: "\u0105", title: e("Latin small letter a with ogonek") },
            { character: "\u0106", title: e("Latin capital letter c with acute") },
            { character: "\u0107", title: e("Latin small letter c with acute") },
            {
              character: "\u0108",
              title: e("Latin capital letter c with circumflex"),
            },
            {
              character: "\u0109",
              title: e("Latin small letter c with circumflex"),
            },
            {
              character: "\u010A",
              title: e("Latin capital letter c with dot above"),
            },
            { character: "\u010B", title: e("Latin small letter c with dot above") },
            { character: "\u010C", title: e("Latin capital letter c with caron") },
            { character: "\u010D", title: e("Latin small letter c with caron") },
            { character: "\u010E", title: e("Latin capital letter d with caron") },
            { character: "\u010F", title: e("Latin small letter d with caron") },
            { character: "\u0110", title: e("Latin capital letter d with stroke") },
            { character: "\u0111", title: e("Latin small letter d with stroke") },
            { character: "\u0112", title: e("Latin capital letter e with macron") },
            { character: "\u0113", title: e("Latin small letter e with macron") },
            { character: "\u0114", title: e("Latin capital letter e with breve") },
            { character: "\u0115", title: e("Latin small letter e with breve") },
            {
              character: "\u0116",
              title: e("Latin capital letter e with dot above"),
            },
            { character: "\u0117", title: e("Latin small letter e with dot above") },
            { character: "\u0118", title: e("Latin capital letter e with ogonek") },
            { character: "\u0119", title: e("Latin small letter e with ogonek") },
            { character: "\u011A", title: e("Latin capital letter e with caron") },
            { character: "\u011B", title: e("Latin small letter e with caron") },
            {
              character: "\u011C",
              title: e("Latin capital letter g with circumflex"),
            },
            {
              character: "\u011D",
              title: e("Latin small letter g with circumflex"),
            },
            { character: "\u011E", title: e("Latin capital letter g with breve") },
            { character: "\u011F", title: e("Latin small letter g with breve") },
            {
              character: "\u0120",
              title: e("Latin capital letter g with dot above"),
            },
            { character: "\u0121", title: e("Latin small letter g with dot above") },
            { character: "\u0122", title: e("Latin capital letter g with cedilla") },
            { character: "\u0123", title: e("Latin small letter g with cedilla") },
            {
              character: "\u0124",
              title: e("Latin capital letter h with circumflex"),
            },
            {
              character: "\u0125",
              title: e("Latin small letter h with circumflex"),
            },
            { character: "\u0126", title: e("Latin capital letter h with stroke") },
            { character: "\u0127", title: e("Latin small letter h with stroke") },
            { character: "\u0128", title: e("Latin capital letter i with tilde") },
            { character: "\u0129", title: e("Latin small letter i with tilde") },
            { character: "\u012A", title: e("Latin capital letter i with macron") },
            { character: "\u012B", title: e("Latin small letter i with macron") },
            { character: "\u012C", title: e("Latin capital letter i with breve") },
            { character: "\u012D", title: e("Latin small letter i with breve") },
            { character: "\u012E", title: e("Latin capital letter i with ogonek") },
            { character: "\u012F", title: e("Latin small letter i with ogonek") },
            {
              character: "\u0130",
              title: e("Latin capital letter i with dot above"),
            },
            { character: "\u0131", title: e("Latin small letter dotless i") },
            { character: "\u0132", title: e("Latin capital ligature ij") },
            { character: "\u0133", title: e("Latin small ligature ij") },
            {
              character: "\u0134",
              title: e("Latin capital letter j with circumflex"),
            },
            {
              character: "\u0135",
              title: e("Latin small letter j with circumflex"),
            },
            { character: "\u0136", title: e("Latin capital letter k with cedilla") },
            { character: "\u0137", title: e("Latin small letter k with cedilla") },
            { character: "\u0138", title: e("Latin small letter kra") },
            { character: "\u0139", title: e("Latin capital letter l with acute") },
            { character: "\u013A", title: e("Latin small letter l with acute") },
            { character: "\u013B", title: e("Latin capital letter l with cedilla") },
            { character: "\u013C", title: e("Latin small letter l with cedilla") },
            { character: "\u013D", title: e("Latin capital letter l with caron") },
            { character: "\u013E", title: e("Latin small letter l with caron") },
            {
              character: "\u013F",
              title: e("Latin capital letter l with middle dot"),
            },
            {
              character: "\u0140",
              title: e("Latin small letter l with middle dot"),
            },
            { character: "\u0141", title: e("Latin capital letter l with stroke") },
            { character: "\u0142", title: e("Latin small letter l with stroke") },
            { character: "\u0143", title: e("Latin capital letter n with acute") },
            { character: "\u0144", title: e("Latin small letter n with acute") },
            { character: "\u0145", title: e("Latin capital letter n with cedilla") },
            { character: "\u0146", title: e("Latin small letter n with cedilla") },
            { character: "\u0147", title: e("Latin capital letter n with caron") },
            { character: "\u0148", title: e("Latin small letter n with caron") },
            {
              character: "\u0149",
              title: e("Latin small letter n preceded by apostrophe"),
            },
            { character: "\u014A", title: e("Latin capital letter eng") },
            { character: "\u014B", title: e("Latin small letter eng") },
            { character: "\u014C", title: e("Latin capital letter o with macron") },
            { character: "\u014D", title: e("Latin small letter o with macron") },
            { character: "\u014E", title: e("Latin capital letter o with breve") },
            { character: "\u014F", title: e("Latin small letter o with breve") },
            {
              character: "\u0150",
              title: e("Latin capital letter o with double acute"),
            },
            {
              character: "\u0151",
              title: e("Latin small letter o with double acute"),
            },
            { character: "\u0152", title: e("Latin capital ligature oe") },
            { character: "\u0153", title: e("Latin small ligature oe") },
            { character: "\u0154", title: e("Latin capital letter r with acute") },
            { character: "\u0155", title: e("Latin small letter r with acute") },
            { character: "\u0156", title: e("Latin capital letter r with cedilla") },
            { character: "\u0157", title: e("Latin small letter r with cedilla") },
            { character: "\u0158", title: e("Latin capital letter r with caron") },
            { character: "\u0159", title: e("Latin small letter r with caron") },
            { character: "\u015A", title: e("Latin capital letter s with acute") },
            { character: "\u015B", title: e("Latin small letter s with acute") },
            {
              character: "\u015C",
              title: e("Latin capital letter s with circumflex"),
            },
            {
              character: "\u015D",
              title: e("Latin small letter s with circumflex"),
            },
            { character: "\u015E", title: e("Latin capital letter s with cedilla") },
            { character: "\u015F", title: e("Latin small letter s with cedilla") },
            { character: "\u0160", title: e("Latin capital letter s with caron") },
            { character: "\u0161", title: e("Latin small letter s with caron") },
            { character: "\u0162", title: e("Latin capital letter t with cedilla") },
            { character: "\u0163", title: e("Latin small letter t with cedilla") },
            { character: "\u0164", title: e("Latin capital letter t with caron") },
            { character: "\u0165", title: e("Latin small letter t with caron") },
            { character: "\u0166", title: e("Latin capital letter t with stroke") },
            { character: "\u0167", title: e("Latin small letter t with stroke") },
            { character: "\u0168", title: e("Latin capital letter u with tilde") },
            { character: "\u0169", title: e("Latin small letter u with tilde") },
            { character: "\u016A", title: e("Latin capital letter u with macron") },
            { character: "\u016B", title: e("Latin small letter u with macron") },
            { character: "\u016C", title: e("Latin capital letter u with breve") },
            { character: "\u016D", title: e("Latin small letter u with breve") },
            {
              character: "\u016E",
              title: e("Latin capital letter u with ring above"),
            },
            {
              character: "\u016F",
              title: e("Latin small letter u with ring above"),
            },
            {
              character: "\u0170",
              title: e("Latin capital letter u with double acute"),
            },
            {
              character: "\u0171",
              title: e("Latin small letter u with double acute"),
            },
            { character: "\u0172", title: e("Latin capital letter u with ogonek") },
            { character: "\u0173", title: e("Latin small letter u with ogonek") },
            {
              character: "\u0174",
              title: e("Latin capital letter w with circumflex"),
            },
            {
              character: "\u0175",
              title: e("Latin small letter w with circumflex"),
            },
            {
              character: "\u0176",
              title: e("Latin capital letter y with circumflex"),
            },
            {
              character: "\u0177",
              title: e("Latin small letter y with circumflex"),
            },
            {
              character: "\u0178",
              title: e("Latin capital letter y with diaeresis"),
            },
            { character: "\u0179", title: e("Latin capital letter z with acute") },
            { character: "\u017A", title: e("Latin small letter z with acute") },
            {
              character: "\u017B",
              title: e("Latin capital letter z with dot above"),
            },
            { character: "\u017C", title: e("Latin small letter z with dot above") },
            { character: "\u017D", title: e("Latin capital letter z with caron") },
            { character: "\u017E", title: e("Latin small letter z with caron") },
            { character: "\u017F", title: e("Latin small letter long s") },
          ]);
        }
      }
      class qH extends Cl {
        static get pluginName() {
          return "SpecialCharactersText";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.plugins.get("SpecialCharacters").addItems("Text", [
            {
              character: "\u2039",
              title: e("Single left-pointing angle quotation mark"),
            },
            {
              character: "\u203A",
              title: e("Single right-pointing angle quotation mark"),
            },
            {
              character: "\xAB",
              title: e("Left-pointing double angle quotation mark"),
            },
            {
              character: "\xBB",
              title: e("Right-pointing double angle quotation mark"),
            },
            { character: "\u2018", title: e("Left single quotation mark") },
            { character: "\u2019", title: e("Right single quotation mark") },
            { character: "\u201C", title: e("Left double quotation mark") },
            { character: "\u201D", title: e("Right double quotation mark") },
            { character: "\u201A", title: e("Single low-9 quotation mark") },
            { character: "\u201E", title: e("Double low-9 quotation mark") },
            { character: "\xA1", title: e("Inverted exclamation mark") },
            { character: "\xBF", title: e("Inverted question mark") },
            { character: "\u2025", title: e("Two dot leader") },
            { character: "\u2026", title: e("Horizontal ellipsis") },
            { character: "\u2021", title: e("Double dagger") },
            { character: "\u2030", title: e("Per mille sign") },
            { character: "\u2031", title: e("Per ten thousand sign") },
            { character: "\u203C", title: e("Double exclamation mark") },
            { character: "\u2048", title: e("Question exclamation mark") },
            { character: "\u2049", title: e("Exclamation question mark") },
            { character: "\u2047", title: e("Double question mark") },
            { character: "\xA9", title: e("Copyright sign") },
            { character: "\xAE", title: e("Registered sign") },
            { character: "\u2122", title: e("Trade mark sign") },
            { character: "\xA7", title: e("Section sign") },
            { character: "\xB6", title: e("Paragraph sign") },
            { character: "\u204B", title: e("Reversed paragraph sign") },
          ]);
        }
      }
      class WH extends Cl {
        static get requires() {
          return [VH, qH, HH, FH, UH];
        }
      }
      const GH = "strikethrough";
      class $H extends Cl {
        static get pluginName() {
          return "StrikethroughEditing";
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: GH });
          t.model.schema.setAttributeProperties(GH, {
            isFormatting: true,
            copyOnEnter: true,
          });
          t.conversion.attributeToElement({
            model: GH,
            view: "s",
            upcastAlso: [
              "del",
              "strike",
              { styles: { "text-decoration": "line-through" } },
            ],
          });
          t.commands.add(GH, new SI(t, GH));
          t.keystrokes.set("CTRL+SHIFT+X", "strikethrough");
        }
      }
      const KH =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';
      const YH = "strikethrough";
      class ZH extends Cl {
        static get pluginName() {
          return "StrikethroughUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(YH, (n) => {
            const i = t.commands.get(YH);
            const o = new R_(n);
            o.set({
              label: e("Strikethrough"),
              icon: KH,
              keystroke: "CTRL+SHIFT+X",
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(YH);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class QH extends Cl {
        static get requires() {
          return [$H, ZH];
        }
        static get pluginName() {
          return "Strikethrough";
        }
      }
      const JH = "subscript";
      class XH extends Cl {
        static get pluginName() {
          return "SubscriptEditing";
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: JH });
          t.model.schema.setAttributeProperties(JH, {
            isFormatting: true,
            copyOnEnter: true,
          });
          t.conversion.attributeToElement({
            model: JH,
            view: "sub",
            upcastAlso: [{ styles: { "vertical-align": "sub" } }],
          });
          t.commands.add(JH, new SI(t, JH));
        }
      }
      const tU =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>';
      const eU = "subscript";
      class nU extends Cl {
        static get pluginName() {
          return "SubscriptUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(eU, (n) => {
            const i = t.commands.get(eU);
            const o = new R_(n);
            o.set({
              label: e("Subscript"),
              icon: tU,
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(eU);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class iU extends Cl {
        static get requires() {
          return [XH, nU];
        }
        static get pluginName() {
          return "Subscript";
        }
      }
      const oU = "superscript";
      class rU extends Cl {
        static get pluginName() {
          return "SuperscriptEditing";
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: oU });
          t.model.schema.setAttributeProperties(oU, {
            isFormatting: true,
            copyOnEnter: true,
          });
          t.conversion.attributeToElement({
            model: oU,
            view: "sup",
            upcastAlso: [{ styles: { "vertical-align": "super" } }],
          });
          t.commands.add(oU, new SI(t, oU));
        }
      }
      const sU =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>';
      const aU = "superscript";
      class cU extends Cl {
        static get pluginName() {
          return "SuperscriptUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(aU, (n) => {
            const i = t.commands.get(aU);
            const o = new R_(n);
            o.set({
              label: e("Superscript"),
              icon: sU,
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(aU);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class lU extends Cl {
        static get requires() {
          return [rU, cU];
        }
        static get pluginName() {
          return "Superscript";
        }
      }
      function dU(t, e) {
        const {
          viewElement: n,
          defaultValue: i,
          modelAttribute: o,
          styleName: r,
          reduceBoxSides: s = false,
          shouldUpcast: a = () => true,
        } = e;
        t.for("upcast").attributeToAttribute({
          view: { name: n, styles: { [r]: /[\\s\\S]+/ } },
          model: {
            key: o,
            value: (t) => {
              if (!a(t)) {
                return;
              }
              const e = t.getNormalizedStyle(r);
              const n = s ? gU(e) : e;
              if (i !== n) {
                return n;
              }
            },
          },
        });
      }
      function uU(t, e, n, i) {
        t.for("upcast").add((t) =>
          t.on("element:" + e, (t, e, o) => {
            if (!e.modelRange) {
              return;
            }
            const r = [
              "border-top-width",
              "border-top-color",
              "border-top-style",
              "border-bottom-width",
              "border-bottom-color",
              "border-bottom-style",
              "border-right-width",
              "border-right-color",
              "border-right-style",
              "border-left-width",
              "border-left-color",
              "border-left-style",
            ].filter((t) => e.viewItem.hasStyle(t));
            if (!r.length) {
              return;
            }
            const s = { styles: r };
            if (!o.consumable.test(e.viewItem, s)) {
              return;
            }
            const a = [...e.modelRange.getItems({ shallow: true })].pop();
            o.consumable.consume(e.viewItem, s);
            const c = {
              style: e.viewItem.getNormalizedStyle("border-style"),
              color: e.viewItem.getNormalizedStyle("border-color"),
              width: e.viewItem.getNormalizedStyle("border-width"),
            };
            const l = {
              style: gU(c.style),
              color: gU(c.color),
              width: gU(c.width),
            };
            if (l.style !== i.style) {
              o.writer.setAttribute(n.style, l.style, a);
            }
            if (l.color !== i.color) {
              o.writer.setAttribute(n.color, l.color, a);
            }
            if (l.width !== i.width) {
              o.writer.setAttribute(n.width, l.width, a);
            }
          })
        );
      }
      function hU(t, { modelElement: e, modelAttribute: n, styleName: i }) {
        t.for("downcast").attributeToAttribute({
          model: { name: e, key: n },
          view: (t) => ({ key: "style", value: { [i]: t } }),
        });
      }
      function mU(t, { modelAttribute: e, styleName: n }) {
        t.for("downcast").add((t) =>
          t.on(\`attribute:\${e}:table\`, (t, e, i) => {
            const { item: o, attributeNewValue: r } = e;
            const { mapper: s, writer: a } = i;
            if (!i.consumable.consume(e.item, t.name)) {
              return;
            }
            const c = [...s.toViewElement(o).getChildren()].find((t) =>
              t.is("element", "table")
            );
            if (r) {
              a.setStyle(n, r, c);
            } else {
              a.removeStyle(n, c);
            }
          })
        );
      }
      function gU(t) {
        if (!t) {
          return;
        }
        const e = ["top", "right", "bottom", "left"]
          .map((e) => t[e])
          .reduce((t, e) => (t == e ? t : null));
        return e || t;
      }
      function fU(t, e, n, i, o = 1) {
        if (e > o) {
          i.setAttribute(t, e, n);
        } else {
          i.removeAttribute(t, n);
        }
      }
      function pU(t, e, n = {}) {
        const i = t.createElement("tableCell", n);
        t.insertElement("paragraph", i);
        t.insert(i, e);
        return i;
      }
      function bU(t, e) {
        const n = e.parent.parent;
        const i = parseInt(n.getAttribute("headingColumns") || 0);
        const { column: o } = t.getCellLocation(e);
        return !!i && o < i;
      }
      function kU(t, e, n) {
        const { modelAttribute: i } = n;
        t.extend("tableCell", { allowAttributes: [i] });
        dU(e, { viewElement: /^(td|th)$/, ...n });
        hU(e, { modelElement: "tableCell", ...n });
      }
      function wU() {
        return (t) => {
          t.on("element:figure", (t, e, n) => {
            if (
              !n.consumable.test(e.viewItem, { name: true, classes: "table" })
            ) {
              return;
            }
            const i = vU(e.viewItem);
            if (!i || !n.consumable.test(i, { name: true })) {
              return;
            }
            n.consumable.consume(e.viewItem, { name: true, classes: "table" });
            const o = n.convertItem(i, e.modelCursor);
            const r = sl(o.modelRange.getItems());
            if (!r) {
              n.consumable.revert(e.viewItem, { name: true, classes: "table" });
              return;
            }
            n.convertChildren(e.viewItem, n.writer.createPositionAt(r, "end"));
            n.updateConversionResult(r, e);
          });
        };
      }
      function AU() {
        return (t) => {
          t.on("element:table", (t, e, n) => {
            const i = e.viewItem;
            if (!n.consumable.test(i, { name: true })) {
              return;
            }
            const { rows: o, headingRows: r, headingColumns: s } = yU(i);
            const a = {};
            if (s) {
              a.headingColumns = s;
            }
            if (r) {
              a.headingRows = r;
            }
            const c = n.writer.createElement("table", a);
            if (!n.safeInsert(c, e.modelCursor)) {
              return;
            }
            n.consumable.consume(i, { name: true });
            o.forEach((t) =>
              n.convertItem(t, n.writer.createPositionAt(c, "end"))
            );
            n.convertChildren(i, n.writer.createPositionAt(c, "end"));
            if (c.isEmpty) {
              const t = n.writer.createElement("tableRow");
              n.writer.insert(t, n.writer.createPositionAt(c, "end"));
              pU(n.writer, n.writer.createPositionAt(t, "end"));
            }
            n.updateConversionResult(c, e);
          });
        };
      }
      function CU() {
        return (t) => {
          t.on(
            "element:tr",
            (t, e) => {
              if (e.viewItem.isEmpty && e.modelCursor.index == 0) {
                t.stop();
              }
            },
            { priority: "high" }
          );
        };
      }
      function _U(t) {
        return (e) => {
          e.on(
            \`element:\${t}\`,
            (t, e, n) => {
              if (!e.modelRange) {
                return;
              }
              if (e.viewItem.isEmpty) {
                const t = e.modelRange.start.nodeAfter;
                const i = n.writer.createPositionAt(t, 0);
                n.writer.insertElement("paragraph", i);
              }
            },
            { priority: "low" }
          );
        };
      }
      function vU(t) {
        for (const e of t.getChildren()) {
          if (e.is("element", "table")) {
            return e;
          }
        }
      }
      function yU(t) {
        const e = { headingRows: 0, headingColumns: 0 };
        const n = [];
        const i = [];
        let o;
        for (const r of Array.from(t.getChildren())) {
          if (r.name === "tbody" || r.name === "thead" || r.name === "tfoot") {
            if (r.name === "thead" && !o) {
              o = r;
            }
            const t = Array.from(r.getChildren()).filter((t) =>
              t.is("element", "tr")
            );
            for (const r of t) {
              if (r.parent.name === "thead" && r.parent === o) {
                e.headingRows++;
                n.push(r);
              } else {
                i.push(r);
                const t = xU(r, e, o);
                if (t > e.headingColumns) {
                  e.headingColumns = t;
                }
              }
            }
          }
        }
        e.rows = [...n, ...i];
        return e;
      }
      function xU(t) {
        let e = 0;
        let n = 0;
        const i = Array.from(t.getChildren()).filter(
          (t) => t.name === "th" || t.name === "td"
        );
        while (n < i.length && i[n].name === "th") {
          const t = i[n];
          const o = parseInt(t.getAttribute("colspan") || 1);
          e = e + o;
          n++;
        }
        return e;
      }
      class EU {
        constructor(t, e = {}) {
          this._table = t;
          this._startRow = e.row !== undefined ? e.row : e.startRow || 0;
          this._endRow = e.row !== undefined ? e.row : e.endRow;
          this._startColumn =
            e.column !== undefined ? e.column : e.startColumn || 0;
          this._endColumn = e.column !== undefined ? e.column : e.endColumn;
          this._includeAllSlots = !!e.includeAllSlots;
          this._skipRows = new Set();
          this._row = 0;
          this._rowIndex = 0;
          this._column = 0;
          this._cellIndex = 0;
          this._spannedCells = new Map();
          this._nextCellAtColumn = -1;
        }
        [Symbol.iterator]() {
          return this;
        }
        next() {
          const t = this._table.getChild(this._rowIndex);
          if (!t || this._isOverEndRow()) {
            return { done: true };
          }
          if (!t.is("element", "tableRow")) {
            this._rowIndex++;
            return this.next();
          }
          if (this._isOverEndColumn()) {
            return this._advanceToNextRow();
          }
          let e = null;
          const n = this._getSpanned();
          if (n) {
            if (this._includeAllSlots && !this._shouldSkipSlot()) {
              e = this._formatOutValue(n.cell, n.row, n.column);
            }
          } else {
            const n = t.getChild(this._cellIndex);
            if (!n) {
              return this._advanceToNextRow();
            }
            const i = parseInt(n.getAttribute("colspan") || 1);
            const o = parseInt(n.getAttribute("rowspan") || 1);
            if (i > 1 || o > 1) {
              this._recordSpans(n, o, i);
            }
            if (!this._shouldSkipSlot()) {
              e = this._formatOutValue(n);
            }
            this._nextCellAtColumn = this._column + i;
          }
          this._column++;
          if (this._column == this._nextCellAtColumn) {
            this._cellIndex++;
          }
          return e || this.next();
        }
        skipRow(t) {
          this._skipRows.add(t);
        }
        _advanceToNextRow() {
          this._row++;
          this._rowIndex++;
          this._column = 0;
          this._cellIndex = 0;
          this._nextCellAtColumn = -1;
          return this.next();
        }
        _isOverEndRow() {
          return this._endRow !== undefined && this._row > this._endRow;
        }
        _isOverEndColumn() {
          return (
            this._endColumn !== undefined && this._column > this._endColumn
          );
        }
        _formatOutValue(t, e = this._row, n = this._column) {
          return { done: false, value: new DU(this, t, e, n) };
        }
        _shouldSkipSlot() {
          const t = this._skipRows.has(this._row);
          const e = this._row < this._startRow;
          const n = this._column < this._startColumn;
          const i =
            this._endColumn !== undefined && this._column > this._endColumn;
          return t || e || n || i;
        }
        _getSpanned() {
          const t = this._spannedCells.get(this._row);
          if (!t) {
            return null;
          }
          return t.get(this._column) || null;
        }
        _recordSpans(t, e, n) {
          const i = { cell: t, row: this._row, column: this._column };
          for (let t = this._row; t < this._row + e; t++) {
            for (let e = this._column; e < this._column + n; e++) {
              if (t != this._row || e != this._column) {
                this._markSpannedCell(t, e, i);
              }
            }
          }
        }
        _markSpannedCell(t, e, n) {
          if (!this._spannedCells.has(t)) {
            this._spannedCells.set(t, new Map());
          }
          const i = this._spannedCells.get(t);
          i.set(e, n);
        }
      }
      class DU {
        constructor(t, e, n, i) {
          this.cell = e;
          this.row = t._row;
          this.column = t._column;
          this.cellAnchorRow = n;
          this.cellAnchorColumn = i;
          this._cellIndex = t._cellIndex;
          this._rowIndex = t._rowIndex;
          this._table = t._table;
        }
        get isAnchor() {
          return (
            this.row === this.cellAnchorRow &&
            this.column === this.cellAnchorColumn
          );
        }
        get cellWidth() {
          return parseInt(this.cell.getAttribute("colspan") || 1);
        }
        get cellHeight() {
          return parseInt(this.cell.getAttribute("rowspan") || 1);
        }
        get rowIndex() {
          return this._rowIndex;
        }
        getPositionBefore() {
          const t = this._table.root.document.model;
          return t.createPositionAt(
            this._table.getChild(this.row),
            this._cellIndex
          );
        }
      }
      function SU(t, e = {}) {
        return (n, { writer: i }) => {
          const o = n.getAttribute("headingRows") || 0;
          const r = [];
          if (o > 0) {
            r.push(
              i.createContainerElement(
                "thead",
                null,
                i.createSlot((t) => t.is("element", "tableRow") && t.index < o)
              )
            );
          }
          if (o < t.getRows(n)) {
            r.push(
              i.createContainerElement(
                "tbody",
                null,
                i.createSlot((t) => t.is("element", "tableRow") && t.index >= o)
              )
            );
          }
          const s = i.createContainerElement("figure", { class: "table" }, [
            i.createContainerElement("table", null, r),
            i.createSlot((t) => !t.is("element", "tableRow")),
          ]);
          return e.asWidget ? LU(s, i) : s;
        };
      }
      function TU() {
        return (t, { writer: e }) =>
          t.isEmpty
            ? e.createEmptyElement("tr")
            : e.createContainerElement("tr");
      }
      function IU(t = {}) {
        return (e, { writer: n }) => {
          const i = e.parent;
          const o = i.parent;
          const r = o.getChildIndex(i);
          const s = new EU(o, { row: r });
          const a = o.getAttribute("headingRows") || 0;
          const c = o.getAttribute("headingColumns") || 0;
          for (const i of s) {
            if (i.cell == e) {
              const e = i.row < a || i.column < c;
              const o = e ? "th" : "td";
              return t.asWidget
                ? dD(n.createEditableElement(o), n)
                : n.createContainerElement(o);
            }
          }
        };
      }
      function MU(t = {}) {
        return (e, { writer: n, consumable: i, mapper: o }) => {
          if (!e.parent.is("element", "tableCell")) {
            return;
          }
          if (!BU(e)) {
            return;
          }
          if (t.asWidget) {
            return n.createContainerElement("span", {
              class: "ck-table-bogus-paragraph",
            });
          } else {
            i.consume(e, "insert");
            o.bindElements(e, o.toViewElement(e.parent));
          }
        };
      }
      function BU(t) {
        const e = t.parent;
        const n = e.childCount == 1;
        return n && !NU(t);
      }
      function LU(t, e) {
        e.setCustomProperty("table", true, t);
        return oD(t, e, { hasSelectionHandle: true });
      }
      function NU(t) {
        return !![...t.getAttributeKeys()].length;
      }
      class zU extends vl {
        refresh() {
          const t = this.editor.model;
          const e = t.document.selection;
          const n = t.schema;
          this.isEnabled = PU(e, n);
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = this.editor.plugins.get("TableUtils");
          const i = this.editor.config.get("table");
          const o = i.defaultHeadings.rows;
          const r = i.defaultHeadings.columns;
          if (t.headingRows === undefined && o) {
            t.headingRows = o;
          }
          if (t.headingColumns === undefined && r) {
            t.headingColumns = r;
          }
          e.change((i) => {
            const o = n.createTable(i, t);
            e.insertObject(o, null, null, { findOptimalPosition: "auto" });
            i.setSelection(i.createPositionAt(o.getNodeByPath([0, 0, 0]), 0));
          });
        }
      }
      function PU(t, e) {
        const n = t.getFirstPosition().parent;
        const i = n === n.root ? n : n.parent;
        return e.checkChild(i, "table");
      }
      class RU extends vl {
        constructor(t, e = {}) {
          super(t);
          this.order = e.order || "below";
        }
        refresh() {
          const t = this.editor.model.document.selection;
          const e = this.editor.plugins.get("TableUtils");
          const n = !!e.getSelectionAffectedTableCells(t).length;
          this.isEnabled = n;
        }
        execute() {
          const t = this.editor;
          const e = t.model.document.selection;
          const n = t.plugins.get("TableUtils");
          const i = this.order === "above";
          const o = n.getSelectionAffectedTableCells(e);
          const r = n.getRowIndexes(o);
          const s = i ? r.first : r.last;
          const a = o[0].findAncestor("table");
          n.insertRows(a, { at: i ? s : s + 1, copyStructureFromAbove: !i });
        }
      }
      class OU extends vl {
        constructor(t, e = {}) {
          super(t);
          this.order = e.order || "right";
        }
        refresh() {
          const t = this.editor.model.document.selection;
          const e = this.editor.plugins.get("TableUtils");
          const n = !!e.getSelectionAffectedTableCells(t).length;
          this.isEnabled = n;
        }
        execute() {
          const t = this.editor;
          const e = t.model.document.selection;
          const n = t.plugins.get("TableUtils");
          const i = this.order === "left";
          const o = n.getSelectionAffectedTableCells(e);
          const r = n.getColumnIndexes(o);
          const s = i ? r.first : r.last;
          const a = o[0].findAncestor("table");
          n.insertColumns(a, { columns: 1, at: i ? s : s + 1 });
        }
      }
      class jU extends vl {
        constructor(t, e = {}) {
          super(t);
          this.direction = e.direction || "horizontally";
        }
        refresh() {
          const t = this.editor.plugins.get("TableUtils");
          const e = t.getSelectionAffectedTableCells(
            this.editor.model.document.selection
          );
          this.isEnabled = e.length === 1;
        }
        execute() {
          const t = this.editor.plugins.get("TableUtils");
          const e = t.getSelectionAffectedTableCells(
            this.editor.model.document.selection
          )[0];
          const n = this.direction === "horizontally";
          if (n) {
            t.splitCellHorizontally(e, 2);
          } else {
            t.splitCellVertically(e, 2);
          }
        }
      }
      function FU(t, e, n) {
        const { startRow: i, startColumn: o, endRow: r, endColumn: s } = e;
        const a = n.createElement("table");
        const c = r - i + 1;
        for (let t = 0; t < c; t++) {
          n.insertElement("tableRow", a, "end");
        }
        const l = [
          ...new EU(t, {
            startRow: i,
            endRow: r,
            startColumn: o,
            endColumn: s,
            includeAllSlots: true,
          }),
        ];
        for (const {
          row: t,
          column: e,
          cell: c,
          isAnchor: d,
          cellAnchorRow: u,
          cellAnchorColumn: h,
        } of l) {
          const l = t - i;
          const m = a.getChild(l);
          if (!d) {
            if (u < i || h < o) {
              pU(n, n.createPositionAt(m, "end"));
            }
          } else {
            const i = n.cloneElement(c);
            n.append(i, m);
            WU(i, t, e, r, s, n);
          }
        }
        GU(a, t, i, o, n);
        return a;
      }
      function VU(t, e, n = 0) {
        const i = [];
        const o = new EU(t, { startRow: n, endRow: e - 1 });
        for (const t of o) {
          const { row: n, cellHeight: o } = t;
          const r = n + o - 1;
          if (n < e && e <= r) {
            i.push(t);
          }
        }
        return i;
      }
      function HU(t, e, n) {
        const i = t.parent;
        const o = i.parent;
        const r = i.index;
        const s = parseInt(t.getAttribute("rowspan"));
        const a = e - r;
        const c = {};
        const l = s - a;
        if (l > 1) {
          c.rowspan = l;
        }
        const d = parseInt(t.getAttribute("colspan") || 1);
        if (d > 1) {
          c.colspan = d;
        }
        const u = r;
        const h = u + a;
        const m = [
          ...new EU(o, { startRow: u, endRow: h, includeAllSlots: true }),
        ];
        let g = null;
        let f;
        for (const e of m) {
          const { row: i, column: o, cell: r } = e;
          if (r === t && f === undefined) {
            f = o;
          }
          if (f !== undefined && f === o && i === h) {
            g = pU(n, e.getPositionBefore(), c);
          }
        }
        fU("rowspan", a, t, n);
        return g;
      }
      function UU(t, e) {
        const n = [];
        const i = new EU(t);
        for (const t of i) {
          const { column: i, cellWidth: o } = t;
          const r = i + o - 1;
          if (i < e && e <= r) {
            n.push(t);
          }
        }
        return n;
      }
      function qU(t, e, n, i) {
        const o = parseInt(t.getAttribute("colspan"));
        const r = n - e;
        const s = {};
        const a = o - r;
        if (a > 1) {
          s.colspan = a;
        }
        const c = parseInt(t.getAttribute("rowspan") || 1);
        if (c > 1) {
          s.rowspan = c;
        }
        const l = pU(i, i.createPositionAfter(t), s);
        fU("colspan", r, t, i);
        return l;
      }
      function WU(t, e, n, i, o, r) {
        const s = parseInt(t.getAttribute("colspan") || 1);
        const a = parseInt(t.getAttribute("rowspan") || 1);
        const c = n + s - 1;
        if (c > o) {
          const e = o - n + 1;
          fU("colspan", e, t, r, 1);
        }
        const l = e + a - 1;
        if (l > i) {
          const n = i - e + 1;
          fU("rowspan", n, t, r, 1);
        }
      }
      function GU(t, e, n, i, o) {
        const r = parseInt(e.getAttribute("headingRows") || 0);
        if (r > 0) {
          const e = r - n;
          fU("headingRows", e, t, o, 0);
        }
        const s = parseInt(e.getAttribute("headingColumns") || 0);
        if (s > 0) {
          const e = s - i;
          fU("headingColumns", e, t, o, 0);
        }
      }
      function $U(t, e) {
        const n = e.getColumns(t);
        const i = new Array(n).fill(0);
        for (const { column: e } of new EU(t)) {
          i[e]++;
        }
        const o = i.reduce((t, e, n) => (e ? t : [...t, n]), []);
        if (o.length > 0) {
          const n = o[o.length - 1];
          e.removeColumns(t, { at: n });
          return true;
        }
        return false;
      }
      function KU(t, e) {
        const n = [];
        const i = e.getRows(t);
        for (let e = 0; e < i; e++) {
          const i = t.getChild(e);
          if (i.isEmpty) {
            n.push(e);
          }
        }
        if (n.length > 0) {
          const i = n[n.length - 1];
          e.removeRows(t, { at: i });
          return true;
        }
        return false;
      }
      function YU(t, e) {
        const n = $U(t, e);
        if (!n) {
          KU(t, e);
        }
      }
      function ZU(t, e) {
        const n = Array.from(
          new EU(t, {
            startColumn: e.firstColumn,
            endColumn: e.lastColumn,
            row: e.lastRow,
          })
        );
        const i = n.every(({ cellHeight: t }) => t === 1);
        if (i) {
          return e.lastRow;
        }
        const o = n[0].cellHeight - 1;
        return e.lastRow + o;
      }
      function QU(t, e) {
        const n = Array.from(
          new EU(t, {
            startRow: e.firstRow,
            endRow: e.lastRow,
            column: e.lastColumn,
          })
        );
        const i = n.every(({ cellWidth: t }) => t === 1);
        if (i) {
          return e.lastColumn;
        }
        const o = n[0].cellWidth - 1;
        return e.lastColumn + o;
      }
      class JU extends vl {
        constructor(t, e) {
          super(t);
          this.direction = e.direction;
          this.isHorizontal =
            this.direction == "right" || this.direction == "left";
        }
        refresh() {
          const t = this._getMergeableCell();
          this.value = t;
          this.isEnabled = !!t;
        }
        execute() {
          const t = this.editor.model;
          const e = t.document;
          const n = this.editor.plugins.get("TableUtils");
          const i = n.getTableCellsContainingSelection(e.selection)[0];
          const o = this.value;
          const r = this.direction;
          t.change((t) => {
            const e = r == "right" || r == "down";
            const n = e ? i : o;
            const s = e ? o : i;
            const a = s.parent;
            eq(s, n, t);
            const c = this.isHorizontal ? "colspan" : "rowspan";
            const l = parseInt(i.getAttribute(c) || 1);
            const d = parseInt(o.getAttribute(c) || 1);
            t.setAttribute(c, l + d, n);
            t.setSelection(t.createRangeIn(n));
            const u = this.editor.plugins.get("TableUtils");
            const h = a.findAncestor("table");
            YU(h, u);
          });
        }
        _getMergeableCell() {
          const t = this.editor.model;
          const e = t.document;
          const n = this.editor.plugins.get("TableUtils");
          const i = n.getTableCellsContainingSelection(e.selection)[0];
          if (!i) {
            return;
          }
          const o = this.isHorizontal
            ? XU(i, this.direction, n)
            : tq(i, this.direction, n);
          if (!o) {
            return;
          }
          const r = this.isHorizontal ? "rowspan" : "colspan";
          const s = parseInt(i.getAttribute(r) || 1);
          const a = parseInt(o.getAttribute(r) || 1);
          if (a === s) {
            return o;
          }
        }
      }
      function XU(t, e, n) {
        const i = t.parent;
        const o = i.parent;
        const r = e == "right" ? t.nextSibling : t.previousSibling;
        const s = (o.getAttribute("headingColumns") || 0) > 0;
        if (!r) {
          return;
        }
        const a = e == "right" ? t : r;
        const c = e == "right" ? r : t;
        const { column: l } = n.getCellLocation(a);
        const { column: d } = n.getCellLocation(c);
        const u = parseInt(a.getAttribute("colspan") || 1);
        const h = bU(n, a, o);
        const m = bU(n, c, o);
        if (s && h != m) {
          return;
        }
        const g = l + u === d;
        return g ? r : undefined;
      }
      function tq(t, e, n) {
        const i = t.parent;
        const o = i.parent;
        const r = o.getChildIndex(i);
        if ((e == "down" && r === n.getRows(o) - 1) || (e == "up" && r === 0)) {
          return;
        }
        const s = parseInt(t.getAttribute("rowspan") || 1);
        const a = o.getAttribute("headingRows") || 0;
        const c = e == "down" && r + s === a;
        const l = e == "up" && r === a;
        if (a && (c || l)) {
          return;
        }
        const d = parseInt(t.getAttribute("rowspan") || 1);
        const u = e == "down" ? r + d : r;
        const h = [...new EU(o, { endRow: u })];
        const m = h.find((e) => e.cell === t);
        const g = m.column;
        const f = h.find(({ row: t, cellHeight: n, column: i }) => {
          if (i !== g) {
            return false;
          }
          if (e == "down") {
            return t === u;
          } else {
            return u === t + n;
          }
        });
        return f && f.cell;
      }
      function eq(t, e, n) {
        if (!nq(t)) {
          if (nq(e)) {
            n.remove(n.createRangeIn(e));
          }
          n.move(n.createRangeIn(t), n.createPositionAt(e, "end"));
        }
        n.remove(t);
      }
      function nq(t) {
        return (
          t.childCount == 1 &&
          t.getChild(0).is("element", "paragraph") &&
          t.getChild(0).isEmpty
        );
      }
      class iq extends vl {
        refresh() {
          const t = this.editor.plugins.get("TableUtils");
          const e = t.getSelectionAffectedTableCells(
            this.editor.model.document.selection
          );
          const n = e[0];
          if (n) {
            const i = n.findAncestor("table");
            const o = this.editor.plugins.get("TableUtils").getRows(i);
            const r = o - 1;
            const s = t.getRowIndexes(e);
            const a = s.first === 0 && s.last === r;
            this.isEnabled = !a;
          } else {
            this.isEnabled = false;
          }
        }
        execute() {
          const t = this.editor.model;
          const e = this.editor.plugins.get("TableUtils");
          const n = e.getSelectionAffectedTableCells(t.document.selection);
          const i = e.getRowIndexes(n);
          const o = n[0];
          const r = o.findAncestor("table");
          const s = e.getCellLocation(o).column;
          t.change((t) => {
            const n = i.last - i.first + 1;
            e.removeRows(r, { at: i.first, rows: n });
            const o = oq(r, i.first, s, e.getRows(r));
            t.setSelection(t.createPositionAt(o, 0));
          });
        }
      }
      function oq(t, e, n, i) {
        const o = t.getChild(Math.min(e, i - 1));
        let r = o.getChild(0);
        let s = 0;
        for (const t of o.getChildren()) {
          if (s > n) {
            return r;
          }
          r = t;
          s += parseInt(t.getAttribute("colspan") || 1);
        }
        return r;
      }
      class rq extends vl {
        refresh() {
          const t = this.editor.plugins.get("TableUtils");
          const e = t.getSelectionAffectedTableCells(
            this.editor.model.document.selection
          );
          const n = e[0];
          if (n) {
            const i = n.findAncestor("table");
            const o = t.getColumns(i);
            const { first: r, last: s } = t.getColumnIndexes(e);
            this.isEnabled = s - r < o - 1;
          } else {
            this.isEnabled = false;
          }
        }
        execute() {
          const t = this.editor.plugins.get("TableUtils");
          const [e, n] = aq(this.editor.model.document.selection, t);
          const i = e.parent.parent;
          const o = [...new EU(i)];
          const r = {
            first: o.find((t) => t.cell === e).column,
            last: o.find((t) => t.cell === n).column,
          };
          const s = sq(o, e, n, r);
          this.editor.model.change((t) => {
            const e = r.last - r.first + 1;
            this.editor.plugins
              .get("TableUtils")
              .removeColumns(i, { at: r.first, columns: e });
            t.setSelection(t.createPositionAt(s, 0));
          });
        }
      }
      function sq(t, e, n, i) {
        const o = parseInt(n.getAttribute("colspan") || 1);
        if (o > 1) {
          return n;
        } else if (e.previousSibling || n.nextSibling) {
          return n.nextSibling || e.previousSibling;
        } else {
          if (i.first) {
            return t.reverse().find(({ column: t }) => t < i.first).cell;
          } else {
            return t.reverse().find(({ column: t }) => t > i.last).cell;
          }
        }
      }
      function aq(t, e) {
        const n = e.getSelectionAffectedTableCells(t);
        const i = n[0];
        const o = n.pop();
        const r = [i, o];
        return i.isBefore(o) ? r : r.reverse();
      }
      class cq extends vl {
        refresh() {
          const t = this.editor.plugins.get("TableUtils");
          const e = this.editor.model;
          const n = t.getSelectionAffectedTableCells(e.document.selection);
          const i = n.length > 0;
          this.isEnabled = i;
          this.value =
            i && n.every((t) => this._isInHeading(t, t.parent.parent));
        }
        execute(t = {}) {
          if (t.forceValue === this.value) {
            return;
          }
          const e = this.editor.plugins.get("TableUtils");
          const n = this.editor.model;
          const i = e.getSelectionAffectedTableCells(n.document.selection);
          const o = i[0].findAncestor("table");
          const { first: r, last: s } = e.getRowIndexes(i);
          const a = this.value ? r : s + 1;
          const c = o.getAttribute("headingRows") || 0;
          n.change((t) => {
            if (a) {
              const e = a > c ? c : 0;
              const n = VU(o, a, e);
              for (const { cell: e } of n) {
                HU(e, a, t);
              }
            }
            fU("headingRows", a, o, t, 0);
          });
        }
        _isInHeading(t, e) {
          const n = parseInt(e.getAttribute("headingRows") || 0);
          return !!n && t.parent.index < n;
        }
      }
      class lq extends vl {
        refresh() {
          const t = this.editor.model;
          const e = this.editor.plugins.get("TableUtils");
          const n = e.getSelectionAffectedTableCells(t.document.selection);
          const i = n.length > 0;
          this.isEnabled = i;
          this.value = i && n.every((t) => bU(e, t));
        }
        execute(t = {}) {
          if (t.forceValue === this.value) {
            return;
          }
          const e = this.editor.plugins.get("TableUtils");
          const n = this.editor.model;
          const i = e.getSelectionAffectedTableCells(n.document.selection);
          const o = i[0].findAncestor("table");
          const { first: r, last: s } = e.getColumnIndexes(i);
          const a = this.value ? r : s + 1;
          n.change((t) => {
            if (a) {
              const e = UU(o, a);
              for (const { cell: n, column: i } of e) {
                qU(n, i, a, t);
              }
            }
            fU("headingColumns", a, o, t, 0);
          });
        }
      }
      class dq extends Cl {
        static get pluginName() {
          return "TableUtils";
        }
        init() {
          this.decorate("insertColumns");
          this.decorate("insertRows");
        }
        getCellLocation(t) {
          const e = t.parent;
          const n = e.parent;
          const i = n.getChildIndex(e);
          const o = new EU(n, { row: i });
          for (const { cell: e, row: n, column: i } of o) {
            if (e === t) {
              return { row: n, column: i };
            }
          }
        }
        createTable(t, e) {
          const n = t.createElement("table");
          const i = parseInt(e.rows) || 2;
          const o = parseInt(e.columns) || 2;
          uq(t, n, 0, i, o);
          if (e.headingRows) {
            fU("headingRows", Math.min(e.headingRows, i), n, t, 0);
          }
          if (e.headingColumns) {
            fU("headingColumns", Math.min(e.headingColumns, o), n, t, 0);
          }
          return n;
        }
        insertRows(t, e = {}) {
          const n = this.editor.model;
          const i = e.at || 0;
          const o = e.rows || 1;
          const r = e.copyStructureFromAbove !== undefined;
          const s = e.copyStructureFromAbove ? i - 1 : i;
          const a = this.getRows(t);
          const c = this.getColumns(t);
          if (i > a) {
            throw new M("tableutils-insertrows-insert-out-of-range", this, {
              options: e,
            });
          }
          n.change((e) => {
            const n = t.getAttribute("headingRows") || 0;
            if (n > i) {
              fU("headingRows", n + o, t, e, 0);
            }
            if (!r && (i === 0 || i === a)) {
              uq(e, t, i, o, c);
              return;
            }
            const l = r ? Math.max(i, s) : i;
            const d = new EU(t, { endRow: l });
            const u = new Array(c).fill(1);
            for (const {
              row: t,
              column: n,
              cellHeight: a,
              cellWidth: c,
              cell: l,
            } of d) {
              const d = t + a - 1;
              const h = t < i && i <= d;
              const m = t <= s && s <= d;
              if (h) {
                e.setAttribute("rowspan", a + o, l);
                u[n] = -c;
              } else if (r && m) {
                u[n] = c;
              }
            }
            for (let n = 0; n < o; n++) {
              const n = e.createElement("tableRow");
              e.insert(n, t, i);
              for (let t = 0; t < u.length; t++) {
                const i = u[t];
                const o = e.createPositionAt(n, "end");
                if (i > 0) {
                  pU(e, o, i > 1 ? { colspan: i } : null);
                }
                t += Math.abs(i) - 1;
              }
            }
          });
        }
        insertColumns(t, e = {}) {
          const n = this.editor.model;
          const i = e.at || 0;
          const o = e.columns || 1;
          n.change((e) => {
            const n = t.getAttribute("headingColumns");
            if (i < n) {
              e.setAttribute("headingColumns", n + o, t);
            }
            const r = this.getColumns(t);
            if (i === 0 || r === i) {
              for (const n of t.getChildren()) {
                if (!n.is("element", "tableRow")) {
                  continue;
                }
                hq(o, e, e.createPositionAt(n, i ? "end" : 0));
              }
              return;
            }
            const s = new EU(t, { column: i, includeAllSlots: true });
            for (const t of s) {
              const {
                row: n,
                cell: r,
                cellAnchorColumn: a,
                cellAnchorRow: c,
                cellWidth: l,
                cellHeight: d,
              } = t;
              if (a < i) {
                e.setAttribute("colspan", l + o, r);
                const t = c + d - 1;
                for (let e = n; e <= t; e++) {
                  s.skipRow(e);
                }
              } else {
                hq(o, e, t.getPositionBefore());
              }
            }
          });
        }
        removeRows(t, e) {
          const n = this.editor.model;
          const i = e.rows || 1;
          const o = this.getRows(t);
          const r = e.at;
          const s = r + i - 1;
          if (s > o - 1) {
            throw new M("tableutils-removerows-row-index-out-of-range", this, {
              table: t,
              options: e,
            });
          }
          n.change((e) => {
            const { cellsToMove: n, cellsToTrim: i } = pq(t, r, s);
            if (n.size) {
              const i = s + 1;
              bq(t, i, n, e);
            }
            for (let n = s; n >= r; n--) {
              e.remove(t.getChild(n));
            }
            for (const { rowspan: t, cell: n } of i) {
              fU("rowspan", t, n, e);
            }
            fq(t, r, s, e);
            if (!$U(t, this)) {
              KU(t, this);
            }
          });
        }
        removeColumns(t, e) {
          const n = this.editor.model;
          const i = e.at;
          const o = e.columns || 1;
          const r = e.at + o - 1;
          n.change((e) => {
            gq(t, { first: i, last: r }, e);
            for (let n = r; n >= i; n--) {
              for (const { cell: i, column: o, cellWidth: r } of [
                ...new EU(t),
              ]) {
                if (o <= n && r > 1 && o + r > n) {
                  fU("colspan", r - 1, i, e);
                } else if (o === n) {
                  e.remove(i);
                }
              }
            }
            if (!KU(t, this)) {
              $U(t, this);
            }
          });
        }
        splitCellVertically(t, e = 2) {
          const n = this.editor.model;
          const i = t.parent;
          const o = i.parent;
          const r = parseInt(t.getAttribute("rowspan") || 1);
          const s = parseInt(t.getAttribute("colspan") || 1);
          n.change((n) => {
            if (s > 1) {
              const { newCellsSpan: i, updatedSpan: o } = mq(s, e);
              fU("colspan", o, t, n);
              const a = {};
              if (i > 1) {
                a.colspan = i;
              }
              if (r > 1) {
                a.rowspan = r;
              }
              const c = s > e ? e - 1 : s - 1;
              hq(c, n, n.createPositionAfter(t), a);
            }
            if (s < e) {
              const i = e - s;
              const a = [...new EU(o)];
              const { column: c } = a.find(({ cell: e }) => e === t);
              const l = a.filter(({ cell: e, cellWidth: n, column: i }) => {
                const o = e !== t && i === c;
                const r = i < c && i + n > c;
                return o || r;
              });
              for (const { cell: t, cellWidth: e } of l) {
                n.setAttribute("colspan", e + i, t);
              }
              const d = {};
              if (r > 1) {
                d.rowspan = r;
              }
              hq(i, n, n.createPositionAfter(t), d);
              const u = o.getAttribute("headingColumns") || 0;
              if (u > c) {
                fU("headingColumns", u + i, o, n);
              }
            }
          });
        }
        splitCellHorizontally(t, e = 2) {
          const n = this.editor.model;
          const i = t.parent;
          const o = i.parent;
          const r = o.getChildIndex(i);
          const s = parseInt(t.getAttribute("rowspan") || 1);
          const a = parseInt(t.getAttribute("colspan") || 1);
          n.change((n) => {
            if (s > 1) {
              const i = [
                ...new EU(o, {
                  startRow: r,
                  endRow: r + s - 1,
                  includeAllSlots: true,
                }),
              ];
              const { newCellsSpan: c, updatedSpan: l } = mq(s, e);
              fU("rowspan", l, t, n);
              const { column: d } = i.find(({ cell: e }) => e === t);
              const u = {};
              if (c > 1) {
                u.rowspan = c;
              }
              if (a > 1) {
                u.colspan = a;
              }
              for (const t of i) {
                const { column: e, row: i } = t;
                const o = i >= r + l;
                const s = e === d;
                const a = (i + r + l) % c === 0;
                if (o && s && a) {
                  hq(1, n, t.getPositionBefore(), u);
                }
              }
            }
            if (s < e) {
              const i = e - s;
              const c = [...new EU(o, { startRow: 0, endRow: r })];
              for (const { cell: e, cellHeight: o, row: s } of c) {
                if (e !== t && s + o > r) {
                  const t = o + i;
                  n.setAttribute("rowspan", t, e);
                }
              }
              const l = {};
              if (a > 1) {
                l.colspan = a;
              }
              uq(n, o, r + 1, i, 1, l);
              const d = o.getAttribute("headingRows") || 0;
              if (d > r) {
                fU("headingRows", d + i, o, n);
              }
            }
          });
        }
        getColumns(t) {
          const e = t.getChild(0);
          return [...e.getChildren()].reduce((t, e) => {
            const n = parseInt(e.getAttribute("colspan") || 1);
            return t + n;
          }, 0);
        }
        getRows(t) {
          return Array.from(t.getChildren()).reduce(
            (t, e) => (e.is("element", "tableRow") ? t + 1 : t),
            0
          );
        }
        createTableWalker(t, e = {}) {
          return new EU(t, e);
        }
        getSelectedTableCells(t) {
          const e = [];
          for (const n of this.sortRanges(t.getRanges())) {
            const t = n.getContainedElement();
            if (t && t.is("element", "tableCell")) {
              e.push(t);
            }
          }
          return e;
        }
        getTableCellsContainingSelection(t) {
          const e = [];
          for (const n of t.getRanges()) {
            const t = n.start.findAncestor("tableCell");
            if (t) {
              e.push(t);
            }
          }
          return e;
        }
        getSelectionAffectedTableCells(t) {
          const e = this.getSelectedTableCells(t);
          if (e.length) {
            return e;
          }
          return this.getTableCellsContainingSelection(t);
        }
        getRowIndexes(t) {
          const e = t.map((t) => t.parent.index);
          return this._getFirstLastIndexesObject(e);
        }
        getColumnIndexes(t) {
          const e = t[0].findAncestor("table");
          const n = [...new EU(e)];
          const i = n.filter((e) => t.includes(e.cell)).map((t) => t.column);
          return this._getFirstLastIndexesObject(i);
        }
        isSelectionRectangular(t) {
          if (t.length < 2 || !this._areCellInTheSameTableSection(t)) {
            return false;
          }
          const e = new Set();
          const n = new Set();
          let i = 0;
          for (const o of t) {
            const { row: t, column: r } = this.getCellLocation(o);
            const s = parseInt(o.getAttribute("rowspan") || 1);
            const a = parseInt(o.getAttribute("colspan") || 1);
            e.add(t);
            n.add(r);
            if (s > 1) {
              e.add(t + s - 1);
            }
            if (a > 1) {
              n.add(r + a - 1);
            }
            i += s * a;
          }
          const o = wq(e, n);
          return o == i;
        }
        sortRanges(t) {
          return Array.from(t).sort(kq);
        }
        _getFirstLastIndexesObject(t) {
          const e = t.sort((t, e) => t - e);
          const n = e[0];
          const i = e[e.length - 1];
          return { first: n, last: i };
        }
        _areCellInTheSameTableSection(t) {
          const e = t[0].findAncestor("table");
          const n = this.getRowIndexes(t);
          const i = parseInt(e.getAttribute("headingRows") || 0);
          if (!this._areIndexesInSameSection(n, i)) {
            return false;
          }
          const o = parseInt(e.getAttribute("headingColumns") || 0);
          const r = this.getColumnIndexes(t);
          return this._areIndexesInSameSection(r, o);
        }
        _areIndexesInSameSection({ first: t, last: e }, n) {
          const i = t < n;
          const o = e < n;
          return i === o;
        }
      }
      function uq(t, e, n, i, o, r = {}) {
        for (let s = 0; s < i; s++) {
          const i = t.createElement("tableRow");
          t.insert(i, e, n);
          hq(o, t, t.createPositionAt(i, "end"), r);
        }
      }
      function hq(t, e, n, i = {}) {
        for (let o = 0; o < t; o++) {
          pU(e, n, i);
        }
      }
      function mq(t, e) {
        if (t < e) {
          return { newCellsSpan: 1, updatedSpan: 1 };
        }
        const n = Math.floor(t / e);
        const i = t - n * e + n;
        return { newCellsSpan: n, updatedSpan: i };
      }
      function gq(t, e, n) {
        const i = t.getAttribute("headingColumns") || 0;
        if (i && e.first < i) {
          const o = Math.min(i - 1, e.last) - e.first + 1;
          n.setAttribute("headingColumns", i - o, t);
        }
      }
      function fq(t, e, n, i) {
        const o = t.getAttribute("headingRows") || 0;
        if (e < o) {
          const r = n < o ? o - (n - e + 1) : e;
          fU("headingRows", r, t, i, 0);
        }
      }
      function pq(t, e, n) {
        const i = new Map();
        const o = [];
        for (const { row: r, column: s, cellHeight: a, cell: c } of new EU(t, {
          endRow: n,
        })) {
          const t = r + a - 1;
          const l = r >= e && r <= n && t > n;
          if (l) {
            const t = n - r + 1;
            const e = a - t;
            i.set(s, { cell: c, rowspan: e });
          }
          const d = r < e && t >= e;
          if (d) {
            let i;
            if (t >= n) {
              i = n - e + 1;
            } else {
              i = t - e + 1;
            }
            o.push({ cell: c, rowspan: a - i });
          }
        }
        return { cellsToMove: i, cellsToTrim: o };
      }
      function bq(t, e, n, i) {
        const o = new EU(t, { includeAllSlots: true, row: e });
        const r = [...o];
        const s = t.getChild(e);
        let a;
        for (const { column: t, cell: e, isAnchor: o } of r) {
          if (n.has(t)) {
            const { cell: e, rowspan: o } = n.get(t);
            const r = a ? i.createPositionAfter(a) : i.createPositionAt(s, 0);
            i.move(i.createRangeOn(e), r);
            fU("rowspan", o, e, i);
            a = e;
          } else if (o) {
            a = e;
          }
        }
      }
      function kq(t, e) {
        const n = t.start;
        const i = e.start;
        return n.isBefore(i) ? -1 : 1;
      }
      function wq(t, e) {
        const n = Array.from(t.values());
        const i = Array.from(e.values());
        const o = Math.max(...n);
        const r = Math.min(...n);
        const s = Math.max(...i);
        const a = Math.min(...i);
        return (o - r + 1) * (s - a + 1);
      }
      class Aq extends vl {
        refresh() {
          const t = this.editor.plugins.get(dq);
          const e = t.getSelectedTableCells(
            this.editor.model.document.selection
          );
          this.isEnabled = t.isSelectionRectangular(
            e,
            this.editor.plugins.get(dq)
          );
        }
        execute() {
          const t = this.editor.model;
          const e = this.editor.plugins.get(dq);
          t.change((n) => {
            const i = e.getSelectedTableCells(t.document.selection);
            const o = i.shift();
            const { mergeWidth: r, mergeHeight: s } = vq(o, i, e);
            fU("colspan", r, o, n);
            fU("rowspan", s, o, n);
            for (const t of i) {
              Cq(t, o, n);
            }
            const a = o.findAncestor("table");
            YU(a, e);
            n.setSelection(o, "in");
          });
        }
      }
      function Cq(t, e, n) {
        if (!_q(t)) {
          if (_q(e)) {
            n.remove(n.createRangeIn(e));
          }
          n.move(n.createRangeIn(t), n.createPositionAt(e, "end"));
        }
        n.remove(t);
      }
      function _q(t) {
        return (
          t.childCount == 1 &&
          t.getChild(0).is("element", "paragraph") &&
          t.getChild(0).isEmpty
        );
      }
      function vq(t, e, n) {
        let i = 0;
        let o = 0;
        for (const t of e) {
          const { row: e, column: r } = n.getCellLocation(t);
          i = yq(t, r, i, "colspan");
          o = yq(t, e, o, "rowspan");
        }
        const { row: r, column: s } = n.getCellLocation(t);
        const a = i - s;
        const c = o - r;
        return { mergeWidth: a, mergeHeight: c };
      }
      function yq(t, e, n, i) {
        const o = parseInt(t.getAttribute(i) || 1);
        return Math.max(n, e + o);
      }
      class xq extends vl {
        constructor(t) {
          super(t);
          this.affectsData = false;
        }
        refresh() {
          const t = this.editor.plugins.get("TableUtils");
          const e = t.getSelectionAffectedTableCells(
            this.editor.model.document.selection
          );
          this.isEnabled = e.length > 0;
        }
        execute() {
          const t = this.editor.model;
          const e = this.editor.plugins.get("TableUtils");
          const n = e.getSelectionAffectedTableCells(t.document.selection);
          const i = e.getRowIndexes(n);
          const o = n[0].findAncestor("table");
          const r = [];
          for (let e = i.first; e <= i.last; e++) {
            for (const n of o.getChild(e).getChildren()) {
              r.push(t.createRangeOn(n));
            }
          }
          t.change((t) => {
            t.setSelection(r);
          });
        }
      }
      class Eq extends vl {
        constructor(t) {
          super(t);
          this.affectsData = false;
        }
        refresh() {
          const t = this.editor.plugins.get("TableUtils");
          const e = t.getSelectionAffectedTableCells(
            this.editor.model.document.selection
          );
          this.isEnabled = e.length > 0;
        }
        execute() {
          const t = this.editor.plugins.get("TableUtils");
          const e = this.editor.model;
          const n = t.getSelectionAffectedTableCells(e.document.selection);
          const i = n[0];
          const o = n.pop();
          const r = i.findAncestor("table");
          const s = t.getCellLocation(i);
          const a = t.getCellLocation(o);
          const c = Math.min(s.column, a.column);
          const l = Math.max(s.column, a.column);
          const d = [];
          for (const t of new EU(r, { startColumn: c, endColumn: l })) {
            d.push(e.createRangeOn(t.cell));
          }
          e.change((t) => {
            t.setSelection(d);
          });
        }
      }
      function Dq(t) {
        t.document.registerPostFixer((e) => Sq(e, t));
      }
      function Sq(t, e) {
        const n = e.document.differ.getChanges();
        let i = false;
        const o = new Set();
        for (const e of n) {
          let n;
          if (e.name == "table" && e.type == "insert") {
            n = e.position.nodeAfter;
          }
          if (e.name == "tableRow" || e.name == "tableCell") {
            n = e.position.findAncestor("table");
          }
          if (Lq(e)) {
            n = e.range.start.findAncestor("table");
          }
          if (n && !o.has(n)) {
            i = Tq(n, t) || i;
            i = Iq(n, t) || i;
            o.add(n);
          }
        }
        return i;
      }
      function Tq(t, e) {
        let n = false;
        const i = Mq(t);
        if (i.length) {
          n = true;
          for (const t of i) {
            fU("rowspan", t.rowspan, t.cell, e, 1);
          }
        }
        return n;
      }
      function Iq(t, e) {
        let n = false;
        const i = Bq(t);
        const o = [];
        for (const [e, n] of i.entries()) {
          if (!n && t.getChild(e).is("element", "tableRow")) {
            o.push(e);
          }
        }
        if (o.length) {
          n = true;
          for (const n of o.reverse()) {
            e.remove(t.getChild(n));
            i.splice(n, 1);
          }
        }
        const r = i.filter((e, n) => t.getChild(n).is("element", "tableRow"));
        const s = r[0];
        const a = r.every((t) => t === s);
        if (!a) {
          const i = r.reduce((t, e) => (e > t ? e : t), 0);
          for (const [o, s] of r.entries()) {
            const r = i - s;
            if (r) {
              for (let n = 0; n < r; n++) {
                pU(e, e.createPositionAt(t.getChild(o), "end"));
              }
              n = true;
            }
          }
        }
        return n;
      }
      function Mq(t) {
        const e = parseInt(t.getAttribute("headingRows") || 0);
        const n = Array.from(t.getChildren()).reduce(
          (t, e) => (e.is("element", "tableRow") ? t + 1 : t),
          0
        );
        const i = [];
        for (const { row: o, cell: r, cellHeight: s } of new EU(t)) {
          if (s < 2) {
            continue;
          }
          const t = o < e;
          const a = t ? e : n;
          if (o + s > a) {
            const t = a - o;
            i.push({ cell: r, rowspan: t });
          }
        }
        return i;
      }
      function Bq(t) {
        const e = new Array(t.childCount).fill(0);
        for (const { rowIndex: n } of new EU(t, { includeAllSlots: true })) {
          e[n]++;
        }
        return e;
      }
      function Lq(t) {
        const e = t.type === "attribute";
        const n = t.attributeKey;
        return e && (n === "headingRows" || n === "colspan" || n === "rowspan");
      }
      function Nq(t) {
        t.document.registerPostFixer((e) => zq(e, t));
      }
      function zq(t, e) {
        const n = e.document.differ.getChanges();
        let i = false;
        for (const e of n) {
          if (e.type == "insert" && e.name == "table") {
            i = Pq(e.position.nodeAfter, t) || i;
          }
          if (e.type == "insert" && e.name == "tableRow") {
            i = Rq(e.position.nodeAfter, t) || i;
          }
          if (e.type == "insert" && e.name == "tableCell") {
            i = Oq(e.position.nodeAfter, t) || i;
          }
          if (jq(e)) {
            i = Oq(e.position.parent, t) || i;
          }
        }
        return i;
      }
      function Pq(t, e) {
        let n = false;
        for (const i of t.getChildren()) {
          if (i.is("element", "tableRow")) {
            n = Rq(i, e) || n;
          }
        }
        return n;
      }
      function Rq(t, e) {
        let n = false;
        for (const i of t.getChildren()) {
          n = Oq(i, e) || n;
        }
        return n;
      }
      function Oq(t, e) {
        if (t.childCount == 0) {
          e.insertElement("paragraph", t);
          return true;
        }
        const n = Array.from(t.getChildren()).filter((t) => t.is("$text"));
        for (const t of n) {
          e.wrap(e.createRangeOn(t), "paragraph");
        }
        return !!n.length;
      }
      function jq(t) {
        if (!t.position || !t.position.parent.is("element", "tableCell")) {
          return false;
        }
        return (t.type == "insert" && t.name == "$text") || t.type == "remove";
      }
      function Fq(t, e) {
        const n = t.document.differ;
        for (const t of n.getChanges()) {
          let n;
          let i = false;
          if (t.type == "attribute") {
            const e = t.range.start.nodeAfter;
            if (!e || !e.is("element", "table")) {
              continue;
            }
            if (
              t.attributeKey != "headingRows" &&
              t.attributeKey != "headingColumns"
            ) {
              continue;
            }
            n = e;
            i = t.attributeKey == "headingRows";
          } else if (t.name == "tableRow" || t.name == "tableCell") {
            n = t.position.findAncestor("table");
            i = t.name == "tableRow";
          }
          if (!n) {
            continue;
          }
          const o = n.getAttribute("headingRows") || 0;
          const r = n.getAttribute("headingColumns") || 0;
          const s = new EU(n);
          for (const t of s) {
            const n = t.row < o || t.column < r;
            const s = n ? "th" : "td";
            const a = e.mapper.toViewElement(t.cell);
            if (a && a.is("element") && a.name != s) {
              e.reconvertItem(i ? t.cell.parent : t.cell);
            }
          }
        }
      }
      function Vq(t, e) {
        const n = t.document.differ;
        const i = new Set();
        for (const t of n.getChanges()) {
          const e =
            t.type == "attribute" ? t.range.start.parent : t.position.parent;
          if (e.is("element", "tableCell")) {
            i.add(e);
          }
        }
        for (const t of i.values()) {
          const n = Array.from(t.getChildren()).filter((t) => Hq(t, e.mapper));
          for (const t of n) {
            e.reconvertItem(t);
          }
        }
      }
      function Hq(t, e) {
        if (!t.is("element", "paragraph")) {
          return false;
        }
        const n = e.toViewElement(t);
        if (!n) {
          return false;
        }
        return BU(t) !== n.is("element", "span");
      }
      var Uq = n(4777);
      var qq = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      qq.insert = "head";
      qq.singleton = true;
      var Wq = Il()(Uq.Z, qq);
      const Gq = Uq.Z.locals || {};
      class $q extends Cl {
        static get pluginName() {
          return "TableEditing";
        }
        static get requires() {
          return [dq];
        }
        init() {
          const t = this.editor;
          const e = t.model;
          const n = e.schema;
          const i = t.conversion;
          const o = t.plugins.get(dq);
          n.register("table", {
            inheritAllFrom: "$blockObject",
            allowAttributes: ["headingRows", "headingColumns"],
          });
          n.register("tableRow", { allowIn: "table", isLimit: true });
          n.register("tableCell", {
            allowContentOf: "$container",
            allowIn: "tableRow",
            allowAttributes: ["colspan", "rowspan"],
            isLimit: true,
            isSelectable: true,
          });
          i.for("upcast").add(wU());
          i.for("upcast").add(AU());
          i.for("editingDowncast").elementToStructure({
            model: { name: "table", attributes: ["headingRows"] },
            view: SU(o, { asWidget: true }),
          });
          i.for("dataDowncast").elementToStructure({
            model: { name: "table", attributes: ["headingRows"] },
            view: SU(o),
          });
          i.for("upcast").elementToElement({ model: "tableRow", view: "tr" });
          i.for("upcast").add(CU());
          i.for("downcast").elementToElement({ model: "tableRow", view: TU() });
          i.for("upcast").elementToElement({ model: "tableCell", view: "td" });
          i.for("upcast").elementToElement({ model: "tableCell", view: "th" });
          i.for("upcast").add(_U("td"));
          i.for("upcast").add(_U("th"));
          i.for("editingDowncast").elementToElement({
            model: "tableCell",
            view: IU({ asWidget: true }),
          });
          i.for("dataDowncast").elementToElement({
            model: "tableCell",
            view: IU(),
          });
          i.for("editingDowncast").elementToElement({
            model: "paragraph",
            view: MU({ asWidget: true }),
            converterPriority: "high",
          });
          i.for("dataDowncast").elementToElement({
            model: "paragraph",
            view: MU(),
            converterPriority: "high",
          });
          i.for("downcast").attributeToAttribute({
            model: "colspan",
            view: "colspan",
          });
          i.for("upcast").attributeToAttribute({
            model: { key: "colspan", value: Yq("colspan") },
            view: "colspan",
          });
          i.for("downcast").attributeToAttribute({
            model: "rowspan",
            view: "rowspan",
          });
          i.for("upcast").attributeToAttribute({
            model: { key: "rowspan", value: Yq("rowspan") },
            view: "rowspan",
          });
          t.data.mapper.on("modelToViewPosition", Kq());
          t.config.define("table.defaultHeadings.rows", 0);
          t.config.define("table.defaultHeadings.columns", 0);
          t.commands.add("insertTable", new zU(t));
          t.commands.add("insertTableRowAbove", new RU(t, { order: "above" }));
          t.commands.add("insertTableRowBelow", new RU(t, { order: "below" }));
          t.commands.add("insertTableColumnLeft", new OU(t, { order: "left" }));
          t.commands.add(
            "insertTableColumnRight",
            new OU(t, { order: "right" })
          );
          t.commands.add("removeTableRow", new iq(t));
          t.commands.add("removeTableColumn", new rq(t));
          t.commands.add(
            "splitTableCellVertically",
            new jU(t, { direction: "vertically" })
          );
          t.commands.add(
            "splitTableCellHorizontally",
            new jU(t, { direction: "horizontally" })
          );
          t.commands.add("mergeTableCells", new Aq(t));
          t.commands.add(
            "mergeTableCellRight",
            new JU(t, { direction: "right" })
          );
          t.commands.add(
            "mergeTableCellLeft",
            new JU(t, { direction: "left" })
          );
          t.commands.add(
            "mergeTableCellDown",
            new JU(t, { direction: "down" })
          );
          t.commands.add("mergeTableCellUp", new JU(t, { direction: "up" }));
          t.commands.add("setTableColumnHeader", new lq(t));
          t.commands.add("setTableRowHeader", new cq(t));
          t.commands.add("selectTableRow", new xq(t));
          t.commands.add("selectTableColumn", new Eq(t));
          Dq(e);
          Nq(e);
          this.listenTo(e.document, "change:data", () => {
            Fq(e, t.editing);
            Vq(e, t.editing);
          });
        }
      }
      function Kq() {
        return (t, e) => {
          const n = e.modelPosition.parent;
          const i = e.modelPosition.nodeBefore;
          if (!n.is("element", "tableCell")) {
            return;
          }
          if (!i || !i.is("element", "paragraph")) {
            return;
          }
          const o = e.mapper.toViewElement(i);
          const r = e.mapper.toViewElement(n);
          if (o === r) {
            e.viewPosition = e.mapper.findPositionIn(r, i.maxOffset);
          }
        };
      }
      function Yq(t) {
        return (e) => {
          const n = parseInt(e.getAttribute(t));
          if (Number.isNaN(n) || n <= 0) {
            return null;
          }
          return n;
        };
      }
      var Zq = n(8085);
      var Qq = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      Qq.insert = "head";
      Qq.singleton = true;
      var Jq = Il()(Zq.Z, Qq);
      const Xq = Zq.Z.locals || {};
      class tW extends pC {
        constructor(t) {
          super(t);
          const e = this.bindTemplate;
          this.items = this._createGridCollection();
          this.keystrokes = new cl();
          this.focusTracker = new al();
          this.set("rows", 0);
          this.set("columns", 0);
          this.bind("label").to(
            this,
            "columns",
            this,
            "rows",
            (t, e) => \`\${e} \xD7 \${t}\`
          );
          this.setTemplate({
            tag: "div",
            attributes: { class: ["ck"] },
            children: [
              {
                tag: "div",
                attributes: { class: ["ck-insert-table-dropdown__grid"] },
                on: {
                  "mouseover@.ck-insert-table-dropdown-grid-box":
                    e.to("boxover"),
                },
                children: this.items,
              },
              {
                tag: "div",
                attributes: {
                  class: ["ck", "ck-insert-table-dropdown__label"],
                  "aria-hidden": true,
                },
                children: [{ text: e.to("label") }],
              },
            ],
            on: {
              mousedown: e.to((t) => {
                t.preventDefault();
              }),
              click: e.to(() => {
                this.fire("execute");
              }),
            },
          });
          this.on("boxover", (t, e) => {
            const { row: n, column: i } = e.target.dataset;
            this.items
              .get((parseInt(n, 10) - 1) * 10 + (parseInt(i, 10) - 1))
              .focus();
          });
          this.focusTracker.on("change:focusedElement", (t, e, n) => {
            if (!n) {
              return;
            }
            const { row: i, column: o } = n.dataset;
            this.set({ rows: parseInt(i), columns: parseInt(o) });
          });
          this.on("change:columns", () => this._highlightGridBoxes());
          this.on("change:rows", () => this._highlightGridBoxes());
        }
        render() {
          super.render();
          E_({
            keystrokeHandler: this.keystrokes,
            focusTracker: this.focusTracker,
            gridItems: this.items,
            numberOfColumns: 10,
            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection,
          });
          for (const t of this.items) {
            this.focusTracker.add(t.element);
          }
          this.keystrokes.listenTo(this.element);
        }
        focus() {
          this.items.get(0).focus();
        }
        focusLast() {
          this.items.get(0).focus();
        }
        _highlightGridBoxes() {
          const t = this.rows;
          const e = this.columns;
          this.items.map((n, i) => {
            const o = Math.floor(i / 10);
            const r = i % 10;
            const s = o < t && r < e;
            n.set("isOn", s);
          });
        }
        _createGridButton(t, e, n, i) {
          const o = new R_(t);
          o.set({ label: i, class: "ck-insert-table-dropdown-grid-box" });
          o.extendTemplate({ attributes: { "data-row": e, "data-column": n } });
          return o;
        }
        _createGridCollection() {
          const t = [];
          for (let e = 0; e < 100; e++) {
            const n = Math.floor(e / 10);
            const i = e % 10;
            const o = \`\${n + 1} \xD7 \${i + 1}\`;
            t.push(this._createGridButton(this.locale, n + 1, i + 1, o));
          }
          return this.createCollection(t);
        }
      }
      const eW =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>';
      const nW =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>';
      const iW =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>';
      const oW =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';
      class rW extends Cl {
        static get pluginName() {
          return "TableUI";
        }
        init() {
          const t = this.editor;
          const e = this.editor.t;
          const n = t.locale.contentLanguageDirection;
          const i = n === "ltr";
          t.ui.componentFactory.add("insertTable", (n) => {
            const i = t.commands.get("insertTable");
            const o = Uv(n);
            o.bind("isEnabled").to(i);
            o.buttonView.set({
              icon: eW,
              label: e("Insert table"),
              tooltip: true,
            });
            let r;
            o.on("change:isOpen", () => {
              if (r) {
                return;
              }
              r = new tW(n);
              o.panelView.children.add(r);
              r.delegate("execute").to(o);
              o.on("execute", () => {
                t.execute("insertTable", { rows: r.rows, columns: r.columns });
                t.editing.view.focus();
              });
            });
            return o;
          });
          t.ui.componentFactory.add("tableColumn", (t) => {
            const n = [
              {
                type: "switchbutton",
                model: {
                  commandName: "setTableColumnHeader",
                  label: e("Header column"),
                  bindIsOn: true,
                },
              },
              { type: "separator" },
              {
                type: "button",
                model: {
                  commandName: i
                    ? "insertTableColumnLeft"
                    : "insertTableColumnRight",
                  label: e("Insert column left"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: i
                    ? "insertTableColumnRight"
                    : "insertTableColumnLeft",
                  label: e("Insert column right"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: "removeTableColumn",
                  label: e("Delete column"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: "selectTableColumn",
                  label: e("Select column"),
                },
              },
            ];
            return this._prepareDropdown(e("Column"), nW, n, t);
          });
          t.ui.componentFactory.add("tableRow", (t) => {
            const n = [
              {
                type: "switchbutton",
                model: {
                  commandName: "setTableRowHeader",
                  label: e("Header row"),
                  bindIsOn: true,
                },
              },
              { type: "separator" },
              {
                type: "button",
                model: {
                  commandName: "insertTableRowAbove",
                  label: e("Insert row above"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: "insertTableRowBelow",
                  label: e("Insert row below"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: "removeTableRow",
                  label: e("Delete row"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: "selectTableRow",
                  label: e("Select row"),
                },
              },
            ];
            return this._prepareDropdown(e("Row"), iW, n, t);
          });
          t.ui.componentFactory.add("mergeTableCells", (t) => {
            const n = [
              {
                type: "button",
                model: {
                  commandName: "mergeTableCellUp",
                  label: e("Merge cell up"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: i ? "mergeTableCellRight" : "mergeTableCellLeft",
                  label: e("Merge cell right"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: "mergeTableCellDown",
                  label: e("Merge cell down"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: i ? "mergeTableCellLeft" : "mergeTableCellRight",
                  label: e("Merge cell left"),
                },
              },
              { type: "separator" },
              {
                type: "button",
                model: {
                  commandName: "splitTableCellVertically",
                  label: e("Split cell vertically"),
                },
              },
              {
                type: "button",
                model: {
                  commandName: "splitTableCellHorizontally",
                  label: e("Split cell horizontally"),
                },
              },
            ];
            return this._prepareMergeSplitButtonDropdown(
              e("Merge cells"),
              oW,
              n,
              t
            );
          });
        }
        _prepareDropdown(t, e, n, i) {
          const o = this.editor;
          const r = Uv(i);
          const s = this._fillDropdownWithListOptions(r, n);
          r.buttonView.set({ label: t, icon: e, tooltip: true });
          r.bind("isEnabled").toMany(s, "isEnabled", (...t) =>
            t.some((t) => t)
          );
          this.listenTo(r, "execute", (t) => {
            o.execute(t.source.commandName);
            if (!(t.source instanceof H_)) {
              o.editing.view.focus();
            }
          });
          return r;
        }
        _prepareMergeSplitButtonDropdown(t, e, n, i) {
          const o = this.editor;
          const r = Uv(i, rv);
          const s = "mergeTableCells";
          const a = o.commands.get(s);
          const c = this._fillDropdownWithListOptions(r, n);
          r.buttonView.set({
            label: t,
            icon: e,
            tooltip: true,
            isEnabled: true,
          });
          r.bind("isEnabled").toMany([a, ...c], "isEnabled", (...t) =>
            t.some((t) => t)
          );
          this.listenTo(r.buttonView, "execute", () => {
            o.execute(s);
            o.editing.view.focus();
          });
          this.listenTo(r, "execute", (t) => {
            o.execute(t.source.commandName);
            o.editing.view.focus();
          });
          return r;
        }
        _fillDropdownWithListOptions(t, e) {
          const n = this.editor;
          const i = [];
          const o = new rl();
          for (const t of e) {
            sW(t, n, i, o);
          }
          Wv(t, o, n.ui.componentFactory);
          return i;
        }
      }
      function sW(t, e, n, i) {
        const o = (t.model = new Py(t.model));
        const { commandName: r, bindIsOn: s } = t.model;
        if (t.type === "button" || t.type === "switchbutton") {
          const t = e.commands.get(r);
          n.push(t);
          o.set({ commandName: r });
          o.bind("isEnabled").to(t);
          if (s) {
            o.bind("isOn").to(t, "value");
          }
        }
        o.set({ withText: true });
        i.add(t);
      }
      var aW = n(5593);
      var cW = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      cW.insert = "head";
      cW.singleton = true;
      var lW = Il()(aW.Z, cW);
      const dW = aW.Z.locals || {};
      class uW extends Cl {
        static get pluginName() {
          return "TableSelection";
        }
        static get requires() {
          return [dq, dq];
        }
        init() {
          const t = this.editor;
          const e = t.model;
          const n = t.editing.view;
          this.listenTo(
            e,
            "deleteContent",
            (t, e) => this._handleDeleteContent(t, e),
            { priority: "high" }
          );
          this.listenTo(
            n.document,
            "insertText",
            (t, e) => this._handleInsertTextEvent(t, e),
            { priority: "high" }
          );
          this._defineSelectionConverter();
          this._enablePluginDisabling();
        }
        getSelectedTableCells() {
          const t = this.editor.plugins.get(dq);
          const e = this.editor.model.document.selection;
          const n = t.getSelectedTableCells(e);
          if (n.length == 0) {
            return null;
          }
          return n;
        }
        getSelectionAsFragment() {
          const t = this.editor.plugins.get(dq);
          const e = this.getSelectedTableCells();
          if (!e) {
            return null;
          }
          return this.editor.model.change((n) => {
            const i = n.createDocumentFragment();
            const { first: o, last: r } = t.getColumnIndexes(e);
            const { first: s, last: a } = t.getRowIndexes(e);
            const c = e[0].findAncestor("table");
            let l = a;
            let d = r;
            if (t.isSelectionRectangular(e)) {
              const t = {
                firstColumn: o,
                lastColumn: r,
                firstRow: s,
                lastRow: a,
              };
              l = ZU(c, t);
              d = QU(c, t);
            }
            const u = { startRow: s, startColumn: o, endRow: l, endColumn: d };
            const h = FU(c, u, n);
            n.insert(h, i, 0);
            return i;
          });
        }
        setCellSelection(t, e) {
          const n = this._getCellsToSelect(t, e);
          this.editor.model.change((t) => {
            t.setSelection(
              n.cells.map((e) => t.createRangeOn(e)),
              { backward: n.backward }
            );
          });
        }
        getFocusCell() {
          const t = this.editor.model.document.selection;
          const e = [...t.getRanges()].pop();
          const n = e.getContainedElement();
          if (n && n.is("element", "tableCell")) {
            return n;
          }
          return null;
        }
        getAnchorCell() {
          const t = this.editor.model.document.selection;
          const e = sl(t.getRanges());
          const n = e.getContainedElement();
          if (n && n.is("element", "tableCell")) {
            return n;
          }
          return null;
        }
        _defineSelectionConverter() {
          const t = this.editor;
          const e = new Set();
          t.conversion.for("editingDowncast").add((t) =>
            t.on(
              "selection",
              (t, i, o) => {
                const r = o.writer;
                n(r);
                const s = this.getSelectedTableCells();
                if (!s) {
                  return;
                }
                for (const t of s) {
                  const n = o.mapper.toViewElement(t);
                  r.addClass("ck-editor__editable_selected", n);
                  e.add(n);
                }
                const a = o.mapper.toViewElement(s[s.length - 1]);
                r.setSelection(a, 0);
              },
              { priority: "lowest" }
            )
          );
          function n(t) {
            for (const n of e) {
              t.removeClass("ck-editor__editable_selected", n);
            }
            e.clear();
          }
        }
        _enablePluginDisabling() {
          const t = this.editor;
          this.on("change:isEnabled", () => {
            if (!this.isEnabled) {
              const e = this.getSelectedTableCells();
              if (!e) {
                return;
              }
              t.model.change((n) => {
                const i = n.createPositionAt(e[0], 0);
                const o = t.model.schema.getNearestSelectionRange(i);
                n.setSelection(o);
              });
            }
          });
        }
        _handleDeleteContent(t, e) {
          const n = this.editor.plugins.get(dq);
          const [i, o] = e;
          const r = this.editor.model;
          const s = !o || o.direction == "backward";
          const a = n.getSelectedTableCells(i);
          if (!a.length) {
            return;
          }
          t.stop();
          r.change((t) => {
            const e = a[s ? a.length - 1 : 0];
            r.change((t) => {
              for (const e of a) {
                r.deleteContent(t.createSelection(e, "in"));
              }
            });
            const n = r.schema.getNearestSelectionRange(
              t.createPositionAt(e, 0)
            );
            if (i.is("documentSelection")) {
              t.setSelection(n);
            } else {
              i.setTo(n);
            }
          });
        }
        _handleInsertTextEvent(t, e) {
          const n = this.editor;
          const i = n.model;
          const o = i.document.selection;
          const r = this.getSelectedTableCells(o);
          if (!r) {
            return;
          }
          const s = n.editing.view;
          const a = n.editing.mapper;
          const c = r.map((t) => s.createRangeOn(a.toViewElement(t)));
          e.selection = s.createSelection(c);
        }
        _getCellsToSelect(t, e) {
          const n = this.editor.plugins.get("TableUtils");
          const i = n.getCellLocation(t);
          const o = n.getCellLocation(e);
          const r = Math.min(i.row, o.row);
          const s = Math.max(i.row, o.row);
          const a = Math.min(i.column, o.column);
          const c = Math.max(i.column, o.column);
          const l = new Array(s - r + 1).fill(null).map(() => []);
          const d = { startRow: r, endRow: s, startColumn: a, endColumn: c };
          for (const { row: e, cell: n } of new EU(
            t.findAncestor("table"),
            d
          )) {
            l[e - r].push(n);
          }
          const u = o.row < i.row;
          const h = o.column < i.column;
          if (u) {
            l.reverse();
          }
          if (h) {
            l.forEach((t) => t.reverse());
          }
          return { cells: l.flat(), backward: u || h };
        }
      }
      class hW extends Cl {
        static get pluginName() {
          return "TableClipboard";
        }
        static get requires() {
          return [uW, dq];
        }
        init() {
          const t = this.editor;
          const e = t.editing.view.document;
          this.listenTo(e, "copy", (t, e) => this._onCopyCut(t, e));
          this.listenTo(e, "cut", (t, e) => this._onCopyCut(t, e));
          this.listenTo(
            t.model,
            "insertContent",
            (t, e) => this._onInsertContent(t, ...e),
            { priority: "high" }
          );
          this.decorate("_replaceTableSlotCell");
        }
        _onCopyCut(t, e) {
          const n = this.editor.plugins.get(uW);
          if (!n.getSelectedTableCells()) {
            return;
          }
          if (t.name == "cut" && this.editor.isReadOnly) {
            return;
          }
          e.preventDefault();
          t.stop();
          const i = this.editor.data;
          const o = this.editor.editing.view.document;
          const r = i.toView(n.getSelectionAsFragment());
          o.fire("clipboardOutput", {
            dataTransfer: e.dataTransfer,
            content: r,
            method: t.name,
          });
        }
        _onInsertContent(t, e, n) {
          if (n && !n.is("documentSelection")) {
            return;
          }
          const i = this.editor.model;
          const o = this.editor.plugins.get(dq);
          let r = mW(e, i);
          if (!r) {
            return;
          }
          const s = o.getSelectionAffectedTableCells(i.document.selection);
          if (!s.length) {
            YU(r, o);
            return;
          }
          t.stop();
          i.change((t) => {
            const e = { width: o.getColumns(r), height: o.getRows(r) };
            const n = gW(s, e, t, o);
            const i = n.lastRow - n.firstRow + 1;
            const a = n.lastColumn - n.firstColumn + 1;
            const c = {
              startRow: 0,
              startColumn: 0,
              endRow: Math.min(i, e.height) - 1,
              endColumn: Math.min(a, e.width) - 1,
            };
            r = FU(r, c, t);
            const l = s[0].findAncestor("table");
            const d = this._replaceSelectedCellsWithPasted(r, e, l, n, t);
            if (this.editor.plugins.get("TableSelection").isEnabled) {
              const e = o.sortRanges(d.map((e) => t.createRangeOn(e)));
              t.setSelection(e);
            } else {
              t.setSelection(d[0], 0);
            }
          });
        }
        _replaceSelectedCellsWithPasted(t, e, n, i, o) {
          const { width: r, height: s } = e;
          const a = pW(t, r, s);
          const c = [
            ...new EU(n, {
              startRow: i.firstRow,
              endRow: i.lastRow,
              startColumn: i.firstColumn,
              endColumn: i.lastColumn,
              includeAllSlots: true,
            }),
          ];
          const l = [];
          let d;
          for (const t of c) {
            const { row: e, column: n } = t;
            if (n === i.firstColumn) {
              d = t.getPositionBefore();
            }
            const c = e - i.firstRow;
            const u = n - i.firstColumn;
            const h = a[c % s][u % r];
            const m = h ? o.cloneElement(h) : null;
            const g = this._replaceTableSlotCell(t, m, d, o);
            if (!g) {
              continue;
            }
            WU(g, e, n, i.lastRow, i.lastColumn, o);
            l.push(g);
            d = o.createPositionAfter(g);
          }
          const u = parseInt(n.getAttribute("headingRows") || 0);
          const h = parseInt(n.getAttribute("headingColumns") || 0);
          const m = i.firstRow < u && u <= i.lastRow;
          const g = i.firstColumn < h && h <= i.lastColumn;
          if (m) {
            const t = { first: i.firstColumn, last: i.lastColumn };
            const e = kW(n, u, t, o, i.firstRow);
            l.push(...e);
          }
          if (g) {
            const t = { first: i.firstRow, last: i.lastRow };
            const e = wW(n, h, t, o);
            l.push(...e);
          }
          return l;
        }
        _replaceTableSlotCell(t, e, n, i) {
          const { cell: o, isAnchor: r } = t;
          if (r) {
            i.remove(o);
          }
          if (!e) {
            return null;
          }
          i.insert(e, n);
          return e;
        }
        getTableIfOnlyTableInContent(t, e) {
          return mW(t, e);
        }
      }
      function mW(t, e) {
        if (!t.is("documentFragment") && !t.is("element")) {
          return null;
        }
        if (t.is("element", "table")) {
          return t;
        }
        if (t.childCount == 1 && t.getChild(0).is("element", "table")) {
          return t.getChild(0);
        }
        const n = e.createRangeIn(t);
        for (const t of n.getItems()) {
          if (t.is("element", "table")) {
            const i = e.createRange(n.start, e.createPositionBefore(t));
            if (e.hasContent(i, { ignoreWhitespaces: true })) {
              return null;
            }
            const o = e.createRange(e.createPositionAfter(t), n.end);
            if (e.hasContent(o, { ignoreWhitespaces: true })) {
              return null;
            }
            return t;
          }
        }
        return null;
      }
      function gW(t, e, n, i) {
        const o = t[0].findAncestor("table");
        const r = i.getColumnIndexes(t);
        const s = i.getRowIndexes(t);
        const a = {
          firstColumn: r.first,
          lastColumn: r.last,
          firstRow: s.first,
          lastRow: s.last,
        };
        const c = t.length === 1;
        if (c) {
          a.lastRow += e.height - 1;
          a.lastColumn += e.width - 1;
          fW(o, a.lastRow + 1, a.lastColumn + 1, i);
        }
        if (c || !i.isSelectionRectangular(t)) {
          bW(o, a, n);
        } else {
          a.lastRow = ZU(o, a);
          a.lastColumn = QU(o, a);
        }
        return a;
      }
      function fW(t, e, n, i) {
        const o = i.getColumns(t);
        const r = i.getRows(t);
        if (n > o) {
          i.insertColumns(t, { at: o, columns: n - o });
        }
        if (e > r) {
          i.insertRows(t, { at: r, rows: e - r });
        }
      }
      function pW(t, e, n) {
        const i = new Array(n).fill(null).map(() => new Array(e).fill(null));
        for (const { column: e, row: n, cell: o } of new EU(t)) {
          i[n][e] = o;
        }
        return i;
      }
      function bW(t, e, n) {
        const { firstRow: i, lastRow: o, firstColumn: r, lastColumn: s } = e;
        const a = { first: i, last: o };
        const c = { first: r, last: s };
        wW(t, r, a, n);
        wW(t, s + 1, a, n);
        kW(t, i, c, n);
        kW(t, o + 1, c, n, i);
      }
      function kW(t, e, n, i, o = 0) {
        if (e < 1) {
          return;
        }
        const r = VU(t, e, o);
        const s = r.filter(({ column: t, cellWidth: e }) => AW(t, e, n));
        return s.map(({ cell: t }) => HU(t, e, i));
      }
      function wW(t, e, n, i) {
        if (e < 1) {
          return;
        }
        const o = UU(t, e);
        const r = o.filter(({ row: t, cellHeight: e }) => AW(t, e, n));
        return r.map(({ cell: t, column: n }) => qU(t, n, e, i));
      }
      function AW(t, e, n) {
        const i = t + e - 1;
        const { first: o, last: r } = n;
        const s = t >= o && t <= r;
        const a = t < o && i >= o;
        return s || a;
      }
      class CW extends Cl {
        static get pluginName() {
          return "TableKeyboard";
        }
        static get requires() {
          return [uW, dq];
        }
        init() {
          const t = this.editor.editing.view;
          const e = t.document;
          this.listenTo(e, "arrowKey", (...t) => this._onArrowKey(...t), {
            context: "table",
          });
          this.listenTo(
            e,
            "tab",
            (...t) => this._handleTabOnSelectedTable(...t),
            { context: "figure" }
          );
          this.listenTo(e, "tab", (...t) => this._handleTab(...t), {
            context: ["th", "td"],
          });
        }
        _handleTabOnSelectedTable(t, e) {
          const n = this.editor;
          const i = n.model.document.selection;
          const o = i.getSelectedElement();
          if (!o || !o.is("element", "table")) {
            return;
          }
          e.preventDefault();
          e.stopPropagation();
          t.stop();
          n.model.change((t) => {
            t.setSelection(t.createRangeIn(o.getChild(0).getChild(0)));
          });
        }
        _handleTab(t, e) {
          const n = this.editor;
          const i = this.editor.plugins.get(dq);
          const o = n.model.document.selection;
          const r = !e.shiftKey;
          let s = i.getTableCellsContainingSelection(o)[0];
          if (!s) {
            s = this.editor.plugins.get("TableSelection").getFocusCell();
          }
          if (!s) {
            return;
          }
          e.preventDefault();
          e.stopPropagation();
          t.stop();
          const a = s.parent;
          const c = a.parent;
          const l = c.getChildIndex(a);
          const d = a.getChildIndex(s);
          const u = d === 0;
          if (!r && u && l === 0) {
            n.model.change((t) => {
              t.setSelection(t.createRangeOn(c));
            });
            return;
          }
          const h = d === a.childCount - 1;
          const m = l === i.getRows(c) - 1;
          if (r && m && h) {
            n.execute("insertTableRowBelow");
            if (l === i.getRows(c) - 1) {
              n.model.change((t) => {
                t.setSelection(t.createRangeOn(c));
              });
              return;
            }
          }
          let g;
          if (r && h) {
            const t = c.getChild(l + 1);
            g = t.getChild(0);
          } else if (!r && u) {
            const t = c.getChild(l - 1);
            g = t.getChild(t.childCount - 1);
          } else {
            g = a.getChild(d + (r ? 1 : -1));
          }
          n.model.change((t) => {
            t.setSelection(t.createRangeIn(g));
          });
        }
        _onArrowKey(t, e) {
          const n = this.editor;
          const i = e.keyCode;
          const o = qc(i, n.locale.contentLanguageDirection);
          const r = this._handleArrowKeys(o, e.shiftKey);
          if (r) {
            e.preventDefault();
            e.stopPropagation();
            t.stop();
          }
        }
        _handleArrowKeys(t, e) {
          const n = this.editor.plugins.get(dq);
          const i = this.editor.model;
          const o = i.document.selection;
          const r = ["right", "down"].includes(t);
          const s = n.getSelectedTableCells(o);
          if (s.length) {
            let n;
            if (e) {
              n = this.editor.plugins.get("TableSelection").getFocusCell();
            } else {
              n = r ? s[s.length - 1] : s[0];
            }
            this._navigateFromCellInDirection(n, t, e);
            return true;
          }
          const a = o.focus.findAncestor("tableCell");
          if (!a) {
            return false;
          }
          if (!o.isCollapsed) {
            if (e) {
              if (o.isBackward == r && !o.containsEntireContent(a)) {
                return false;
              }
            } else {
              const t = o.getSelectedElement();
              if (!t || !i.schema.isObject(t)) {
                return false;
              }
            }
          }
          if (this._isSelectionAtCellEdge(o, a, r)) {
            this._navigateFromCellInDirection(a, t, e);
            return true;
          }
          return false;
        }
        _isSelectionAtCellEdge(t, e, n) {
          const i = this.editor.model;
          const o = this.editor.model.schema;
          const r = n ? t.getLastPosition() : t.getFirstPosition();
          if (!o.getLimitElement(r).is("element", "tableCell")) {
            const t = i.createPositionAt(e, n ? "end" : 0);
            return t.isTouching(r);
          }
          const s = i.createSelection(r);
          i.modifySelection(s, { direction: n ? "forward" : "backward" });
          return r.isEqual(s.focus);
        }
        _navigateFromCellInDirection(t, e, n = false) {
          const i = this.editor.model;
          const o = t.findAncestor("table");
          const r = [...new EU(o, { includeAllSlots: true })];
          const { row: s, column: a } = r[r.length - 1];
          const c = r.find(({ cell: e }) => e == t);
          let { row: l, column: d } = c;
          switch (e) {
            case "left":
              d--;
              break;
            case "up":
              l--;
              break;
            case "right":
              d += c.cellWidth;
              break;
            case "down":
              l += c.cellHeight;
              break;
          }
          const u = l < 0 || l > s;
          const h = d < 0 && l <= 0;
          const m = d > a && l >= s;
          if (u || h || m) {
            i.change((t) => {
              t.setSelection(t.createRangeOn(o));
            });
            return;
          }
          if (d < 0) {
            d = n ? 0 : a;
            l--;
          } else if (d > a) {
            d = n ? a : 0;
            l++;
          }
          const g = r.find((t) => t.row == l && t.column == d).cell;
          const f = ["right", "down"].includes(e);
          const p = this.editor.plugins.get("TableSelection");
          if (n && p.isEnabled) {
            const e = p.getAnchorCell() || t;
            p.setCellSelection(e, g);
          } else {
            const t = i.createPositionAt(g, f ? 0 : "end");
            i.change((e) => {
              e.setSelection(t);
            });
          }
        }
      }
      class _W extends Im {
        constructor(t) {
          super(t);
          this.domEventType = ["mousemove", "mouseleave"];
        }
        onDomEvent(t) {
          this.fire(t.type, t);
        }
      }
      class vW extends Cl {
        static get pluginName() {
          return "TableMouse";
        }
        static get requires() {
          return [uW, dq];
        }
        init() {
          const t = this.editor;
          t.editing.view.addObserver(_W);
          this._enableShiftClickSelection();
          this._enableMouseDragSelection();
        }
        _enableShiftClickSelection() {
          const t = this.editor;
          const e = t.plugins.get(dq);
          let n = false;
          const i = t.plugins.get(uW);
          this.listenTo(t.editing.view.document, "mousedown", (o, r) => {
            const s = t.model.document.selection;
            if (!this.isEnabled || !i.isEnabled) {
              return;
            }
            if (!r.domEvent.shiftKey) {
              return;
            }
            const a =
              i.getAnchorCell() || e.getTableCellsContainingSelection(s)[0];
            if (!a) {
              return;
            }
            const c = this._getModelTableCellFromDomEvent(r);
            if (c && yW(a, c)) {
              n = true;
              i.setCellSelection(a, c);
              r.preventDefault();
            }
          });
          this.listenTo(t.editing.view.document, "mouseup", () => {
            n = false;
          });
          this.listenTo(
            t.editing.view.document,
            "selectionChange",
            (t) => {
              if (n) {
                t.stop();
              }
            },
            { priority: "highest" }
          );
        }
        _enableMouseDragSelection() {
          const t = this.editor;
          let e, n;
          let i = false;
          let o = false;
          const r = t.plugins.get(uW);
          this.listenTo(t.editing.view.document, "mousedown", (t, n) => {
            if (!this.isEnabled || !r.isEnabled) {
              return;
            }
            if (
              n.domEvent.shiftKey ||
              n.domEvent.ctrlKey ||
              n.domEvent.altKey
            ) {
              return;
            }
            e = this._getModelTableCellFromDomEvent(n);
          });
          this.listenTo(t.editing.view.document, "mousemove", (t, s) => {
            if (!s.domEvent.buttons) {
              return;
            }
            if (!e) {
              return;
            }
            const a = this._getModelTableCellFromDomEvent(s);
            if (a && yW(e, a)) {
              n = a;
              if (!i && n != e) {
                i = true;
              }
            }
            if (!i) {
              return;
            }
            o = true;
            r.setCellSelection(e, n);
            s.preventDefault();
          });
          this.listenTo(t.editing.view.document, "mouseup", () => {
            i = false;
            o = false;
            e = null;
            n = null;
          });
          this.listenTo(
            t.editing.view.document,
            "selectionChange",
            (t) => {
              if (o) {
                t.stop();
              }
            },
            { priority: "highest" }
          );
        }
        _getModelTableCellFromDomEvent(t) {
          const e = t.target;
          const n = this.editor.editing.view.createPositionAt(e, 0);
          const i = this.editor.editing.mapper.toModelPosition(n);
          const o = i.parent;
          return o.findAncestor("tableCell", { includeSelf: true });
        }
      }
      function yW(t, e) {
        return t.parent.parent == e.parent.parent;
      }
      var xW = n(4104);
      var EW = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      EW.insert = "head";
      EW.singleton = true;
      var DW = Il()(xW.Z, EW);
      const SW = xW.Z.locals || {};
      class TW extends Cl {
        static get requires() {
          return [$q, rW, uW, vW, CW, hW, qD];
        }
        static get pluginName() {
          return "Table";
        }
      }
      class IW extends vl {
        constructor(t, e, n) {
          super(t);
          this.attributeName = e;
          this._defaultValue = n;
        }
        refresh() {
          const t = this.editor;
          const e = t.model.document.selection;
          const n = e.getFirstPosition().findAncestor("table");
          this.isEnabled = !!n;
          this.value = this._getValue(n);
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = e.document.selection;
          const { value: i, batch: o } = t;
          const r = n.getFirstPosition().findAncestor("table");
          const s = this._getValueToSet(i);
          e.enqueueChange(o, (t) => {
            if (s) {
              t.setAttribute(this.attributeName, s, r);
            } else {
              t.removeAttribute(this.attributeName, r);
            }
          });
        }
        _getValue(t) {
          if (!t) {
            return;
          }
          const e = t.getAttribute(this.attributeName);
          if (e === this._defaultValue) {
            return;
          }
          return e;
        }
        _getValueToSet(t) {
          if (t === this._defaultValue) {
            return;
          }
          return t;
        }
      }
      class MW extends IW {
        constructor(t, e) {
          super(t, "tableWidth", e);
        }
        refresh() {
          this.isEnabled = true;
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = t.table || e.document.selection.getSelectedElement();
          const { tableWidth: i, columnWidths: o } = t;
          e.change((t) => {
            if (i) {
              t.setAttribute(this.attributeName, i, n);
            } else {
              t.removeAttribute(this.attributeName, n);
            }
            if (o) {
              t.setAttribute("columnWidths", o, n);
            } else {
              t.removeAttribute("columnWidths", n);
            }
          });
        }
      }
      class BW extends IW {
        constructor(t, e) {
          super(t, "columnWidths", e);
        }
        refresh() {
          this.isEnabled = true;
        }
        execute(t = {}) {
          const e = this.editor.model;
          const n = t.table || e.document.selection.getSelectedElement();
          const { columnWidths: i } = t;
          e.change((t) => {
            if (i) {
              t.setAttribute(this.attributeName, i, n);
            } else {
              t.removeAttribute(this.attributeName, n);
            }
          });
        }
      }
      const LW = 5;
      const NW = 40;
      const zW = 2;
      function PW(t) {
        const e = new Set();
        for (const n of t.document.differ.getChanges()) {
          let i = null;
          switch (n.type) {
            case "insert":
              i = ["table", "tableRow", "tableCell"].includes(n.name)
                ? n.position
                : null;
              break;
            case "remove":
              i = ["tableRow", "tableCell"].includes(n.name)
                ? n.position
                : null;
              break;
            case "attribute":
              if (n.range.start.nodeAfter) {
                i = ["table", "tableRow", "tableCell"].includes(
                  n.range.start.nodeAfter.name
                )
                  ? n.range.start
                  : null;
              }
              break;
          }
          if (!i) {
            continue;
          }
          const o =
            i.nodeAfter && i.nodeAfter.name === "table"
              ? i.nodeAfter
              : i.findAncestor("table");
          for (const n of t.createRangeOn(o).getItems()) {
            if (
              n.is("element") &&
              n.name === "table" &&
              n.hasAttribute("columnWidths")
            ) {
              e.add(n);
            }
          }
        }
        return e;
      }
      function RW(t, e) {
        return (NW * 100) / OW(t, e);
      }
      function OW(t, e) {
        const n = jW(t, "tbody", e) || jW(t, "thead", e);
        const i = e.editing.view.domConverter.mapViewToDom(n);
        return FW(i);
      }
      function jW(t, e, n) {
        const i = n.editing.mapper.toViewElement(t);
        const o = [...i.getChildren()].find((t) => t.is("element", "table"));
        return [...o.getChildren()].find((t) => t.is("element", e));
      }
      function FW(t) {
        const e = Xa.window.getComputedStyle(t);
        if (e.boxSizing === "border-box") {
          return (
            parseFloat(e.width) -
            parseFloat(e.paddingLeft) -
            parseFloat(e.paddingRight) -
            parseFloat(e.borderLeftWidth) -
            parseFloat(e.borderRightWidth)
          );
        } else {
          return parseFloat(e.width);
        }
      }
      function VW(t, e) {
        const n = e.getCellLocation(t).column;
        const i = t.getAttribute("colspan") || 1;
        return { leftEdge: n, rightEdge: n + i - 1 };
      }
      function HW(t) {
        const e = Math.pow(10, zW);
        const n = parseFloat(t);
        return Math.round(n * e) / e;
      }
      function UW(t, e, n) {
        if (t <= e) {
          return HW(e);
        }
        if (t >= n) {
          return HW(n);
        }
        return HW(t);
      }
      function qW(t, e) {
        return Array(t).fill(e);
      }
      function WW(t) {
        return t
          .map((t) => parseFloat(t))
          .filter((t) => !Number.isNaN(t))
          .reduce((t, e) => t + e, 0);
      }
      function GW(t) {
        t = $W(t);
        const e = WW(t);
        if (e === 100) {
          return t;
        }
        return t
          .map((t) => HW((t * 100) / e))
          .map((t, e, n) => {
            const i = e === n.length - 1;
            if (!i) {
              return t;
            }
            const o = WW(n);
            return HW(t + 100 - o);
          });
      }
      function $W(t) {
        const e = t.filter((t) => t === "auto").length;
        if (e === 0) {
          return t.map((t) => HW(t));
        }
        const n = WW(t);
        const i = Math.max((100 - n) / e, LW);
        return t.map((t) => (t === "auto" ? i : t)).map((t) => HW(t));
      }
      function KW(t, e) {
        let n = [...e.getChildren()].find((t) =>
          t.hasClass("ck-table-column-resizer")
        );
        if (n) {
          return;
        }
        n = t.createUIElement("div", { class: "ck-table-column-resizer" });
        t.insert(t.createPositionAt(e, "end"), n);
      }
      function YW(t) {
        const e = Xa.window.getComputedStyle(t);
        if (e.boxSizing === "border-box") {
          return parseInt(e.width);
        } else {
          return (
            parseFloat(e.width) +
            parseFloat(e.paddingLeft) +
            parseFloat(e.paddingRight) +
            parseFloat(e.borderWidth)
          );
        }
      }
      function ZW(t) {
        return (e) =>
          e.on("element:colgroup", (e, n, i) => {
            const o = n.viewItem;
            if (!i.consumable.test(o, { name: true })) {
              return;
            }
            i.consumable.consume(o, { name: true });
            const r = n.modelCursor.findAncestor("table");
            const s = t.getColumns(r);
            let a = [...Array(s).keys()].map((t) => {
              const e = o.getChild(t);
              if (!e || !e.is("element", "col")) {
                return "auto";
              }
              const n = e.getStyle("width");
              if (!n || !n.endsWith("%")) {
                return "auto";
              }
              return n;
            });
            if (a.includes("auto")) {
              a = GW(a).map((t) => t + "%");
            }
            i.writer.setAttribute("columnWidths", a.join(","), r);
          });
      }
      function QW() {
        return (t) =>
          t.on("attribute:columnWidths:table", (t, e, n) => {
            const i = n.writer;
            const o = e.item;
            const r = [...n.mapper.toViewElement(o).getChildren()].find((t) =>
              t.is("element", "table")
            );
            if (e.attributeNewValue) {
              JW(i, r, e.attributeNewValue);
              i.addClass("ck-table-resized", r);
            } else {
              XW(i, r);
              i.removeClass("ck-table-resized", r);
            }
          });
      }
      function JW(t, e, n) {
        const i = n.split(",");
        let o = [...e.getChildren()].find((t) => t.is("element", "colgroup"));
        if (!o) {
          o = t.createContainerElement("colgroup");
        } else {
          for (const e of [...o.getChildren()]) {
            t.remove(e);
          }
        }
        for (const e of Array(i.length).keys()) {
          const n = t.createEmptyElement("col");
          t.setStyle("width", i[e], n);
          t.insert(t.createPositionAt(o, "end"), n);
        }
        t.insert(t.createPositionAt(e, "start"), o);
      }
      function XW(t, e) {
        const n = [...e.getChildren()].find((t) => t.is("element", "colgroup"));
        t.remove(n);
      }
      class tG extends Cl {
        static get requires() {
          return [$q, dq];
        }
        static get pluginName() {
          return "TableColumnResizeEditing";
        }
        constructor(t) {
          super(t);
          this._isResizingActive = false;
          this.set("_isResizingAllowed", true);
          this._resizingData = null;
          this._domEmitter = Object.create(Ka);
          this._tableUtilsPlugin = t.plugins.get("TableUtils");
          this.on("change:_isResizingAllowed", (e, n, i) => {
            t.editing.view.change((e) => {
              e[i ? "removeClass" : "addClass"](
                "ck-column-resize_disabled",
                t.editing.view.document.getRoot()
              );
            });
          });
        }
        init() {
          this._extendSchema();
          this._registerPostFixer();
          this._registerConverters();
          this._registerResizingListeners();
          this._registerColgroupFixer();
          this._registerResizerInserter();
          const t = this.editor;
          const e = t.plugins.get("TableColumnResize");
          t.commands.add("resizeTableWidth", new MW(t));
          t.commands.add("resizeColumnWidths", new BW(t));
          const n = t.commands.get("resizeTableWidth");
          const i = t.commands.get("resizeColumnWidths");
          this.bind("_isResizingAllowed").to(
            t,
            "isReadOnly",
            e,
            "isEnabled",
            n,
            "isEnabled",
            i,
            "isEnabled",
            (t, e, n, i) => !t && e && n && i
          );
        }
        destroy() {
          this._domEmitter.stopListening();
          super.destroy();
        }
        _extendSchema() {
          this.editor.model.schema.extend("table", {
            allowAttributes: ["tableWidth", "columnWidths"],
          });
        }
        _registerPostFixer() {
          const t = this.editor;
          const e = t.model;
          e.document.registerPostFixer((t) => {
            let i = false;
            for (const o of PW(e)) {
              const e = GW(o.getAttribute("columnWidths").split(","));
              n(e, o, this);
              const r = e.map((t) => \`\${t}%\`).join(",");
              if (o.getAttribute("columnWidths") === r) {
                continue;
              }
              t.setAttribute("columnWidths", r, o);
              i = true;
            }
            return i;
          });
          function n(t, e, n) {
            const o = n._tableUtilsPlugin.getColumns(e);
            const r = o - t.length;
            if (r === 0) {
              return;
            }
            const s = i(n.editor.model.document.differ, e);
            for (const i of s) {
              const r = o - t.length;
              if (r === 0) {
                continue;
              }
              const s = r > 0;
              const a = n._tableUtilsPlugin.getCellLocation(i).column;
              if (s) {
                const i = RW(e, n.editor);
                const o = qW(r, i);
                t.splice(a, 0, ...o);
              } else {
                const e = t.splice(a, Math.abs(r));
                t[a] += WW(e);
              }
            }
          }
          function i(t, e) {
            const n = new Set();
            for (const i of t.getChanges()) {
              if (
                i.type == "insert" &&
                i.position.nodeAfter &&
                i.position.nodeAfter.name == "tableCell" &&
                i.position.nodeAfter.getAncestors().includes(e)
              ) {
                n.add(i.position.nodeAfter);
              } else if (i.type == "remove") {
                const t = i.position.nodeBefore || i.position.nodeAfter;
                if (t.name == "tableCell" && t.getAncestors().includes(e)) {
                  n.add(t);
                }
              }
            }
            return n;
          }
        }
        _registerConverters() {
          const t = this.editor;
          const e = t.conversion;
          const n = {
            view: { name: "figure", key: "style", value: { width: /[\\s\\S]+/ } },
            model: {
              name: "table",
              key: "tableWidth",
              value: (t) => t.getStyle("width"),
            },
          };
          const i = {
            model: { name: "table", key: "tableWidth" },
            view: (t) => ({
              name: "figure",
              key: "style",
              value: { width: t },
            }),
          };
          e.for("upcast").attributeToAttribute(n);
          e.for("upcast").add(ZW(this._tableUtilsPlugin));
          e.for("downcast").attributeToAttribute(i);
          e.for("downcast").add(QW());
        }
        _registerResizingListeners() {
          const t = this.editor.editing.view;
          t.addObserver(_W);
          t.document.on("mousedown", this._onMouseDownHandler.bind(this), {
            priority: "high",
          });
          this._domEmitter.listenTo(
            Xa.window.document,
            "mousemove",
            dS(this._onMouseMoveHandler.bind(this), 50)
          );
          this._domEmitter.listenTo(
            Xa.window.document,
            "mouseup",
            this._onMouseUpHandler.bind(this)
          );
        }
        _onMouseDownHandler(t, e) {
          const n = e.target;
          if (!n.hasClass("ck-table-column-resizer")) {
            return;
          }
          if (!this._isResizingAllowed) {
            return;
          }
          e.preventDefault();
          t.stop();
          const i = this.editor;
          const o = i.editing.mapper.toModelElement(n.findAncestor("figure"));
          const r = c(o, this._tableUtilsPlugin, i);
          const s = n.findAncestor("table");
          const a = i.editing.view;
          if (![...s.getChildren()].find((t) => t.is("element", "colgroup"))) {
            a.change((t) => {
              l(t, r, s);
            });
          }
          this._isResizingActive = true;
          this._resizingData = this._getResizingData(e, r);
          a.change((t) => d(t, s, this._resizingData));
          function c(t, e, n) {
            const i = Array(e.getColumns(t));
            const o = new EU(t);
            for (const t of o) {
              const e = n.editing.mapper.toViewElement(t.cell);
              const o = n.editing.view.domConverter.mapViewToDom(e);
              const r = YW(o);
              if (!i[t.column] || r < i[t.column]) {
                i[t.column] = HW(r);
              }
            }
            return i;
          }
          function l(t, e, n) {
            const i = t.createContainerElement("colgroup");
            for (let n = 0; n < e.length; n++) {
              const o = t.createEmptyElement("col");
              const r = \`\${HW((e[n] / WW(e)) * 100)}%\`;
              t.setStyle("width", r, o);
              t.insert(t.createPositionAt(i, "end"), o);
            }
            t.insert(t.createPositionAt(n, "start"), i);
          }
          function d(t, e, n) {
            const i = n.widths.viewFigureWidth / n.widths.viewFigureParentWidth;
            t.addClass("ck-table-resized", e);
            t.addClass(
              "ck-table-column-resizer__active",
              n.elements.viewResizer
            );
            t.setStyle("width", \`\${HW(i * 100)}%\`, e.findAncestor("figure"));
          }
        }
        _onMouseMoveHandler(t, e) {
          if (!this._isResizingActive) {
            return;
          }
          if (!this._isResizingAllowed) {
            this._onMouseUpHandler();
            return;
          }
          const {
            columnPosition: n,
            flags: { isRightEdge: i, isTableCentered: o, isLtrContent: r },
            elements: { viewFigure: s, viewLeftColumn: a, viewRightColumn: c },
            widths: {
              viewFigureParentWidth: l,
              tableWidth: d,
              leftColumnWidth: u,
              rightColumnWidth: h,
            },
          } = this._resizingData;
          const m = -u + NW;
          const g = i ? l - d : h - NW;
          const f = (r ? 1 : -1) * (i && o ? 2 : 1);
          const p = UW((e.clientX - n) * f, Math.min(m, 0), Math.max(g, 0));
          if (p === 0) {
            return;
          }
          this.editor.editing.view.change((t) => {
            const e = HW(((u + p) * 100) / d);
            t.setStyle("width", \`\${e}%\`, a);
            if (i) {
              const e = HW(((d + p) * 100) / l);
              t.setStyle("width", \`\${e}%\`, s);
            } else {
              const e = HW(((h - p) * 100) / d);
              t.setStyle("width", \`\${e}%\`, c);
            }
          });
        }
        _onMouseUpHandler() {
          if (!this._isResizingActive) {
            return;
          }
          const {
            viewResizer: t,
            modelTable: e,
            viewFigure: n,
            viewColgroup: i,
          } = this._resizingData.elements;
          const o = this.editor;
          const r = o.editing.view;
          const s = e.getAttribute("columnWidths");
          const a = [...i.getChildren()]
            .map((t) => t.getStyle("width"))
            .join(",");
          const c = s !== a;
          const l = e.getAttribute("tableWidth");
          const d = n.getStyle("width");
          const u = l !== d;
          if (c || u) {
            if (this._isResizingAllowed) {
              if (u) {
                o.execute("resizeTableWidth", {
                  table: e,
                  tableWidth: \`\${HW(d)}%\`,
                  columnWidths: a,
                });
              } else {
                o.execute("resizeColumnWidths", { columnWidths: a, table: e });
              }
            } else {
              r.change((t) => {
                if (s) {
                  const e = s.split(",");
                  for (const n of i.getChildren()) {
                    t.setStyle("width", e.shift(), n);
                  }
                } else {
                  t.remove(i);
                }
                if (u) {
                  if (l) {
                    t.setStyle("width", l, n);
                  } else {
                    t.removeStyle("width", n);
                  }
                }
                if (!s && !l) {
                  t.removeClass(
                    "ck-table-resized",
                    [...n.getChildren()].find((t) => t.name === "table")
                  );
                }
              });
            }
          }
          r.change((e) => {
            e.removeClass("ck-table-column-resizer__active", t);
          });
          this._isResizingActive = false;
          this._resizingData = null;
        }
        _getResizingData(t, e) {
          const n = this.editor;
          const i = t.domEvent.clientX;
          const o = t.target;
          const r = o.findAncestor("td") || o.findAncestor("th");
          const s = n.editing.mapper.toModelElement(r);
          const a = s.findAncestor("table");
          const c = VW(s, this._tableUtilsPlugin).rightEdge;
          const l = this._tableUtilsPlugin.getColumns(a) - 1;
          const d = c === l;
          const u = !a.hasAttribute("tableAlignment");
          const h = n.locale.contentLanguageDirection !== "rtl";
          const m = r.findAncestor("table");
          const g = m.findAncestor("figure");
          const f = [...m.getChildren()].find((t) =>
            t.is("element", "colgroup")
          );
          const p = f.getChild(c);
          const b = d ? undefined : f.getChild(c + 1);
          const k = FW(n.editing.view.domConverter.mapViewToDom(g.parent));
          const w = FW(n.editing.view.domConverter.mapViewToDom(g));
          const A = OW(a, n);
          const C = e[c];
          const _ = d ? undefined : e[c + 1];
          return {
            columnPosition: i,
            flags: { isRightEdge: d, isTableCentered: u, isLtrContent: h },
            elements: {
              viewResizer: o,
              modelTable: a,
              viewFigure: g,
              viewColgroup: f,
              viewLeftColumn: p,
              viewRightColumn: b,
            },
            widths: {
              viewFigureParentWidth: k,
              viewFigureWidth: w,
              tableWidth: A,
              leftColumnWidth: C,
              rightColumnWidth: _,
            },
          };
        }
        _registerColgroupFixer() {
          const t = this.editor;
          this.listenTo(
            t.editing.view.document,
            "layoutChanged",
            () => {
              const e = t.editing.view.document.selection
                .getFirstPosition()
                .getAncestors()
                .reverse()
                .find((t) => t.name === "table");
              const n =
                e &&
                [...e.getChildren()].find((t) => t.is("element", "colgroup"));
              const i = t.model.document.selection
                .getFirstPosition()
                .findAncestor("table");
              if (i && i.hasAttribute("columnWidths") && e && !n) {
                t.editing.reconvertItem(i);
              }
            },
            { priority: "low" }
          );
        }
        _registerResizerInserter() {
          const t = this.editor.editing.view;
          t.on(
            "render",
            () => {
              for (const e of t.createRangeIn(t.document.getRoot())) {
                if (!["td", "th"].includes(e.item.name)) {
                  continue;
                }
                t.change((t) => {
                  KW(t, e.item);
                });
              }
            },
            { priority: "lowest" }
          );
        }
      }
      class eG extends vl {
        constructor(t, e, n) {
          super(t);
          this.attributeName = e;
          this._defaultValue = n;
        }
        refresh() {
          const t = this.editor;
          const e = this.editor.plugins.get("TableUtils");
          const n = e.getSelectionAffectedTableCells(
            t.model.document.selection
          );
          this.isEnabled = !!n.length;
          this.value = this._getSingleValue(n);
        }
        execute(t = {}) {
          const { value: e, batch: n } = t;
          const i = this.editor.model;
          const o = this.editor.plugins.get("TableUtils");
          const r = o.getSelectionAffectedTableCells(i.document.selection);
          const s = this._getValueToSet(e);
          i.enqueueChange(n, (t) => {
            if (s) {
              r.forEach((e) => t.setAttribute(this.attributeName, s, e));
            } else {
              r.forEach((e) => t.removeAttribute(this.attributeName, e));
            }
          });
        }
        _getAttribute(t) {
          if (!t) {
            return;
          }
          const e = t.getAttribute(this.attributeName);
          if (e === this._defaultValue) {
            return;
          }
          return e;
        }
        _getValueToSet(t) {
          if (t === this._defaultValue) {
            return;
          }
          return t;
        }
        _getSingleValue(t) {
          const e = this._getAttribute(t[0]);
          const n = t.every((t) => this._getAttribute(t) === e);
          return n ? e : undefined;
        }
      }
      function nG(t) {
        if (!t || !it(t)) {
          return t;
        }
        const { top: e, right: n, bottom: i, left: o } = t;
        if (e == n && n == i && i == o) {
          return e;
        }
      }
      function iG(t, e) {
        const n = parseFloat(t);
        if (Number.isNaN(n)) {
          return t;
        }
        if (String(n) !== String(t)) {
          return t;
        }
        return \`\${n}\${e}\`;
      }
      function oG(t, e = {}) {
        const n = Object.assign(
          {
            borderStyle: "none",
            borderWidth: "",
            borderColor: "",
            backgroundColor: "",
            width: "",
            height: "",
          },
          t
        );
        if (e.includeAlignmentProperty && !n.alignment) {
          n.alignment = "center";
        }
        if (e.includePaddingProperty && !n.padding) {
          n.padding = "";
        }
        if (e.includeVerticalAlignmentProperty && !n.verticalAlignment) {
          n.verticalAlignment = "middle";
        }
        if (e.includeHorizontalAlignmentProperty && !n.horizontalAlignment) {
          n.horizontalAlignment = e.isRightToLeftContent ? "right" : "left";
        }
        return n;
      }
      class rG extends eG {
        constructor(t, e) {
          super(t, "tableCellWidth", e);
        }
        _getValueToSet(t) {
          t = iG(t, "px");
          if (t === this._defaultValue) {
            return;
          }
          return t;
        }
      }
      class sG extends Cl {
        static get pluginName() {
          return "TableCellWidthEditing";
        }
        static get requires() {
          return [$q];
        }
        init() {
          const t = this.editor;
          const e = oG(
            t.config.get("table.tableCellProperties.defaultProperties")
          );
          kU(t.model.schema, t.conversion, {
            modelAttribute: "tableCellWidth",
            styleName: "width",
            defaultValue: e.width,
          });
          t.commands.add("tableCellWidth", new rG(t, e.width));
        }
      }
      var aG = n(728);
      var cG = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      cG.insert = "head";
      cG.singleton = true;
      var lG = Il()(aG.Z, cG);
      const dG = aG.Z.locals || {};
      class uG extends Cl {
        static get requires() {
          return [tG, sG];
        }
        static get pluginName() {
          return "TableColumnResize";
        }
      }
      class hG extends IW {
        constructor(t, e) {
          super(t, "tableBackgroundColor", e);
        }
      }
      class mG extends IW {
        constructor(t, e) {
          super(t, "tableBorderColor", e);
        }
        _getValue(t) {
          if (!t) {
            return;
          }
          const e = nG(t.getAttribute(this.attributeName));
          if (e === this._defaultValue) {
            return;
          }
          return e;
        }
      }
      class gG extends IW {
        constructor(t, e) {
          super(t, "tableBorderStyle", e);
        }
        _getValue(t) {
          if (!t) {
            return;
          }
          const e = nG(t.getAttribute(this.attributeName));
          if (e === this._defaultValue) {
            return;
          }
          return e;
        }
      }
      class fG extends IW {
        constructor(t, e) {
          super(t, "tableBorderWidth", e);
        }
        _getValue(t) {
          if (!t) {
            return;
          }
          const e = nG(t.getAttribute(this.attributeName));
          if (e === this._defaultValue) {
            return;
          }
          return e;
        }
        _getValueToSet(t) {
          t = iG(t, "px");
          if (t === this._defaultValue) {
            return;
          }
          return t;
        }
      }
      class pG extends IW {
        constructor(t, e) {
          super(t, "tableWidth", e);
        }
        _getValueToSet(t) {
          t = iG(t, "px");
          if (t === this._defaultValue) {
            return;
          }
          return t;
        }
      }
      class bG extends IW {
        constructor(t, e) {
          super(t, "tableHeight", e);
        }
        _getValueToSet(t) {
          t = iG(t, "px");
          if (t === this._defaultValue) {
            return null;
          }
          return t;
        }
      }
      class kG extends IW {
        constructor(t, e) {
          super(t, "tableAlignment", e);
        }
      }
      const wG = /^(left|center|right)$/;
      const AG = /^(left|none|right)$/;
      class CG extends Cl {
        static get pluginName() {
          return "TablePropertiesEditing";
        }
        static get requires() {
          return [$q];
        }
        init() {
          const t = this.editor;
          const e = t.model.schema;
          const n = t.conversion;
          t.config.define("table.tableProperties.defaultProperties", {});
          const i = oG(
            t.config.get("table.tableProperties.defaultProperties"),
            { includeAlignmentProperty: true }
          );
          t.data.addStyleProcessorRules(bA);
          _G(e, n, {
            color: i.borderColor,
            style: i.borderStyle,
            width: i.borderWidth,
          });
          t.commands.add("tableBorderColor", new mG(t, i.borderColor));
          t.commands.add("tableBorderStyle", new gG(t, i.borderStyle));
          t.commands.add("tableBorderWidth", new fG(t, i.borderWidth));
          vG(e, n, i.alignment);
          t.commands.add("tableAlignment", new kG(t, i.alignment));
          xG(e, n, {
            modelAttribute: "tableWidth",
            styleName: "width",
            defaultValue: i.width,
          });
          t.commands.add("tableWidth", new pG(t, i.width));
          xG(e, n, {
            modelAttribute: "tableHeight",
            styleName: "height",
            defaultValue: i.height,
          });
          t.commands.add("tableHeight", new bG(t, i.height));
          t.data.addStyleProcessorRules(mA);
          yG(e, n, {
            modelAttribute: "tableBackgroundColor",
            styleName: "background-color",
            defaultValue: i.backgroundColor,
          });
          t.commands.add("tableBackgroundColor", new hG(t, i.backgroundColor));
        }
      }
      function _G(t, e, n) {
        const i = {
          width: "tableBorderWidth",
          color: "tableBorderColor",
          style: "tableBorderStyle",
        };
        t.extend("table", { allowAttributes: Object.values(i) });
        uU(e, "table", i, n);
        mU(e, { modelAttribute: i.color, styleName: "border-color" });
        mU(e, { modelAttribute: i.style, styleName: "border-style" });
        mU(e, { modelAttribute: i.width, styleName: "border-width" });
      }
      function vG(t, e, n) {
        t.extend("table", { allowAttributes: ["tableAlignment"] });
        e.for("downcast").attributeToAttribute({
          model: { name: "table", key: "tableAlignment" },
          view: (t) => ({
            key: "style",
            value: { float: t === "center" ? "none" : t },
          }),
          converterPriority: "high",
        });
        e.for("upcast")
          .attributeToAttribute({
            view: { name: /^(table|figure)$/, styles: { float: AG } },
            model: {
              key: "tableAlignment",
              value: (t) => {
                let e = t.getStyle("float");
                if (e === "none") {
                  e = "center";
                }
                return e === n ? null : e;
              },
            },
          })
          .attributeToAttribute({
            view: { attributes: { align: wG } },
            model: {
              name: "table",
              key: "tableAlignment",
              value: (t) => {
                const e = t.getAttribute("align");
                return e === n ? null : e;
              },
            },
          });
      }
      function yG(t, e, n) {
        const { modelAttribute: i } = n;
        t.extend("table", { allowAttributes: [i] });
        dU(e, { viewElement: "table", ...n });
        mU(e, n);
      }
      function xG(t, e, n) {
        const { modelAttribute: i } = n;
        t.extend("table", { allowAttributes: [i] });
        dU(e, {
          viewElement: /^(table|figure)$/,
          shouldUpcast: (t) =>
            !(t.name == "table" && t.parent.name == "figure"),
          ...n,
        });
        hU(e, { modelElement: "table", ...n });
      }
      var EG = n(4082);
      var DG = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      DG.insert = "head";
      DG.singleton = true;
      var SG = Il()(EG.Z, DG);
      const TG = EG.Z.locals || {};
      class IG extends pC {
        constructor(t, e) {
          super(t);
          this.set("value", "");
          this.set("isReadOnly", false);
          this.set("isFocused", false);
          this.set("isEmpty", true);
          this.options = e;
          this.focusTracker = new al();
          this._focusables = new PA();
          this.dropdownView = this._createDropdownView();
          this.inputView = this._createInputTextView();
          this.keystrokes = new cl();
          this._stillTyping = false;
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this.setTemplate({
            tag: "div",
            attributes: { class: ["ck", "ck-input-color"] },
            children: [this.dropdownView, this.inputView],
          });
          this.on("change:value", (t, e, n) => this._setInputValue(n));
        }
        render() {
          super.render();
          this.keystrokes.listenTo(this.dropdownView.panelView.element);
        }
        focus() {
          this.inputView.focus();
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        _createDropdownView() {
          const t = this.locale;
          const e = t.t;
          const n = this.bindTemplate;
          const i = this._createColorGrid(t);
          const o = Uv(t);
          const r = new pC();
          const s = this._createRemoveColorButton();
          r.setTemplate({
            tag: "span",
            attributes: {
              class: ["ck", "ck-input-color__button__preview"],
              style: { backgroundColor: n.to("value") },
            },
            children: [
              {
                tag: "span",
                attributes: {
                  class: [
                    "ck",
                    "ck-input-color__button__preview__no-color-indicator",
                    n.if("value", "ck-hidden", (t) => t != ""),
                  ],
                },
              },
            ],
          });
          o.buttonView.extendTemplate({
            attributes: { class: "ck-input-color__button" },
          });
          o.buttonView.children.add(r);
          o.buttonView.label = e("Color picker");
          o.buttonView.tooltip = true;
          o.panelPosition = t.uiLanguageDirection === "rtl" ? "se" : "sw";
          o.panelView.children.add(s);
          o.panelView.children.add(i);
          o.bind("isEnabled").to(this, "isReadOnly", (t) => !t);
          this._focusables.add(s);
          this._focusables.add(i);
          this.focusTracker.add(s.element);
          this.focusTracker.add(i.element);
          return o;
        }
        _createInputTextView() {
          const t = this.locale;
          const e = new yy(t);
          e.extendTemplate({ on: { blur: e.bindTemplate.to("blur") } });
          e.value = this.value;
          e.bind("isReadOnly", "hasError").to(this);
          this.bind("isFocused", "isEmpty").to(e);
          e.on("input", () => {
            const t = e.element.value;
            const n = this.options.colorDefinitions.find((e) => t === e.label);
            this._stillTyping = true;
            this.value = (n && n.color) || t;
          });
          e.on("blur", () => {
            this._stillTyping = false;
            this._setInputValue(e.element.value);
          });
          e.delegate("input").to(this);
          return e;
        }
        _createRemoveColorButton() {
          const t = this.locale;
          const e = t.t;
          const n = new R_(t);
          const i = this.options.defaultColorValue || "";
          const o = i ? e("Restore default") : e("Remove color");
          n.class = "ck-input-color__remove-color";
          n.withText = true;
          n.icon = __.eraser;
          n.label = o;
          n.on("execute", () => {
            this.value = i;
            this.dropdownView.isOpen = false;
            this.fire("input");
          });
          return n;
        }
        _createColorGrid(t) {
          const e = new J_(t, {
            colorDefinitions: this.options.colorDefinitions,
            columns: this.options.columns,
          });
          e.on("execute", (t, e) => {
            this.value = e.value;
            this.dropdownView.isOpen = false;
            this.fire("input");
          });
          e.bind("selectedColor").to(this, "value");
          return e;
        }
        _setInputValue(t) {
          if (!this._stillTyping) {
            const e = MG(t);
            const n = this.options.colorDefinitions.find(
              (t) => e === MG(t.color)
            );
            if (n) {
              this.inputView.value = n.label;
            } else {
              this.inputView.value = t || "";
            }
          }
        }
      }
      function MG(t) {
        return t
          .replace(/([(,])\\s+/g, "$1")
          .replace(/^\\s+|\\s+(?=[),\\s]|$)/g, "")
          .replace(/,|\\s/g, " ");
      }
      const BG = (t) => t === "";
      function LG(t) {
        return {
          none: t("None"),
          solid: t("Solid"),
          dotted: t("Dotted"),
          dashed: t("Dashed"),
          double: t("Double"),
          groove: t("Groove"),
          ridge: t("Ridge"),
          inset: t("Inset"),
          outset: t("Outset"),
        };
      }
      function NG(t) {
        return t(
          'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".'
        );
      }
      function zG(t) {
        return t('The value is invalid. Try "10px" or "2em" or simply "2".');
      }
      function PG(t) {
        t = t.trim();
        return BG(t) || $w(t);
      }
      function RG(t) {
        t = t.trim();
        return BG(t) || UG(t) || Qw(t) || Xw(t);
      }
      function OG(t) {
        t = t.trim();
        return BG(t) || UG(t) || Qw(t);
      }
      function jG(t, e) {
        const n = new rl();
        const i = LG(t.t);
        for (const o in i) {
          const r = {
            type: "button",
            model: new Py({
              _borderStyleValue: o,
              label: i[o],
              withText: true,
            }),
          };
          if (o === "none") {
            r.model.bind("isOn").to(t, "borderStyle", (t) => {
              if (e === "none") {
                return !t;
              }
              return t === o;
            });
          } else {
            r.model.bind("isOn").to(t, "borderStyle", (t) => t === o);
          }
          n.add(r);
        }
        return n;
      }
      function FG(t) {
        const {
          view: e,
          icons: n,
          toolbar: i,
          labels: o,
          propertyName: r,
          nameToValue: s,
          defaultValue: a,
        } = t;
        for (const t in o) {
          const c = new R_(e.locale);
          c.set({ label: o[t], icon: n[t], tooltip: o[t] });
          const l = s ? s(t) : t;
          c.bind("isOn").to(e, r, (t) => {
            let e = t;
            if (t === "" && a) {
              e = a;
            }
            return l === e;
          });
          c.on("execute", () => {
            e[r] = l;
          });
          i.items.add(c);
        }
      }
      const VG = [
        { color: "hsl(0, 0%, 0%)", label: "Black" },
        { color: "hsl(0, 0%, 30%)", label: "Dim grey" },
        { color: "hsl(0, 0%, 60%)", label: "Grey" },
        { color: "hsl(0, 0%, 90%)", label: "Light grey" },
        { color: "hsl(0, 0%, 100%)", label: "White", hasBorder: true },
        { color: "hsl(0, 75%, 60%)", label: "Red" },
        { color: "hsl(30, 75%, 60%)", label: "Orange" },
        { color: "hsl(60, 75%, 60%)", label: "Yellow" },
        { color: "hsl(90, 75%, 60%)", label: "Light green" },
        { color: "hsl(120, 75%, 60%)", label: "Green" },
        { color: "hsl(150, 75%, 60%)", label: "Aquamarine" },
        { color: "hsl(180, 75%, 60%)", label: "Turquoise" },
        { color: "hsl(210, 75%, 60%)", label: "Light blue" },
        { color: "hsl(240, 75%, 60%)", label: "Blue" },
        { color: "hsl(270, 75%, 60%)", label: "Purple" },
      ];
      function HG(t) {
        return (e, n, i) => {
          const o = new IG(e.locale, {
            colorDefinitions: qG(t.colorConfig),
            columns: t.columns,
            defaultColorValue: t.defaultColorValue,
          });
          o.inputView.set({ id: n, ariaDescribedById: i });
          o.bind("isReadOnly").to(e, "isEnabled", (t) => !t);
          o.bind("hasError").to(e, "errorText", (t) => !!t);
          o.on("input", () => {
            e.errorText = null;
          });
          e.bind("isEmpty", "isFocused").to(o);
          return o;
        };
      }
      function UG(t) {
        const e = parseFloat(t);
        return !Number.isNaN(e) && t === String(e);
      }
      function qG(t) {
        return t.map((t) => ({
          color: t.model,
          label: t.label,
          options: { hasBorder: t.hasBorder },
        }));
      }
      var WG = n(9865);
      var GG = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      GG.insert = "head";
      GG.singleton = true;
      var $G = Il()(WG.Z, GG);
      const KG = WG.Z.locals || {};
      class YG extends pC {
        constructor(t, e = {}) {
          super(t);
          const n = this.bindTemplate;
          this.set("class", e.class || null);
          this.children = this.createCollection();
          if (e.children) {
            e.children.forEach((t) => this.children.add(t));
          }
          this.set("_role", null);
          this.set("_ariaLabelledBy", null);
          if (e.labelView) {
            this.set({ _role: "group", _ariaLabelledBy: e.labelView.id });
          }
          this.setTemplate({
            tag: "div",
            attributes: {
              class: ["ck", "ck-form__row", n.to("class")],
              role: n.to("_role"),
              "aria-labelledby": n.to("_ariaLabelledBy"),
            },
            children: this.children,
          });
        }
      }
      var ZG = n(4880);
      var QG = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      QG.insert = "head";
      QG.singleton = true;
      var JG = Il()(ZG.Z, QG);
      const XG = ZG.Z.locals || {};
      var t$ = n(198);
      var e$ = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      e$.insert = "head";
      e$.singleton = true;
      var n$ = Il()(t$.Z, e$);
      const i$ = t$.Z.locals || {};
      var o$ = n(9221);
      var r$ = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      r$.insert = "head";
      r$.singleton = true;
      var s$ = Il()(o$.Z, r$);
      const a$ = o$.Z.locals || {};
      const c$ = {
        left: __.objectLeft,
        center: __.objectCenter,
        right: __.objectRight,
      };
      class l$ extends pC {
        constructor(t, e) {
          super(t);
          this.set({
            borderStyle: "",
            borderWidth: "",
            borderColor: "",
            backgroundColor: "",
            width: "",
            height: "",
            alignment: "",
          });
          this.options = e;
          const {
            borderStyleDropdown: n,
            borderWidthInput: i,
            borderColorInput: o,
            borderRowLabel: r,
          } = this._createBorderFields();
          const { backgroundRowLabel: s, backgroundInput: a } =
            this._createBackgroundFields();
          const {
            widthInput: c,
            operatorLabel: l,
            heightInput: d,
            dimensionsLabel: u,
          } = this._createDimensionFields();
          const { alignmentToolbar: h, alignmentLabel: m } =
            this._createAlignmentFields();
          this.focusTracker = new al();
          this.keystrokes = new cl();
          this.children = this.createCollection();
          this.borderStyleDropdown = n;
          this.borderWidthInput = i;
          this.borderColorInput = o;
          this.backgroundInput = a;
          this.widthInput = c;
          this.heightInput = d;
          this.alignmentToolbar = h;
          const { saveButtonView: g, cancelButtonView: f } =
            this._createActionButtons();
          this.saveButtonView = g;
          this.cancelButtonView = f;
          this._focusables = new PA();
          this._focusCycler = new hv({
            focusables: this._focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: { focusPrevious: "shift + tab", focusNext: "tab" },
          });
          this.children.add(new by(t, { label: this.t("Table properties") }));
          this.children.add(
            new YG(t, {
              labelView: r,
              children: [r, n, o, i],
              class: "ck-table-form__border-row",
            })
          );
          this.children.add(
            new YG(t, {
              labelView: s,
              children: [s, a],
              class: "ck-table-form__background-row",
            })
          );
          this.children.add(
            new YG(t, {
              children: [
                new YG(t, {
                  labelView: u,
                  children: [u, c, l, d],
                  class: "ck-table-form__dimensions-row",
                }),
                new YG(t, {
                  labelView: m,
                  children: [m, h],
                  class: "ck-table-properties-form__alignment-row",
                }),
              ],
            })
          );
          this.children.add(
            new YG(t, {
              children: [this.saveButtonView, this.cancelButtonView],
              class: "ck-table-form__action-row",
            })
          );
          this.setTemplate({
            tag: "form",
            attributes: {
              class: [
                "ck",
                "ck-form",
                "ck-table-form",
                "ck-table-properties-form",
              ],
              tabindex: "-1",
            },
            children: this.children,
          });
        }
        render() {
          super.render();
          x_({ view: this });
          [
            this.borderStyleDropdown,
            this.borderColorInput,
            this.borderColorInput.fieldView.dropdownView.buttonView,
            this.borderWidthInput,
            this.backgroundInput,
            this.backgroundInput.fieldView.dropdownView.buttonView,
            this.widthInput,
            this.heightInput,
            this.alignmentToolbar,
            this.saveButtonView,
            this.cancelButtonView,
          ].forEach((t) => {
            this._focusables.add(t);
            this.focusTracker.add(t.element);
          });
          this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy();
          this.focusTracker.destroy();
          this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        _createBorderFields() {
          const t = this.options.defaultTableProperties;
          const e = {
            style: t.borderStyle,
            width: t.borderWidth,
            color: t.borderColor,
          };
          const n = HG({
            colorConfig: this.options.borderColors,
            columns: 5,
            defaultColorValue: e.color,
          });
          const i = this.locale;
          const o = this.t;
          const r = new ly(i);
          r.text = o("Border");
          const s = LG(this.t);
          const a = new My(i, Ny);
          a.set({ label: o("Style"), class: "ck-table-form__border-style" });
          a.fieldView.buttonView.set({
            isOn: false,
            withText: true,
            tooltip: o("Style"),
          });
          a.fieldView.buttonView
            .bind("label")
            .to(this, "borderStyle", (t) => s[t ? t : "none"]);
          a.fieldView.on("execute", (t) => {
            this.borderStyle = t.source._borderStyleValue;
          });
          a.bind("isEmpty").to(this, "borderStyle", (t) => !t);
          Wv(a.fieldView, jG(this, e.style));
          const c = new My(i, By);
          c.set({ label: o("Width"), class: "ck-table-form__border-width" });
          c.fieldView.bind("value").to(this, "borderWidth");
          c.bind("isEnabled").to(this, "borderStyle", d$);
          c.fieldView.on("input", () => {
            this.borderWidth = c.fieldView.element.value;
          });
          const l = new My(i, n);
          l.set({ label: o("Color"), class: "ck-table-form__border-color" });
          l.fieldView.bind("value").to(this, "borderColor");
          l.bind("isEnabled").to(this, "borderStyle", d$);
          l.fieldView.on("input", () => {
            this.borderColor = l.fieldView.value;
          });
          this.on("change:borderStyle", (t, n, i, o) => {
            if (!d$(i)) {
              this.borderColor = "";
              this.borderWidth = "";
            }
            if (!d$(o)) {
              this.borderColor = e.color;
              this.borderWidth = e.width;
            }
          });
          return {
            borderRowLabel: r,
            borderStyleDropdown: a,
            borderColorInput: l,
            borderWidthInput: c,
          };
        }
        _createBackgroundFields() {
          const t = this.locale;
          const e = this.t;
          const n = new ly(t);
          n.text = e("Background");
          const i = HG({
            colorConfig: this.options.backgroundColors,
            columns: 5,
            defaultColorValue:
              this.options.defaultTableProperties.backgroundColor,
          });
          const o = new My(t, i);
          o.set({
            label: e("Color"),
            class: "ck-table-properties-form__background",
          });
          o.fieldView.bind("value").to(this, "backgroundColor");
          o.fieldView.on("input", () => {
            this.backgroundColor = o.fieldView.value;
          });
          return { backgroundRowLabel: n, backgroundInput: o };
        }
        _createDimensionFields() {
          const t = this.locale;
          const e = this.t;
          const n = new ly(t);
          n.text = e("Dimensions");
          const i = new My(t, By);
          i.set({
            label: e("Width"),
            class: "ck-table-form__dimensions-row__width",
          });
          i.fieldView.bind("value").to(this, "width");
          i.fieldView.on("input", () => {
            this.width = i.fieldView.element.value;
          });
          const o = new pC(t);
          o.setTemplate({
            tag: "span",
            attributes: { class: ["ck-table-form__dimension-operator"] },
            children: [{ text: "\xD7" }],
          });
          const r = new My(t, By);
          r.set({
            label: e("Height"),
            class: "ck-table-form__dimensions-row__height",
          });
          r.fieldView.bind("value").to(this, "height");
          r.fieldView.on("input", () => {
            this.height = r.fieldView.element.value;
          });
          return {
            dimensionsLabel: n,
            widthInput: i,
            operatorLabel: o,
            heightInput: r,
          };
        }
        _createAlignmentFields() {
          const t = this.locale;
          const e = this.t;
          const n = new ly(t);
          n.text = e("Alignment");
          const i = new yv(t);
          i.set({ isCompact: true, ariaLabel: e("Table alignment toolbar") });
          FG({
            view: this,
            icons: c$,
            toolbar: i,
            labels: this._alignmentLabels,
            propertyName: "alignment",
            defaultValue: this.options.defaultTableProperties.alignment,
          });
          return { alignmentLabel: n, alignmentToolbar: i };
        }
        _createActionButtons() {
          const t = this.locale;
          const e = this.t;
          const n = new R_(t);
          const i = new R_(t);
          const o = [
            this.borderWidthInput,
            this.borderColorInput,
            this.backgroundInput,
            this.widthInput,
            this.heightInput,
          ];
          n.set({
            label: e("Save"),
            icon: __.check,
            class: "ck-button-save",
            type: "submit",
            withText: true,
          });
          n.bind("isEnabled").toMany(o, "errorText", (...t) =>
            t.every((t) => !t)
          );
          i.set({
            label: e("Cancel"),
            icon: __.cancel,
            class: "ck-button-cancel",
            withText: true,
          });
          i.delegate("execute").to(this, "cancel");
          return { saveButtonView: n, cancelButtonView: i };
        }
        get _alignmentLabels() {
          const t = this.locale;
          const e = this.t;
          const n = e("Align table to the left");
          const i = e("Center table");
          const o = e("Align table to the right");
          if (t.uiLanguageDirection === "rtl") {
            return { right: o, center: i, left: n };
          } else {
            return { left: n, center: i, right: o };
          }
        }
      }
      function d$(t) {
        return t !== "none";
      }
      const u$ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>';
      function h$(t) {
        const e = t.getSelectedElement();
        if (e && g$(e)) {
          return e;
        }
        return null;
      }
      function m$(t) {
        const e = t.getFirstPosition();
        if (!e) {
          return null;
        }
        let n = e.parent;
        while (n) {
          if (n.is("element") && g$(n)) {
            return n;
          }
          n = n.parent;
        }
        return null;
      }
      function g$(t) {
        return !!t.getCustomProperty("table") && iD(t);
      }
      const f$ = vC.defaultPositions;
      const p$ = [
        f$.northArrowSouth,
        f$.northArrowSouthWest,
        f$.northArrowSouthEast,
        f$.southArrowNorth,
        f$.southArrowNorthWest,
        f$.southArrowNorthEast,
        f$.viewportStickyNorth,
      ];
      function b$(t, e) {
        const n = t.plugins.get("ContextualBalloon");
        if (m$(t.editing.view.document.selection)) {
          let i;
          if (e === "cell") {
            i = w$(t);
          } else {
            i = k$(t);
          }
          n.updatePosition(i);
        }
      }
      function k$(t) {
        const e = t.model.document.selection.getFirstPosition();
        const n = e.findAncestor("table");
        const i = t.editing.mapper.toViewElement(n);
        return {
          target: t.editing.view.domConverter.mapViewToDom(i),
          positions: p$,
        };
      }
      function w$(t) {
        const e = t.editing.mapper;
        const n = t.editing.view.domConverter;
        const i = t.model.document.selection;
        if (i.rangeCount > 1) {
          return { target: () => C$(i.getRanges(), t), positions: p$ };
        }
        const o = A$(i.getFirstPosition());
        const r = e.toViewElement(o);
        return { target: n.mapViewToDom(r), positions: p$ };
      }
      function A$(t) {
        const e = t.nodeAfter && t.nodeAfter.is("element", "tableCell");
        return e ? t.nodeAfter : t.findAncestor("tableCell");
      }
      function C$(t, e) {
        const n = e.editing.mapper;
        const i = e.editing.view.domConverter;
        const o = Array.from(t).map((t) => {
          const e = A$(t.start);
          const o = n.toViewElement(e);
          return new sc(i.mapViewToDom(o));
        });
        return sc.getBoundingRect(o);
      }
      const _$ = 500;
      const v$ = {
        borderStyle: "tableBorderStyle",
        borderColor: "tableBorderColor",
        borderWidth: "tableBorderWidth",
        backgroundColor: "tableBackgroundColor",
        width: "tableWidth",
        height: "tableHeight",
        alignment: "tableAlignment",
      };
      class y$ extends Cl {
        static get requires() {
          return [Ky];
        }
        static get pluginName() {
          return "TablePropertiesUI";
        }
        constructor(t) {
          super(t);
          t.config.define("table.tableProperties", {
            borderColors: VG,
            backgroundColors: VG,
          });
        }
        init() {
          const t = this.editor;
          const e = t.t;
          this._defaultTableProperties = oG(
            t.config.get("table.tableProperties.defaultProperties"),
            { includeAlignmentProperty: true }
          );
          this._balloon = t.plugins.get(Ky);
          this.view = this._createPropertiesView();
          this._undoStepBatch = null;
          t.ui.componentFactory.add("tableProperties", (n) => {
            const i = new R_(n);
            i.set({ label: e("Table properties"), icon: u$, tooltip: true });
            this.listenTo(i, "execute", () => this._showView());
            const o = Object.values(v$).map((e) => t.commands.get(e));
            i.bind("isEnabled").toMany(o, "isEnabled", (...t) =>
              t.some((t) => t)
            );
            return i;
          });
        }
        destroy() {
          super.destroy();
          this.view.destroy();
        }
        _createPropertiesView() {
          const t = this.editor;
          const e = t.config.get("table.tableProperties");
          const n = q_(e.borderColors);
          const i = U_(t.locale, n);
          const o = q_(e.backgroundColors);
          const r = U_(t.locale, o);
          const s = new l$(t.locale, {
            borderColors: i,
            backgroundColors: r,
            defaultTableProperties: this._defaultTableProperties,
          });
          const a = t.t;
          s.render();
          this.listenTo(s, "submit", () => {
            this._hideView();
          });
          this.listenTo(s, "cancel", () => {
            if (this._undoStepBatch.operations.length) {
              t.execute("undo", this._undoStepBatch);
            }
            this._hideView();
          });
          s.keystrokes.set("Esc", (t, e) => {
            this._hideView();
            e();
          });
          v_({
            emitter: s,
            activator: () => this._isViewInBalloon,
            contextElements: [this._balloon.view.element],
            callback: () => this._hideView(),
          });
          const c = NG(a);
          const l = zG(a);
          s.on(
            "change:borderStyle",
            this._getPropertyChangeCallback(
              "tableBorderStyle",
              this._defaultTableProperties.borderStyle
            )
          );
          s.on(
            "change:borderColor",
            this._getValidatedPropertyChangeCallback({
              viewField: s.borderColorInput,
              commandName: "tableBorderColor",
              errorText: c,
              validator: PG,
              defaultValue: this._defaultTableProperties.borderColor,
            })
          );
          s.on(
            "change:borderWidth",
            this._getValidatedPropertyChangeCallback({
              viewField: s.borderWidthInput,
              commandName: "tableBorderWidth",
              errorText: l,
              validator: OG,
              defaultValue: this._defaultTableProperties.borderWidth,
            })
          );
          s.on(
            "change:backgroundColor",
            this._getValidatedPropertyChangeCallback({
              viewField: s.backgroundInput,
              commandName: "tableBackgroundColor",
              errorText: c,
              validator: PG,
              defaultValue: this._defaultTableProperties.backgroundColor,
            })
          );
          s.on(
            "change:width",
            this._getValidatedPropertyChangeCallback({
              viewField: s.widthInput,
              commandName: "tableWidth",
              errorText: l,
              validator: RG,
              defaultValue: this._defaultTableProperties.width,
            })
          );
          s.on(
            "change:height",
            this._getValidatedPropertyChangeCallback({
              viewField: s.heightInput,
              commandName: "tableHeight",
              errorText: l,
              validator: RG,
              defaultValue: this._defaultTableProperties.height,
            })
          );
          s.on(
            "change:alignment",
            this._getPropertyChangeCallback(
              "tableAlignment",
              this._defaultTableProperties.alignment
            )
          );
          return s;
        }
        _fillViewFormFromCommandValues() {
          const t = this.editor.commands;
          const e = t.get("tableBorderStyle");
          Object.entries(v$)
            .map(([e, n]) => {
              const i = this._defaultTableProperties[e] || "";
              return [e, t.get(n).value || i];
            })
            .forEach(([t, n]) => {
              if (
                (t === "borderColor" || t === "borderWidth") &&
                e.value === "none"
              ) {
                return;
              }
              this.view.set(t, n);
            });
        }
        _showView() {
          const t = this.editor;
          this.listenTo(t.ui, "update", () => {
            this._updateView();
          });
          this._fillViewFormFromCommandValues();
          this._balloon.add({ view: this.view, position: k$(t) });
          this._undoStepBatch = t.model.createBatch();
          this.view.focus();
        }
        _hideView() {
          const t = this.editor;
          this.stopListening(t.ui, "update");
          this.view.saveButtonView.focus();
          this._balloon.remove(this.view);
          this.editor.editing.view.focus();
        }
        _updateView() {
          const t = this.editor;
          const e = t.editing.view.document;
          if (!m$(e.selection)) {
            this._hideView();
          } else if (this._isViewVisible) {
            b$(t, "table");
          }
        }
        get _isViewVisible() {
          return this._balloon.visibleView === this.view;
        }
        get _isViewInBalloon() {
          return this._balloon.hasView(this.view);
        }
        _getPropertyChangeCallback(t, e) {
          return (n, i, o, r) => {
            if (!r && e === o) {
              return;
            }
            this.editor.execute(t, { value: o, batch: this._undoStepBatch });
          };
        }
        _getValidatedPropertyChangeCallback(t) {
          const {
            commandName: e,
            viewField: n,
            validator: i,
            errorText: o,
            defaultValue: r,
          } = t;
          const s = Qm(() => {
            n.errorText = o;
          }, _$);
          return (t, o, a, c) => {
            s.cancel();
            if (!c && r === a) {
              return;
            }
            if (i(a)) {
              this.editor.execute(e, { value: a, batch: this._undoStepBatch });
              n.errorText = null;
            } else {
              s();
            }
          };
        }
      }
      class x$ extends Cl {
        static get pluginName() {
          return "TableProperties";
        }
        static get requires() {
          return [CG, y$];
        }
      }
      class E$ extends Cl {
        static get requires() {
          return [$D];
        }
        static get pluginName() {
          return "TableToolbar";
        }
        afterInit() {
          const t = this.editor;
          const e = t.t;
          const n = t.plugins.get($D);
          const i = t.config.get("table.contentToolbar");
          const o = t.config.get("table.tableToolbar");
          if (i) {
            n.register("tableContent", {
              ariaLabel: e("Table toolbar"),
              items: i,
              getRelatedElement: m$,
            });
          }
          if (o) {
            n.register("table", {
              ariaLabel: e("Table toolbar"),
              items: o,
              getRelatedElement: h$,
            });
          }
        }
      }
      const D$ = "todoListChecked";
      class S$ extends vl {
        constructor(t) {
          super(t);
          this._selectedElements = [];
          this.on(
            "execute",
            () => {
              this.refresh();
            },
            { priority: "highest" }
          );
        }
        refresh() {
          this._selectedElements = this._getSelectedItems();
          this.value = this._selectedElements.every(
            (t) => !!t.getAttribute("todoListChecked")
          );
          this.isEnabled = !!this._selectedElements.length;
        }
        _getSelectedItems() {
          const t = this.editor.model;
          const e = t.schema;
          const n = t.document.selection.getFirstRange();
          const i = n.start.parent;
          const o = [];
          if (e.checkAttribute(i, D$)) {
            o.push(i);
          }
          for (const t of n.getItems()) {
            if (e.checkAttribute(t, D$) && !o.includes(t)) {
              o.push(t);
            }
          }
          return o;
        }
        execute(t = {}) {
          this.editor.model.change((e) => {
            for (const n of this._selectedElements) {
              const i = t.forceValue === undefined ? !this.value : t.forceValue;
              if (i) {
                e.setAttribute(D$, true, n);
              } else {
                e.removeAttribute(D$, n);
              }
            }
          });
        }
      }
      function T$(t, e) {
        return (n, i, o) => {
          const r = o.consumable;
          if (
            !r.test(i.item, "insert") ||
            !r.test(i.item, "attribute:listType") ||
            !r.test(i.item, "attribute:listIndent")
          ) {
            return;
          }
          if (i.item.getAttribute("listType") != "todo") {
            return;
          }
          const s = i.item;
          r.consume(s, "insert");
          r.consume(s, "attribute:listType");
          r.consume(s, "attribute:listIndent");
          r.consume(s, "attribute:todoListChecked");
          const a = o.writer;
          const c = uj(s, o);
          const l = !!s.getAttribute("todoListChecked");
          const d = z$(s, a, l, e);
          const u = a.createContainerElement("span", {
            class: "todo-list__label__description",
          });
          a.addClass("todo-list", c.parent);
          a.insert(a.createPositionAt(c, 0), d);
          a.insert(a.createPositionAfter(d), u);
          hj(s, c, o, t);
        };
      }
      function I$(t) {
        return (e, n, i) => {
          const o = i.consumable;
          if (
            !o.test(n.item, "insert") ||
            !o.test(n.item, "attribute:listType") ||
            !o.test(n.item, "attribute:listIndent")
          ) {
            return;
          }
          if (n.item.getAttribute("listType") != "todo") {
            return;
          }
          const r = n.item;
          o.consume(r, "insert");
          o.consume(r, "attribute:listType");
          o.consume(r, "attribute:listIndent");
          o.consume(r, "attribute:todoListChecked");
          const s = i.writer;
          const a = uj(r, i);
          s.addClass("todo-list", a.parent);
          const c = s.createContainerElement("label", {
            class: "todo-list__label",
          });
          const l = s.createEmptyElement("input", {
            type: "checkbox",
            disabled: "disabled",
          });
          const d = s.createContainerElement("span", {
            class: "todo-list__label__description",
          });
          if (r.getAttribute("todoListChecked")) {
            s.setAttribute("checked", "checked", l);
          }
          s.insert(s.createPositionAt(a, 0), c);
          s.insert(s.createPositionAt(c, 0), l);
          s.insert(s.createPositionAfter(l), d);
          hj(r, a, i, t);
        };
      }
      function M$(t, e, n) {
        const i = e.modelCursor;
        const o = i.parent;
        const r = e.viewItem;
        if (
          r.getAttribute("type") != "checkbox" ||
          o.name != "listItem" ||
          !i.isAtStart
        ) {
          return;
        }
        if (!n.consumable.consume(r, { name: true })) {
          return;
        }
        const s = n.writer;
        s.setAttribute("listType", "todo", o);
        if (e.viewItem.hasAttribute("checked")) {
          s.setAttribute("todoListChecked", true, o);
        }
        e.modelRange = s.createRange(i);
      }
      function B$(t, e) {
        return (n, i, o) => {
          if (!o.consumable.consume(i.item, n.name)) {
            return;
          }
          const r = o.mapper.toViewElement(i.item);
          const s = o.writer;
          const a = P$(r, e);
          if (i.attributeNewValue == "todo") {
            const e = !!i.item.getAttribute("todoListChecked");
            const n = z$(i.item, s, e, t);
            const o = s.createContainerElement("span", {
              class: "todo-list__label__description",
            });
            const a = s.createRangeIn(r);
            const c = bj(r);
            const l = gj(a.start);
            const d = c ? s.createPositionBefore(c) : a.end;
            const u = s.createRange(l, d);
            s.addClass("todo-list", r.parent);
            s.move(u, s.createPositionAt(o, 0));
            s.insert(s.createPositionAt(r, 0), n);
            s.insert(s.createPositionAfter(n), o);
          } else if (i.attributeOldValue == "todo") {
            const t = R$(r, e);
            s.removeClass("todo-list", r.parent);
            s.remove(a);
            s.move(s.createRangeIn(t), s.createPositionBefore(t));
            s.remove(t);
          }
        };
      }
      function L$(t) {
        return (e, n, i) => {
          if (n.item.getAttribute("listType") != "todo") {
            return;
          }
          if (!i.consumable.consume(n.item, "attribute:todoListChecked")) {
            return;
          }
          const { mapper: o, writer: r } = i;
          const s = !!n.item.getAttribute("todoListChecked");
          const a = o.toViewElement(n.item);
          const c = a.getChild(0);
          const l = z$(n.item, r, s, t);
          r.insert(r.createPositionAfter(c), l);
          r.remove(c);
        };
      }
      function N$(t) {
        return (e, n) => {
          const i = n.modelPosition;
          const o = i.parent;
          if (
            !o.is("element", "listItem") ||
            o.getAttribute("listType") != "todo"
          ) {
            return;
          }
          const r = n.mapper.toViewElement(o);
          const s = R$(r, t);
          if (s) {
            n.viewPosition = n.mapper.findPositionIn(s, i.offset);
          }
        };
      }
      function z$(t, e, n, i) {
        const o = e.createUIElement(
          "label",
          { class: "todo-list__label", contenteditable: false },
          function (e) {
            const o = te(document, "input", { type: "checkbox", tabindex: -1 });
            if (n) {
              o.setAttribute("checked", "checked");
            }
            o.addEventListener("change", () => i(t));
            const r = this.toDomElement(e);
            r.appendChild(o);
            return r;
          }
        );
        return o;
      }
      function P$(t, e) {
        const n = e.createRangeIn(t);
        for (const t of n) {
          if (t.item.is("uiElement", "label")) {
            return t.item;
          }
        }
      }
      function R$(t, e) {
        const n = e.createRangeIn(t);
        for (const t of n) {
          if (
            t.item.is("containerElement", "span") &&
            t.item.hasClass("todo-list__label__description")
          ) {
            return t.item;
          }
        }
      }
      const O$ = Vc("Ctrl+Enter");
      class j$ extends Cl {
        static get pluginName() {
          return "TodoListEditing";
        }
        static get requires() {
          return [qj];
        }
        init() {
          const t = this.editor;
          const { editing: e, data: n, model: i } = t;
          i.schema.extend("listItem", { allowAttributes: ["todoListChecked"] });
          i.schema.addAttributeCheck((t, e) => {
            const n = t.last;
            if (
              e == "todoListChecked" &&
              n.name == "listItem" &&
              n.getAttribute("listType") != "todo"
            ) {
              return false;
            }
          });
          t.commands.add("todoList", new sj(t, "todo"));
          const o = new S$(t);
          t.commands.add("checkTodoList", o);
          t.commands.add("todoListCheck", o);
          n.downcastDispatcher.on("insert:listItem", I$(i), {
            priority: "high",
          });
          n.upcastDispatcher.on("element:input", M$, { priority: "high" });
          e.downcastDispatcher.on(
            "insert:listItem",
            T$(i, (t) => this._handleCheckmarkChange(t)),
            { priority: "high" }
          );
          e.downcastDispatcher.on(
            "attribute:listType:listItem",
            B$((t) => this._handleCheckmarkChange(t), e.view)
          );
          e.downcastDispatcher.on(
            "attribute:todoListChecked:listItem",
            L$((t) => this._handleCheckmarkChange(t))
          );
          e.mapper.on("modelToViewPosition", N$(e.view));
          n.mapper.on("modelToViewPosition", N$(e.view));
          this.listenTo(e.view.document, "arrowKey", F$(i, t.locale), {
            context: "li",
          });
          this.listenTo(
            e.view.document,
            "keydown",
            (e, n) => {
              if (Fc(n) === O$) {
                t.execute("checkTodoList");
                e.stop();
              }
            },
            { priority: "high" }
          );
          const r = new Set();
          this.listenTo(i, "applyOperation", (t, e) => {
            const n = e[0];
            if (n.type == "rename" && n.oldName == "listItem") {
              const t = n.position.nodeAfter;
              if (t.hasAttribute("todoListChecked")) {
                r.add(t);
              }
            } else if (
              n.type == "changeAttribute" &&
              n.key == "listType" &&
              n.oldValue === "todo"
            ) {
              for (const t of n.range.getItems()) {
                if (
                  t.hasAttribute("todoListChecked") &&
                  t.getAttribute("listType") !== "todo"
                ) {
                  r.add(t);
                }
              }
            }
          });
          i.document.registerPostFixer((t) => {
            let e = false;
            for (const n of r) {
              t.removeAttribute("todoListChecked", n);
              e = true;
            }
            r.clear();
            return e;
          });
        }
        _handleCheckmarkChange(t) {
          const e = this.editor;
          const n = e.model;
          const i = Array.from(n.document.selection.getRanges());
          n.change((n) => {
            n.setSelection(t, "end");
            e.execute("checkTodoList");
            n.setSelection(i);
          });
        }
      }
      function F$(t, e) {
        return (n, i) => {
          const o = qc(i.keyCode, e.contentLanguageDirection);
          if (o != "left") {
            return;
          }
          const r = t.schema;
          const s = t.document.selection;
          if (!s.isCollapsed) {
            return;
          }
          const a = s.getFirstPosition();
          const c = a.parent;
          if (
            c.name === "listItem" &&
            c.getAttribute("listType") == "todo" &&
            a.isAtStart
          ) {
            const e = r.getNearestSelectionRange(
              t.createPositionBefore(c),
              "backward"
            );
            if (e) {
              t.change((t) => t.setSelection(e));
            }
            i.preventDefault();
            i.stopPropagation();
            n.stop();
          }
        };
      }
      const V$ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';
      class H$ extends Cl {
        static get pluginName() {
          return "TodoListUI";
        }
        init() {
          const t = this.editor.t;
          pj(this.editor, "todoList", t("To-do List"), V$);
        }
      }
      var U$ = n(1588);
      var q$ = {
        injectType: "singletonStyleTag",
        attributes: { "data-cke": true },
      };
      q$.insert = "head";
      q$.singleton = true;
      var W$ = Il()(U$.Z, q$);
      const G$ = U$.Z.locals || {};
      class $$ extends Cl {
        static get requires() {
          return [j$, H$];
        }
        static get pluginName() {
          return "TodoList";
        }
      }
      const K$ = "underline";
      class Y$ extends Cl {
        static get pluginName() {
          return "UnderlineEditing";
        }
        init() {
          const t = this.editor;
          t.model.schema.extend("$text", { allowAttributes: K$ });
          t.model.schema.setAttributeProperties(K$, {
            isFormatting: true,
            copyOnEnter: true,
          });
          t.conversion.attributeToElement({
            model: K$,
            view: "u",
            upcastAlso: { styles: { "text-decoration": "underline" } },
          });
          t.commands.add(K$, new SI(t, K$));
          t.keystrokes.set("CTRL+U", "underline");
        }
      }
      const Z$ =
        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';
      const Q$ = "underline";
      class J$ extends Cl {
        static get pluginName() {
          return "UnderlineUI";
        }
        init() {
          const t = this.editor;
          const e = t.t;
          t.ui.componentFactory.add(Q$, (n) => {
            const i = t.commands.get(Q$);
            const o = new R_(n);
            o.set({
              label: e("Underline"),
              icon: Z$,
              keystroke: "CTRL+U",
              tooltip: true,
              isToggleable: true,
            });
            o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
            this.listenTo(o, "execute", () => {
              t.execute(Q$);
              t.editing.view.focus();
            });
            return o;
          });
        }
      }
      class X$ extends Cl {
        static get requires() {
          return [Y$, J$];
        }
        static get pluginName() {
          return "Underline";
        }
      }
      function tK(t) {
        if (t.is("$text") || t.is("$textProxy")) {
          return t.data;
        }
        let e = "";
        let n = null;
        for (const i of t.getChildren()) {
          const t = tK(i);
          if (n && n.is("element")) {
            e += "\\n";
          }
          e += t;
          n = i;
        }
        return e;
      }
      class eK extends Cl {
        constructor(t) {
          super(t);
          this.set("characters", 0);
          this.set("words", 0);
          Object.defineProperties(this, {
            characters: {
              get() {
                return (this.characters = this._getCharacters());
              },
            },
            words: {
              get() {
                return (this.words = this._getWords());
              },
            },
          });
          this.set("_wordsLabel");
          this.set("_charactersLabel");
          this._config = t.config.get("wordCount") || {};
          this._outputView = undefined;
          this._wordsMatchRegExp = r.features.isRegExpUnicodePropertySupported
            ? new RegExp("([\\\\p{L}\\\\p{N}]+\\\\S?)+", "gu")
            : /([a-zA-Z0-9\xC0-\u017E]+\\S?)+/gu;
        }
        static get pluginName() {
          return "WordCount";
        }
        init() {
          const t = this.editor;
          t.model.document.on(
            "change:data",
            dS(this._refreshStats.bind(this), 250)
          );
          if (typeof this._config.onUpdate == "function") {
            this.on("update", (t, e) => {
              this._config.onUpdate(e);
            });
          }
          if (Va(this._config.container)) {
            this._config.container.appendChild(this.wordCountContainer);
          }
        }
        destroy() {
          if (this._outputView) {
            this._outputView.element.remove();
            this._outputView.destroy();
          }
          super.destroy();
        }
        get wordCountContainer() {
          const t = this.editor;
          const e = t.t;
          const n = t.config.get("wordCount.displayWords");
          const i = t.config.get("wordCount.displayCharacters");
          const o = jA.bind(this, this);
          const r = [];
          if (!this._outputView) {
            this._outputView = new pC();
            if (n || n === undefined) {
              this.bind("_wordsLabel").to(this, "words", (t) =>
                e("Words: %0", t)
              );
              r.push({
                tag: "div",
                children: [{ text: [o.to("_wordsLabel")] }],
                attributes: { class: "ck-word-count__words" },
              });
            }
            if (i || i === undefined) {
              this.bind("_charactersLabel").to(this, "characters", (t) =>
                e("Characters: %0", t)
              );
              r.push({
                tag: "div",
                children: [{ text: [o.to("_charactersLabel")] }],
                attributes: { class: "ck-word-count__characters" },
              });
            }
            this._outputView.setTemplate({
              tag: "div",
              attributes: { class: ["ck", "ck-word-count"] },
              children: r,
            });
            this._outputView.render();
          }
          return this._outputView.element;
        }
        _getCharacters() {
          const t = tK(this.editor.model.document.getRoot());
          return t.replace(/\\n/g, "").length;
        }
        _getWords() {
          const t = tK(this.editor.model.document.getRoot());
          const e = t.match(this._wordsMatchRegExp) || [];
          return e.length;
        }
        _refreshStats() {
          const t = (this.words = this._getWords());
          const e = (this.characters = this._getCharacters());
          this.fire("update", { words: t, characters: e });
        }
      }
      class nK extends bx {}
      nK.builtinPlugins = [
        zx,
        TE,
        XS,
        aI,
        fI,
        DI,
        gx,
        LI,
        WI,
        nM,
        NM,
        HM,
        dB,
        fB,
        xB,
        qB,
        dN,
        IN,
        UN,
        ez,
        gz,
        $z,
        nP,
        oR,
        kR,
        ZR,
        QR,
        UP,
        iO,
        lO,
        fO,
        KO,
        rj,
        Yj,
        TF,
        IF,
        gV,
        bN,
        tH,
        sH,
        bH,
        jH,
        FH,
        VH,
        WH,
        HH,
        qH,
        QH,
        iU,
        lU,
        TW,
        uG,
        x$,
        E$,
        fE,
        $$,
        X$,
        eK,
      ];
      nK.defaultConfig = {
        toolbar: {
          items: [
            "bold",
            "italic",
            "underline",
            "strikethrough",
            "subscript",
            "superscript",
            "blockQuote",
            "fontFamily",
            "fontBackgroundColor",
            "fontColor",
            "fontSize",
            "highlight",
            "removeFormat",
            "specialCharacters",
          ],
        },
        language: "en",
        blockToolbar: [
          "heading",
          "imageUpload",
          "imageInsert",
          "mediaEmbed",
          "link",
          "alignment",
          "indent",
          "outdent",
          "numberedList",
          "bulletedList",
          "todoList",
          "insertTable",
          "code",
          "codeBlock",
          "horizontalLine",
          "htmlEmbed",
          "sourceEditing",
          "undo",
        ],
        image: {
          toolbar: [
            "imageTextAlternative",
            "toggleImageCaption",
            "imageStyle:inline",
            "imageStyle:block",
            "imageStyle:side",
            "linkImage",
          ],
        },
        table: {
          contentToolbar: [
            "tableColumn",
            "tableRow",
            "mergeTableCells",
            "tableProperties",
          ],
        },
      };
      const iK = nK;
    })();
    i = i["default"];
    return i;
  })()
);`;var Ky=W('<div id="editorContent" style="margin: 0px 34px; min-height: 34px;"></div>');function lm(n,t){Le(t,!0);let e=$(t,"editorContent",15,""),i;Yh(()=>{const s=document.createElement("script");s.textContent=Gy,document.head.appendChild(s),o()});function o(){let s=document.getElementById("editorContent");BalloonBlockEditor.create(s,{placeholder:"Add your content here...",autosave:{save(){return e(i.getData()),document.dispatchEvent(new CustomEvent("EditorContentSave",{detail:{text:e()}})),!0}}}).then(a=>{i=a,e()&&(console.log("Setting loaded to true in editor create"),i.setData(e()))})}var r=Ky();U(n,r),Be()}customElements.define("gen-editor",oe(lm,{editorContent:{reflect:!0}},[],[],!1));/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Yy(n,t){return t.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(i){if(i!=="default"&&!(i in n)){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}})}),Object.freeze(n)}let Ul;try{Ul={window,document}}catch{Ul={window:{},document:{}}}var L=Ul;function Zy(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Hn=Zy(),j={isMac:cm(Hn),isWindows:Qy(Hn),isGecko:Jy(Hn),isSafari:Xy(Hn),isiOS:tC(Hn),isAndroid:eC(Hn),isBlink:iC(Hn),get isMediaForcedColors(){return!!L.window.matchMedia&&L.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!L.window.matchMedia&&L.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:nC()}};function cm(n){return n.indexOf("macintosh")>-1}function Qy(n){return n.indexOf("windows")>-1}function Jy(n){return!!n.match(/gecko\/\d+/)}function Xy(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function tC(n){return!!n.match(/iphone|ipad/i)||cm(n)&&navigator.maxTouchPoints>0}function eC(n){return n.indexOf("android")>-1}function iC(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function nC(){let n=!1;try{n="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}function dm(n,t,e,i){e=e||function(a,l){return a===l};const o=Array.isArray(n)?n:Array.prototype.slice.call(n),r=Array.isArray(t)?t:Array.prototype.slice.call(t),s=function(a,l,c){const d=um(a,l,c);if(d===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const u=hm(a,d),h=hm(l,d),g=um(u,h,c),f=a.length-g,p=l.length-g;return{firstIndex:d,lastIndexOld:f,lastIndexNew:p}}(o,r,e);return i?function(a,l){const{firstIndex:c,lastIndexOld:d,lastIndexNew:u}=a;if(c===-1)return Array(l).fill("equal");let h=[];return c>0&&(h=h.concat(Array(c).fill("equal"))),u-c>0&&(h=h.concat(Array(u-c).fill("insert"))),d-c>0&&(h=h.concat(Array(d-c).fill("delete"))),u<l&&(h=h.concat(Array(l-u).fill("equal"))),h}(s,r.length):function(a,l){const c=[],{firstIndex:d,lastIndexOld:u,lastIndexNew:h}=l;return h-d>0&&c.push({index:d,type:"insert",values:a.slice(d,h)}),u-d>0&&c.push({index:d+(h-d),type:"delete",howMany:u-d}),c}(r,s)}function um(n,t,e){for(let i=0;i<Math.max(n.length,t.length);i++)if(n[i]===void 0||t[i]===void 0||!e(n[i],t[i]))return i;return-1}function hm(n,t){return n.slice(t).reverse()}function xo(n,t,e){e=e||function(p,b){return p===b};const i=n.length,o=t.length;if(i>200||o>200||i+o>300)return xo.fastDiff(n,t,e,!0);let r,s;if(o<i){const p=n;n=t,t=p,r="delete",s="insert"}else r="insert",s="delete";const a=n.length,l=t.length,c=l-a,d={},u={};function h(p){const b=(u[p-1]!==void 0?u[p-1]:-1)+1,k=u[p+1]!==void 0?u[p+1]:-1,w=b>k?-1:1;d[p+w]&&(d[p]=d[p+w].slice(0)),d[p]||(d[p]=[]),d[p].push(b>k?r:s);let _=Math.max(b,k),y=_-p;for(;y<a&&_<l&&e(n[y],t[_]);)y++,_++,d[p].push("equal");return _}let g,f=0;do{for(g=-f;g<c;g++)u[g]=h(g);for(g=c+f;g>c;g--)u[g]=h(g);u[c]=h(c),f++}while(u[c]!==l);return d[c].slice(1)}xo.fastDiff=dm;class Ui{constructor(t,e){m(this,"source"),m(this,"name"),m(this,"path"),m(this,"stop"),m(this,"off"),m(this,"return"),this.source=t,this.name=e,this.path=[],this.stop=function i(){i.called=!0},this.off=function i(){i.called=!0}}}const Ce=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function Ae(){const[n,t,e,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Ce[255&n]+Ce[n>>8&255]+Ce[n>>16&255]+Ce[n>>24&255]+Ce[255&t]+Ce[t>>8&255]+Ce[t>>16&255]+Ce[t>>24&255]+Ce[255&e]+Ce[e>>8&255]+Ce[e>>16&255]+Ce[e>>24&255]+Ce[255&i]+Ce[i>>8&255]+Ce[i>>16&255]+Ce[i>>24&255]}const fn={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function mm(n,t){const e=fn.get(t.priority);let i=0,o=n.length;for(;i<o;){const r=i+o>>1;fn.get(n[r].priority)<e?o=r:i=r+1}n.splice(i,0,t)}class v extends Error{constructor(t,e,i){super(function(o,r){const s=new WeakSet,a=(d,u)=>{if(typeof u=="object"&&u!==null){if(s.has(u))return`[object ${u.constructor.name}]`;s.add(u)}return u},l=r?` ${JSON.stringify(r,a)}`:"",c=gm(o);return o+l+c}(t,i)),m(this,"context"),m(this,"data"),this.name="CKEditorError",this.context=e,this.data=i}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const i=new v(t.message,e);throw i.stack=t.stack,i}}function st(n,t){console.warn(...fm(n,t))}function oC(n,t){console.error(...fm(n,t))}function gm(n){return`
Read more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${n}`}function fm(n,t){const e=gm(n);return t?[n,t,e]:[n,e]}const pm="45.0.0",rC=new Date(2025,3,7);if(globalThis.CKEDITOR_VERSION)throw new v("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=pm;const Eo=Symbol("listeningTo"),$l=Symbol("emitterId"),$i=Symbol("delegations"),bm=kt(Object);function kt(n){return n?class extends n{on(t,e,i){this.listenTo(this,t,e,i)}once(t,e,i){let o=!1;this.listenTo(this,t,(r,...s)=>{o||(o=!0,r.off(),e.call(this,r,...s))},i)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,i,o={}){let r,s;this[Eo]||(this[Eo]={});const a=this[Eo];ql(t)||km(t);const l=ql(t);(r=a[l])||(r=a[l]={emitter:t,callbacks:{}}),(s=r.callbacks[e])||(s=r.callbacks[e]=[]),s.push(i),function(c,d,u,h,g){d._addEventListener?d._addEventListener(u,h,g):c._addEventListener.call(d,u,h,g)}(this,t,e,i,o)}stopListening(t,e,i){const o=this[Eo];let r=t&&ql(t);const s=o&&r?o[r]:void 0,a=s&&e?s.callbacks[e]:void 0;if(!(!o||t&&!s||e&&!a))if(i)Gl(this,t,e,i),a.indexOf(i)!==-1&&(a.length===1?delete s.callbacks[e]:Gl(this,t,e,i));else if(a){for(;i=a.pop();)Gl(this,t,e,i);delete s.callbacks[e]}else if(s){for(e in s.callbacks)this.stopListening(t,e);delete o[r]}else{for(r in o)this.stopListening(o[r].emitter);delete this[Eo]}}fire(t,...e){try{const i=t instanceof Ui?t:new Ui(this,t),o=i.name;let r=function(a,l){if(!a._events)return null;let c=l;do{const d=a._events[c];if(d&&d.callbacks&&d.callbacks.length)return d.callbacks;const u=c.lastIndexOf(":");c=u>-1?c.substring(0,u):""}while(c);return null}(this,o);if(i.path.push(this),r){r=r.slice();for(let a=0;a<r.length;a++){const l=r[a].callback;if(l.call(this,i,...e),i.off.called&&(delete i.off.called,this._removeEventListener(o,l)),i.stop.called)break}}const s=this[$i];if(s){const a=s.get(o),l=s.get("*");a&&_m(a,i,e),l&&_m(l,i,e)}return i.return}catch(i){v.rethrowUnexpectedError(i,this)}}delegate(...t){return{to:(e,i)=>{this[$i]||(this[$i]=new Map),t.forEach(o=>{const r=this[$i].get(o);r?r.set(e,i):this[$i].set(o,new Map([[e,i]]))})}}}stopDelegating(t,e){if(this[$i])if(t)if(e){const i=this[$i].get(t);i&&i.delete(e)}else this[$i].delete(t);else this[$i].clear()}_addEventListener(t,e,i){(function(s,a){const l=wm(s);if(l[a])return;let c=a,d=null;const u=[];for(;c!==""&&!l[c];)l[c]={callbacks:[],childEvents:[]},u.push(l[c]),d&&l[c].childEvents.push(d),d=c,c=c.substr(0,c.lastIndexOf(":"));if(c!==""){for(const h of u)h.callbacks=l[c].callbacks.slice();l[c].childEvents.push(d)}})(this,t);const o=Wl(this,t),r={callback:e,priority:fn.get(i.priority)};for(const s of o)mm(s,r)}_removeEventListener(t,e){const i=Wl(this,t);for(const o of i)for(let r=0;r<o.length;r++)o[r].callback==e&&(o.splice(r,1),r--)}}:bm}function km(n,t){n[$l]||(n[$l]=t||Ae())}function ql(n){return n[$l]}function wm(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function Wl(n,t){const e=wm(n)[t];if(!e)return[];let i=[e.callbacks];for(let o=0;o<e.childEvents.length;o++){const r=Wl(n,e.childEvents[o]);i=i.concat(r)}return i}function _m(n,t,e){for(let[i,o]of n){o?typeof o=="function"&&(o=o(t.name)):o=t.name;const r=new Ui(t.source,o);r.path=[...t.path],i.fire(r,...e)}}function Gl(n,t,e,i){t._removeEventListener?t._removeEventListener(e,i):n._removeEventListener.call(t,e,i)}function To(n){return n}function $s(){}function Kl(n){return n==null||typeof n!="object"&&typeof n!="function"}function Yl(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Zl(n){if(Kl(n))return n;if(Array.isArray(n)||Yl(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const t=Object.getPrototypeOf(n),e=t.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new e(n);if(n instanceof RegExp){const i=new e(n);return i.lastIndex=n.lastIndex,i}if(n instanceof DataView)return new e(n.buffer.slice(0));if(n instanceof Error){const i=new e(n.message);return i.stack=n.stack,i.name=n.name,i.cause=n.cause,i}if(typeof File<"u"&&n instanceof File)return new e([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const i=Object.create(t);return Object.assign(i,n)}return n}function vm(n){if(!n||typeof n!="object")return!1;const t=Object.getPrototypeOf(n);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null)&&Object.prototype.toString.call(n)==="[object Object]"}function Ql(n){return typeof n=="object"&&n!==null}function qs(n){return Object.getOwnPropertySymbols(n).filter(t=>Object.prototype.propertyIsEnumerable.call(n,t))}function Ws(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{kt[n]=bm.prototype[n]});const ym="[object RegExp]",Jl="[object String]",Xl="[object Number]",tc="[object Boolean]",Gs="[object Arguments]",Cm="[object Symbol]",Am="[object Date]",xm="[object Map]",Em="[object Set]",Tm="[object Array]",Sm="[object ArrayBuffer]",Ks="[object Object]",Im="[object DataView]",Mm="[object Uint8Array]",Dm="[object Uint8ClampedArray]",Pm="[object Uint16Array]",Lm="[object Uint32Array]",Bm="[object Int8Array]",Nm="[object Int16Array]",zm="[object Int32Array]",Om="[object Float32Array]",Rm="[object Float64Array]";function So(n,t,e,i=new Map,o=void 0){const r=o?.(n,t,e,i);if(r!=null)return r;if(Kl(n))return n;if(i.has(n))return i.get(n);if(Array.isArray(n)){const s=new Array(n.length);i.set(n,s);for(let a=0;a<n.length;a++)s[a]=So(n[a],a,e,i,o);return Object.hasOwn(n,"index")&&(s.index=n.index),Object.hasOwn(n,"input")&&(s.input=n.input),s}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const s=new RegExp(n.source,n.flags);return s.lastIndex=n.lastIndex,s}if(n instanceof Map){const s=new Map;i.set(n,s);for(const[a,l]of n)s.set(a,So(l,a,e,i,o));return s}if(n instanceof Set){const s=new Set;i.set(n,s);for(const a of n)s.add(So(a,void 0,e,i,o));return s}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(Yl(n)){const s=new(Object.getPrototypeOf(n)).constructor(n.length);i.set(n,s);for(let a=0;a<n.length;a++)s[a]=So(n[a],a,e,i,o);return s}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const s=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return i.set(n,s),Un(s,n,e,i,o),s}if(typeof File<"u"&&n instanceof File){const s=new File([n],n.name,{type:n.type});return i.set(n,s),Un(s,n,e,i,o),s}if(n instanceof Blob){const s=new Blob([n],{type:n.type});return i.set(n,s),Un(s,n,e,i,o),s}if(n instanceof Error){const s=new n.constructor;return i.set(n,s),s.message=n.message,s.name=n.name,s.stack=n.stack,s.cause=n.cause,Un(s,n,e,i,o),s}if(typeof n=="object"&&function(s){switch(Ws(s)){case Gs:case Tm:case Sm:case Im:case tc:case Am:case Om:case Rm:case Bm:case Nm:case zm:case xm:case Xl:case Ks:case ym:case Em:case Jl:case Cm:case Mm:case Dm:case Pm:case Lm:return!0;default:return!1}}(n)){const s=Object.create(Object.getPrototypeOf(n));return i.set(n,s),Un(s,n,e,i,o),s}return n}function Un(n,t,e=n,i,o){const r=[...Object.keys(t),...qs(t)];for(let s=0;s<r.length;s++){const a=r[s],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=So(t[a],a,e,i,o))}}function Vm(n,t){return n===t||Number.isNaN(n)&&Number.isNaN(t)}function Fm(n,t,e){return wr(n,t,void 0,void 0,void 0,void 0,e)}function wr(n,t,e,i,o,r,s){const a=s(n,t,e,i,o,r);if(a!==void 0)return a;if(typeof n==typeof t)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return n===t;case"number":return n===t||Object.is(n,t);case"object":return _r(n,t,r,s)}return _r(n,t,r,s)}function _r(n,t,e,i){if(Object.is(n,t))return!0;let o=Ws(n),r=Ws(t);if(o===Gs&&(o=Ks),r===Gs&&(r=Ks),o!==r)return!1;switch(o){case Jl:return n.toString()===t.toString();case Xl:return Vm(n.valueOf(),t.valueOf());case tc:case Am:case Cm:return Object.is(n.valueOf(),t.valueOf());case ym:return n.source===t.source&&n.flags===t.flags;case"[object Function]":return n===t}const s=(e=e??new Map).get(n),a=e.get(t);if(s!=null&&a!=null)return s===t;e.set(n,t),e.set(t,n);try{switch(o){case xm:if(n.size!==t.size)return!1;for(const[l,c]of n.entries())if(!t.has(l)||!wr(c,t.get(l),l,n,t,e,i))return!1;return!0;case Em:{if(n.size!==t.size)return!1;const l=Array.from(n.values()),c=Array.from(t.values());for(let d=0;d<l.length;d++){const u=l[d],h=c.findIndex(g=>wr(u,g,void 0,n,t,e,i));if(h===-1)return!1;c.splice(h,1)}return!0}case Tm:case Mm:case Dm:case Pm:case Lm:case"[object BigUint64Array]":case Bm:case Nm:case zm:case"[object BigInt64Array]":case Om:case Rm:if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(t)||n.length!==t.length)return!1;for(let l=0;l<n.length;l++)if(!wr(n[l],t[l],l,n,t,e,i))return!1;return!0;case Sm:return n.byteLength===t.byteLength&&_r(new Uint8Array(n),new Uint8Array(t),e,i);case Im:return n.byteLength===t.byteLength&&n.byteOffset===t.byteOffset&&_r(new Uint8Array(n),new Uint8Array(t),e,i);case"[object Error]":return n.name===t.name&&n.message===t.message;case Ks:{if(!(_r(n.constructor,t.constructor,e,i)||vm(n)&&vm(t)))return!1;const l=[...Object.keys(n),...qs(n)],c=[...Object.keys(t),...qs(t)];if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++){const u=l[d],h=n[u];if(!Object.hasOwn(t,u)||!wr(h,t[u],u,n,t,e,i))return!1}return!0}default:return!1}}finally{e.delete(n),e.delete(t)}}function Ys(n,t){return Fm(n,t,$s)}function Zs(n){return typeof n=="function"}function sC(n){return n!=null&&typeof n!="function"&&function(t){return Number.isSafeInteger(t)&&t>=0}(n.length)}function jm(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function Hm(n){return Object.is(n,-0)?"-0":n.toString()}function ec(n){const t=[],e=n.length;if(e===0)return t;let i=0,o="",r="",s=!1;for(n.charCodeAt(0)===46&&(t.push(""),i++);i<e;){const a=n[i];r?a==="\\"&&i+1<e?(i++,o+=n[i]):a===r?r="":o+=a:s?a==='"'||a==="'"?r=a:a==="]"?(s=!1,t.push(o),o=""):o+=a:a==="["?(s=!0,o&&(t.push(o),o="")):a==="."?o&&(t.push(o),o=""):o+=a,i++}return o&&t.push(o),t}function pn(n,t,e){if(n==null)return e;switch(typeof t){case"string":{const i=n[t];return i===void 0?jm(t)?pn(n,ec(t),e):e:i}case"number":case"symbol":{typeof t=="number"&&(t=Hm(t));const i=n[t];return i===void 0?e:i}default:{if(Array.isArray(t))return function(o,r,s){if(r.length===0)return s;let a=o;for(let l=0;l<r.length;l++){if(a==null)return s;a=a[r[l]]}return a===void 0?s:a}(n,t,e);const i=n[t=Object.is(t?.valueOf(),-0)?"-0":String(t)];return i===void 0?e:i}}}function ci(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Qs(n,t){return function(e,i){return So(e,void 0,e,new Map,i)}(n,(e,i,o,r)=>{const s=t?.(e,i,o,r);if(s!=null)return s;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case Xl:case Jl:case tc:{const a=new n.constructor(n?.valueOf());return Un(a,n),a}case Gs:{const a={};return Un(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function Ue(n){return Qs(n)}const aC=/^(?:0|[1-9]\d*)$/;function lC(n,t=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<t;case"symbol":return!1;case"string":return aC.test(n)}}function Um(n){return n!==null&&typeof n=="object"&&Ws(n)==="[object Arguments]"}function cC(n){return function(t){return typeof t=="symbol"||t instanceof Symbol}(n)?NaN:Number(n)}function dC(n){const t=function(i){return i?(i=cC(i))===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i==i?i:0:i===0?i:0}(n),e=t%1;return e?t-e:t}function $m(n){return typeof n=="string"||n instanceof String}function qm(n,t,e){const i=Array.isArray(t)?t:typeof t=="string"?ec(t):[t];let o=n;for(let r=0;r<i.length-1;r++){const s=i[r],a=i[r+1];o[s]==null&&(o[s]=lC(a)?[]:{}),o=o[s]}return o[i[i.length-1]]=e,n}function uC(n,t,{signal:e,edges:i}={}){let o,r=null;const s=i!=null&&i.includes("leading"),a=i==null||i.includes("trailing"),l=()=>{r!==null&&(n.apply(o,r),o=void 0,r=null)};let c=null;const d=()=>{c!=null&&clearTimeout(c),c=setTimeout(()=>{c=null,a&&l(),h()},t)},u=()=>{c!==null&&(clearTimeout(c),c=null)},h=()=>{u(),o=void 0,r=null},g=function(...f){if(e!=null&&e.aborted)return;o=this,r=f;const p=c==null;d(),s&&p&&l()};return g.schedule=d,g.cancel=h,g.flush=()=>{u(),l()},e?.addEventListener("abort",h,{once:!0}),g}function di(n,t=0,e={}){typeof e!="object"&&(e={});const{signal:i,leading:o=!1,trailing:r=!0,maxWait:s}=e,a=Array(2);let l;o&&(a[0]="leading"),r&&(a[1]="trailing");let c=null;const d=uC(function(...h){l=n.apply(this,h),c=null},t,{signal:i,edges:a}),u=function(...h){if(s!=null){if(c===null)c=Date.now();else if(Date.now()-c>=s)return l=n.apply(this,h),c=Date.now(),d.cancel(),d.schedule(),l}return d.apply(this,h),l};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}function Io(n,t=0,e={}){typeof e!="object"&&(e={});const{leading:i=!0,trailing:o=!0,signal:r}=e;return di(n,t,{leading:i,trailing:o,signal:r,maxWait:t})}function ic(n){if(n==null)return"";if(Array.isArray(n))return n.map(ic).join(",");const t=String(n);return t==="0"&&Object.is(Number(n),-0)?"-0":t}function Wm(n){return Yl(n)}function hC(n){if(n==null)return[];switch(typeof n){case"object":case"function":return sC(n)?function(t){const e=function(o,r){if((o=dC(o))<1||!Number.isSafeInteger(o))return[];const s=new Array(o);for(let a=0;a<o;a++)s[a]=typeof r=="function"?r(a):a;return s}(t.length,o=>`${o}`),i=new Set(e);return function(o){return typeof Buffer<"u"&&Buffer.isBuffer(o)}(t)&&(i.add("offset"),i.add("parent")),Wm(t)&&(i.add("buffer"),i.add("byteLength"),i.add("byteOffset")),[...e,...Js(t).filter(o=>!i.has(o))]}(n):function(t){const e=t?.constructor;return t===(typeof e=="function"?e.prototype:Object.prototype)}(n)?function(t){return Js(t).filter(e=>e!=="constructor")}(n):Js(n);default:return Js(Object(n))}}function Js(n){const t=[];for(const e in n)t.push(e);return t}function Gm(n,...t){for(let e=0;e<t.length;e++)mC(n,t[e]);return n}function mC(n,t){const e=hC(t);for(let i=0;i<e.length;i++){const o=e[i];Vm(n[o],t[o])||(n[o]=t[o])}}function Km(n,t){const e={},i=Object.keys(n);for(let o=0;o<i.length;o++){const r=i[o],s=n[r];e[r]=t(s,r,n)}return e}function gC(n,t){switch(typeof(t=t??To)){case"string":case"symbol":case"number":case"object":return Km(n,(e=t,function(i){return pn(i,e)}));case"function":return Km(n,t)}var e}function Ci(n){var t;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null?!1:!!((t=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&t.writable)&&n.toString()===`[object ${i}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function fC(n,...t){const e=t.slice(0,-1),i=t[t.length-1];let o=n;for(let r=0;r<e.length;r++)o=nc(o,e[r],i,new Map);return o}function nc(n,t,e,i){if(Kl(n)&&(n=Object(n)),t==null||typeof t!="object")return n;if(i.has(t))return Zl(i.get(t));if(i.set(t,n),Array.isArray(t)){t=t.slice();for(let r=0;r<t.length;r++)t[r]=t[r]??void 0}const o=[...Object.keys(t),...qs(t)];for(let r=0;r<o.length;r++){const s=o[r];let a=t[s],l=n[s];if(Um(a)&&(a={...a}),Um(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Ue(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const d=[],u=Reflect.ownKeys(l);for(let h=0;h<u.length;h++){const g=u[h];d[g]=l[g]}l=d}else l=[];const c=e(l,a,s,n,t,i);c!=null?n[s]=c:Array.isArray(a)||Ql(l)&&Ql(a)?n[s]=nc(l,a,e,i):l==null&&Ci(a)?n[s]=nc({},a,e,i):l==null&&Wm(a)?n[s]=Ue(a):l!==void 0&&a===void 0||(n[s]=a)}return n}function oc(n,...t){return fC(n,...t,$s)}function pC(n,t){if(n==null)return!0;switch(typeof t){case"symbol":case"number":case"object":if(Array.isArray(t))return Ym(n,t);if(typeof t=="number"?t=Hm(t):typeof t=="object"&&(t=Object.is(t?.valueOf(),-0)?"-0":String(t)),n?.[t]===void 0)return!0;try{return delete n[t],!0}catch{return!1}case"string":if(n?.[t]===void 0&&jm(t))return Ym(n,ec(t));try{return delete n[t],!0}catch{return!1}}}function Ym(n,t){const e=pn(n,t.slice(0,-1),n),i=t[t.length-1];if(e?.[i]===void 0)return!0;try{return delete e[i],!0}catch{return!1}}function bn(n){return Ql(n)&&n.nodeType===1&&!Ci(n)}function bC(n,t){if(!Number.isInteger(n)||n<0)throw new Error("n must be a non-negative integer.");let e=0;return(...i)=>{if(++e>=n)return t(...i)}}function Zm(n,t,e=$s){return typeof e!="function"&&(e=$s),Fm(n,t,(...i)=>{const o=e(...i);return o!==void 0?!!o:n instanceof Map&&t instanceof Map||n instanceof Set&&t instanceof Set?Zm(Array.from(n),Array.from(t),bC(2,e)):void 0})}function Qm(n){return function(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}(ic(n))}const vr=Symbol("observableProperties"),yr=Symbol("boundObservables"),Cr=Symbol("boundProperties"),$n=Symbol("decoratedMethods"),Jm=Symbol("decoratedOriginal"),Xm=wt(kt());function wt(n){var t,e,i,o,r;return n?class extends(r=n,o=vr,i=$n,e=Cr,t=yr,r){constructor(){super(...arguments),m(this,o),m(this,i),m(this,e),m(this,t)}set(s,a){if(ci(s))return void Object.keys(s).forEach(c=>{this.set(c,s[c])},this);rc(this);const l=this[vr];if(s in this&&!l.has(s))throw new v("observable-set-cannot-override",this);Object.defineProperty(this,s,{enumerable:!0,configurable:!0,get:()=>l.get(s),set(c){const d=l.get(s);let u=this.fire(`set:${s}`,s,c,d);u===void 0&&(u=c),d===u&&l.has(s)||(l.set(s,u),this.fire(`change:${s}`,s,u,d))}}),this[s]=a}bind(...s){if(!s.length||!tg(s))throw new v("observable-bind-wrong-properties",this);if(new Set(s).size!==s.length)throw new v("observable-bind-duplicate-properties",this);rc(this);const a=this[Cr];s.forEach(c=>{if(a.has(c))throw new v("observable-bind-rebind",this)});const l=new Map;return s.forEach(c=>{const d={property:c,to:[]};a.set(c,d),l.set(c,d)}),{to:kC,toMany:wC,_observable:this,_bindProperties:s,_to:[],_bindings:l}}unbind(...s){if(!this[vr])return;const a=this[Cr],l=this[yr];if(s.length){if(!tg(s))throw new v("observable-unbind-wrong-properties",this);s.forEach(c=>{const d=a.get(c);d&&(d.to.forEach(([u,h])=>{const g=l.get(u),f=g[h];f.delete(d),f.size||delete g[h],Object.keys(g).length||(l.delete(u),this.stopListening(u,"change"))}),a.delete(c))})}else l.forEach((c,d)=>{this.stopListening(d,"change")}),l.clear(),a.clear()}decorate(s){rc(this);const a=this[s];if(!a)throw new v("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:s});this.on(s,(l,c)=>{l.return=a.apply(this,c)}),this[s]=function(...l){return this.fire(s,l)},this[s][Jm]=a,this[$n]||(this[$n]=[]),this[$n].push(s)}stopListening(s,a,l){if(!s&&this[$n]){for(const c of this[$n])this[c]=this[c][Jm];delete this[$n]}super.stopListening(s,a,l)}}:Xm}function rc(n){n[vr]||(Object.defineProperty(n,vr,{value:new Map}),Object.defineProperty(n,yr,{value:new Map}),Object.defineProperty(n,Cr,{value:new Map}))}function kC(...n){const t=function(...r){if(!r.length)throw new v("observable-bind-to-parse-error",null);const s={to:[]};let a;return typeof r[r.length-1]=="function"&&(s.callback=r.pop()),r.forEach(l=>{if(typeof l=="string")a.properties.push(l);else{if(typeof l!="object")throw new v("observable-bind-to-parse-error",null);a={observable:l,properties:[]},s.to.push(a)}}),s}(...n),e=Array.from(this._bindings.keys()),i=e.length;if(!t.callback&&t.to.length>1)throw new v("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new v("observable-bind-to-extra-callback",this);var o;t.to.forEach(r=>{if(r.properties.length&&r.properties.length!==i)throw new v("observable-bind-to-properties-length",this);r.properties.length||(r.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),o=this._observable,this._to.forEach(r=>{const s=o[yr];let a;s.get(r.observable)||o.listenTo(r.observable,"change",(l,c)=>{a=s.get(r.observable)[c],a&&a.forEach(d=>{eg(o,d.property)})})}),function(r){let s;r._bindings.forEach((a,l)=>{r._to.forEach(c=>{s=c.properties[a.callback?0:r._bindProperties.indexOf(l)],a.to.push([c.observable,s]),function(d,u,h,g){const f=d[yr],p=f.get(h),b=p||{};b[g]||(b[g]=new Set),b[g].add(u),p||f.set(h,b)}(r._observable,a,c.observable,s)})})}(this),this._bindProperties.forEach(r=>{eg(this._observable,r)})}function wC(n,t,e){if(this._bindings.size>1)throw new v("observable-bind-to-many-not-one-binding",this);this.to(...function(i,o){const r=i.map(s=>[s,o]);return Array.prototype.concat.apply([],r)}(n,t),e)}function tg(n){return n.every(t=>typeof t=="string")}function eg(n,t){const e=n[Cr].get(t);let i;e.callback?i=e.callback.apply(n,e.to.map(o=>o[0][o[1]])):(i=e.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(n,t)?n[t]=i:n.set(t,i)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{wt[n]=Xm.prototype[n]});function sc(n){let t=0;for(const e of n)t++;return t}function xe(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)if(n[i]!=t[i])return i;return n.length==t.length?"same":n.length<t.length?"prefix":"extension"}function $e(n){return!(!n||!n[Symbol.iterator])}function ui(n,t,e={},i=[]){const o=e&&e.xmlns,r=o?n.createElementNS(o,t):n.createElement(t);for(const s in e)r.setAttribute(s,e[s]);!$m(i)&&$e(i)||(i=[i]);for(let s of i)$m(s)&&(s=n.createTextNode(s)),r.appendChild(s);return r}class ig{constructor(t,e){m(this,"_config"),this._config=Object.create(null),e&&this.define(ng(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,i,o=!1){if(Ci(e))return void this._setObjectToTarget(t,e,o);const r=e.split(".");e=r.pop();for(const s of r)Ci(t[s])||(t[s]=Object.create(null)),t=t[s];if(Ci(i))return Ci(t[e])||(t[e]=Object.create(null)),t=t[e],void this._setObjectToTarget(t,i,o);o&&t[e]!==void 0||(t[e]=i)}_getFromSource(t,e){const i=e.split(".");e=i.pop();for(const o of i){if(!Ci(t[o])){t=null;break}t=t[o]}return t?ng(t[e]):void 0}_setObjectToTarget(t,e,i){Object.keys(e).forEach(o=>{this._setToTarget(t,o,e[o],i)})}}function ng(n){return Qs(n,_C)}function _C(n){return bn(n)||typeof n=="function"?n:void 0}function kn(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}function Xs(n){const t=Object.prototype.toString.apply(n);return t=="[object Window]"||t=="[object global]"}const og=Se(kt());function Se(n){return n?class extends n{listenTo(t,e,i,o={}){if(kn(t)||Xs(t)||t instanceof L.window.EventTarget){const r={capture:!!o.useCapture,passive:!!o.usePassive},s=this._getProxyEmitter(t,r)||new vC(t,r);this.listenTo(s,e,i,o)}else super.listenTo(t,e,i,o)}stopListening(t,e,i){if(kn(t)||Xs(t)||t instanceof L.window.EventTarget){const o=this._getAllProxyEmitters(t);for(const r of o)this.stopListening(r,e,i)}else super.stopListening(t,e,i)}_getProxyEmitter(t,e){return function(i,o){const r=i[Eo];return r&&r[o]?r[o].emitter:null}(this,rg(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(e=>this._getProxyEmitter(t,e)).filter(e=>!!e)}}:og}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Se[n]=og.prototype[n]});class vC extends kt(){constructor(t,e){super(),m(this,"_domNode"),m(this,"_options"),m(this,"_domListeners"),km(this,rg(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,i){this.attach(t),kt().prototype._addEventListener.call(this,t,e,i)}_removeEventListener(t,e){kt().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=i=>{this.fire(t,i)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function rg(n,t){let e=function(i){return i["data-ck-expando"]||(i["data-ck-expando"]=Ae())}(n);for(const i of Object.keys(t).sort())t[i]&&(e+="-"+i);return e}function sg(n){const t=[];let e=n;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}function yC(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}function ag(n){const t=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function lg(n){if(!n.target)return null;const t=n.target.ownerDocument,e=n.clientX,i=n.clientY;let o=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(e,i)?o=t.caretRangeFromPoint(e,i):n.rangeParent&&(o=t.createRange(),o.setStart(n.rangeParent,n.rangeOffset),o.collapse(!0)),o}function $t(n){return Object.prototype.toString.call(n)=="[object Text]"}function ta(n){return Object.prototype.toString.apply(n)=="[object Range]"}function cg(n){return n&&n.parentNode?n.offsetParent===L.document.body?null:n.offsetParent:null}const dg=["top","right","bottom","left","width","height"];class K{constructor(t){m(this,"top"),m(this,"right"),m(this,"bottom"),m(this,"left"),m(this,"width"),m(this,"height"),m(this,"_source");const e=ta(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),ac(t)||e)if(e){const i=K.getDomRangeRects(t);ea(this,K.getBoundingRect(i))}else ea(this,t.getBoundingClientRect());else if(Xs(t)){const{innerWidth:i,innerHeight:o}=t;ea(this,{top:0,right:i,bottom:o,left:0,width:i,height:o})}else ea(this,t)}clone(){return new K(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const i=new K(e);return i._source=this._source,i}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(ug(t))return e;let i,o=t,r=t.parentNode||t.commonAncestorContainer;for(;r&&!ug(r);){const a=((s=r)instanceof HTMLElement?s.ownerDocument.defaultView.getComputedStyle(s).overflow:"visible")==="visible";o instanceof HTMLElement&&hg(o)==="absolute"&&(i=o);const l=hg(r);if(a||i&&(l==="relative"&&a||l!=="relative")){o=r,r=r.parentNode;continue}const c=new K(r),d=e.getIntersection(c);if(!d)return null;d.getArea()<e.getArea()&&(e=d),o=r,r=r.parentNode}var s;return e}isEqual(t){for(const e of dg)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=L.window,i=this.clone().moveBy(t,e);if(ac(i._source)){const o=cg(i._source);o&&function(r,s){const a=new K(s),l=ag(s);let c=0,d=0;c-=a.left,d-=a.top,c+=s.scrollLeft,d+=s.scrollTop,c-=l.left,d-=l.top,r.moveBy(c,d)}(i,o)}return i}excludeScrollbarsAndBorders(){const t=this._source;let e,i,o;if(Xs(t))e=t.innerWidth-t.document.documentElement.clientWidth,i=t.innerHeight-t.document.documentElement.clientHeight,o=t.getComputedStyle(t.document.documentElement).direction;else{const r=ag(t);e=t.offsetWidth-t.clientWidth-r.left-r.right,i=t.offsetHeight-t.clientHeight-r.top-r.bottom,o=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,o==="ltr"?this.right-=e:this.left+=e,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const e=[],i=Array.from(t.getClientRects());if(i.length)for(const o of i)e.push(new K(o));else{let o=t.startContainer;$t(o)&&(o=o.parentNode);const r=new K(o.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const o of t)i++,e.left=Math.min(e.left,o.left),e.top=Math.min(e.top,o.top),e.right=Math.max(e.right,o.right),e.bottom=Math.max(e.bottom,o.bottom);return i==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new K(e))}}function ea(n,t){for(const e of dg)n[e]=t[e]}function ug(n){return!!ac(n)&&n===n.ownerDocument.body}function ac(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function hg(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}const lc=class Xt{constructor(t,e){m(this,"_element"),m(this,"_callback"),Xt._observerInstance||Xt._createObserver(),this._element=t,this._callback=e,Xt._addElementCallback(t,e),Xt._observerInstance.observe(t)}get element(){return this._element}destroy(){Xt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Xt._elementCallbacks||(Xt._elementCallbacks=new Map);let i=Xt._elementCallbacks.get(t);i||(i=new Set,Xt._elementCallbacks.set(t,i)),i.add(e)}static _deleteElementCallback(t,e){const i=Xt._getElementCallbacks(t);i&&(i.delete(e),i.size||(Xt._elementCallbacks.delete(t),Xt._observerInstance.unobserve(t))),Xt._elementCallbacks&&!Xt._elementCallbacks.size&&(Xt._observerInstance=null,Xt._elementCallbacks=null)}static _getElementCallbacks(t){return Xt._elementCallbacks?Xt._elementCallbacks.get(t):null}static _createObserver(){Xt._observerInstance=new L.window.ResizeObserver(t=>{for(const e of t){const i=Xt._getElementCallbacks(e.target);if(i)for(const o of i)o(e)}})}};m(lc,"_observerInstance",null),m(lc,"_elementCallbacks",null);let Ar=lc;function mg(n,t){n instanceof HTMLTextAreaElement&&(n.value=t),n.innerHTML=t}function wn(n){return t=>t+n}function xr(n){let t=0;for(;n.previousSibling;)n=n.previousSibling,t++;return t}function gg(n,t,e){n.insertBefore(e,n.childNodes[t]||null)}function Er(n){return n&&n.nodeType===Node.COMMENT_NODE}function CC(n){try{L.document.createAttribute(n)}catch{return!1}return!0}function qi(n){return!!n&&($t(n)?qi(n.parentElement):!!n.getClientRects&&!!n.getClientRects().length)}function cc({element:n,target:t,positions:e,limiter:i,fitInViewport:o,viewportOffsetConfig:r}){Zs(t)&&(t=t()),Zs(i)&&(i=i());const s=cg(n),a=function(h){h=Object.assign({top:0,bottom:0,left:0,right:0},h);const g=new K(L.window);return g.top+=h.top,g.height-=h.top,g.bottom-=h.bottom,g.height-=h.bottom,g}(r),l=new K(n),c=fg(t,a);let d;if(!c||!a.getIntersection(c))return null;const u={targetRect:c,elementRect:l,positionedElementAncestor:s,viewportRect:a};if(i||o){if(i){const h=fg(i,a);h&&(u.limiterRect=h)}d=function(h,g){const{elementRect:f}=g,p=f.getArea(),b=h.map(_=>new pg(_,g)).filter(_=>!!_.name);let k=0,w=null;for(const _ of b){const{limiterIntersectionArea:y,viewportIntersectionArea:A}=_;if(y===p)return _;const x=A**2+y**2;x>k&&(k=x,w=_)}return w}(e,u)}else d=new pg(e[0],u);return d}function fg(n,t){const e=new K(n).getVisible();return e?e.getIntersection(t):null}class pg{constructor(t,e){m(this,"name"),m(this,"config"),m(this,"_positioningFunctionCoordinates"),m(this,"_options"),m(this,"_cachedRect"),m(this,"_cachedAbsoluteRect");const i=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!i)return;const{left:o,top:r,name:s,config:a}=i;this.name=s,this.config=a,this._positioningFunctionCoordinates={left:o,top:r},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function bg(n){const t=n.parentNode;t&&t.removeChild(n)}function AC({target:n,viewportOffset:t=0,ancestorOffset:e=0,alignToTop:i,forceScroll:o}){const r=dc(n);let s=r,a=null;for(t=function(l){return typeof l=="number"?{top:l,bottom:l,left:l,right:l}:l}(t);s;){let l;l=TC(s==r?n:a),EC({parent:l,getRect:()=>uc(n,s),alignToTop:i,ancestorOffset:e,forceScroll:o});let c=uc(n,s);const d=uc(l,s);if(c.height>d.height){const u=c.getIntersection(d);u&&(c=u)}if(xC({window:s,rect:c,viewportOffset:t,alignToTop:i,forceScroll:o}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}function xC({window:n,rect:t,alignToTop:e,forceScroll:i,viewportOffset:o}){const r=t.clone().moveBy(0,o.bottom),s=t.clone().moveBy(0,-o.top),a=new K(n).excludeScrollbarsAndBorders(),l=e&&i,c=[s,r].every(f=>a.contains(f));let{scrollX:d,scrollY:u}=n;const h=d,g=u;l?u-=a.top-t.top+o.top:c||(wg(s,a)?u-=a.top-t.top+o.top:kg(r,a)&&(u+=e?t.top-a.top-o.top:t.bottom-a.bottom+o.bottom)),c||(_g(t,a)?d-=a.left-t.left+o.left:vg(t,a)&&(d+=t.right-a.right+o.right)),d==h&&u===g||n.scrollTo(d,u)}function EC({parent:n,getRect:t,alignToTop:e,forceScroll:i,ancestorOffset:o=0,limiterElement:r}){const s=dc(n),a=e&&i;let l,c,d;const u=r||s.document.body;for(;n!=u;)c=t(),l=new K(n).excludeScrollbarsAndBorders(),d=l.contains(c),a?n.scrollTop-=l.top-c.top+o:d||(wg(c,l)?n.scrollTop-=l.top-c.top+o:kg(c,l)&&(n.scrollTop+=e?c.top-l.top-o:c.bottom-l.bottom+o)),d||(_g(c,l)?n.scrollLeft-=l.left-c.left+o:vg(c,l)&&(n.scrollLeft+=c.right-l.right+o)),n=n.parentNode}function kg(n,t){return n.bottom>t.bottom}function wg(n,t){return n.top<t.top}function _g(n,t){return n.left<t.left}function vg(n,t){return n.right>t.right}function dc(n){return ta(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function TC(n){if(ta(n)){let t=n.commonAncestorContainer;return $t(t)&&(t=t.parentNode),t}return n.parentNode}function uc(n,t){const e=dc(n),i=new K(n);if(e===t)return i;{let o=e;for(;o!=t;){const r=o.frameElement,s=new K(r).excludeScrollbarsAndBorders();i.moveBy(s.left,s.top),o=o.parent}}return i}const SC={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},IC={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},yg={37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",9:"\u21E5",33:"Page Up",34:"Page Down"},it=LC(),MC=Object.fromEntries(Object.entries(it).map(([n,t])=>{let e;return e=t in yg?yg[t]:n.charAt(0).toUpperCase()+n.slice(1),[t,e]}));function qn(n){let t;if(typeof n=="string"){if(t=it[n.toLowerCase()],!t)throw new v("keyboard-unknown-key",null,{key:n})}else t=n.keyCode+(n.altKey?it.alt:0)+(n.ctrlKey?it.ctrl:0)+(n.shiftKey?it.shift:0)+(n.metaKey?it.cmd:0);return t}function Tr(n){return typeof n=="string"&&(n=function(t){return t.split("+").map(e=>e.trim())}(n)),n.map(t=>typeof t=="string"?function(e){if(e.endsWith("!"))return qn(e.slice(0,-1));const i=qn(e);return(j.isMac||j.isiOS)&&i==it.ctrl?it.cmd:i}(t):t).reduce((t,e)=>e+t,0)}function ia(n,t){let e=Tr(n);const i=j.isMac||j.isiOS;return Object.entries(i?SC:IC).reduce((o,[r,s])=>(e&it[r]&&(e&=~it[r],o+=s),o),"")+(e?MC[e]:"")}function DC(n){return n==it.arrowright||n==it.arrowleft||n==it.arrowup||n==it.arrowdown}function na(n,t){const e=t==="ltr";switch(n){case it.arrowleft:return e?"left":"right";case it.arrowright:return e?"right":"left";case it.arrowup:return"up";case it.arrowdown:return"down"}}function PC(n,t){const e=na(n,t);return e==="down"||e==="right"}function LC(){const n={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)n[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)n[t-48]=t;for(let t=112;t<=123;t++)n["f"+(t-111)]=t;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}const BC=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Cg(n){return BC.includes(n)?"rtl":"ltr"}function Dt(n){return Array.isArray(n)?n:[n]}function NC(n,t,e=1,i){if(typeof e!="number")throw new v("translation-service-quantity-not-a-number",null,{quantity:e});const o=i||L.window.CKEDITOR_TRANSLATIONS,r=function(d){return Object.keys(d).length}(o);r===1&&(n=Object.keys(o)[0]);const s=t.id||t.string;if(r===0||!function(d,u,h){return!!h[d]&&!!h[d].dictionary[u]}(n,s,o))return e!==1?t.plural:t.string;const a=o[n].dictionary,l=o[n].getPluralForm||(d=>d===1?0:1),c=a[s];return typeof c=="string"?c:c[Number(l(e))]}L.window.CKEDITOR_TRANSLATIONS||(L.window.CKEDITOR_TRANSLATIONS={});class zC{constructor({uiLanguage:t="en",contentLanguage:e,translations:i}={}){m(this,"uiLanguage"),m(this,"uiLanguageDirection"),m(this,"contentLanguage"),m(this,"contentLanguageDirection"),m(this,"t"),m(this,"translations"),this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=Cg(this.uiLanguage),this.contentLanguageDirection=Cg(this.contentLanguage),this.translations=function(o){return Array.isArray(o)?o.reduce((r,s)=>oc(r,s)):o}(i),this.t=(o,r)=>this._t(o,r)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=Dt(e),typeof t=="string"&&(t={string:t});const i=t.plural?e[0]:1;return function(o,r){return o.replace(/%(\d+)/g,(s,a)=>a<r.length?r[a]:s)}(NC(this.uiLanguage,t,i,this.translations),e)}}class ie extends kt(){constructor(t={},e={}){super(),m(this,"_items"),m(this,"_itemMap"),m(this,"_idProperty"),m(this,"_bindToCollection"),m(this,"_bindToExternalToInternalMap"),m(this,"_bindToInternalToExternalMap"),m(this,"_skippedIndexesFromExternal");const i=$e(t);if(i||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const o of t)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(e===void 0)e=this._items.length;else if(e>this._items.length||e<0)throw new v("collection-add-item-invalid-index",this);let i=0;for(const o of t){const r=this._getItemIdBeforeAdding(o),s=e+i;this._items.splice(s,0,o),this._itemMap.set(r,o),this.fire("add",o,s),i++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if(typeof t=="string")e=this._itemMap.get(t);else{if(typeof t!="number")throw new v("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e=typeof t=="string"?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,i]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:i}),e}map(t,e){return this._items.map(t,e)}forEach(t,e){this._items.forEach(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new v("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:e=>{this._setUpBindToBinding(i=>new e(i))},using:e=>{typeof e=="function"?this._setUpBindToBinding(e):this._setUpBindToBinding(i=>i[e])}}}_setUpBindToBinding(t){const e=this._bindToCollection,i=(o,r,s)=>{const a=e._bindToCollection==this,l=e._bindToInternalToExternalMap.get(r);if(a&&l)this._bindToExternalToInternalMap.set(r,l),this._bindToInternalToExternalMap.set(l,r);else{const c=t(r);if(!c)return void this._skippedIndexesFromExternal.push(s);let d=s;for(const u of this._skippedIndexesFromExternal)s>u&&d--;for(const u of e._skippedIndexesFromExternal)d>=u&&d++;this._bindToExternalToInternalMap.set(r,c),this._bindToInternalToExternalMap.set(c,r),this.add(c,d);for(let u=0;u<e._skippedIndexesFromExternal.length;u++)d<=e._skippedIndexesFromExternal[u]&&e._skippedIndexesFromExternal[u]++}};for(const o of e)i(0,o,e.getIndex(o));this.listenTo(e,"add",i),this.listenTo(e,"remove",(o,r,s)=>{const a=this._bindToExternalToInternalMap.get(r);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,c)=>(s<c&&l.push(c-1),s>c&&l.push(c),l),[])})}_getItemIdBeforeAdding(t){const e=this._idProperty;let i;if(e in t){if(i=t[e],typeof i!="string")throw new v("collection-add-invalid-id",this);if(this.get(i))throw new v("collection-add-item-already-exists",this)}else t[e]=i=Ae();return i}_remove(t){let e,i,o,r=!1;const s=this._idProperty;if(typeof t=="string"?(i=t,o=this._itemMap.get(i),r=!o,o&&(e=this._items.indexOf(o))):typeof t=="number"?(e=t,o=this._items[e],r=!o,o&&(i=o[s])):(o=t,i=o[s],e=this._items.indexOf(o),r=e==-1||!this._itemMap.get(i)),r)throw new v("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(i);const a=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(a),this.fire("remove",o,e),[o,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function _t(n){const t=n.next();return t.done?null:t.value}class ht extends Se(wt()){constructor(){super(),m(this,"_elements",new Set),m(this,"_externalViews",new Set),m(this,"_blurTimeout",null),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(t){if(xg(t))this._addElement(t);else if(Ag(t))this._addView(t);else{if(!t.element)throw new v("focustracker-add-view-missing-element",{focusTracker:this,view:t});this._addElement(t.element)}}remove(t){xg(t)?this._removeElement(t):Ag(t)?this._removeView(t):this._removeElement(t.element)}_addElement(t){if(this._elements.has(t))throw new v("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>{const e=this.externalViews.find(i=>function(o,r){return Eg(o,r)?!0:!!r.focusTracker.externalViews.find(s=>Eg(o,s))}(t,i));e?this._focus(e.element):this._focus(t)},{useCapture:!0}),this.listenTo(t,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(t)}_removeElement(t){this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t)),t===this.focusedElement&&this._blur()}_addView(t){t.element&&this._addElement(t.element),this.listenTo(t.focusTracker,"change:focusedElement",()=>{t.focusTracker.focusedElement?t.element&&this._focus(t.element):this._blur()}),this._externalViews.add(t)}_removeView(t){t.element&&this._removeElement(t.element),this.stopListening(t.focusTracker),this._externalViews.delete(t)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(t){this._clearBlurTimeout(),this.focusedElement=t,this.isFocused=!0}_blur(){this.elements.find(t=>t.contains(document.activeElement))||this.externalViews.find(t=>t.focusTracker.isFocused&&!t.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function Ag(n){return"focusTracker"in n&&n.focusTracker instanceof ht}function xg(n){return bn(n)}function Eg(n,t){return!!t.element&&t.element.contains(document.activeElement)&&n.contains(t.element)}class Tt{constructor(){m(this,"_listener"),this._listener=new(Se())}listenTo(t){this._listener.listenTo(t,"keydown",(e,i)=>{this._listener.fire("_keydown:"+qn(i),i)})}set(t,e,i={}){const o=Tr(t),r=i.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(s,a)=>{i.filter&&!i.filter(a)||(e(a,()=>{a.preventDefault(),a.stopPropagation(),s.stop()}),s.return=!0)},{priority:r})}press(t){return!!this._listener.fire("_keydown:"+qn(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function hi(n){return $e(n)?new Map(n):function(t){const e=new Map;for(const i in t)e.set(i,t[i]);return e}(n)}function Tg(n,t,e){const i=n.length,o=t.length;for(let r=i-1;r>=e;r--)n[r+o]=n[r];for(let r=0;r<o;r++)n[e+r]=t[r]}function hc(n,t){let e;function i(...o){i.cancel(),e=setTimeout(()=>n(...o),t)}return i.cancel=()=>{clearTimeout(e)},i}function mc(n){try{if(!n.startsWith("ey"))return null;const t=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(t)}catch{return null}}function OC(n){const t=Array.isArray(n)?n:[n],e=function(){const r=[];for(let s=0;s<256;s++){let a=s;for(let l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;r[s]=a}return r}();let i=-1;const o=t.map(r=>Array.isArray(r)?r.join(""):String(r)).join("");for(let r=0;r<o.length;r++)i=i>>>8^e[255&(i^o.charCodeAt(r))];return i=~i>>>0,i.toString(16).padStart(8,"0")}function RC(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function VC(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function FC(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function gc(n,t){return VC(n.charAt(t-1))&&FC(n.charAt(t))}function fc(n,t){return RC(n.charAt(t))}const jC=HC();function Sg(n,t){const e=String(n).matchAll(jC);return Array.from(e).some(i=>i.index<t&&t<i.index+i[0].length)}function HC(){const n=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map(e=>e.source).join("|")+")";return new RegExp(`${n}|${t}(?:\u200D${t})*`,"ug")}class C extends wt(){constructor(t){super(),m(this,"editor"),m(this,"_disableStack",new Set),this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Ig,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Ig),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function Ig(n){n.return=!1,n.stop()}class q extends wt(){constructor(t){super(),m(this,"editor"),m(this,"_isEnabledBasedOnSelection"),m(this,"_affectsData"),m(this,"_disableStack"),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(t,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",e=>{if(!this.affectsData)return;const i=t.model.document.selection,o=i.getFirstPosition().root.rootName!="$graveyard"&&t.model.canEditAt(i);(t.isReadOnly||this._isEnabledBasedOnSelection&&!o)&&(e.return=!1,e.stop())},{priority:"highest"}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Mg,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Mg),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function Mg(n){n.return=!1,n.stop()}class Dg extends q{constructor(){super(...arguments),m(this,"_childCommandsDefinitions",[])}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){mm(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:e})=>e.isEnabled);return t&&t.command}}class Pg extends kt(){constructor(t,e=[],i=[]){super(),m(this,"_context"),m(this,"_plugins",new Map),m(this,"_availablePlugins"),m(this,"_contextPlugins"),this._context=t,this._availablePlugins=new Map;for(const o of e)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,r]of i)this._contextPlugins.set(o,r),this._contextPlugins.set(r,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let i=t;throw typeof t=="function"&&(i=t.pluginName||t.name),new v("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return e}has(t){return this._plugins.has(t)}init(t,e=[],i=[]){const o=this,r=this._context;(function f(p,b=new Set){p.forEach(k=>{l(k)&&(b.has(k)||(b.add(k),k.pluginName&&!o._availablePlugins.has(k.pluginName)&&o._availablePlugins.set(k.pluginName,k),k.requires&&f(k.requires,b)))})})(t),h(t);const s=[...function f(p,b=new Set){return p.map(k=>l(k)?k:o._availablePlugins.get(k)).reduce((k,w)=>b.has(w)?k:(b.add(w),w.requires&&(h(w.requires,w),f(w.requires,b).forEach(_=>k.add(_))),k.add(w)),new Set)}(t.filter(f=>!d(f,e)))];(function(f,p){for(const b of p){if(typeof b!="function")throw new v("plugincollection-replace-plugin-invalid-type",null,{pluginItem:b});const k=b.pluginName;if(!k)throw new v("plugincollection-replace-plugin-missing-name",null,{pluginItem:b});if(b.requires&&b.requires.length)throw new v("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:k});const w=o._availablePlugins.get(k);if(!w)throw new v("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:k});const _=f.indexOf(w);if(_===-1){if(o._contextPlugins.has(w))return;throw new v("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:k})}if(w.requires&&w.requires.length)throw new v("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:k});f.splice(_,1,b),o._availablePlugins.set(k,b)}})(s,i);const a=function(f){return f.map(p=>{let b=o._contextPlugins.get(p);return b=b||new p(r),o._add(p,b),b})}(s);return g(a,"init").then(()=>g(a,"afterInit")).then(()=>a);function l(f){return typeof f=="function"}function c(f){return l(f)&&!!f.isContextPlugin}function d(f,p){return p.some(b=>b===f||u(f)===b||u(b)===f)}function u(f){return l(f)?f.pluginName||f.name:f}function h(f,p=null){f.map(b=>l(b)?b:o._availablePlugins.get(b)||b).forEach(b=>{(function(k,w){if(!l(k))throw w?new v("plugincollection-soft-required",r,{missingPlugin:k,requiredBy:u(w)}):new v("plugincollection-plugin-not-found",r,{plugin:k})})(b,p),function(k,w){if(c(w)&&!c(k))throw new v("plugincollection-context-required",r,{plugin:u(k),requiredBy:u(w)})}(b,p),function(k,w){if(w&&d(k,e))throw new v("plugincollection-required",r,{plugin:u(k),requiredBy:u(w)})}(b,p)})}function g(f,p){return f.reduce((b,k)=>k[p]?o._contextPlugins.has(k)?b:b.then(k[p].bind(k)):b,Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)typeof e.destroy!="function"||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const i=t.pluginName;if(i){if(this._plugins.has(i))throw new v("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:t});this._plugins.set(i,e)}}}class oa{constructor(t){m(this,"config"),m(this,"plugins"),m(this,"locale"),m(this,"t"),m(this,"editors"),m(this,"_contextOwner",null);const{translations:e,...i}=t||{};this.config=new ig(i,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new Pg(this,o);const r=this.config.get("language")||{};this.locale=new zC({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new ie}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const i of t.concat(e)){if(typeof i!="function")throw new v("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new v("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new v("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const i=new this(t);e(i.initPlugins().then(()=>i))})}}m(oa,"defaultConfig"),m(oa,"builtinPlugins");class Lg extends wt(){constructor(t){super(),m(this,"context"),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}const Sr=new WeakMap;let Bg=!1;function pc({view:n,element:t,text:e,isDirectHost:i=!0,keepOnFocus:o=!1}){const r=n.document;function s(a){const l={text:a,isDirectHost:i,keepOnFocus:o,hostElement:i?t:null};Sr.get(r).set(t,l),n.change(c=>kc([[t,l]],c))}Sr.has(r)||(Sr.set(r,new Map),r.registerPostFixer(a=>kc(Sr.get(r),a)),r.on("change:isComposing",()=>{n.change(a=>kc(Sr.get(r),a))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(a,l,c)=>s(c)),t.placeholder?s(t.placeholder):e&&s(e),e&&function(){Bg||st("enableplaceholder-deprecated-text-option"),Bg=!0}()}function Ng(n,t){return!t.hasClass("ck-placeholder")&&(n.addClass("ck-placeholder",t),!0)}function bc(n,t){return!!t.hasClass("ck-placeholder")&&(n.removeClass("ck-placeholder",t),!0)}function zg(n,t){if(!n.isAttached()||function(o){for(const r of o.getChildren())if(!r.is("uiElement"))return!0;return!1}(n))return!1;const e=n.document,i=e.selection.anchor;return(!e.isComposing||!i||i.parent!==n)&&(!!t||!e.isFocused||!!i&&i.parent!==n)}function kc(n,t){const e=[];let i=!1;for(const[o,r]of n)r.isDirectHost&&(e.push(o),Og(t,o,r)&&(i=!0));for(const[o,r]of n){if(r.isDirectHost)continue;const s=UC(o);s&&(e.includes(s)||(r.hostElement=s,Og(t,o,r)&&(i=!0)))}return i}function Og(n,t,e){const{text:i,isDirectHost:o,hostElement:r}=e;let s=!1;return r.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,r),s=!0),(o||t.childCount==1)&&zg(r,e.keepOnFocus)?Ng(n,r)&&(s=!0):bc(n,r)&&(s=!0),s}function UC(n){if(n.childCount){const t=n.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}let Wn=class{is(){throw new Error("is() method is abstract")}},Gn=class extends kt(Wn){constructor(n){super(),m(this,"document"),m(this,"parent"),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new v("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let t=this;for(;t.parent;)n.unshift(t.index),t=t.parent;return n}getAncestors(n={}){const t=[];let e=n.includeSelf?this:this.parent;for(;e;)t[n.parentFirst?"push":"unshift"](e),e=e.parent;return t}getCommonAncestor(n,t={}){const e=this.getAncestors(t),i=n.getAncestors(t);let o=0;for(;e[o]==i[o]&&e[o];)o++;return o===0?null:e[o-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const t=this.getPath(),e=n.getPath(),i=xe(t,e);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<e[i]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,t,e){this.fire(`change:${n}`,t,e),this.parent&&this.parent._fireChange(n,t,e)}toJSON(){const n=Zl(this);return delete n.parent,n}};Gn.prototype.is=function(n){return n==="node"||n==="view:node"};let fe=class Vu extends Gn{constructor(t,e){super(t),m(this,"_textData"),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Vu&&(this===t||this.data===t.data)}_clone(){return new Vu(this.document,this.data)}};fe.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};let Wi=class extends Wn{constructor(n,t,e){if(super(),m(this,"textNode"),m(this,"data"),m(this,"offsetInText"),this.textNode=n,t<0||t>n.data.length)throw new v("view-textproxy-wrong-offsetintext",this);if(e<0||t+e>n.data.length)throw new v("view-textproxy-wrong-length",this);this.data=n.data.substring(t,t+e),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const t=[];let e=n.includeSelf?this.textNode:this.parent;for(;e!==null;)t[n.parentFirst?"push":"unshift"](e),e=e.parent;return t}};Wi.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class ml{constructor(){m(this,"_consumables",new Map)}add(t,e){let i;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?i=this._consumables.get(t):(i=new $C(t),this._consumables.set(t,i)),i.add(e?Ir(e):t._getConsumables()))}test(t,e){const i=this._consumables.get(t);return i===void 0?null:t.is("$text")||t.is("documentFragment")?i:i.test(Ir(e))}consume(t,e){if(t.is("$text")||t.is("documentFragment"))return!!this.test(t,e)&&(this._consumables.set(t,!1),!0);const i=this._consumables.get(t);return i!==void 0&&i.consume(Ir(e))}revert(t,e){const i=this._consumables.get(t);i!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):i.revert(Ir(e)))}static createFrom(t,e){if(e||(e=new ml),t.is("$text"))e.add(t);else if(t.is("element")||t.is("documentFragment")){e.add(t);for(const i of t.getChildren())ml.createFrom(i,e)}return e}}class $C{constructor(t){m(this,"element"),m(this,"_canConsumeName",null),m(this,"_attributes",new Map),this.element=t}add(t){t.name&&(this._canConsumeName=!0);for(const[e,i]of t.attributes)if(i){let o=this._attributes.get(e);o&&typeof o!="boolean"||(o=new Map,this._attributes.set(e,o)),o.set(i,!0)}else{if(e=="style"||e=="class")throw new v("viewconsumable-invalid-attribute",this);this._attributes.set(e,!0)}}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const[e,i]of t.attributes){const o=this._attributes.get(e);if(o===void 0)return null;if(o===!1)return!1;if(o!==!0){if(i){const r=o.get(i);if(r===void 0)return null;if(!r)return!1}else for(const r of o.values())if(!r)return!1}}return!0}consume(t){if(!this.test(t))return!1;t.name&&(this._canConsumeName=!1);for(const[e,i]of t.attributes){const o=this._attributes.get(e);if(typeof o=="boolean")for(const[r]of this.element._getConsumables(e,i).attributes)this._attributes.set(r,!1);else if(i)for(const[,r]of this.element._getConsumables(e,i).attributes)o.set(r,!1);else for(const r of o.keys())o.set(r,!1)}return!0}revert(t){t.name&&(this._canConsumeName=!0);for(const[e,i]of t.attributes){const o=this._attributes.get(e);if(o!==!1){if(o!==void 0&&o!==!0)if(i)o.get(i)===!1&&o.set(i,!0);else for(const r of o.keys())o.set(r,!0)}else this._attributes.set(e,!0)}}}function Ir(n){const t=[];return"attributes"in n&&n.attributes&&wc(t,n.attributes),"classes"in n&&n.classes&&wc(t,n.classes,"class"),"styles"in n&&n.styles&&wc(t,n.styles,"style"),{name:n.name||!1,attributes:t}}function wc(n,t,e){if(typeof t!="string")for(const i of t)Array.isArray(i)?n.push(i):n.push(e?[e,i]:[i]);else n.push(e?[e,t]:[t])}class qe{constructor(...t){m(this,"_patterns",[]),this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const i of this._patterns){const o=this._isElementMatching(e,i);if(o)return{element:e,pattern:i,match:o}}return null}matchAll(...t){const e=[];for(const i of t)for(const o of this._patterns){const r=this._isElementMatching(i,o);r&&e.push({element:i,pattern:o,match:r})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t=="function"||!e||e instanceof RegExp?null:e}_isElementMatching(t,e){if(typeof e=="function"){const r=e(t);return r&&typeof r=="object"?Ir(r):r}const i={};if(e.name&&(i.name=function(r,s){return r instanceof RegExp?!!s.match(r):r===s}(e.name,t.name),!i.name))return null;const o=[];return e.attributes&&!function(r,s,a){let l;return typeof r!="object"||r instanceof RegExp||Array.isArray(r)?l=["class","style"]:(r.style!==void 0&&st("matcher-pattern-deprecated-attributes-style-key",r),r.class!==void 0&&st("matcher-pattern-deprecated-attributes-class-key",r)),s._collectAttributesMatch(_c(r),a,l)}(e.attributes,t,o)||e.classes&&!function(r,s,a){return s._collectAttributesMatch(_c(r,"class"),a)}(e.classes,t,o)||e.styles&&!function(r,s,a){return s._collectAttributesMatch(_c(r,"style"),a)}(e.styles,t,o)?null:(o.length&&(i.attributes=o),i)}}function ra(n,t){return n===!0||n===t||n instanceof RegExp&&!!String(t).match(n)}function _c(n,t){if(Array.isArray(n))return n.map(i=>typeof i!="object"||i instanceof RegExp?t?[t,i,!0]:[i,!0]:(i.key!==void 0&&i.value!==void 0||st("matcher-pattern-missing-key-or-value",i),t?[t,i.key,i.value]:[i.key,i.value]));if(typeof n!="object"||n instanceof RegExp)return[t?[t,n,!0]:[n,!0]];const e=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(t?[t,i,n[i]]:[i,n[i]]);return e}class Mr{constructor(t){m(this,"_styles"),m(this,"_cachedStyleNames",null),m(this,"_cachedExpandedStyleNames",null),m(this,"_styleProcessor"),this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=function(i){let o=null,r=0,s=0,a=null;const l=new Map;if(i==="")return l;i.charAt(i.length-1)!=";"&&(i+=";");for(let c=0;c<i.length;c++){const d=i.charAt(c);if(o===null)switch(d){case":":a||(a=i.substr(r,c-r),s=c+1);break;case'"':case"'":o=d;break;case";":{const u=i.substr(s,c-s);a&&l.set(a.trim(),u.trim()),a=null,r=c+1;break}}else d===o&&(o=null)}return l}(t);for(const[i,o]of e)this._styleProcessor.toNormalizedForm(i,o,this._styles);return this}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find(([i])=>i===t);return Array.isArray(e)}set(t,e){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,ci(t))for(const[i,o]of Object.entries(t))this._styleProcessor.toNormalizedForm(i,o,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){for(const e of Dt(t)){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const i=vc(e);pC(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!ci(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find(([i])=>i===t);return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?(this._cachedExpandedStyleNames||(this._cachedExpandedStyleNames=this._styleProcessor.getStyleNames(this._styles)),this._cachedExpandedStyleNames):(this._cachedStyleNames||(this._cachedStyleNames=this.getStylesEntries().map(([e])=>e)),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.getStyleNames())if(!t.has(e)||t.getAsString(e)!==this.getAsString(e))return!1;return!0}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const i of e)t.push(...this._styleProcessor.getReducedForm(i,this._styles));return t}_clone(){const t=new this.constructor(this._styleProcessor);return t.set(this.getNormalized()),t}_getTokensMatch(t,e){const i=[];for(const o of this.getStyleNames(!0))if(ra(t,o)){if(e===!0){i.push(o);continue}ra(e,this.getAsString(o))&&i.push(o)}return i.length?i:void 0}_getConsumables(t){const e=[];if(t){e.push(t);for(const i of this._styleProcessor.getRelatedStyles(t))e.push(i)}else for(const i of this.getStyleNames()){for(const o of this._styleProcessor.getRelatedStyles(i))e.push(o);e.push(i)}return e}_canMergeFrom(t){for(const e of t.getStyleNames())if(this.has(e)&&this.getAsString(e)!==t.getAsString(e))return!1;return!0}_mergeFrom(t){for(const e of t.getStyleNames())this.has(e)||this.set(e,t.getAsString(e))}_isMatching(t){for(const e of t.getStyleNames())if(!this.has(e)||this.getAsString(e)!==t.getAsString(e))return!1;return!0}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const i=e.splice(0,e.length-1).join("."),o=pn(this._styles,i);o&&!Object.keys(o).length&&this.remove(i)}}class qC{constructor(){m(this,"_normalizers"),m(this,"_extractors"),m(this,"_reducers"),m(this,"_consumables"),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,i){if(ci(e))yc(i,vc(t),e);else if(this._normalizers.has(t)){const o=this._normalizers.get(t),{path:r,value:s}=o(e);yc(i,r,s)}else yc(i,t,e)}getNormalized(t,e){if(!t)return oc({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const i=this._extractors.get(t);if(typeof i=="string")return pn(e,i);const o=i(t,e);if(o)return o}return pn(e,vc(t))}getReducedForm(t,e){const i=this.getNormalized(t,e);return i===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(i):[[t,i]]}getStyleNames(t){const e=new Set;for(const i of this._consumables.keys()){const o=this.getNormalized(i,t);o&&(typeof o!="object"||Object.keys(o).length)&&e.add(i)}for(const i of Object.keys(t))e.add(i);return Array.from(e)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const i of e)this._mapStyleNames(i,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function vc(n){return n.replace("-",".")}function yc(n,t,e){let i=e;ci(e)&&(i=oc({},pn(n,t),e)),qm(n,t,i)}class Cc{constructor(){m(this,"_set",new Set)}get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(t){return this._set.has(t)}keys(){return Array.from(this._set.keys())}setTo(t){this.clear();for(const e of t.split(/\s+/))e&&this._set.add(e);return this}set(t){for(const e of Dt(t))e&&this._set.add(e)}remove(t){for(const e of Dt(t))this._set.delete(e)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.keys())if(!t.has(e))return!1;return!0}_clone(){const t=new this.constructor;return t._set=new Set(this._set),t}_getTokensMatch(t){const e=[];if(t===!0){for(const i of this._set.keys())e.push(i);return e}if(typeof t=="string"){for(const i of t.split(/\s+/)){if(!this._set.has(i))return;e.push(i)}return e}for(const i of this._set.keys())i.match(t)&&e.push(i);return e.length?e:void 0}_getConsumables(t){return t?[t]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(t){for(const e of t._set.keys())this._set.has(e)||this._set.add(e)}_isMatching(t){for(const e of t._set.keys())if(!this._set.has(e))return!1;return!0}}let Gi=class U0 extends Gn{constructor(t,e,i,o){super(t),m(this,"name"),m(this,"_unsafeAttributesToRender",[]),m(this,"_attrs"),m(this,"_children"),m(this,"_customProperties",new Map),this.name=e,this._attrs=this._parseAttributes(i),this._children=[],o&&this._insertChild(0,o)}get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const t of this._attrs.keys())t!="class"&&t!="style"&&(yield t)}*getAttributes(){for(const[t,e]of this._attrs.entries())yield[t,String(e)]}getAttribute(t){return this._attrs.has(t)?String(this._attrs.get(t)):void 0}hasAttribute(t,e){return!!this._attrs.has(t)&&(e===void 0||(Mo(this.name,t)||Dr(this.name,t)?this._attrs.get(t).has(e):this._attrs.get(t)===e))}isSimilar(t){if(!(t instanceof U0))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size)return!1;for(const[e,i]of this._attrs){const o=t._attrs.get(e);if(o===void 0)return!1;if(typeof i=="string"||typeof o=="string"){if(o!==i)return!1}else if(!i.isSimilar(o))return!1}return!0}hasClass(...t){for(const e of t)if(!this._classes||!this._classes.has(e))return!1;return!0}getClassNames(){const t=this._classes?this._classes.keys():[],e=t[Symbol.iterator]();return Object.assign(t,{next:e.next.bind(e)})}getStyle(t){return this._styles&&this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles&&this._styles.getNormalized(t)}getStyleNames(t){return this._styles?this._styles.getStyleNames(t):[]}hasStyle(...t){for(const e of t)if(!this._styles||!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new qe(...t);let i=this.parent;for(;i&&!i.is("documentFragment");){if(e.match(i))return i;i=i.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=this._classes?this._classes.keys().sort().join(","):"",e=this._styles&&String(this._styles),i=Array.from(this._attrs).filter(([o])=>o!="style"&&o!="class").map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(e?` style="${e}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const o of this.getChildren())e.push(o._clone(t));const i=new this.constructor(this.document,this.name,this._attrs,e);return i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this,{index:t});let i=0;const o=function(r,s){if(typeof s=="string")return[new fe(r,s)];$e(s)||(s=[s]);const a=[];for(const l of s)typeof l=="string"?a.push(new fe(r,l)):l instanceof Wi?a.push(new fe(r,l.data)):a.push(l);return a}(this.document,e);for(const r of o)r.parent!==null&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(t,0,r),t++,i++;return i}_removeChildren(t,e=1){this._fireChange("children",this,{index:t});for(let i=t;i<t+e;i++)this._children[i].parent=null;return this._children.splice(t,e)}_setAttribute(t,e,i=!0){if(this._fireChange("attributes",this),Mo(this.name,t)||Dr(this.name,t)){let o=this._attrs.get(t);o||(o=Mo(this.name,t)?new Mr(this.document.stylesProcessor):new Cc,this._attrs.set(t,o)),i?o.setTo(String(e)):Mo(this.name,t)?Array.isArray(e)?o.set(e[0],e[1]):o.set(e):o.set(typeof e=="string"?e.split(/\s+/):e)}else this._attrs.set(t,String(e))}_removeAttribute(t,e){if(this._fireChange("attributes",this),e!==void 0&&(Mo(this.name,t)||Dr(this.name,t))){const i=this._attrs.get(t);return!!i&&(Dr(this.name,t)&&typeof e=="string"&&(e=e.split(/\s+/)),i.remove(e),!!i.isEmpty&&this._attrs.delete(t))}return this._attrs.delete(t)}_addClass(t){this._setAttribute("class",t,!1)}_removeClass(t){this._removeAttribute("class",t)}_setStyle(t,e){typeof t!="string"?this._setAttribute("style",t,!1):this._setAttribute("style",[t,e],!1)}_removeStyle(t){this._removeAttribute("style",t)}_collectAttributesMatch(t,e,i){for(const[o,r,s]of t){let a=!1,l=!1;for(const[c,d]of this._attrs)if(!(i&&i.includes(c)||!ra(o,c)))if(a=!0,typeof d=="string"){if(ra(r,d))e.push([c]),l=!0;else if(!(o instanceof RegExp))return!1}else{const u=d._getTokensMatch(r,s||!0);if(u){l=!0;for(const h of u)e.push([c,h])}else if(!(o instanceof RegExp))return!1}if(!a||!l)return!1}return!0}_getConsumables(t,e){const i=[];if(t){const o=this._attrs.get(t);if(o!==void 0)if(typeof o=="string")i.push([t]);else for(const r of o._getConsumables(e))i.push([t,r])}else for(const[o,r]of this._attrs)if(typeof r=="string")i.push([o]);else for(const s of r._getConsumables())i.push([o,s]);return{name:!t,attributes:i}}_canMergeAttributesFrom(t){if(this.name!=t.name)return!1;for(const[e,i]of t._attrs){const o=this._attrs.get(e);if(o!==void 0){if(typeof o=="string"||typeof i=="string"){if(o!==i)return!1}else if(!o._canMergeFrom(i))return!1}}return!0}_mergeAttributesFrom(t){this._fireChange("attributes",this);for(const[e,i]of t._attrs){const o=this._attrs.get(e);o===void 0||typeof o=="string"||typeof i=="string"?this._setAttribute(e,i):o._mergeFrom(i)}}_canSubtractAttributesOf(t){if(this.name!=t.name)return!1;for(const[e,i]of t._attrs){const o=this._attrs.get(e);if(o===void 0)return!1;if(typeof o=="string"||typeof i=="string"){if(o!==i)return!1}else if(!o._isMatching(i))return!1}return!0}_subtractAttributesOf(t){this._fireChange("attributes",this);for(const[e,i]of t._attrs){const o=this._attrs.get(e);typeof o=="string"||typeof i=="string"?this._attrs.delete(e):(o.remove(i.keys()),o.isEmpty&&this._attrs.delete(e))}}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}_parseAttributes(t){const e=hi(t);for(const[i,o]of e)if(o===null)e.delete(i);else if(Mo(this.name,i)){const r=o instanceof Mr?o._clone():new Mr(this.document.stylesProcessor).setTo(String(o));e.set(i,r)}else if(Dr(this.name,i)){const r=o instanceof Cc?o._clone():new Cc().setTo(String(o));e.set(i,r)}else typeof o!="string"&&e.set(i,String(o));return e}};function Dr(n,t){return t=="class"||n=="a"&&t=="rel"}function Mo(n,t){return t=="style"}Gi.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Pr extends Gi{constructor(t,e,i,o){super(t,e,i,o),this.getFillerOffset=WC}}function WC(){const n=[...this.getChildren()],t=n[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of n)if(!e.is("uiElement"))return null;return this.childCount}Pr.prototype.is=function(n,t){return t?t===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class sa extends wt(Pr){constructor(t,e,i,o){super(t,e,i,o),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",r=>r&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}sa.prototype.is=function(n,t){return t?t===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const Rg=Symbol("rootName");class Vg extends sa{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(Rg)}set rootName(t){this._setCustomProperty(Rg,t)}set _name(t){this.name=t}}Vg.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};let Kn=class{constructor(n={}){if(m(this,"direction"),m(this,"boundaries"),m(this,"singleCharacters"),m(this,"shallow"),m(this,"ignoreElementEnd"),m(this,"_position"),m(this,"_boundaryStartParent"),m(this,"_boundaryEndParent"),!n.boundaries&&!n.startPosition)throw new v("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new v("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=B._createAt(n.startPosition):this._position=B._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let t,e;do e=this.position,t=this.next();while(!t.done&&n(t.value));t.done||(this._position=e)}jumpTo(n){this._boundaryStartParent&&n.isBefore(this.boundaries.start)?n=this.boundaries.start:this._boundaryEndParent&&n.isAfter(this.boundaries.end)&&(n=this.boundaries.end),this._position=n.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const t=this.position,e=n.parent;if(e.parent===null&&n.offset===e.childCount)return{done:!0,value:void 0};if(e===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(e&&e.is("view:$text")){if(n.isAtEnd)return this._position=B._createAfter(e),this._next();i=e.data[n.offset]}else i=e.getChild(n.offset);if(typeof i=="string"){let o;this.singleCharacters?o=1:o=(e===this._boundaryEndParent?this.boundaries.end.offset:e.data.length)-n.offset;const r=new Wi(e,n.offset,o);return n.offset+=o,this._position=n,this._formatReturnValue("text",r,t,n,o)}if(i&&i.is("view:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new B(i,0);return this._position=n,this._formatReturnValue("elementStart",i,t,n,1)}if(i&&i.is("view:$text")){if(this.singleCharacters)return n=new B(i,0),this._position=n,this._next();let o,r=i.data.length;return i==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new Wi(i,0,r),n=B._createAfter(o)):(o=new Wi(i,0,i.data.length),n.offset++),this._position=n,this._formatReturnValue("text",o,t,n,r)}return n=B._createAfter(e),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",e,t,n)}_previous(){let n=this.position.clone();const t=this.position,e=n.parent;if(e.parent===null&&n.offset===0)return{done:!0,value:void 0};if(e==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(e.is("view:$text")){if(n.isAtStart)return this._position=B._createBefore(e),this._previous();i=e.data[n.offset-1]}else i=e.getChild(n.offset-1);if(typeof i=="string"){let o;if(this.singleCharacters)o=1;else{const s=e===this._boundaryStartParent?this.boundaries.start.offset:0;o=n.offset-s}n.offset-=o;const r=new Wi(e,n.offset,o);return this._position=n,this._formatReturnValue("text",r,t,n,o)}if(i&&i.is("view:element"))return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",i,t,n,1)):(n=new B(i,i.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,t,n));if(i&&i.is("view:$text")){if(this.singleCharacters)return n=new B(i,i.data.length),this._position=n,this._previous();let o,r=i.data.length;if(i==this._boundaryStartParent){const s=this.boundaries.start.offset;o=new Wi(i,s,i.data.length-s),r=o.data.length,n=B._createBefore(o)}else o=new Wi(i,0,i.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",o,t,n,r)}return n=B._createBefore(e),this._position=n,this._formatReturnValue("elementStart",e,t,n,1)}_formatReturnValue(n,t,e,i,o){return t.is("view:$textProxy")&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?e=B._createAfter(t.textNode):(i=B._createAfter(t.textNode),this._position=i)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?e=B._createBefore(t.textNode):(i=B._createBefore(t.textNode),this._position=i))),{done:!1,value:{type:n,item:t,previousPosition:e,nextPosition:i,length:o}}}},B=class nn extends Wn{constructor(t,e){super(),m(this,"parent"),m(this,"offset"),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof sa);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=nn._createAt(this),i=e.offset+t;return e.offset=i<0?0:i,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const i=new Kn(e);return i.skip(t),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),i=t.getAncestors();let o=0;for(;e[o]==i[o]&&e[o];)o++;return o===0?null:e[o-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],i=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),i.push(t.offset);const o=xe(e,i);switch(o){case"prefix":return"before";case"extension":return"after";default:return e[o]<i[o]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Kn(t)}clone(){return new nn(this.parent,this.offset)}static _createAt(t,e){if(t instanceof nn)return new this(t.parent,t.offset);{const i=t;if(e=="end")e=i.is("$text")?i.data.length:i.childCount;else{if(e=="before")return this._createBefore(i);if(e=="after")return this._createAfter(i);if(e!==0&&!e)throw new v("view-createpositionat-offset-required",i)}return new nn(i,e)}}static _createAfter(t){if(t.is("$textProxy"))return new nn(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new v("view-position-after-root",t,{root:t});return new nn(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new nn(t.textNode,t.offsetInText);if(!t.parent)throw new v("view-position-before-root",t,{root:t});return new nn(t.parent,t.index)}};B.prototype.is=function(n){return n==="position"||n==="view:position"};let rt=class Pn extends Wn{constructor(t,e=null){super(),m(this,"start"),m(this,"end"),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new Kn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(aa,{direction:"backward"}),e=this.end.getLastMatchingPosition(aa);return t.parent.is("$text")&&t.isAtStart&&(t=B._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=B._createAfter(e.parent)),new Pn(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(aa);if(t.isAfter(this.end)||t.isEqual(this.end))return new Pn(t,t);let e=this.end.getLastMatchingPosition(aa,{direction:"backward"});const i=t.nodeAfter,o=e.nodeBefore;return i&&i.is("$text")&&(t=new B(i,0)),o&&o.is("$text")&&(e=new B(o,o.data.length)),new Pn(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const i=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return i&&o}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Pn(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Pn(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,i=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(i=t.end),new Pn(e,i)}return null}getWalker(t={}){return t.boundaries=this,new Kn(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new Pn(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Kn(t);for(const i of e)yield i.item}*getPositions(t={}){t.boundaries=this;const e=new Kn(t);yield e.position;for(const i of e)yield i.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,i,o){return new this(new B(t,e),new B(i,o))}static _createFromPositionAndShift(t,e){const i=t,o=t.getShiftedBy(e);return e>0?new this(i,o):new this(o,i)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(B._createBefore(t),e)}};function aa(n){return!(!n.item.is("attributeElement")&&!n.item.is("uiElement"))}rt.prototype.is=function(n){return n==="range"||n==="view:range"};let Ki=class $0 extends kt(Wn){constructor(...t){super(),m(this,"_ranges"),m(this,"_lastRangeBackward"),m(this,"_isFake"),m(this,"_fakeSelectionLabel"),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let i=!1;for(const o of t._ranges)if(e.isEqual(o)){i=!0;break}if(!i)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=sc(this.getRanges());if(e!=sc(t.getRanges()))return!1;if(e==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let o=!1;for(let r of t.getRanges())if(r=r.getTrimmed(),i.start.isEqual(r.start)&&i.end.isEqual(r.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,i,o]=t;if(typeof i=="object"&&(o=i,i=void 0),e===null)this._setRanges([]),this._setFakeOptions(o);else if(e instanceof $0||e instanceof Ac)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof rt)this._setRanges([e],o&&o.backward),this._setFakeOptions(o);else if(e instanceof B)this._setRanges([new rt(e)]),this._setFakeOptions(o);else if(e instanceof Gn){const r=!!o&&!!o.backward;let s;if(i===void 0)throw new v("view-selection-setto-required-second-parameter",this);s=i=="in"?rt._createIn(e):i=="on"?rt._createOn(e):new rt(B._createAt(e,i)),this._setRanges([s],r),this._setFakeOptions(o)}else{if(!$e(e))throw new v("view-selection-setto-not-selectable",this);this._setRanges(e,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(t,e){if(this.anchor===null)throw new v("view-selection-setfocus-no-ranges",this);const i=B._createAt(t,e);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),i.compareWith(o)=="before"?this._addRange(new rt(i,o),!0):this._addRange(new rt(o,i)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const i of t)this._addRange(i);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof rt))throw new v("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new v("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new rt(t.start,t.end))}};Ki.prototype.is=function(n){return n==="selection"||n==="view:selection"};let Ac=class extends kt(Wn){constructor(...n){super(),m(this,"_selection"),this._selection=new Ki,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,t){this._selection.setFocus(n,t)}};Ac.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Do extends Ui{constructor(t,e,i){super(t,e),m(this,"startRange"),m(this,"_eventPhase"),m(this,"_currentTarget"),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const xc=Symbol("bubbling contexts");function Ec(n){return class extends n{fire(t,...e){try{const i=t instanceof Ui?t:new Ui(this,t),o=Tc(this);if(!o.size)return;if(Lr(i,"capturing",this),Po(o,"$capture",i,...e))return i.return;const r=i.startRange||this.selection.getFirstRange(),s=r?r.getContainedElement():null,a=!!s&&!!Fg(o,s);let l=s||function(c){if(!c)return null;const d=c.start.parent,u=c.end.parent,h=d.getPath(),g=u.getPath();return h.length>g.length?d:u}(r);if(Lr(i,"atTarget",l),!a){if(Po(o,"$text",i,...e))return i.return;Lr(i,"bubbling",l)}for(;l;){if(l.is("rootElement")){if(Po(o,"$root",i,...e))return i.return}else if(l.is("element")&&Po(o,l.name,i,...e))return i.return;if(Po(o,l,i,...e))return i.return;l=l.parent,Lr(i,"bubbling",l)}return Lr(i,"bubbling",this),Po(o,"$document",i,...e),i.return}catch(i){v.rethrowUnexpectedError(i,this)}}_addEventListener(t,e,i){const o=Dt(i.context||"$document"),r=Tc(this);for(const s of o){let a=r.get(s);a||(a=new(kt()),r.set(s,a)),this.listenTo(a,t,e,i)}}_removeEventListener(t,e){const i=Tc(this);for(const o of i.values())this.stopListening(o,t,e)}}}{const n=Ec(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{Ec[t]=n.prototype[t]})}function Lr(n,t,e){n instanceof Do&&(n._eventPhase=t,n._currentTarget=e)}function Po(n,t,e,...i){const o=typeof t=="string"?n.get(t):Fg(n,t);return!!o&&(o.fire(e,...i),e.stop.called)}function Fg(n,t){for(const[e,i]of n)if(typeof e=="function"&&e(t))return i;return null}function Tc(n){return n[xc]||(n[xc]=new Map),n[xc]}let la=class extends Ec(wt()){constructor(n){super(),m(this,"selection"),m(this,"roots"),m(this,"stylesProcessor"),m(this,"_postFixers",new Set),this.selection=new Ac,this.roots=new ie({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.forEach(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let t=!1;do for(const e of this._postFixers)if(t=e(n),t)break;while(t)}};class Yn extends Gi{constructor(t,e,i,o){super(t,e,i,o),m(this,"_priority",10),m(this,"_id",null),m(this,"_clonesGroup",null),this.getFillerOffset=GC}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new v("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}_canMergeAttributesFrom(t){return this.id===null&&t.id===null&&this.priority===t.priority&&super._canMergeAttributesFrom(t)}_canSubtractAttributesOf(t){return this.id===null&&t.id===null&&this.priority===t.priority&&super._canSubtractAttributesOf(t)}}m(Yn,"DEFAULT_PRIORITY",10);function GC(){if(Sc(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(Sc(n)>1)return null;n=n.parent}return!n||Sc(n)>1?null:this.childCount}function Sc(n){return Array.from(n.getChildren()).filter(t=>!t.is("uiElement")).length}Yn.prototype.is=function(n,t){return t?t===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Ic extends Gi{constructor(t,e,i,o){super(t,e,i,o),this.getFillerOffset=KC}_insertChild(t,e){if(e&&(e instanceof Gn||Array.from(e).length>0))throw new v("view-emptyelement-cannot-add",[this,e]);return 0}}function KC(){return null}Ic.prototype.is=function(n,t){return t?t===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class ca extends Gi{constructor(t,e,i,o){super(t,e,i,o),this.getFillerOffset=ZC}_insertChild(t,e){if(e&&(e instanceof Gn||Array.from(e).length>0))throw new v("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const i of this.getAttributeKeys())e.setAttribute(i,this.getAttribute(i));return e}}function YC(n){n.document.on("arrowKey",(t,e)=>function(i,o,r){if(o.keyCode==it.arrowright){const s=o.domTarget.ownerDocument.defaultView.getSelection(),a=s.rangeCount==1&&s.getRangeAt(0).collapsed;if(a||o.shiftKey){const l=s.focusNode,c=s.focusOffset,d=r.domPositionToView(l,c);if(d===null)return;let u=!1;const h=d.getLastMatchingPosition(g=>(g.item.is("uiElement")&&(u=!0),!(!g.item.is("uiElement")&&!g.item.is("attributeElement"))));if(u){const g=r.viewPositionToDom(h);a?s.collapse(g.parent,g.offset):s.extend(g.parent,g.offset)}}}}(0,e,n.domConverter),{priority:"low"})}function ZC(){return null}ca.prototype.is=function(n,t){return t?t===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Mc extends Gi{constructor(t,e,i,o){super(t,e,i,o),this.getFillerOffset=QC}_insertChild(t,e){if(e&&(e instanceof Gn||Array.from(e).length>0))throw new v("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}function QC(){return null}Mc.prototype.is=function(n,t){return t?t===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};let Zn=class extends kt(Wn){constructor(n,t){super(),m(this,"document"),m(this,"_children",[]),m(this,"_customProperties",new Map),this.document=n,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,t){this._fireChange("children",this,{index:n});let e=0;const i=function(o,r){return typeof r=="string"?[new fe(o,r)]:($e(r)||(r=[r]),Array.from(r).map(s=>typeof s=="string"?new fe(o,s):s instanceof Wi?new fe(o,s.data):s))}(this.document,t);for(const o of i)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(n,0,o),n++,e++;return e}_removeChildren(n,t=1){this._fireChange("children",this,{index:n});for(let e=n;e<n+t;e++)this._children[e].parent=null;return this._children.splice(n,t)}_fireChange(n,t,e){this.fire(`change:${n}`,t,e)}_setCustomProperty(n,t){this._customProperties.set(n,t)}_removeCustomProperty(n){return this._customProperties.delete(n)}};Zn.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};class Dc{constructor(t){m(this,"document"),m(this,"_cloneGroups",new Map),m(this,"_slotFactory",null),this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new Zn(this.document,t)}createText(t){return new fe(this.document,t)}createAttributeElement(t,e,i={}){const o=new Yn(this.document,t,e);return typeof i.priority=="number"&&(o._priority=i.priority),i.id&&(o._id=i.id),i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createContainerElement(t,e,i={},o={}){let r=null;Ci(i)?o=i:r=i;const s=new Pr(this.document,t,e,r);return o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createEditableElement(t,e,i={}){const o=new sa(this.document,t,e);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEmptyElement(t,e,i={}){const o=new Ic(this.document,t,e);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createUIElement(t,e,i){const o=new ca(this.document,t,e);return i&&(o.render=i),o}createRawElement(t,e,i,o={}){const r=new Mc(this.document,t,e);return i&&(r.render=i),o.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),r}setAttribute(t,e,i,o){o!==void 0?o._setAttribute(t,e,i):i._setAttribute(t,e)}removeAttribute(t,e,i){i!==void 0?i._removeAttribute(t,e):e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){Ci(t)&&i===void 0?e._setStyle(t):i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof B?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new v("view-writer-break-non-container-element",this.document);if(!e.parent)throw new v("view-writer-break-root",this.document);if(t.isAtStart)return B._createBefore(e);if(!t.isAtEnd){const i=e._clone(!1);this.insert(B._createAfter(e),i);const o=new rt(t,B._createAt(e,"end")),r=new B(i,0);this.move(o,r)}return B._createAfter(e)}mergeAttributes(t){const e=t.offset,i=t.parent;if(i.is("$text"))return t;if(i.is("attributeElement")&&i.childCount===0){const s=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new B(s,a))}const o=i.getChild(e-1),r=i.getChild(e);if(!o||!r)return t;if(o.is("$text")&&r.is("$text"))return Hg(o,r);if(o.is("attributeElement")&&r.is("attributeElement")&&o.isSimilar(r)){const s=o.childCount;return o._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new B(o,s))}return t}mergeContainers(t){const e=t.nodeBefore,i=t.nodeAfter;if(!(e&&i&&e.is("containerElement")&&i.is("containerElement")))throw new v("view-writer-merge-containers-invalid-position",this.document);const o=e.getChild(e.childCount-1),r=o instanceof fe?B._createAt(o,"end"):B._createAt(e,"end");return this.move(rt._createIn(i),B._createAt(e,"end")),this.remove(rt._createOn(i)),r}insert(t,e){Ug(e=$e(e)?[...e]:[e],this.document);const i=e.reduce((s,a)=>{const l=s[s.length-1],c=!a.is("uiElement");return l&&l.breakAttributes==c?l.nodes.push(a):s.push({breakAttributes:c,nodes:[a]}),s},[]);let o=null,r=t;for(const{nodes:s,breakAttributes:a}of i){const l=this._insertNodes(r,s,a);o||(o=l.start),r=l.end}return o?new rt(o,r):new rt(t)}remove(t){const e=t instanceof rt?t:rt._createOn(t);if(Br(e,this.document),e.isCollapsed)return new Zn(this.document);const{start:i,end:o}=this._breakAttributesRange(e,!0),r=i.parent,s=o.offset-i.offset,a=r._removeChildren(i.offset,s);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(i);return e.start=l,e.end=l.clone(),new Zn(this.document,a)}clear(t,e){Br(t,this.document);const i=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of i){const r=o.item;let s;if(r.is("element")&&e.isSimilar(r))s=rt._createOn(r);else if(!o.nextPosition.isAfter(t.start)&&r.is("$textProxy")){const a=r.getAncestors().find(l=>l.is("element")&&e.isSimilar(l));a&&(s=rt._createIn(a))}s&&(s.end.isAfter(t.end)&&(s.end=t.end),s.start.isBefore(t.start)&&(s.start=t.start),this.remove(s))}}move(t,e){let i;if(e.isAfter(t.end)){const o=(e=this._breakAttributes(e,!0)).parent,r=o.childCount;t=this._breakAttributesRange(t,!0),i=this.remove(t),e.offset+=o.childCount-r}else i=this.remove(t);return this.insert(e,i)}wrap(t,e){if(!(e instanceof Yn))throw new v("view-writer-wrap-invalid-attribute",this.document);if(Br(t,this.document),t.isCollapsed){let o=t.start;o.parent.is("element")&&(i=o.parent,!Array.from(i.getChildren()).some(s=>!s.is("uiElement")))&&(o=o.getLastMatchingPosition(s=>s.item.is("uiElement"))),o=this._wrapPosition(o,e);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(o),new rt(o)}return this._wrapRange(t,e);var i}unwrap(t,e){if(!(e instanceof Yn))throw new v("view-writer-unwrap-invalid-attribute",this.document);if(Br(t,this.document),t.isCollapsed)return t;const{start:i,end:o}=this._breakAttributesRange(t,!0),r=i.parent,s=this._unwrapChildren(r,i.offset,o.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const l=this.mergeAttributes(s.end);return new rt(a,l)}rename(t,e){const i=new Pr(this.document,t,e.getAttributes());return this.insert(B._createAfter(e),i),this.move(rt._createIn(e),B._createAt(i,0)),this.remove(rt._createOn(e)),i}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return B._createAt(t,e)}createPositionAfter(t){return B._createAfter(t)}createPositionBefore(t){return B._createBefore(t)}createRange(t,e){return new rt(t,e)}createRangeOn(t){return rt._createOn(t)}createRangeIn(t){return rt._createIn(t)}createSelection(...t){return new Ki(...t)}createSlot(t="children"){if(!this._slotFactory)throw new v("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,i){let o,r;if(o=i?Pc(t):t.parent.is("$text")?t.parent.parent:t.parent,!o)throw new v("view-writer-invalid-position-container",this.document);r=i?this._breakAttributes(t,!0):t.parent.is("$text")?Lc(t):t;const s=o._insertChild(r.offset,e);for(const d of e)this._addToClonedElementsGroup(d);const a=r.getShiftedBy(s),l=this.mergeAttributes(r);l.isEqual(r)||a.offset--;const c=this.mergeAttributes(a);return new rt(l,c)}_wrapChildren(t,e,i,o){let r=e;const s=[];for(;r<i;){const l=t.getChild(r),c=l.is("$text"),d=l.is("attributeElement");if(d&&l._canMergeAttributesFrom(o))l._mergeAttributesFrom(o),s.push(new B(t,r));else if(c||!d||JC(o,l)){const u=o._clone();l._remove(),u._appendChild(l),t._insertChild(r,u),this._addToClonedElementsGroup(u),s.push(new B(t,r))}else this._wrapChildren(l,0,l.childCount,o);r++}let a=0;for(const l of s)l.offset-=a,l.offset!=e&&(this.mergeAttributes(l).isEqual(l)||(a++,i--));return rt._createFromParentsAndOffsets(t,e,t,i)}_unwrapChildren(t,e,i,o){let r=e;const s=[];for(;r<i;){const l=t.getChild(r);if(l.is("attributeElement"))if(l.isSimilar(o)){const c=l.getChildren(),d=l.childCount;l._remove(),t._insertChild(r,c),this._removeFromClonedElementsGroup(l),s.push(new B(t,r),new B(t,r+d)),r+=d,i+=d-1}else l._canSubtractAttributesOf(o)?(l._subtractAttributesOf(o),s.push(new B(t,r),new B(t,r+1)),r++):(this._unwrapChildren(l,0,l.childCount,o),r++);else r++}let a=0;for(const l of s)l.offset-=a,!(l.offset==e||l.offset==i)&&(this.mergeAttributes(l).isEqual(l)||(a++,i--));return rt._createFromParentsAndOffsets(t,e,t,i)}_wrapRange(t,e){const{start:i,end:o}=this._breakAttributesRange(t,!0),r=i.parent,s=this._wrapChildren(r,i.offset,o.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const l=this.mergeAttributes(s.end);return new rt(a,l)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return jg(t.clone());t.parent.is("$text")&&(t=Lc(t));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,t.parent._insertChild(t.offset,i);const o=new rt(t,t.getShiftedBy(1));this.wrap(o,e);const r=new B(i.parent,i.index);i._remove();const s=r.nodeBefore,a=r.nodeAfter;return s&&s.is("view:$text")&&a&&a.is("view:$text")?Hg(s,a):jg(r)}_breakAttributesRange(t,e=!1){const i=t.start,o=t.end;if(Br(t,this.document),t.isCollapsed){const l=this._breakAttributes(t.start,e);return new rt(l,l)}const r=this._breakAttributes(o,e),s=r.parent.childCount,a=this._breakAttributes(i,e);return r.offset+=r.parent.childCount-s,new rt(a,r)}_breakAttributes(t,e=!1){const i=t.offset,o=t.parent;if(t.parent.is("emptyElement"))throw new v("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new v("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new v("view-writer-cannot-break-raw-element",this.document);if(!e&&o.is("$text")&&Bc(o.parent)||Bc(o))return t.clone();if(o.is("$text"))return this._breakAttributes(Lc(t),e);if(i==o.childCount){const r=new B(o.parent,o.index+1);return this._breakAttributes(r,e)}if(i===0){const r=new B(o.parent,o.index);return this._breakAttributes(r,e)}{const r=o.index+1,s=o._clone();o.parent._insertChild(r,s),this._addToClonedElementsGroup(s);const a=o.childCount-i,l=o._removeChildren(i,a);s._appendChild(l);const c=new B(o.parent,r);return this._breakAttributes(c,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const o of t.getChildren())this._addToClonedElementsGroup(o);const e=t.id;if(!e)return;let i=this._cloneGroups.get(e);i||(i=new Set,this._cloneGroups.set(e,i)),i.add(t),t._clonesGroup=i}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const o of t.getChildren())this._removeFromClonedElementsGroup(o);const e=t.id;if(!e)return;const i=this._cloneGroups.get(e);i&&i.delete(t)}}function Pc(n){let t=n.parent;for(;!Bc(t);){if(!t)return;t=t.parent}return t}function JC(n,t){return n.priority<t.priority||!(n.priority>t.priority)&&n.getIdentity()<t.getIdentity()}function jg(n){const t=n.nodeBefore;if(t&&t.is("$text"))return new B(t,t.data.length);const e=n.nodeAfter;return e&&e.is("$text")?new B(e,0):n}function Lc(n){if(n.offset==n.parent.data.length)return new B(n.parent.parent,n.parent.index+1);if(n.offset===0)return new B(n.parent.parent,n.parent.index);const t=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new fe(n.root.document,t)),new B(n.parent.parent,n.parent.index+1)}function Hg(n,t){const e=n.data.length;return n._data+=t.data,t._remove(),new B(n,e)}const XC=[fe,Yn,Pr,Ic,Mc,ca];function Ug(n,t){for(const e of n){if(!XC.some(i=>e instanceof i))throw new v("view-writer-insert-invalid-node-type",t);e.is("$text")||Ug(e.getChildren(),t)}}function Bc(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Br(n,t){const e=Pc(n.start),i=Pc(n.end);if(!e||!i||e!==i)throw new v("view-writer-invalid-range-container",t)}const $g=n=>n.createTextNode("\xA0"),qg=n=>{const t=n.createElement("span");return t.dataset.ckeFiller="true",t.innerText="\xA0",t},Wg=n=>{const t=n.createElement("br");return t.dataset.ckeFiller="true",t},Nr="\u2060".repeat(7);function We(n){return typeof n=="string"?n.substr(0,7)===Nr:$t(n)&&n.data.substr(0,7)===Nr}function Lo(n){return n.data.length==7&&We(n)}function Gg(n){const t=typeof n=="string"?n:n.data;return We(n)?t.slice(7):t}function tA(n,t){if(t.keyCode==it.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const i=e.getRangeAt(0).startContainer,o=e.getRangeAt(0).startOffset;We(i)&&o<=7&&e.collapse(i,0)}}}let eA=class extends wt(){constructor(n,t){super(),m(this,"domDocuments",new Set),m(this,"domConverter"),m(this,"markedAttributes",new Set),m(this,"markedChildren",new Set),m(this,"markedTexts",new Set),m(this,"selection"),m(this,"_inlineFiller",null),m(this,"_fakeSelectionContainer",null),this.domConverter=n,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),j.isBlink&&!j.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(n,t){if(n==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(n==="attributes")this.markedAttributes.add(t);else{if(n!=="children")throw new v("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!j.isAndroid)return;let n=null;const t=!(j.isBlink&&!j.isAndroid)||!this.isSelecting;for(const e of this.markedChildren)this._updateChildrenMappings(e);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=B._createBefore(n.parent)));for(const e of this.markedAttributes)this._updateAttrs(e);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:n});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:n});if(t)if(n){const e=this.domConverter.viewPositionToDom(n),i=e.parent.ownerDocument;We(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=Kg(i,e.parent,e.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){const t=this.domConverter.mapViewToDom(n);if(!t)return;const e=Array.from(t.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),o=this._diffNodeLists(e,i),r=this._findUpdateActions(o,e,i,iA);if(r.indexOf("update")!==-1){const s={equal:0,insert:0,delete:0};for(const a of r)if(a==="update"){const l=s.equal+s.insert,c=s.equal+s.delete,d=n.getChild(l);!d||d.is("uiElement")||d.is("rawElement")||this._updateElementMappings(d,e[c]),bg(i[l]),s.equal++}else s[a]++}}_updateElementMappings(n,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?B._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(n);return!!(t&&$t(t.parent)&&We(t.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!We(n))throw new v("view-renderer-filler-was-lost",this);Lo(n)?n.remove():n.data=n.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),t=n.parent,e=n.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(r){if(r.getAttribute("contenteditable")=="false")return!1;const s=r.findAncestor(a=>a.hasAttribute("contenteditable"));return!s||s.getAttribute("contenteditable")=="true"}(t))return!1;const i=n.nodeBefore,o=n.nodeAfter;return!(i instanceof fe||o instanceof fe)&&!!(e!==t.getFillerOffset()||i&&i.is("element","br"))&&(!j.isAndroid||!i&&!o)}_updateText(n,t){const e=this.domConverter.findCorrespondingDomText(n);let i=this.domConverter.viewToDom(n).data;const o=t.inlineFillerPosition;o&&o.parent==n.parent&&o.offset==n.index&&(i=Nr+i),this._updateTextNode(e,i)}_updateAttrs(n){const t=this.domConverter.mapViewToDom(n);if(t){for(const e of Array.from(t.attributes)){const i=e.name;n.hasAttribute(i)||this.domConverter.removeDomElementAttribute(t,i)}for(const e of n.getAttributeKeys())this.domConverter.setDomElementAttribute(t,e,n.getAttribute(e),n)}}_updateChildren(n,t){const e=this.domConverter.mapViewToDom(n);if(!e)return;if(j.isAndroid){let d=null;for(const u of Array.from(e.childNodes)){if(d&&$t(d)&&$t(u)){e.normalize();break}d=u}}const i=t.inlineFillerPosition,o=e.childNodes,r=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));i&&i.parent===n&&Kg(e.ownerDocument,r,i.offset);const s=this._diffNodeLists(o,r),a=this._findUpdateActions(s,o,r,nA);let l=0;const c=new Set;for(const d of a)d==="delete"?(c.add(o[l]),bg(o[l])):d!=="equal"&&d!=="update"||l++;l=0;for(const d of a)d==="insert"?(gg(e,l,r[l]),l++):d==="update"?(this._updateTextNode(o[l],r[l].data),l++):d==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(r[l])),l++);for(const d of c)d.parentNode||this.domConverter.unbindDomElement(d)}_diffNodeLists(n,t){return xo(n=function(e,i){const o=Array.from(e);return o.length==0||!i||o[o.length-1]==i&&o.pop(),o}(n,this._fakeSelectionContainer),t,oA.bind(null,this.domConverter))}_findUpdateActions(n,t,e,i){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let o=[],r=[],s=[];const a={equal:0,insert:0,delete:0};for(const l of n)l==="insert"?s.push(e[a.equal+a.insert]):l==="delete"?r.push(t[a.equal+a.delete]):(o=o.concat(xo(r,s,i).map(c=>c==="equal"?"update":c)),o.push("equal"),r=[],s=[]),a[l]++;return o.concat(xo(r,s,i).map(l=>l==="equal"?"update":l))}_updateTextNode(n,t){const e=n.data;e!=t&&(j.isAndroid&&this.isComposing&&e.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(n,t))}_updateTextNodeInternal(n,t){const e=dm(n.data,t);for(const i of e)i.type==="insert"?n.insertData(i.index,i.values.join("")):n.deleteData(i.index,i.howMany)}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const t of n.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(j.isBlink&&!j.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&j.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const t=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(r){const s=r.createElement("div");return s.className="ck-fake-selection-container",Object.assign(s.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),s.textContent="\xA0",s}(t));const e=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(e,this.selection),!this._fakeSelectionNeedsUpdate(n))return;e.parentElement&&e.parentElement==n||n.appendChild(e),e.textContent=this.selection.fakeSelectionLabel||"\xA0";const i=t.getSelection(),o=t.createRange();i.removeAllRanges(),o.selectNodeContents(e),i.addRange(o)}_updateDomSelection(n){const t=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const e=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(e.parent,e.offset,i.parent,i.offset),j.isGecko&&function(o,r){let s=o.parent,a=o.offset;if($t(s)&&Lo(s)&&(a=xr(s)+1,s=s.parentNode),s.nodeType!=Node.ELEMENT_NODE||a!=s.childNodes.length-1)return;const l=s.childNodes[a];l&&l.tagName=="BR"&&r.addRange(r.getRangeAt(0))}(i,t)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const t=n&&this.domConverter.domSelectionToView(n);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(n){const t=this._fakeSelectionContainer,e=n.ownerDocument.getSelection();return!t||t.parentElement!==n||e.anchorNode!==t&&!t.contains(e.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const t=n.getSelection();if(t.rangeCount){const e=n.activeElement,i=this.domConverter.mapDomToView(e);e&&i&&t.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}};function Kg(n,t,e){const i=t instanceof Array?t:t.childNodes,o=i[e];if($t(o))return o.data=Nr+o.data,o;{const r=n.createTextNode(Nr);return Array.isArray(t)?i.splice(e,0,r):gg(t,e,r),r}}function iA(n,t){return kn(n)&&kn(t)&&!$t(n)&&!$t(t)&&!Er(n)&&!Er(t)&&n.tagName.toLowerCase()===t.tagName.toLowerCase()}function nA(n,t){return kn(n)&&kn(t)&&$t(n)&&$t(t)}function oA(n,t,e){return t===e||($t(t)&&$t(e)?t.data===e.data:!(!n.isBlockFiller(t)||!n.isBlockFiller(e)))}const rA=Wg(L.document),sA=$g(L.document),aA=qg(L.document),da="data-ck-unsafe-attribute-",Yg="data-ck-unsafe-element";class ua{constructor(t,{blockFillerMode:e,renderingMode:i="editing"}={}){m(this,"document"),m(this,"renderingMode"),m(this,"blockFillerMode"),m(this,"preElements"),m(this,"blockElements"),m(this,"inlineObjectElements"),m(this,"unsafeElements"),m(this,"_domDocument"),m(this,"_domToViewMapping",new WeakMap),m(this,"_viewToDomMapping",new WeakMap),m(this,"_fakeSelectionMapping",new WeakMap),m(this,"_rawContentElementMatcher",new qe),m(this,"_inlineObjectElementMatcher",new qe),m(this,"_elementsWithTemporaryCustomProperties",new Set),this.document=t,this.renderingMode=i,this.blockFillerMode=e||(i==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?L.document:L.document.implementation.createHTMLDocument("")}get domDocument(){return this._domDocument}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Ki(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const i of t.children)this.unbindDomElement(i)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,i){return this.renderingMode==="data"||!(t=t.toLowerCase()).startsWith("on")&&(t!=="srcdoc"||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(t==="src"||t==="srcset")||i==="source"&&t==="srcset"||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data")return void(t.innerHTML=e);const i=new DOMParser().parseFromString(e,"text/html"),o=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)o.appendChild(r[0]);const s=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=s.nextNode();)a.push(l);for(const c of a){for(const u of c.getAttributeNames())this.setDomElementAttribute(c,u,c.getAttribute(u));const d=c.tagName.toLowerCase();this._shouldRenameElement(d)&&(tf(d),c.replaceWith(this._createReplacementDomElement(d,c)))}for(;t.firstChild;)t.firstChild.remove();t.append(o)}viewToDom(t,e={}){if(t.is("$text")){const i=this._processDataFromViewText(t);return this._domDocument.createTextNode(i)}{const i=t;if(this.mapViewToDom(i)){if(!i.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(i);this._elementsWithTemporaryCustomProperties.add(i)}let o;if(i.is("documentFragment"))o=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(o,i);else{if(i.is("uiElement"))return o=i.name==="$comment"?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),e.bind&&this.bindElements(o,i),o;this._shouldRenameElement(i.name)?(tf(i.name),o=this._createReplacementDomElement(i.name)):o=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(o,this),e.bind&&this.bindElements(o,i);for(const r of i.getAttributeKeys())this.setDomElementAttribute(o,r,i.getAttribute(r),i)}if(e.withChildren!==!1)for(const r of this.viewChildrenToDom(i,e))o instanceof HTMLTemplateElement?o.content.appendChild(r):o.appendChild(r);return o}}setDomElementAttribute(t,e,i,o){const r=this.shouldRenderAttribute(e,i,t.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(e);r||st("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:i}),CC(e)?(t.hasAttribute(e)&&!r?t.removeAttribute(e):t.hasAttribute(da+e)&&r&&t.removeAttribute(da+e),t.setAttribute(r?e:da+e,i)):st("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:i})}removeDomElementAttribute(t,e){e!=Yg&&(t.removeAttribute(e),t.removeAttribute(da+e))}*viewChildrenToDom(t,e={}){const i=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const r of t.getChildren()){i===o&&(yield this._getBlockFiller());const s=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!_t(r.getAttributes());if(s&&this.renderingMode=="data")if(r.is("rawElement")){const a=this._domDocument.createElement(r.name);r.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(r,e);else s&&st("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,e);o++}i===o&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),i=this.viewPositionToDom(t.end),o=this._domDocument.createRange();return o.setStart(e.parent,e.offset),o.setEnd(i.parent,i.offset),o}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const i=this.findCorrespondingDomText(e);if(!i)return null;let o=t.offset;return We(i)&&(o+=7),{parent:i,offset:o}}{let i,o,r;if(t.offset===0){if(i=this.mapViewToDom(e),!i)return null;r=i.childNodes[0]}else{const s=t.nodeBefore;if(o=s.is("$text")?this.findCorrespondingDomText(s):this.mapViewToDom(s),!o)return null;i=o.parentNode,r=o.nextSibling}return $t(r)&&We(r)?{parent:r,offset:7}:{parent:i,offset:o?xr(o)+1:0}}}domToView(t,e={}){const i=[],o=this._domToView(t,e,i),r=o.next().value;return r?(o.next(),this._processDomInlineNodes(null,i,e),this.blockFillerMode=="br"&&Jg(r)||r.is("$text")&&r.data.length==0?null:r):null}*domChildrenToView(t,e={},i=[]){let o=[];o=t instanceof HTMLTemplateElement?[...t.content.childNodes]:[...t.childNodes];for(let r=0;r<o.length;r++){const s=o[r],a=this._domToView(s,e,i),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(t,i,e),this.blockFillerMode=="br"&&Jg(l)||(yield l),a.next())}this._processDomInlineNodes(t,i,e)}domSelectionToView(t){if(function(o){if(!j.isGecko||!o.rangeCount)return!1;const r=o.getRangeAt(0).startContainer;try{Object.prototype.toString.call(r)}catch{return!0}return!1}(t))return new Ki([]);if(t.rangeCount===1){let o=t.getRangeAt(0).startContainer;$t(o)&&(o=o.parentNode);const r=this.fakeSelectionToView(o);if(r)return r}const e=this.isDomSelectionBackward(t),i=[];for(let o=0;o<t.rangeCount;o++){const r=t.getRangeAt(o),s=this.domRangeToView(r);s&&i.push(s)}return new Ki(i,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),i=this.domPositionToView(t.endContainer,t.endOffset);return e&&i?new rt(e,i):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,xr(t));const i=this.mapDomToView(t);if(i&&(i.is("uiElement")||i.is("rawElement")))return B._createBefore(i);if($t(t)){if(Lo(t))return this.domPositionToView(t.parentNode,xr(t));const o=this.findCorrespondingViewText(t);let r=e;return o?(We(t)&&(r-=7,r=r<0?0:r),new B(o,r)):null}if(e===0){const o=this.mapDomToView(t);if(o)return new B(o,0)}else{const o=t.childNodes[e-1];if($t(o)&&Lo(o)||o&&this.isBlockFiller(o))return this.domPositionToView(o.parentNode,xr(o));const r=$t(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(r&&r.parent)return new B(r.parent,r.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Lo(t))return null;const e=this.getHostViewElement(t);if(e)return e;const i=t.previousSibling;if(i){if(!this.isElement(i))return null;const o=this.mapDomToView(i);if(o){const r=o.nextSibling;return r instanceof fe?r:null}}else{const o=this.mapDomToView(t.parentNode);if(o){const r=o.getChild(0);return r instanceof fe?r:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(!e||e.ownerDocument.activeElement===e)return;const{scrollX:i,scrollY:o}=L.window,r=[];Zg(e,s=>{const{scrollLeft:a,scrollTop:l}=s;r.push([a,l])}),e.focus(),Zg(e,s=>{const[a,l]=r.shift();s.scrollLeft=a,s.scrollTop=l}),L.window.scrollTo(i,o)}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(e);i&&i.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(rA):!!Xg(t,this.blockElements)||t.isEqualNode(aA)||function(e,i){return e.isEqualNode(sA)&&Qg(e,i)&&e.parentNode.childNodes.length===1}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const i=e.collapsed;return e.detach(),i}getHostViewElement(t){const e=sg(t);for(e.pop();e.length;){const i=e.pop(),o=this._domToViewMapping.get(i);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return $g(this._domDocument);case"markedNbsp":return qg(this._domDocument);case"br":return Wg(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if($t(t)&&We(t)&&e<7||this.isElement(t)&&We(t.childNodes[e]))return!1;const i=this.mapDomToView(t);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(t,e,i){if(this.blockFillerMode!="br"&&Xg(t,this.blockElements))return null;const o=this.getHostViewElement(t);if(o)return o;if(Er(t)&&e.skipComments)return null;if($t(t)){if(Lo(t))return null;{const r=t.data;if(r==="")return null;const s=new fe(this.document,r);return i.push(s),s}}{let r=this.mapDomToView(t);if(r)return this._isInlineObjectElement(r)&&i.push(r),r;if(this.isDocumentFragment(t))r=new Zn(this.document),e.bind&&this.bindDocumentFragments(t,r);else{r=this._createViewElement(t,e),e.bind&&this.bindElements(t,r);const a=t.attributes;if(a)for(let l=a.length,c=0;c<l;c++)r._setAttribute(a[c].name,a[c].value);if(this._isViewElementWithRawContent(r,e))return r._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(r)||i.push(r),r;if(Er(t))return r._setCustomProperty("$rawContent",t.data),r}yield r;const s=[];if(e.withChildren!==!1)for(const a of this.domChildrenToView(t,e,s))r._appendChild(a);if(this._isInlineObjectElement(r))i.push(r),this._processDomInlineNodes(null,s,e);else for(const a of s)i.push(a)}}_processDomInlineNodes(t,e,i){if(!e.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let o=!1;for(let r=0;r<e.length;r++){const s=e[r];if(!s.is("$text")){o=!1;continue}let a,l=!1;if(this._isPreFormatted(s))a=Gg(s.data);else{a=s.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const c=r>0?e[r-1]:null,d=r+1<e.length?e[r+1]:null,u=!c||c.is("element")&&c.name=="br"||o,h=!d&&!We(s.data);i.withChildren!==!1&&(u&&(a=a.replace(/^ /,"")),h&&(a=a.replace(/ $/,""))),a=Gg(a),this.blockFillerMode!="br"&&s.parent&&(cA(s.parent,a)?(a="",s.parent.parent&&(s.parent.parent._setCustomProperty("$hasBlockFiller",!0),s.parent._remove())):lA(s.parent,a,this.blockElements)&&(a="",s.parent._setCustomProperty("$hasBlockFiller",!0))),a=a.replace(/ \u00A0/g,"  ");const g=d&&d.is("element")&&d.name!="br",f=d&&d.is("$text")&&d.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!d||g||f)&&(a=a.replace(/\u00A0$/," ")),(u||c&&c.is("element")&&c.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&s.parent?(s._remove(),e.splice(r,1),r--):(s._data=a,o=l)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(e.charAt(0)==" "){const i=this._getTouchingInlineViewNode(t,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(e="\xA0"+e.substr(1))}if(e.charAt(e.length-1)==" "){const i=this._getTouchingInlineViewNode(t,!0),o=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";e.charAt(e.length-2)!=" "&&i&&!o||(e=e.substr(0,e.length-1)+"\xA0")}return e.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_isPreFormatted(t){if(function(e,i){return e.getAncestors().some(o=>o.is("element")&&i.includes(o.name))}(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(e.is("element")&&e.hasStyle("white-space")&&e.getStyle("white-space")!=="inherit")return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const i=new Kn({startPosition:e?B._createAfter(t):B._createBefore(t),direction:e?"forward":"backward"});for(const{item:o}of i){if(o.is("$textProxy"))return o;if(!o.is("element")||!o.getCustomProperty("dataPipeline:transparentRendering")){if(o.is("element","br"))return null;if(this._isInlineObjectElement(o))return o;if(o.is("containerElement"))return null}}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&(t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,e){if(Er(t))return new ca(this.document,"$comment");const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Gi(this.document,i)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const i=this._domDocument.createElement("span");if(i.setAttribute(Yg,t),e){for(;e.firstChild;)i.appendChild(e.firstChild);for(const o of e.getAttributeNames())i.setAttribute(o,e.getAttribute(o))}return i}}function Zg(n,t){let e=n;for(;e;)t(e),e=e.parentElement}function Qg(n,t){const e=n.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function lA(n,t,e){return t=="\xA0"&&n&&n.is("element")&&n.childCount==1&&e.includes(n.name)}function cA(n,t){return t=="\xA0"&&n&&n.is("element","span")&&n.childCount==1&&n.hasAttribute("data-cke-filler")}function Jg(n){return n.is("element","br")&&n.hasAttribute("data-cke-filler")}function Xg(n,t){return n.tagName==="BR"&&Qg(n,t)&&n.parentNode.childNodes.length===1}function tf(n){n==="script"&&st("domconverter-unsafe-script-element-detected"),n==="style"&&st("domconverter-unsafe-style-element-detected")}class mi extends Se(){constructor(t){super(),m(this,"view"),m(this,"document"),m(this,"_isEnabled",!1),this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class Bo{constructor(t,e,i){m(this,"view"),m(this,"document"),m(this,"domEvent"),m(this,"domTarget"),this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Gm(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ai extends mi{constructor(){super(...arguments),m(this,"useCapture",!1),m(this,"usePassive",!1)}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(i,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(t){this.stopListening(t)}fire(t,e,i){this.isEnabled&&this.document.fire(t,new Bo(this.view,e,i))}}class dA extends Ai{constructor(){super(...arguments),m(this,"domEventType",["keydown","keyup"])}onDomEvent(t){const e={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return qn(this)}};this.fire(t.type,t,e)}}class uA extends mi{constructor(t){super(t),m(this,"_fireSelectionChangeDoneDebounced"),this._fireSelectionChangeDoneDebounced=di(e=>{this.document.fire("selectionChangeDone",e)},200)}observe(){const t=this.document;t.on("arrowKey",(e,i)=>{t.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),t.on("arrowKey",(e,i)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,i=new Ki(e.getRanges(),{backward:e.isBackward,fake:!1});t!=it.arrowleft&&t!=it.arrowup||i.setTo(i.getFirstPosition()),t!=it.arrowright&&t!=it.arrowdown||i.setTo(i.getLastPosition());const o={oldSelection:e,newSelection:i,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}let ef=class extends mi{constructor(n){super(n),m(this,"domConverter"),m(this,"_config"),m(this,"_domElements"),m(this,"_mutationObserver"),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const t=this.domConverter,e=new Set,i=new Set;for(const r of n){const s=t.mapDomToView(r.target);s&&(s.is("uiElement")||s.is("rawElement")||r.type!=="childList"||this._isBogusBrMutation(r)||i.add(s))}for(const r of n){const s=t.mapDomToView(r.target);if((!s||!s.is("uiElement")&&!s.is("rawElement"))&&r.type==="characterData"){const a=t.findCorrespondingViewText(r.target);a&&!i.has(a.parent)?e.add(a):!a&&We(r.target)&&i.add(t.mapDomToView(r.target.parentNode))}}const o=[];for(const r of e)o.push({type:"text",node:r});for(const r of i){const s=t.mapViewToDom(r);Zm(Array.from(r.getChildren()),Array.from(t.domChildrenToView(s,{withChildren:!1})),hA)||o.push({type:"children",node:r})}o.length&&this.document.fire("mutations",{mutations:o})}_isBogusBrMutation(n){let t=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(t=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function hA(n,t){if(!Array.isArray(n))return n===t||!(!n.is("$text")||!t.is("$text"))&&n.data===t.data}class ha extends Ai{constructor(t){super(t),m(this,"_renderTimeoutId",null),m(this,"_isFocusChanging",!1),m(this,"domEventType",["focus","blur"]),this.useCapture=!0;const e=this.document;e.on("focus",()=>this._handleFocus()),e.on("blur",(i,o)=>this._handleBlur(o)),e.on("beforeinput",()=>{e.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(t){const e=this.document.selection.editableElement;e!==null&&e!==t.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class mA extends mi{constructor(t){super(t),m(this,"mutationObserver"),m(this,"focusObserver"),m(this,"selection"),m(this,"domConverter"),m(this,"_documents",new WeakSet),m(this,"_fireSelectionChangeDoneDebounced"),m(this,"_clearInfiniteLoopInterval"),m(this,"_documentIsSelectingInactivityTimeoutDebounced"),m(this,"_loopbackCounter",0),m(this,"_pendingSelectionChange",new Set),this.mutationObserver=t.getObserver(ef),this.focusObserver=t.getObserver(ha),this.selection=this.document.selection,this.domConverter=t.domConverter,this._fireSelectionChangeDoneDebounced=di(e=>{this.document.fire("selectionChangeDone",e)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=di(()=>this.document.isSelecting=!1,5e3),this.view.document.on("change:isFocused",(e,i,o)=>{if(o&&this._pendingSelectionChange.size){for(const r of Array.from(this._pendingSelectionChange))this._handleSelectionChange(r);this._pendingSelectionChange.clear()}})}observe(t){const e=t.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(e)||(this.listenTo(e,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",()=>{this.document.isComposing&&!j.isAndroid||(this._handleSelectionChange(e),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(e)},{priority:"lowest"}),this._documents.add(e))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t){if(!this.isEnabled)return;const e=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(e.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(e);if(i.rangeCount!=0)if(this.view.hasDomSelection=!0,this.focusObserver.flush(),this.view.document.isFocused){if(this._pendingSelectionChange.delete(t),!this.selection.isEqual(i)||!this.domConverter.isDomSelectionCorrect(e))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(i))this.view.forceRender();else{const o={oldSelection:this.selection,newSelection:i,domSelection:e};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}else this._pendingSelectionChange.add(t);else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class gA extends Ai{constructor(t){super(t),m(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0},{priority:"low"}),e.on("compositionend",()=>{e.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class nf{constructor(t,e={}){m(this,"_files"),m(this,"_native"),this._files=e.cacheFiles?of(t):null,this._native=t}get files(){return this._files||(this._files=of(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,i){this._native.setDragImage(t,e,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function of(n){const t=Array.from(n.files||[]),e=Array.from(n.items||[]);return t.length?t:e.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class fA extends Ai{constructor(){super(...arguments),m(this,"domEventType","beforeinput")}onDomEvent(t){const e=t.getTargetRanges(),i=this.view,o=i.document;let r=null,s=null,a=[];if(t.dataTransfer&&(r=new nf(t.dataTransfer)),t.data!==null?s=t.data:r&&(s=r.getData("text/plain")),o.selection.isFake)a=Array.from(o.selection.getRanges());else if(e.length)a=e.map(l=>{const c=i.domConverter.domPositionToView(l.startContainer,l.startOffset),d=i.domConverter.domPositionToView(l.endContainer,l.endOffset);return c?i.createRange(c,d):d?i.createRange(d):void 0}).filter(l=>!!l);else if(j.isAndroid){const l=t.target.ownerDocument.defaultView.getSelection();a=Array.from(i.domConverter.domSelectionToView(l).getRanges())}if(j.isAndroid&&t.inputType=="insertCompositionText"&&s&&s.endsWith(`
`))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[i.createRange(a[0].end)]});else if(t.inputType=="insertText"&&s&&s.includes(`
`)){const l=s.split(/\n{1,2}/g);let c=a;for(let d=0;d<l.length;d++){const u=l[d];u!=""&&(this.fire(t.type,t,{data:u,dataTransfer:r,targetRanges:c,inputType:t.inputType,isComposing:t.isComposing}),c=[o.selection.getFirstRange()]),d+1<l.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:c}),c=[o.selection.getFirstRange()])}}else this.fire(t.type,t,{data:s,dataTransfer:r,targetRanges:a,inputType:t.inputType,isComposing:t.isComposing})}}class pA extends mi{constructor(t){super(t),this.document.on("keydown",(e,i)=>{if(this.isEnabled&&DC(i.keyCode)){const o=new Do(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(o,i),o.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class bA extends mi{constructor(t){super(t);const e=this.document;e.on("keydown",(i,o)=>{if(!this.isEnabled||o.keyCode!=it.tab||o.ctrlKey)return;const r=new Do(e,"tab",e.selection.getFirstRange());e.fire(r,o),r.stop.called&&i.stop()})}observe(){}stopObserving(){}}let kA=class extends wt(){constructor(n){super(),m(this,"document"),m(this,"domConverter"),m(this,"domRoots",new Map),m(this,"_renderer"),m(this,"_initialDomRootAttributes",new WeakMap),m(this,"_observers",new Map),m(this,"_writer"),m(this,"_ongoingChange",!1),m(this,"_postFixersInProgress",!1),m(this,"_renderingDisabled",!1),m(this,"_hasChangedSinceTheLastRendering",!1),this.document=new la(n),this.domConverter=new ua(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new eA(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Dc(this.document),this.addObserver(ef),this.addObserver(ha),this.addObserver(mA),this.addObserver(dA),this.addObserver(uA),this.addObserver(gA),this.addObserver(pA),this.addObserver(fA),this.addObserver(bA),this.document.on("arrowKey",tA,{priority:"low"}),YC(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),j.isiOS&&this.listenTo(this.document,"blur",(t,e)=>{this.domConverter.mapDomToView(e.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(t,{mutations:e})=>{e.forEach(i=>this._renderer.markToSync(i.type,i.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(n,t="main"){const e=this.document.getRoot(t);e._name=n.tagName.toLowerCase();const i={};for(const{name:r,value:s}of Array.from(n.attributes))i[r]=s,r==="class"?this._writer.addClass(s.split(" "),e):e.hasAttribute(r)||this._writer.setAttribute(r,s,e);this._initialDomRootAttributes.set(n,i);const o=()=>{this._writer.setAttribute("contenteditable",(!e.isReadOnly).toString(),e),e.isReadOnly?this._writer.addClass("ck-read-only",e):this._writer.removeClass("ck-read-only",e)};o(),this.domRoots.set(t,n),this.domConverter.bindElements(n,e),this._renderer.markToSync("children",e),this._renderer.markToSync("attributes",e),this._renderer.domDocuments.add(n.ownerDocument),e.on("change:children",(r,s)=>this._renderer.markToSync("children",s)),e.on("change:attributes",(r,s)=>this._renderer.markToSync("attributes",s)),e.on("change:text",(r,s)=>this._renderer.markToSync("text",s)),e.on("change:isReadOnly",()=>this.change(o)),e.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const r of this._observers.values())r.observe(n,t)}detachDomRoot(n){const t=this.domRoots.get(n);Array.from(t.attributes).forEach(({name:i})=>t.removeAttribute(i));const e=this._initialDomRootAttributes.get(t);for(const i in e)t.setAttribute(i,e[i]);this.domRoots.delete(n),this.domConverter.unbindDomElement(t);for(const i of this._observers.values())i.stopObserving(t)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let t=this._observers.get(n);if(t)return t;t=new n(this),this._observers.set(n,t);for(const[e,i]of this.domRoots)t.observe(i,e);return t.enable(),t}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:t,viewportOffset:e=20,ancestorOffset:i=20}={}){const o=this.document.selection.getFirstRange();if(!o)return;const r=Ue({alignToTop:n,forceScroll:t,viewportOffset:e,ancestorOffset:i});typeof e=="number"&&(e={top:e,bottom:e,left:e,right:e});const s={target:this.domConverter.viewRangeToDom(o),viewportOffset:e,ancestorOffset:i,alignToTop:n,forceScroll:t};this.fire("scrollToTheSelection",s,r),AC(s)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new v("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const t=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){v.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(ha).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,t){return B._createAt(n,t)}createPositionAfter(n){return B._createAfter(n)}createPositionBefore(n){return B._createBefore(n)}createRange(n,t){return new rt(n,t)}createRangeOn(n){return rt._createOn(n)}createRangeIn(n){return rt._createIn(n)}createSelection(...n){return new Ki(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};class _n{is(){throw new Error("is() method is abstract")}}class gi extends _n{constructor(t,e,i){if(super(),m(this,"textNode"),m(this,"data"),m(this,"offsetInText"),this.textNode=t,e<0||e>t.offsetSize)throw new v("model-textproxy-wrong-offsetintext",this);if(i<0||e+i>t.offsetSize)throw new v("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+i),this.offsetInText=e}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let i=t.includeSelf?this:this.parent;for(;i;)e[t.parentFirst?"push":"unshift"](i),i=i.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}gi.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class Yi{constructor(t){if(m(this,"direction"),m(this,"boundaries"),m(this,"singleCharacters"),m(this,"shallow"),m(this,"ignoreElementEnd"),m(this,"_position"),m(this,"_boundaryStartParent"),m(this,"_boundaryEndParent"),m(this,"_visitedParent"),!t||!t.boundaries&&!t.startPosition)throw new v("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new v("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=S._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,i,o,r;do o=this.position,r=this._visitedParent,{done:e,value:i}=this.next();while(!e&&t(i));e||(this._position=o,this._visitedParent=r)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone(),this._visitedParent=t.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=zr(e,i),r=o||rf(e,i,o);if(r&&r.is("model:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e.path.push(0),this._visitedParent=r;return this._position=e,Qn("elementStart",r,t,e,1)}if(r&&r.is("model:$text")){let s;if(this.singleCharacters)s=1;else{let c=r.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),s=c-e.offset}const a=e.offset-r.startOffset,l=new gi(r,a,s);return e.offset+=s,this._position=e,Qn("text",l,t,e,s)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Qn("elementEnd",i,t,e)}_previous(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=e.parent,r=zr(e,o),s=r||sf(e,o,r);if(s&&s.is("model:element"))return e.offset--,this.shallow?(this._position=e,Qn("elementStart",s,t,e,1)):(e.path.push(s.maxOffset),this._position=e,this._visitedParent=s,this.ignoreElementEnd?this._previous():Qn("elementEnd",s,t,e));if(s&&s.is("model:$text")){let a;if(this.singleCharacters)a=1;else{let d=s.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>d&&(d=this.boundaries.start.offset),a=e.offset-d}const l=e.offset-s.startOffset,c=new gi(s,l-a,a);return e.offset-=a,this._position=e,Qn("text",c,t,e,a)}return e.path.pop(),this._position=e,this._visitedParent=i.parent,Qn("elementStart",i,t,e,1)}}function Qn(n,t,e,i,o){return{done:!1,value:{type:n,item:t,previousPosition:e,nextPosition:i,length:o}}}class S extends _n{constructor(t,e,i="toNone"){if(super(),m(this,"root"),m(this,"path"),m(this,"stickiness"),!t.is("element")&&!t.is("documentFragment"))throw new v("model-position-root-invalid",t);if(!Array.isArray(e)||e.length===0)throw new v("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChildAtOffset(this.path[e]),!t)throw new v("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new v("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return zr(this,this.parent)}get nodeAfter(){const t=this.parent;return rf(this,t,zr(this,t))}get nodeBefore(){const t=this.parent;return sf(this,t,zr(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChildAtOffset(this.path[e]),!t)return!1;return this.offset<=t.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=xe(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const i=new Yi(e);return i.skip(t),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=xe(this.path,t.path),i=typeof e=="string"?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,i)}getCommonAncestor(t){const e=this.getAncestors(),i=t.getAncestors();let o=0;for(;e[o]==i[o]&&e[o];)o++;return o===0?null:e[o-1]}getShiftedBy(t){const e=this.clone(),i=e.offset+t;return e.offset=i<0?0:i,e}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let i=0;i<e;i++){const o=this.path[i]-t.path[i];if(o<-1||o>1)return!1;if(o===1)return af(t,this,i);if(o===-1)return af(this,t,i)}return this.path.length===t.path.length||(this.path.length>t.path.length?Nc(this.path,e):Nc(t.path,e))}hasSameParentAs(t){return this.root!==t.root?!1:xe(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=S._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let i;return e.containsPosition(this)||e.start.isEqual(this)?(i=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(i=i._getTransformedByDeletion(t.deletionPosition,1))):i=this.isEqual(t.deletionPosition)?S._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),i}_getTransformedByDeletion(t,e){const i=S._createAt(this);if(this.root!=t.root)return i;if(xe(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;i.offset-=e}}else if(xe(t.getParentPath(),this.getParentPath())=="prefix"){const o=t.path.length-1;if(t.offset<=this.path[o]){if(t.offset+e>this.path[o])return null;i.path[o]-=e}}return i}_getTransformedByInsertion(t,e){const i=S._createAt(this);if(this.root!=t.root)return i;if(xe(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=e);else if(xe(t.getParentPath(),this.getParentPath())=="prefix"){const o=t.path.length-1;t.offset<=this.path[o]&&(i.path[o]+=e)}return i}_getTransformedByMove(t,e,i){if(e=e._getTransformedByDeletion(t,i),t.isEqual(e))return S._createAt(this);const o=this._getTransformedByDeletion(t,i);return o===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,e):o._getTransformedByInsertion(e,i)}_getCombined(t,e){const i=t.path.length-1,o=S._createAt(e);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[i]-t.offset,o.path=[...o.path,...this.path.slice(i+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,i="toNone"){if(t.is("model:position"))return new S(t.root,t.path,t.stickiness);{const o=t;if(e=="end")e=o.maxOffset;else{if(e=="before")return this._createBefore(o,i);if(e=="after")return this._createAfter(o,i);if(e!==0&&!e)throw new v("model-createpositionat-offset-required",[this,t])}if(!o.is("element")&&!o.is("documentFragment"))throw new v("model-position-parent-incorrect",[this,t]);const r=o.getPath();return r.push(e),new this(o.root,r,i)}}static _createAfter(t,e){if(!t.parent)throw new v("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new v("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if(t.root==="$graveyard"){const i=new S(e.graveyard,t.path);return i.stickiness=t.stickiness,i}if(!e.getRoot(t.root))throw new v("model-position-fromjson-no-root",e,{rootName:t.root});return new S(e.getRoot(t.root),t.path,t.stickiness)}}function zr(n,t){const e=t.getChildAtOffset(n.offset);return e&&e.is("$text")&&e.startOffset<n.offset?e:null}function rf(n,t,e){return e!==null?null:t.getChildAtOffset(n.offset)}function sf(n,t,e){return e!==null?null:t.getChild(t.offsetToIndex(n.offset)-1)}function af(n,t,e){return e+1!==n.path.length&&!!Nc(t.path,e+1)&&!!function(i,o){let r=i.parent,s=i.path.length-1,a=0;for(;s>=o;){if(i.path[s]+a!==r.maxOffset)return!1;a=1,s--,r=r.parent}return!0}(n,e+1)}function Nc(n,t){for(;t<n.length;){if(n[t]!==0)return!1;t++}return!0}S.prototype.is=function(n){return n==="position"||n==="model:position"};class E extends _n{constructor(t,e){super(),m(this,"start"),m(this,"end"),this.start=S._createAt(t),this.end=e?S._createAt(e):S._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Yi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return xe(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const i=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return i&&o}containsItem(t){const e=S._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new E(this.start,t.start)),this.containsPosition(t.end)&&e.push(new E(t.end,this.end))):e.push(new E(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,i=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(i=t.end),new E(e,i)}return null}getJoined(t,e=!1){let i=this.isIntersecting(t);if(i||(i=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!i)return null;let o=this.start,r=this.end;return t.start.isBefore(o)&&(o=t.start),t.end.isAfter(r)&&(r=t.end),new E(o,r)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,i=S._createAt(this.start);let o=i.parent;for(;i.path.length>e+1;){const r=o.maxOffset-i.offset;r!==0&&t.push(new E(i,i.getShiftedBy(r))),i.path=i.path.slice(0,-1),i.offset++,o=o.parent}for(;i.path.length<=this.end.path.length;){const r=this.end.path[i.path.length-1],s=r-i.offset;s!==0&&t.push(new E(i,i.getShiftedBy(s))),i.offset=r,i.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Yi(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Yi(t);for(const i of e)yield i.item}*getPositions(t={}){t.boundaries=this;const e=new Yi(t);yield e.position;for(const i of e)yield i.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new E(this.start,this.end)]}getTransformedByOperations(t){const e=[new E(this.start,this.end)];for(const i of t)for(let o=0;o<e.length;o++){const r=e[o].getTransformedByOperation(i);e.splice(o,1,...r),o+=r.length-1}for(let i=0;i<e.length;i++){const o=e[i];for(let r=i+1;r<e.length;r++){const s=e[r];(o.containsRange(s)||s.containsRange(o)||o.isEqual(s))&&e.splice(r,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const i=t.sourcePosition,o=t.howMany,r=t.targetPosition;return this._getTransformedByMove(i,r,o,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let i=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(i=this.end.getShiftedBy(1)),e.root!=i.root&&(i=this.end.getShiftedBy(-1)),new E(e,i)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new E(this.start);let e=this.start._getTransformedByMergeOperation(t),i=this.end._getTransformedByMergeOperation(t);return e.root!=i.root&&(i=this.end.getShiftedBy(-1)),e.isAfter(i)?(t.sourcePosition.isBefore(t.targetPosition)?(e=S._createAt(i),e.offset=0):(t.deletionPosition.isEqual(e)||(i=t.deletionPosition),e=t.targetPosition),new E(e,i)):new E(e,i)}_getTransformedByInsertion(t,e,i=!1){if(i&&this.containsPosition(t))return[new E(this.start,t),new E(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const o=new E(this.start,this.end);return o.start=o.start._getTransformedByInsertion(t,e),o.end=o.end._getTransformedByInsertion(t,e),[o]}}_getTransformedByMove(t,e,i,o=!1){if(this.isCollapsed){const u=this.start._getTransformedByMove(t,e,i);return[new E(u)]}const r=E._createFromPositionAndShift(t,i),s=e._getTransformedByDeletion(t,i);if(this.containsPosition(e)&&!o&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const u=this.start._getTransformedByMove(t,e,i),h=this.end._getTransformedByMove(t,e,i);return[new E(u,h)]}let a;const l=this.getDifference(r);let c=null;const d=this.getIntersection(r);if(l.length==1?c=new E(l[0].start._getTransformedByDeletion(t,i),l[0].end._getTransformedByDeletion(t,i)):l.length==2&&(c=new E(this.start,this.end._getTransformedByDeletion(t,i))),a=c?c._getTransformedByInsertion(s,i,d!==null||o):[],d){const u=new E(d.start._getCombined(r.start,s),d.end._getCombined(r.start,s));a.length==2?a.splice(1,0,u):a.push(u)}return a}_getTransformedByDeletion(t,e){let i=this.start._getTransformedByDeletion(t,e),o=this.end._getTransformedByDeletion(t,e);return i==null&&o==null?null:(i==null&&(i=t),o==null&&(o=t),new E(i,o))}static _createFromPositionAndShift(t,e){const i=t,o=t.getShiftedBy(e);return e>0?new this(i,o):new this(o,i)}static _createIn(t){return new this(S._createAt(t,0),S._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(S._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new v("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const e=t[0];t.sort((r,s)=>r.start.isAfter(s.start)?1:-1);const i=t.indexOf(e),o=new this(e.start,e.end);for(let r=i-1;r>=0&&t[r].end.isEqual(o.start);r--)o.start=S._createAt(t[r].start);for(let r=i+1;r<t.length&&t[r].start.isEqual(o.end);r++)o.end=S._createAt(t[r].end);return o}static fromJSON(t,e){return new this(S.fromJSON(t.start,e),S.fromJSON(t.end,e))}}E.prototype.is=function(n){return n==="range"||n==="model:range"};class lf extends kt(){constructor(){super(),m(this,"_modelToViewMapping",new WeakMap),m(this,"_viewToModelMapping",new WeakMap),m(this,"_viewToModelLengthCallbacks",new Map),m(this,"_markerNameToElements",new Map),m(this,"_elementToMarkerNames",new Map),m(this,"_deferredBindingRemovals",new Map),m(this,"_unboundMarkerNames",new Set),m(this,"_cache",new wA),this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const i=this._modelToViewMapping.get(e.modelPosition.parent);if(!i)throw new v("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(i,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const i=this.findMappedViewAncestor(e.viewPosition),o=this._viewToModelMapping.get(i),r=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,i);e.modelPosition=S._createAt(o,r)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const i=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const o of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(o);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t)&&this._cache.stopTracking(t),this._modelToViewMapping.get(i)==t&&this._modelToViewMapping.delete(i))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e)}bindElementToMarker(t,e){const i=this._markerNameToElements.get(e)||new Set;i.add(t);const o=this._elementToMarkerNames.get(t)||new Set;o.add(e),this._markerNameToElements.set(e,i),this._elementToMarkerNames.set(t,o)}unbindElementFromMarkerName(t,e){const i=this._markerNameToElements.get(e);i&&(i.delete(t),i.size==0&&this._markerNameToElements.delete(e));const o=this._elementToMarkerNames.get(t);o&&(o.delete(e),o.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new E(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new rt(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const i={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const i=new Set;for(const o of e)if(o.is("attributeElement"))for(const r of o.getElementsWithSameId())i.add(r);else i.add(o);return i}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,i){if(i!=t)return this._toModelOffset(t.parent,t.index,i)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let o=0;for(let r=0;r<e;r++)o+=this.getModelLength(t.getChild(r));return o}getModelLength(t){const e=[t];let i=0;for(;e.length>0;){const o=e.pop(),r=o.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(o.name);if(r)i+=r(o);else if(this._viewToModelMapping.has(o))i+=1;else if(o.is("$text"))i+=o.data.length;else{if(o.is("uiElement"))continue;for(const s of o.getChildren())e.push(s)}}return i}findPositionIn(t,e){if(e===0)return this._moveViewPositionToTextNode(new B(t,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(t)){const i=this._cache.getClosest(t,e);return this._findPositionStartingFrom(i.viewPosition,i.modelOffset,e,t,!0)}return this._findPositionStartingFrom(new B(t,0),0,e,t,!1)}_findPositionStartingFrom(t,e,i,o,r){let s,a=t.parent,l=t.offset;if(a.is("$text"))return new B(a,i-e);let c=e,d=0;for(;c<i;)if(s=a.getChild(l),s)d=this.getModelLength(s),c+=d,l++,r&&this._cache.save(a,l,o,c);else{if(a==o)throw new v("mapping-model-offset-not-found",this,{modelOffset:i,viewContainer:o});l=a.parent.getChildIndex(a)+1,a=a.parent}return c==i?this._moveViewPositionToTextNode(new B(a,l)):this._findPositionStartingFrom(new B(s,0),c-d,i,o,r)}_moveViewPositionToTextNode(t){const e=t.nodeBefore,i=t.nodeAfter;return e&&e.is("view:$text")?new B(e,e.data.length):i&&i.is("view:$text")?new B(i,0):t}}class wA extends kt(){constructor(){super(...arguments),m(this,"_cachedMapping",new WeakMap),m(this,"_nodeToCacheListIndex",new WeakMap),m(this,"_invalidateOnChildrenChangeCallback",(t,e,i)=>{this._clearCacheInsideParent(e,i.index)}),m(this,"_invalidateOnTextChangeCallback",(t,e)=>{this._clearCacheStartingBefore(e)})}save(t,e,i,o){const r=this._cachedMapping.get(i),s=r.cacheMap.get(o);if(s){const c=t.getChild(e-1),d=s.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(s.viewPosition.nodeBefore):0;return void this._nodeToCacheListIndex.set(c,d)}const a={viewPosition:new B(t,e),modelOffset:o};r.maxModelOffset=o>r.maxModelOffset?o:r.maxModelOffset,r.cacheMap.set(o,a);let l=r.cacheList.length-1;for(;l>=0&&r.cacheList[l].modelOffset>o;)l--;if(r.cacheList.splice(l+1,0,a),e>0){const c=t.getChild(e-1);this._nodeToCacheListIndex.set(c,l+1)}}getClosest(t,e){const i=this._cachedMapping.get(t);let o;i?e>i.maxModelOffset?o=i.cacheList[i.cacheList.length-1]:o=i.cacheMap.get(e)||this._findInCacheList(i.cacheList,e):o=this.startTracking(t);const r=this._hoistViewPosition(o.viewPosition);return{modelOffset:o.modelOffset,viewPosition:r}}_hoistViewPosition(t){for(;t.parent.parent&&!this._cachedMapping.has(t.parent)&&t.isAtEnd;){const e=t.parent.parent,i=e.getChildIndex(t.parent)+1;t=new B(e,i)}return t}startTracking(t){const e={viewPosition:new B(t,0),modelOffset:0},i={maxModelOffset:0,cacheList:[e],cacheMap:new Map([[0,e]])};return this._cachedMapping.set(t,i),t.on("change:children",this._invalidateOnChildrenChangeCallback),t.on("change:text",this._invalidateOnTextChangeCallback),e}stopTracking(t){t.off("change:children",this._invalidateOnChildrenChangeCallback),t.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(t)}_clearCacheInsideParent(t,e){if(e==0)this._cachedMapping.has(t)?this._clearCacheAll(t):this._clearCacheStartingBefore(t);else{const i=t.getChild(e-1);this._clearCacheStartingBefore(i)}}_clearCacheAll(t){const e=this._cachedMapping.get(t);e.maxModelOffset>0&&(e.maxModelOffset=0,e.cacheList.length=1,e.cacheMap.clear(),e.cacheMap.set(0,e.cacheList[0]))}_clearCacheStartingBefore(t){const e=this._nodeToCacheListIndex.get(t);if(e===void 0){const o=t.parent;return void(this._cachedMapping.has(o)||this._clearCacheStartingBefore(o))}let i=t.parent;for(;!this._cachedMapping.has(i);)i=i.parent;this._clearCacheFromIndex(i,e)}_clearCacheFromIndex(t,e){e===0&&(e=1);const i=this._cachedMapping.get(t),o=i.cacheList[e-1];if(!o)return;i.maxModelOffset=o.modelOffset;const r=i.cacheList.splice(e);for(const s of r){i.cacheMap.delete(s.modelOffset);const a=s.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(a)}}_findInCacheList(t,e){let i=0,o=t.length-1,r=o-i>>1,s=t[r];for(;i<o;)s.modelOffset<e?i=r+1:o=r-1,r=i+(o-i>>1),s=t[r];return s.modelOffset<=e?s:t[r-1]}}class _A{constructor(){m(this,"_consumable",new Map),m(this,"_textProxyRegistry",new Map)}add(t,e){e=ma(e),t instanceof gi&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=ma(e),t instanceof gi&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=ma(e),t instanceof gi&&(t=this._getSymbolForTextProxy(t));const i=this._consumable.get(t);if(i===void 0)return null;const o=i.get(e);return o===void 0?null:o}revert(t,e){e=ma(e),t instanceof gi&&(t=this._getSymbolForTextProxy(t));const i=this.test(t,e);return i===!1?(this._consumable.get(t).set(e,!0),!0):i!==!0&&null}verifyAllConsumed(t){const e=[];for(const[i,o]of this._consumable)for(const[r,s]of o){const a=r.split(":")[0];s&&t==a&&e.push({event:r,item:i.name||i.description})}if(e.length)throw new v("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const i=this._textProxyRegistry.get(t.startOffset);if(i){const o=i.get(t.endOffset);o&&(e=o.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,i=t.endOffset,o=t.parent,r=Symbol("$textProxy:"+t.data);let s,a;return s=this._textProxyRegistry.get(e),s||(s=new Map,this._textProxyRegistry.set(e,s)),a=s.get(i),a||(a=new Map,s.set(i,a)),a.set(o,r),r}}function ma(n){const t=n.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?n:t.length>1?t[0]+":"+t[1]:t[0]}class cf extends kt(){constructor(t){super(),m(this,"_conversionApi"),m(this,"_firedEventsMap"),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,e,i){const o=this._createConversionApi(i,t.getRefreshedItems());for(const s of t.getMarkersToRemove())this._convertMarkerRemove(s.name,s.range,o);const r=this._reduceChanges(t.getChanges());for(const s of r)s.type==="insert"?this._convertInsert(E._createFromPositionAndShift(s.position,s.length),o):s.type==="reinsert"?this._convertReinsert(E._createFromPositionAndShift(s.position,s.length),o):s.type==="remove"?this._convertRemove(s.position,s.length,s.name,o):this._convertAttribute(s.range,s.attributeKey,s.attributeOldValue,s.attributeNewValue,o);o.mapper.flushDeferredBindings();for(const s of o.mapper.flushUnboundMarkerNames()){const a=e.get(s).getRange();this._convertMarkerRemove(s,a,o),this._convertMarkerAdd(s,a,o)}for(const s of t.getMarkersToAdd())this._convertMarkerAdd(s.name,s.range,o);o.consumable.verifyAllConsumed("insert")}convert(t,e,i,o={}){const r=this._createConversionApi(i,void 0,o);this._convertInsert(t,r);for(const[s,a]of e)this._convertMarkerAdd(s,a,r);r.consumable.verifyAllConsumed("insert")}convertSelection(t,e,i){const o=this._createConversionApi(i);this.fire("cleanSelection",{selection:t},o);const r=t.getFirstPosition().root;if(!o.mapper.toViewElement(r))return;const s=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(o.consumable,t,s),this.fire("selection",{selection:t},o),t.isCollapsed){for(const a of s)if(o.consumable.test(t,"addMarker:"+a.name)){const l=a.getRange();if(!vA(t.getFirstPosition(),a,o.mapper))continue;const c={item:t,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,c,o)}for(const a of t.getAttributeKeys())if(o.consumable.test(t,"attribute:"+a)){const l={item:t,range:t.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:t.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,o)}}}_convertInsert(t,e,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,t);for(const o of t.getWalker({shallow:!0}))this._testAndFire("insert",df(o),e)}_convertRemove(t,e,i,o){this.fire(`remove:${i}`,{position:t,length:e},o)}_convertAttribute(t,e,i,o,r){this._addConsumablesForRange(r.consumable,t,`attribute:${e}`);for(const s of t){const a={item:s.item,range:E._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:e,attributeOldValue:i,attributeNewValue:o};this._testAndFire(`attribute:${e}`,a,r)}}_convertReinsert(t,e){const i=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,i);for(const o of i.map(df))this._testAndFire("insert",{...o,reconversion:!0},e)}_convertMarkerAdd(t,e,i){if(e.root.rootName=="$graveyard")return;const o=`addMarker:${t}`;if(i.consumable.add(e,o),this.fire(o,{markerName:t,markerRange:e},i),i.consumable.consume(e,o)){this._addConsumablesForRange(i.consumable,e,o);for(const r of e.getItems()){if(!i.consumable.test(r,o))continue;const s={item:r,range:E._createOn(r),markerName:t,markerRange:e};this.fire(o,s,i)}}}_convertMarkerRemove(t,e,i){e.root.rootName!="$graveyard"&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:e},i)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const i of e){const o=i.item;if(t.test(o,"insert")===null){t.add(o,"insert");for(const r of o.getAttributeKeys())t.add(o,"attribute:"+r)}}return t}_addConsumablesForRange(t,e,i){for(const o of e.getItems())t.add(o,i);return t}_addConsumablesForSelection(t,e,i){t.add(e,"selection");for(const o of i)t.add(e,"addMarker:"+o.name);for(const o of e.getAttributeKeys())t.add(e,"attribute:"+o);return t}_testAndFire(t,e,i){const o=function(l,c){const d=c.item.is("element")?c.item.name:"$text";return`${l}:${d}`}(t,e),r=e.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(e.item):e.item,s=this._firedEventsMap.get(i),a=s.get(r);if(a){if(a.has(o))return;a.add(o)}else s.set(r,new Set([o]));this.fire(o,e,i)}_testAndFireAddAttributes(t,e){const i={item:t,range:E._createOn(t)};for(const o of i.item.getAttributeKeys())i.attributeKey=o,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(o),this._testAndFire(`attribute:${o}`,i,e)}_createConversionApi(t,e=new Set,i={}){const o={...this._conversionApi,consumable:new _A,writer:t,options:i,convertItem:r=>this._convertInsert(E._createOn(r),o),convertChildren:r=>this._convertInsert(E._createIn(r),o,{doNotAddConsumables:!0}),convertAttributes:r=>this._testAndFireAddAttributes(r,o),canReuseView:r=>!e.has(o.mapper.toModelElement(r))};return this._firedEventsMap.set(o,new Map),o}}function vA(n,t,e){const i=t.getRange(),o=Array.from(n.getAncestors());return o.shift(),o.reverse(),!o.some(r=>{if(i.containsItem(r))return!!e.toViewElement(r).getCustomProperty("addHighlight")})}function df(n){return{item:n.item,range:E._createFromPositionAndShift(n.previousPosition,n.length)}}let Jn=class extends _n{constructor(n){super(),m(this,"parent",null),m(this,"_attrs"),m(this,"_index",null),m(this,"_startOffset",null),this._attrs=hi(n)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let t=this;for(;t.parent;)n.unshift(t.startOffset),t=t.parent;return n}getAncestors(n={}){const t=[];let e=n.includeSelf?this:this.parent;for(;e;)t[n.parentFirst?"push":"unshift"](e),e=e.parent;return t}getCommonAncestor(n,t={}){const e=this.getAncestors(t),i=n.getAncestors(t);let o=0;for(;e[o]==i[o]&&e[o];)o++;return o===0?null:e[o-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const t=this.getPath(),e=n.getPath(),i=xe(t,e);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<e[i]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,t){this._attrs.set(n,t)}_setAttributesTo(n){this._attrs=hi(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}};Jn.prototype.is=function(n){return n==="node"||n==="model:node"};class Ye extends kt(_n){constructor(...t){super(),m(this,"_lastRangeBackward",!1),m(this,"_attrs",new Map),m(this,"_ranges",[]),t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let i=!1;for(const o of t._ranges)if(e.isEqual(o)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new E(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new E(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new E(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,i,o]=t;if(typeof i=="object"&&(o=i,i=void 0),e===null)this._setRanges([]);else if(e instanceof Ye)this._setRanges(e.getRanges(),e.isBackward);else if(e&&typeof e.getRanges=="function")this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof E)this._setRanges([e],!!o&&!!o.backward);else if(e instanceof S)this._setRanges([new E(e)]);else if(e instanceof Jn){const r=!!o&&!!o.backward;let s;if(i=="in")s=E._createIn(e);else if(i=="on")s=E._createOn(e);else{if(i===void 0)throw new v("model-selection-setto-required-second-parameter",[this,e]);s=new E(S._createAt(e,i))}this._setRanges([s],r)}else{if(!$e(e))throw new v("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,o&&!!o.backward)}}_setRanges(t,e=!1){const i=Array.from(t),o=i.some(r=>{if(!(r instanceof E))throw new v("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(s=>!s.isEqual(r))});(i.length!==this._ranges.length||o)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(this.anchor===null)throw new v("model-selection-setfocus-no-ranges",[this,t]);const i=S._createAt(t,e);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(o)=="before"?(this._pushRange(new E(i,o)),this._lastRangeBackward=!0):(this._pushRange(new E(o,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const i=hf(e.start,t);CA(i,e)&&(yield i);const o=e.getWalker();for(const s of o){const a=s.item;s.type=="elementEnd"&&yA(a,t,e)?yield a:s.type=="elementStart"&&a.is("model:element")&&a.root.document.model.schema.isBlock(a)&&o.jumpTo(S._createAt(a,"end"))}const r=hf(e.end,t);AA(r,e)&&(yield r)}}containsEntireContent(t=this.anchor.root){const e=S._createAt(t,0),i=S._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new E(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new v("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function uf(n,t){return!t.has(n)&&(t.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function yA(n,t,e){return uf(n,t)&&zc(n,e)}function hf(n,t){const e=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const r=i.find(s=>!o&&(o=e.isLimit(s),!o&&uf(s,t)));return i.forEach(s=>t.add(s)),r}function zc(n,t){const e=function(i){const o=i.root.document.model.schema;let r=i.parent;for(;r;){if(o.isBlock(r))return r;r=r.parent}}(n);return e?!t.containsRange(E._createOn(e),!0):!0}function CA(n,t){return!!n&&(!(!t.isCollapsed&&!n.isEmpty)||!t.start.isTouching(S._createAt(n,n.maxOffset))&&zc(n,t))}function AA(n,t){return!!n&&(!(!t.isCollapsed&&!n.isEmpty)||!t.end.isTouching(S._createAt(n,0))&&zc(n,t))}Ye.prototype.is=function(n){return n==="selection"||n==="model:selection"};class Me extends kt(E){constructor(t,e){super(t,e),xA.call(this)}detach(){this.stopListening()}toRange(){return new E(this.start,this.end)}static fromRange(t){return new Me(t.start,t.end)}}function xA(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&EA.call(this,e)},{priority:"low"})}function EA(n){const t=this.getTransformedByOperation(n),e=E._createFromRanges(t),i=!e.isEqual(this),o=function(s,a){switch(a.type){case"insert":return s.containsPosition(a.position);case"move":case"remove":case"reinsert":case"merge":return s.containsPosition(a.sourcePosition)||s.start.isEqual(a.sourcePosition)||s.containsPosition(a.targetPosition);case"split":return s.containsPosition(a.splitPosition)||s.containsPosition(a.insertionPosition)}return!1}(this,n);let r=null;if(i){e.root.rootName=="$graveyard"&&(r=n.type=="remove"?n.sourcePosition:n.deletionPosition);const s=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",s,{deletionPosition:r})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:r})}Me.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};class Rt extends Jn{constructor(t,e){super(e),m(this,"_data"),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Rt(this.data,this.getAttributes())}static fromJSON(t){return new Rt(t.data,t.attributes)}}Rt.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const ga="selection:";class fi extends kt(_n){constructor(t){super(),m(this,"_selection"),this._selection=new TA(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return ga+t}static _isStoreAttributeKey(t){return t.startsWith(ga)}}fi.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class TA extends Ye{constructor(t){super(),m(this,"markers",new ie({idProperty:"name"})),m(this,"_model"),m(this,"_document"),m(this,"_attributePriority",new Map),m(this,"_selectionRestorePosition",null),m(this,"_hasChangedRange",!1),m(this,"_overriddenGravityRegister",new Set),m(this,"_observedMarkers",new Set),this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",(e,i)=>{const o=i[0];o.isDocumentOperation&&o.type!="marker"&&o.type!="rename"&&o.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(e,i,o,r)=>{this._updateMarker(i,r)}),this.listenTo(this._document,"change",(e,i)=>{(function(o,r){const s=o.document.differ;for(const a of s.getChanges()){if(a.type!="insert")continue;const l=a.position.parent;a.length===l.maxOffset&&o.enqueueChange(r,c=>{const d=Array.from(l.getAttributeKeys()).filter(u=>u.startsWith(ga));for(const u of d)c.removeAttribute(u,l)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const i=[t];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=Ae();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new v("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new v("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=Me.fromRange(t);return e.on("change:range",(i,o,r)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const s=this._ranges.indexOf(e);this._ranges.splice(s,1),e.detach()}}),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const o of this._model.markers){const r=o.name.split(":",1)[0];if(!this._observedMarkers.has(r))continue;const s=o.getRange();for(const a of this.getRanges())s.containsRange(a,!a.isCollapsed)&&t.push(o)}const i=Array.from(this.markers);for(const o of t)this.markers.has(o)||(this.markers.add(o),e=!0);for(const o of Array.from(this.markers))t.includes(o)||(this.markers.remove(o),e=!0);e&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(t,e){const i=t.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let o=!1;const r=Array.from(this.markers),s=this.markers.has(t);if(e){let a=!1;for(const l of this.getRanges())if(e.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!s?(this.markers.add(t),o=!0):!a&&s&&(this.markers.remove(t),o=!0)}else s&&(this.markers.remove(t),o=!0);o&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(t){const e=hi(this._getSurroundingAttributes()),i=hi(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,s]of this._attributePriority)s=="low"&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(e);const o=[];for(const[r,s]of this.getAttributes())i.has(r)&&i.get(r)===s||o.push(r);for(const[r]of i)this.hasAttribute(r)||o.push(r);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(t,e,i=!0){const o=i?"normal":"low";return o=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,o),!0)}_removeAttribute(t,e=!0){const i=e?"normal":"low";return(i!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,i),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[i,o]of this.getAttributes())t.get(i)!==o&&this._removeAttribute(i,!1);for(const[i,o]of t)this._setAttribute(i,o,!1)&&e.add(i);return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())e.startsWith(ga)&&(yield[e.substr(10),t.getAttribute(e)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;if(t.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const o=t.textNode?t.textNode:t.nodeBefore,r=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(i=Or(o,e)),i||(i=Or(r,e)),!this.isGravityOverridden&&!i){let s=o;for(;s&&!i;)s=s.previousSibling,i=Or(s,e)}if(!i){let s=r;for(;s&&!i;)s=s.nextSibling,i=Or(s,e)}i||(i=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const r of o){if(r.item.is("element")&&e.isObject(r.item)){i=Or(r.item,e);break}if(r.type=="text"){i=r.item.getAttributes();break}}}return i}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function Or(n,t){if(!n)return null;if(n instanceof gi||n instanceof Rt)return n.getAttributes();if(!t.isInline(n))return null;if(!t.isObject(n))return[];const e=[];for(const[i,o]of n.getAttributes())t.checkAttribute("$text",i)&&t.getAttributeProperties(i).copyFromObject!==!1&&e.push([i,o]);return e}class Rr{constructor(t){m(this,"_nodes",[]),m(this,"_offsetToNode",[]),t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(t){return this._nodes[t]||null}getNodeAtOffset(t){return this._offsetToNode[t]||null}getNodeIndex(t){return t.index}getNodeStartOffset(t){return t.startOffset}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new v("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){if(t==this._offsetToNode.length)return this._nodes.length;const e=this._offsetToNode[t];if(!e)throw new v("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.getNodeIndex(e)}_insertNodes(t,e){const i=[];for(const r of e){if(!(r instanceof Jn))throw new v("model-nodelist-insertnodes-not-node",this);i.push(r)}let o=this.indexToOffset(t);Tg(this._nodes,i,t),Tg(this._offsetToNode,function(r){const s=[];let a=0;for(const l of r)for(let c=0;c<l.offsetSize;c++)s[a++]=l;return s}(i),o);for(let r=t;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=o,o+=this._nodes[r].offsetSize}_removeNodes(t,e=1){if(e==0)return[];let i=this.indexToOffset(t);const o=this._nodes.splice(t,e),r=o[o.length-1],s=r.startOffset+r.offsetSize-i;this._offsetToNode.splice(i,s);for(const a of o)a._index=null,a._startOffset=null;for(let a=t;a<this._nodes.length;a++)this._nodes[a]._index=a,this._nodes[a]._startOffset=i,i+=this._nodes[a].offsetSize;return o}_removeNodesArray(t){if(t.length==0)return;for(const i of t)i._index=null,i._startOffset=null;this._nodes=this._nodes.filter(i=>i.index!==null),this._offsetToNode=this._offsetToNode.filter(i=>i.index!==null);let e=0;for(let i=0;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=e,e+=this._nodes[i].offsetSize}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Lt extends Jn{constructor(t,e,i){super(e),m(this,"name"),m(this,"_children",new Rr),this.name=t,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(t){return this._children.getNode(t)}getChildAtOffset(t){return this._children.getNodeAtOffset(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const i of t)e=e.getChildAtOffset(i);return e}findAncestor(t,e={}){let i=e.includeSelf?this:this.parent;for(;i;){if(i.name===t)return i;i=i.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?function(i){const o=[];for(const r of i)o.push(r._clone(!0));return o}(this._children):void 0;return new Lt(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const i=function(o){if(typeof o=="string")return[new Rt(o)];$e(o)||(o=[o]);const r=[];for(const s of o)typeof s=="string"?r.push(new Rt(s)):s instanceof gi?r.push(new Rt(s.data,s.getAttributes())):r.push(s);return r}(e);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(t,i)}_removeChildren(t,e=1){const i=this._children._removeNodes(t,e);for(const o of i)o.parent=null;return i}_removeChildrenArray(t){this._children._removeNodesArray(t);for(const e of t)e.parent=null}static fromJSON(t){let e;if(t.children){e=[];for(const i of t.children)i.name?e.push(Lt.fromJSON(i)):e.push(Rt.fromJSON(i))}return new Lt(t.name,t.attributes,e)}}Lt.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};class mf{constructor(t){m(this,"_dispatchers"),this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class SA extends mf{elementToElement(t){return this.add(function(e){const i=pf(e.model),o=Vr(e.view,"container");return i.attributes.length&&(i.children=!0),r=>{r.on(`insert:${i.name}`,MA(o,_f(i)),{priority:e.converterPriority||"normal"}),(i.children||i.attributes.length)&&r.on("reduceChanges",wf(i),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(e){const i=pf(e.model),o=Vr(e.view,"container");return i.children=!0,r=>{if(r._conversionApi.schema.checkChild(i.name,"$text"))throw new v("conversion-element-to-structure-disallowed-text",r,{elementName:i.name});var s,a;r.on(`insert:${i.name}`,(s=o,a=_f(i),(l,c,d)=>{if(!a(c.item,d.consumable,{preflight:!0}))return;const u=new Map;d.writer._registerSlotFactory(function(f,p,b){return(k,w)=>{const _=k.createContainerElement("$slot");let y=null;if(w==="children")y=Array.from(f.getChildren());else{if(typeof w!="function")throw new v("conversion-slot-mode-unknown",b.dispatcher,{modeOrFilter:w});y=Array.from(f.getChildren()).filter(A=>w(A))}return p.set(_,y),_}}(c.item,u,d));const h=s(c.item,d,c);if(d.writer._clearSlotFactory(),!h)return;(function(f,p,b){const k=Array.from(p.values()).flat(),w=new Set(k);if(w.size!=k.length)throw new v("conversion-slot-filter-overlap",b.dispatcher,{element:f});if(w.size!=f.childCount)throw new v("conversion-slot-filter-incomplete",b.dispatcher,{element:f})})(c.item,u,d),a(c.item,d.consumable);const g=d.mapper.toViewPosition(c.range.start);d.mapper.bindElements(c.item,h),d.writer.insert(g,h),d.convertAttributes(c.item),function(f,p,b,k){b.mapper.on("modelToViewPosition",y,{priority:"highest"});let w=null,_=null;for([w,_]of p)vf(f,_,b,k),b.writer.move(b.writer.createRangeIn(w),b.writer.createPositionBefore(w)),b.writer.remove(w);function y(A,x){const I=x.modelPosition.nodeAfter,z=_.indexOf(I);z<0||(x.viewPosition=x.mapper.findPositionIn(w,z))}b.mapper.off("modelToViewPosition",y)}(h,u,d,{reconversion:c.reconversion})}),{priority:e.converterPriority||"normal"}),r.on("reduceChanges",wf(i),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(e){e=Ue(e);let i=e.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const s of i.values)e.view[s]=Vr(e.view[s],"attribute");else e.view=Vr(e.view,"attribute");const r=bf(e);return s=>{s.on(o,IA(r),{priority:e.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(e){e=Ue(e);let i=e.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const s of i.values)e.view[s]=kf(e.view[s]);else e.view=kf(e.view);const r=bf(e);return s=>{var a;s.on(o,(a=r,(l,c,d)=>{if(!d.consumable.test(c.item,l.name))return;const u=a(c.attributeOldValue,d,c),h=a(c.attributeNewValue,d,c);if(!u&&!h)return;d.consumable.consume(c.item,l.name);const g=d.mapper.toViewElement(c.item),f=d.writer;if(!g)throw new v("conversion-attribute-to-attribute-on-text",d.dispatcher,c);if(c.attributeOldValue!==null&&u){let p=u.value;u.key=="style"&&(p=typeof u.value=="string"?new Mr(f.document.stylesProcessor).setTo(u.value).getStylesEntries().map(([b])=>b):Object.keys(u.value)),f.removeAttribute(u.key,p,g)}if(c.attributeNewValue!==null&&h){let p=h.value;h.key=="style"&&typeof h.value=="string"&&(p=Object.fromEntries(new Mr(f.document.stylesProcessor).setTo(h.value).getStylesEntries())),f.setAttribute(h.key,p,!1,g)}}),{priority:e.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(e){const i=Vr(e.view,"ui");return o=>{o.on(`addMarker:${e.model}`,DA(i),{priority:e.converterPriority||"normal"}),o.on(`removeMarker:${e.model}`,(r,s,a)=>{const l=a.mapper.markerNameToElements(s.markerName);if(l){for(const c of l)a.mapper.unbindElementFromMarkerName(c,s.markerName),a.writer.clear(a.writer.createRangeOn(c),c);a.writer.clearClonedElementsGroup(s.markerName),r.stop()}},{priority:e.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(e){return i=>{var o;i.on(`addMarker:${e.model}`,(o=e.view,(r,s,a)=>{if(!s.item||!(s.item instanceof Ye||s.item instanceof fi||s.item.is("$textProxy")))return;const l=Oc(o,s,a);if(!l||!a.consumable.consume(s.item,r.name))return;const c=a.writer,d=gf(c,l),u=c.document.selection;if(s.item instanceof Ye||s.item instanceof fi)c.wrap(u.getFirstRange(),d);else{const h=a.mapper.toViewRange(s.range),g=c.wrap(h,d);for(const f of g.getItems())if(f.is("attributeElement")&&f.isSimilar(d)){a.mapper.bindElementToMarker(f,s.markerName);break}}}),{priority:e.converterPriority||"normal"}),i.on(`addMarker:${e.model}`,function(r){return(s,a,l)=>{if(!a.item||!(a.item instanceof Lt))return;const c=Oc(r,a,l);if(!c||!l.consumable.test(a.item,s.name))return;const d=l.mapper.toViewElement(a.item);if(d&&d.getCustomProperty("addHighlight")){l.consumable.consume(a.item,s.name);for(const u of E._createIn(a.item))l.consumable.consume(u.item,s.name);d.getCustomProperty("addHighlight")(d,c,l.writer),l.mapper.bindElementToMarker(d,a.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),i.on(`removeMarker:${e.model}`,function(r){return(s,a,l)=>{if(a.markerRange.isCollapsed)return;const c=Oc(r,a,l);if(!c)return;const d=gf(l.writer,c),u=l.mapper.markerNameToElements(a.markerName);if(u){for(const h of u)l.mapper.unbindElementFromMarkerName(h,a.markerName),h.is("attributeElement")?l.writer.unwrap(l.writer.createRangeOn(h),d):h.getCustomProperty("removeHighlight")(h,c.id,l.writer);l.writer.clearClonedElementsGroup(a.markerName),s.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(e){e=Ue(e);const i=e.model;let o=e.view;return o||(o=r=>({group:i,name:r.substr(e.model.length+1)})),r=>{var s;r.on(`addMarker:${i}`,(s=o,(a,l,c)=>{const d=s(l.markerName,c);if(!d)return;const u=l.markerRange;c.consumable.consume(u,a.name)&&(ff(u,!1,c,l,d),ff(u,!0,c,l,d),a.stop())}),{priority:e.converterPriority||"normal"}),r.on(`removeMarker:${i}`,function(a){return(l,c,d)=>{const u=a(c.markerName,d);if(!u)return;const h=d.mapper.markerNameToElements(c.markerName);if(h){for(const f of h)d.mapper.unbindElementFromMarkerName(f,c.markerName),f.is("containerElement")?(g(`data-${u.group}-start-before`,f),g(`data-${u.group}-start-after`,f),g(`data-${u.group}-end-before`,f),g(`data-${u.group}-end-after`,f)):d.writer.clear(d.writer.createRangeOn(f),f);d.writer.clearClonedElementsGroup(c.markerName),l.stop()}function g(f,p){if(p.hasAttribute(f)){const b=new Set(p.getAttribute(f).split(","));b.delete(u.name),b.size==0?d.writer.removeAttribute(f,p):d.writer.setAttribute(f,Array.from(b).join(","),p)}}}}(o),{priority:e.converterPriority||"normal"})}}(t))}}function gf(n,t){const e=n.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function IA(n){return(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const o=n(e.attributeOldValue,i,e),r=n(e.attributeNewValue,i,e);if(!o&&!r)return;i.consumable.consume(e.item,t.name);const s=i.writer,a=s.document.selection;if(e.item instanceof Ye||e.item instanceof fi)s.wrap(a.getFirstRange(),r);else{let l=i.mapper.toViewRange(e.range);e.attributeOldValue!==null&&o&&(l=s.unwrap(l,o)),e.attributeNewValue!==null&&r&&s.wrap(l,r)}}}function MA(n,t=LA){return(e,i,o)=>{if(!t(i.item,o.consumable,{preflight:!0}))return;const r=n(i.item,o,i);if(!r)return;t(i.item,o.consumable);const s=o.mapper.toViewPosition(i.range.start);o.mapper.bindElements(i.item,r),o.writer.insert(s,r),o.convertAttributes(i.item),vf(r,i.item.getChildren(),o,{reconversion:i.reconversion})}}function DA(n){return(t,e,i)=>{e.isOpening=!0;const o=n(e,i);e.isOpening=!1;const r=n(e,i);if(!o||!r)return;const s=e.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,t.name))return;for(const c of s)if(!i.consumable.consume(c.item,t.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(s.start),o),i.mapper.bindElementToMarker(o,e.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),r),i.mapper.bindElementToMarker(r,e.markerName)),t.stop()}}function ff(n,t,e,i,o){const r=t?n.start:n.end,s=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(s||a){let l,c;t&&s||!t&&!a?(l=s,c=!0):(l=a,c=!1);const d=e.mapper.toViewElement(l);if(d)return void function(u,h,g,f,p,b){const k=`data-${b.group}-${h?"start":"end"}-${g?"before":"after"}`,w=u.hasAttribute(k)?u.getAttribute(k).split(","):[];w.unshift(b.name),f.writer.setAttribute(k,w.join(","),u),f.mapper.bindElementToMarker(u,p.markerName)}(d,t,c,e,i,o)}(function(l,c,d,u,h){const g=`${h.group}-${c?"start":"end"}`,f=h.name?{name:h.name}:null,p=d.writer.createUIElement(g,f);d.writer.insert(l,p),d.mapper.bindElementToMarker(p,u.markerName)})(e.mapper.toViewPosition(r),t,e,i,o)}function pf(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Dt(n.attributes):[],children:!!n.children}}function Vr(n,t){return typeof n=="function"?n:(e,i)=>function(o,r,s){typeof o=="string"&&(o={name:o});let a;const l=r.writer,c=Object.assign({},o.attributes);if(s=="container")a=l.createContainerElement(o.name,c);else if(s=="attribute"){const d={priority:o.priority||Yn.DEFAULT_PRIORITY};a=l.createAttributeElement(o.name,c,d)}else a=l.createUIElement(o.name,c);if(o.styles){const d=Object.keys(o.styles);for(const u of d)l.setStyle(u,o.styles[u],a)}if(o.classes){const d=o.classes;if(typeof d=="string")l.addClass(d,a);else for(const u of d)l.addClass(u,a)}return a}(n,i,t)}function bf(n){return n.model.values?(t,e,i)=>{const o=n.view[t];return o?o(t,e,i):null}:n.view}function kf(n){return typeof n=="string"?t=>({key:n,value:t}):typeof n=="object"?n.value?()=>n:t=>({key:n.key,value:t}):n}function Oc(n,t,e){const i=typeof n=="function"?n(t,e):n;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function wf(n){const t=function(e){return(i,o)=>{if(!i.is("element",e.name))return!1;if(o.type=="attribute"){if(e.attributes.includes(o.attributeKey))return!0}else if(e.children)return!0;return!1}}(n);return(e,i)=>{const o=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const r of i.changes){const s=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(s&&t(s,r)){if(!i.reconvertedElements.has(s)){i.reconvertedElements.add(s);const a=S._createBefore(s);let l=o.length;for(let c=o.length-1;c>=0;c--){const d=o[c],u=(d.type=="attribute"?d.range.start:d.position).compareWith(a);if(u=="before"||d.type=="remove"&&u=="same")break;l=c}o.splice(l,0,{type:"remove",name:s.name,position:a,length:1},{type:"reinsert",name:s.name,position:a,length:1})}}else o.push(r)}i.changes=o}}function _f(n){return(t,e,i={})=>{const o=["insert"];for(const r of n.attributes)t.hasAttribute(r)&&o.push(`attribute:${r}`);return!!o.every(r=>e.test(t,r))&&(i.preflight||o.forEach(r=>e.consume(t,r)),!0)}}function vf(n,t,e,i){for(const o of t)PA(n.root,o,e,i)||e.convertItem(o)}function PA(n,t,e,i){const{writer:o,mapper:r}=e;if(!i.reconversion)return!1;const s=r.toViewElement(t);return!(!s||s.root==n)&&!!e.canReuseView(s)&&(o.move(o.createRangeOn(s),r.toViewPosition(S._createBefore(t))),!0)}function LA(n,t,{preflight:e}={}){return e?t.test(n,"insert"):t.consume(n,"insert")}function yf(n){const{schema:t,document:e}=n.model;for(const i of e.getRoots())if(i.isEmpty&&!t.checkChild(i,"$text")&&t.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function Cf(n,t,e){const i=e.createContext(n);return!!e.checkChild(i,"paragraph")&&!!e.checkChild(i.push("paragraph"),t)}function Af(n,t){const e=t.createElement("paragraph");return t.insert(e,n),t.createPositionAt(e,0)}class BA extends mf{elementToElement(t){return this.add(xf(t))}elementToAttribute(t){return this.add(function(e){e=Ue(e),Ef(e);const i=Tf(e,!1),o=Rc(e.view),r=o?`element:${o}`:"element";return s=>{s.on(r,i,{priority:e.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(e){e=Ue(e);let i=null;(typeof e.view=="string"||e.view.key)&&(i=function(r){typeof r.view=="string"&&(r.view={key:r.view});const s=r.view.key,a=r.view.value===void 0?/[\s\S]*/:r.view.value;let l;return s=="class"||s=="style"?l={[s=="class"?"classes":"styles"]:a}:l={attributes:{[s]:a}},r.view.name&&(l.name=r.view.name),r.view=l,s}(e)),Ef(e,i);const o=Tf(e,!0);return r=>{r.on("element",o,{priority:e.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(e){const i=function(o){return(r,s)=>{const a=typeof o=="string"?o:o(r,s);return s.writer.createElement("$marker",{"data-name":a})}}(e.model);return xf({...e,model:i})}(t))}dataToMarker(t){return this.add(function(e){e=Ue(e),e.model||(e.model=s=>s?e.view+":"+s:e.view);const i={view:e.view,model:e.model},o=Vc(Sf(i,"start")),r=Vc(Sf(i,"end"));return s=>{s.on(`element:${e.view}-start`,o,{priority:e.converterPriority||"normal"}),s.on(`element:${e.view}-end`,r,{priority:e.converterPriority||"normal"});const a=fn.low,l=fn.highest,c=fn.get(e.converterPriority)/l;s.on("element",function(d){return(u,h,g)=>{const f=`data-${d.view}`;function p(b,k){for(const w of k){const _=d.model(w,g),y=g.writer.createElement("$marker",{"data-name":_});g.writer.insert(y,b),h.modelCursor.isEqual(b)?h.modelCursor=h.modelCursor.getShiftedBy(1):h.modelCursor=h.modelCursor._getTransformedByInsertion(b,1),h.modelRange=h.modelRange._getTransformedByInsertion(b,1)[0]}}(g.consumable.test(h.viewItem,{attributes:f+"-end-after"})||g.consumable.test(h.viewItem,{attributes:f+"-start-after"})||g.consumable.test(h.viewItem,{attributes:f+"-end-before"})||g.consumable.test(h.viewItem,{attributes:f+"-start-before"}))&&(h.modelRange||Object.assign(h,g.convertChildren(h.viewItem,h.modelCursor)),g.consumable.consume(h.viewItem,{attributes:f+"-end-after"})&&p(h.modelRange.end,h.viewItem.getAttribute(f+"-end-after").split(",")),g.consumable.consume(h.viewItem,{attributes:f+"-start-after"})&&p(h.modelRange.end,h.viewItem.getAttribute(f+"-start-after").split(",")),g.consumable.consume(h.viewItem,{attributes:f+"-end-before"})&&p(h.modelRange.start,h.viewItem.getAttribute(f+"-end-before").split(",")),g.consumable.consume(h.viewItem,{attributes:f+"-start-before"})&&p(h.modelRange.start,h.viewItem.getAttribute(f+"-start-before").split(",")))}}(i),{priority:a+c})}}(t))}}function xf(n){const t=Vc(n=Ue(n)),e=Rc(n.view),i=e?`element:${e}`:"element";return o=>{o.on(i,t,{priority:n.converterPriority||"normal"})}}function Rc(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Vc(n){const t=new qe(n.view);return(e,i,o)=>{const r=t.match(i.viewItem);if(!r)return;const s=r.match;if(s.name=!0,!o.consumable.test(i.viewItem,s))return;const a=function(l,c,d){return l instanceof Function?l(c,d):d.writer.createElement(l)}(n.model,i.viewItem,o);a&&o.safeInsert(a,i.modelCursor)&&(o.consumable.consume(i.viewItem,s),o.convertChildren(i.viewItem,a),o.updateConversionResult(a,i))}}function Ef(n,t=null){const e=t===null||(r=>r.getAttribute(t)),i=typeof n.model!="object"?n.model:n.model.key,o=typeof n.model!="object"||n.model.value===void 0?e:n.model.value;n.model={key:i,value:o}}function Tf(n,t){const e=new qe(n.view);return(i,o,r)=>{if(!o.modelRange&&t)return;const s=e.match(o.viewItem);if(!s||(function(c,d){const u=typeof c=="function"?c(d):c;return typeof u=="object"&&!Rc(u)?!1:!u.classes&&!u.attributes&&!u.styles}(n.view,o.viewItem)?s.match.name=!0:delete s.match.name,!r.consumable.test(o.viewItem,s.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(o.viewItem,r,o):n.model.value;l!==null&&(o.modelRange||Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor)),function(c,d,u,h){let g=!1;for(const f of Array.from(c.getItems({shallow:u})))h.schema.checkAttribute(f,d.key)&&(g=!0,f.hasAttribute(d.key)||h.writer.setAttribute(d.key,d.value,f));return g}(o.modelRange,{key:a,value:l},t,r)&&(r.consumable.test(o.viewItem,{name:!0})&&(s.match.name=!0),r.consumable.consume(o.viewItem,s.match)))}}function Sf(n,t){return{view:`${n.view}-${t}`,model:(e,i)=>{const o=e.getAttribute("name"),r=n.model(o,i);return i.writer.createElement("$marker",{"data-name":r})}}}function NA(n){n.document.registerPostFixer(t=>function(e,i){const o=i.document.selection,r=i.schema,s=[];let a=!1;for(const l of o.getRanges()){const c=If(l,r);c&&!c.isEqual(l)?(s.push(c),a=!0):s.push(l)}return a&&e.setSelection(function(l){const c=[...l],d=new Set;let u=1;for(;u<c.length;){const h=c[u],g=c.slice(0,u);for(const[f,p]of g.entries())if(!d.has(f)){if(h.isEqual(p))d.add(f);else if(h.isIntersecting(p)){d.add(f),d.add(u);const b=h.getJoined(p);c.push(b)}}u++}return c.filter((h,g)=>!d.has(g))}(s),{backward:o.isBackward}),!1}(t,n))}function If(n,t){return n.isCollapsed?function(e,i){const o=e.start,r=i.getNearestSelectionRange(o);if(!r){const a=o.getAncestors().reverse().find(l=>i.isObject(l));return a?E._createOn(a):null}if(!r.isCollapsed)return r;const s=r.start;return o.isEqual(s)?null:new E(s)}(n,t):function(e,i){const{start:o,end:r}=e,s=i.checkChild(o,"$text"),a=i.checkChild(r,"$text"),l=i.getLimitElement(o),c=i.getLimitElement(r);if(l===c){if(s&&a)return null;if(function(h,g,f){const p=h.nodeAfter&&!f.isLimit(h.nodeAfter)||f.checkChild(h,"$text"),b=g.nodeBefore&&!f.isLimit(g.nodeBefore)||f.checkChild(g,"$text");return p||b}(o,r,i)){const h=o.nodeAfter&&i.isSelectable(o.nodeAfter)?null:i.getNearestSelectionRange(o,"forward"),g=r.nodeBefore&&i.isSelectable(r.nodeBefore)?null:i.getNearestSelectionRange(r,"backward"),f=h?h.start:o,p=g?g.end:r;return new E(f,p)}}const d=l&&!l.is("rootElement"),u=c&&!c.is("rootElement");if(d||u){const h=o.nodeAfter&&r.nodeBefore&&o.nodeAfter.parent===r.nodeBefore.parent,g=d&&(!h||!Df(o.nodeAfter,i)),f=u&&(!h||!Df(r.nodeBefore,i));let p=o,b=r;return g&&(p=S._createBefore(Mf(l,i))),f&&(b=S._createAfter(Mf(c,i))),new E(p,b)}return null}(n,t)}function Mf(n,t){let e=n,i=e;for(;t.isLimit(i)&&i.parent;)e=i,i=i.parent;return e}function Df(n,t){return n&&t.isSelectable(n)}class zA extends wt(){constructor(t,e){super(),m(this,"model"),m(this,"view"),m(this,"mapper"),m(this,"downcastDispatcher"),this.model=t,this.view=new kA(e),this.mapper=new lf,this.downcastDispatcher=new cf({mapper:this.mapper,schema:t.schema});const i=this.model.document,o=i.selection,r=this.model.markers;var s,a,l;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(c=>{this.downcastDispatcher.convertChanges(i.differ,r,c),this.downcastDispatcher.convertSelection(o,r,c)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(c,d){return(u,h)=>{const g=h.newSelection,f=[];for(const b of g.getRanges())f.push(d.toModelRange(b));const p=c.createSelection(f,{backward:g.isBackward});p.isEqual(c.document.selection)||c.change(b=>{b.setSelection(p)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(s=this.mapper,a=this.model.schema,l=this.view,(c,d)=>{if(!l.document.isComposing||j.isAndroid)for(let u=0;u<d.targetRanges.length;u++){const h=d.targetRanges[u],g=s.toModelRange(h),f=If(g,a);f&&!f.isEqual(g)&&(d.targetRanges[u]=s.toViewRange(f))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(c,d,u)=>{if(!u.consumable.consume(d.item,c.name))return;const h=u.writer,g=u.mapper.toViewPosition(d.range.start),f=h.createText(d.item.data);h.insert(g,f)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(c,d,u)=>{u.convertAttributes(d.item),d.reconversion||!d.item.is("element")||d.item.isEmpty||u.convertChildren(d.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(c,d,u)=>{const h=u.mapper.toViewPosition(d.position),g=d.position.getShiftedBy(d.length),f=u.mapper.toViewPosition(g,{isPhantom:!0}),p=u.writer.createRange(h,f),b=u.writer.remove(p.getTrimmed());for(const k of u.writer.createRangeIn(b).getItems())u.mapper.unbindViewElement(k,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(c,d,u)=>{const h=u.writer,g=h.document.selection;for(const f of g.getRanges())f.isCollapsed&&f.end.parent.isAttached()&&u.writer.mergeAttributes(f.start);h.setSelection(null)}),this.downcastDispatcher.on("selection",(c,d,u)=>{const h=d.selection;if(h.isCollapsed||!u.consumable.consume(h,"selection"))return;const g=[];for(const f of h.getRanges())g.push(u.mapper.toViewRange(f));u.writer.setSelection(g,{backward:h.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(c,d,u)=>{const h=d.selection;if(!h.isCollapsed||!u.consumable.consume(h,"selection"))return;const g=u.writer,f=h.getFirstPosition(),p=u.mapper.toViewPosition(f),b=g.breakAttributes(p);g.setSelection(b)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(c=>{if(c.rootName=="$graveyard")return null;const d=new Vg(this.view.document,c.name);return d.rootName=c.rootName,this.mapper.bindElements(c,d),d})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e=typeof t=="string"?t:t.name,i=this.model.markers.get(e);if(!i)throw new v("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}class OA extends wt(){constructor(){super(),m(this,"_sourceDefinitions",{}),m(this,"_attributeProperties",Object.create(null)),m(this,"_customChildChecks",new Map),m(this,"_customAttributeChecks",new Map),m(this,"_genericCheckSymbol",Symbol("$generic")),m(this,"_compiledDefinitions"),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new Ln(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new Ln(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new v("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new v("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e=typeof t=="string"?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(t,e)}checkAttribute(t,e){const i=this.getDefinition(t.last);if(!i)return!1;const o=this._evaluateAttributeChecks(t,e);return o!==void 0?o:i.allowAttributes.includes(e)}checkMerge(t,e){if(t instanceof S){const i=t.nodeBefore,o=t.nodeAfter;if(!(i instanceof Lt))throw new v("schema-check-merge-no-element-before",this);if(!(o instanceof Lt))throw new v("schema-check-merge-no-element-after",this);return this.checkMerge(i,o)}if(this.isLimit(t)||this.isLimit(e))return!1;for(const i of e.getChildren())if(!this.checkChild(t,i))return!1;return!0}addChildCheck(t,e){const i=e!==void 0?e:this._genericCheckSymbol,o=this._customChildChecks.get(i)||[];o.push(t),this._customChildChecks.set(i,o)}addAttributeCheck(t,e){const i=e!==void 0?e:this._genericCheckSymbol,o=this._customAttributeChecks.get(i)||[];o.push(t),this._customAttributeChecks.set(i,o)}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||Object.create(null)}getLimitElement(t){let e;for(t instanceof S?e=t.parent:e=(t instanceof E?[t]:Array.from(t.getRanges())).reduce((i,o)=>{const r=o.getCommonAncestor();return i?i.getCommonAncestor(r,{includeSelf:!0}):r},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const i=[...t.getFirstPosition().getAncestors(),new Rt("",t.getAttributes())];return this.checkAttribute(i,e)}{const i=t.getRanges();for(const o of i)for(const r of o)if(this.checkAttribute(r.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(i){for(const o of i)yield*o.getMinimalFlatRanges()}(t);for(const i of t)yield*this._getValidRangesForRange(i,e)}getNearestSelectionRange(t,e="both"){if(t.root.rootName=="$graveyard")return null;if(this.checkChild(t,"$text"))return new E(t);let i,o;const r=t.getAncestors().reverse().find(s=>this.isLimit(s))||t.root;e!="both"&&e!="backward"||(i=new Yi({boundaries:E._createIn(r),startPosition:t,direction:"backward"})),e!="both"&&e!="forward"||(o=new Yi({boundaries:E._createIn(r),startPosition:t}));for(const s of function*(a,l){let c=!1;for(;!c;){if(c=!0,a){const d=a.next();d.done||(c=!1,yield{walker:a,value:d.value})}if(l){const d=l.next();d.done||(c=!1,yield{walker:l,value:d.value})}}}(i,o)){const a=s.walker==i?"elementEnd":"elementStart",l=s.value;if(l.type==a&&this.isObject(l.item))return E._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new E(l.nextPosition)}return null}findAllowedParent(t,e){let i=t.parent;for(;i;){if(this.checkChild(i,e))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(t,e,i){const o=i.model;for(const[r,s]of Object.entries(e))o.schema.checkAttribute(t,r)&&i.setAttribute(r,s,t)}removeDisallowedAttributes(t,e){for(const i of t)if(i.is("$text"))Pf(this,i,e);else{const o=E._createIn(i).getPositions();for(const r of o)Pf(this,r.nodeBefore||r.parent,e)}}getAttributesWithProperty(t,e,i){const o={};for(const[r,s]of t.getAttributes()){const a=this.getAttributeProperties(r);a[e]!==void 0&&(i!==void 0&&i!==a[e]||(o[r]=s))}return o}createContext(t){return new Ln(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,i=Object.keys(e);for(const r of i)t[r]=RA(e[r],r);const o=Object.values(t);for(const r of o)VA(t,r),FA(t,r),jA(t,r),HA(t,r);for(const r of o)UA(t,r);for(const r of o)$A(t,r);for(const r of o)qA(t,r);for(const r of o)WA(t,r);for(const r of o)GA(t,r);this._compiledDefinitions=function(r){const s={};for(const a of Object.values(r))s[a.name]={name:a.name,isBlock:!!a.isBlock,isContent:!!a.isContent,isInline:!!a.isInline,isLimit:!!a.isLimit,isObject:!!a.isObject,isSelectable:!!a.isSelectable,allowIn:Array.from(a.allowIn).filter(l=>!!r[l]),allowChildren:Array.from(a.allowChildren).filter(l=>!!r[l]),allowAttributes:Array.from(a.allowAttributes)};return s}(t)}_checkContextMatch(t,e){const i=t.last;let o=this._evaluateChildChecks(t,e);if(o=o!==void 0?o:e.allowIn.includes(i.name),!o)return!1;const r=this.getDefinition(i),s=t.trimLast();return!!r&&(s.length==0||this._checkContextMatch(s,r))}_evaluateChildChecks(t,e){const i=this._customChildChecks.get(this._genericCheckSymbol)||[],o=this._customChildChecks.get(e.name)||[];for(const r of[...i,...o]){const s=r(t,e);if(s!==void 0)return s}}_evaluateAttributeChecks(t,e){const i=this._customAttributeChecks.get(this._genericCheckSymbol)||[],o=this._customAttributeChecks.get(e)||[];for(const r of[...i,...o]){const s=r(t,e);if(s!==void 0)return s}}*_getValidRangesForRange(t,e){let i=t.start,o=t.start;for(const r of t.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(E._createIn(r),e)),this.checkAttribute(r,e)||(i.isEqual(o)||(yield new E(i,o)),i=S._createAfter(r)),o=S._createAfter(r);i.isEqual(o)||(yield new E(i,o))}findOptimalInsertionRange(t,e){const i=t.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return e=="before"||e=="after"?new E(S._createAt(i,e)):E._createOn(i);const o=_t(t.getSelectedBlocks());if(!o)return new E(t.focus);if(o.isEmpty)return new E(S._createAt(o,0));const r=S._createAfter(o);return t.focus.isTouching(r)?new E(r):new E(S._createBefore(o))}}class Ln{constructor(t){if(m(this,"_items"),t instanceof Ln)return t;let e;e=typeof t=="string"?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=e.map(KA)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Ln([t]);return e._items=[...this._items,...e._items],e}trimLast(){const t=new Ln([]);return t._items=this._items.slice(0,-1),t}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function RA(n,t){const e={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return function(i,o){for(const r of i){const s=Object.keys(r).filter(a=>a.startsWith("is"));for(const a of s)o[a]=!!r[a]}}(n,e),xi(n,e,"allowIn"),xi(n,e,"allowChildren"),xi(n,e,"disallowIn"),xi(n,e,"disallowChildren"),xi(n,e,"allowContentOf"),xi(n,e,"allowWhere"),xi(n,e,"allowAttributes"),xi(n,e,"disallowAttributes"),xi(n,e,"allowAttributesOf"),xi(n,e,"inheritTypesFrom"),function(i,o){for(const r of i){const s=r.inheritAllFrom;s&&(o.allowContentOf.add(s),o.allowWhere.add(s),o.allowAttributesOf.add(s),o.inheritTypesFrom.add(s))}}(n,e),e}function VA(n,t){for(const e of t.allowIn){const i=n[e];i?i.allowChildren.add(t.name):t.allowIn.delete(e)}}function FA(n,t){for(const e of t.allowChildren){const i=n[e];i?i.allowIn.add(t.name):t.allowChildren.delete(e)}}function jA(n,t){for(const e of t.disallowIn){const i=n[e];i?i.disallowChildren.add(t.name):t.disallowIn.delete(e)}}function HA(n,t){for(const e of t.disallowChildren){const i=n[e];i?i.disallowIn.add(t.name):t.disallowChildren.delete(e)}}function UA(n,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function $A(n,t){for(const e of t.allowContentOf){const i=n[e];i&&(i.disallowChildren.forEach(o=>{t.allowChildren.has(o)||(t.disallowChildren.add(o),n[o].disallowIn.add(t.name))}),i.allowChildren.forEach(o=>{t.disallowChildren.has(o)||(t.allowChildren.add(o),n[o].allowIn.add(t.name))}))}}function qA(n,t){for(const e of t.allowWhere){const i=n[e];i&&(i.disallowIn.forEach(o=>{t.allowIn.has(o)||(t.disallowIn.add(o),n[o].disallowChildren.add(t.name))}),i.allowIn.forEach(o=>{t.disallowIn.has(o)||(t.allowIn.add(o),n[o].allowChildren.add(t.name))}))}}function WA(n,t){for(const e of t.allowAttributesOf){const i=n[e];if(!i)return;i.allowAttributes.forEach(o=>{t.disallowAttributes.has(o)||t.allowAttributes.add(o)})}}function GA(n,t){for(const e of t.inheritTypesFrom){const i=n[e];if(i){const o=Object.keys(i).filter(r=>r.startsWith("is"));for(const r of o)r in t||(t[r]=i[r])}}}function xi(n,t,e){for(const i of n){let o=i[e];typeof o=="string"&&(o=[o]),Array.isArray(o)&&o.forEach(r=>t[e].add(r))}}function KA(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute:t=>n.getAttribute(t)}}function Pf(n,t,e){for(const i of t.getAttributeKeys())n.checkAttribute(t,i)||e.removeAttribute(i,t)}class YA extends kt(){constructor(t){super(),m(this,"conversionApi"),m(this,"_splitParts",new Map),m(this,"_cursorParents",new Map),m(this,"_modelCursor",null),m(this,"_emptyElementsToKeep",new Set),this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(e,i)=>this._convertItem(e,i),convertChildren:(e,i)=>this._convertChildren(e,i),safeInsert:(e,i)=>this._safeInsert(e,i),updateConversionResult:(e,i)=>this._updateConversionResult(e,i),splitToAllowedParent:(e,i)=>this._splitToAllowedParent(e,i),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(t,e,i=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(s,a){let l;for(const c of new Ln(s)){const d={};for(const h of c.getAttributeKeys())d[h]=c.getAttribute(h);const u=a.createElement(c.name,d);l&&a.insert(u,l),l=S._createAt(u,0)}return l}(i,e),this.conversionApi.writer=e,this.conversionApi.consumable=ml.createFrom(t),this.conversionApi.store={};const{modelRange:o}=this._convertItem(t,this._modelCursor),r=e.createDocumentFragment();if(o){this._removeEmptyElements();const s=this._modelCursor.parent,a=s._removeChildren(0,s.childCount);r._insertChild(0,a),r.markers=function(l,c){const d=new Set,u=new Map,h=E._createIn(l).getItems();for(const g of h)g.is("element","$marker")&&d.add(g);for(const g of d){const f=g.getAttribute("data-name"),p=c.createPositionBefore(g);u.has(f)?u.get(f).end=p.clone():u.set(f,new E(p.clone())),c.remove(g)}return u}(r,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(t,e){const i={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,i,this.conversionApi):t.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof E))throw new v("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(t,e){let i=e.is("position")?e:S._createAt(e,0);const o=new E(i);for(const r of Array.from(t.getChildren())){const s=this._convertItem(r,i);s.modelRange instanceof E&&(o.end=s.modelRange.end,i=s.modelCursor)}return{modelRange:o,modelCursor:i}}_safeInsert(t,e){const i=this._splitToAllowedParent(t,e);return!!i&&(this.conversionApi.writer.insert(t,i.position),!0)}_updateConversionResult(t,e){const i=this._getSplitParts(t),o=this.conversionApi.writer;e.modelRange||(e.modelRange=o.createRange(o.createPositionBefore(t),o.createPositionAfter(i[i.length-1])));const r=this._cursorParents.get(t);e.modelCursor=r?o.createPositionAt(r,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:i,writer:o}=this.conversionApi;let r=i.findAllowedParent(e,t);if(r){if(r===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return Cf(e,t,i)?{position:Af(e,o)}:null;const s=this.conversionApi.writer.split(e,r),a=[];for(const c of s.range.getWalker())if(c.type=="elementEnd")a.push(c.item);else{const d=a.pop(),u=c.item;this._registerSplitPair(d,u)}const l=s.range.end.parent;return this._cursorParents.set(t,l),{position:s.position,cursorParent:l}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const i=this._splitParts.get(t);this._splitParts.set(e,i),i.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){const t=new Map;for(const e of this._splitParts.keys())if(e.isEmpty&&!this._emptyElementsToKeep.has(e)){const i=t.get(e.parent)||[];i.push(e),this._splitParts.delete(e),t.set(e.parent,i)}for(const[e,i]of t)e._removeChildrenArray(i);t.size&&this._removeEmptyElements()}}class ZA{getHtml(t){const e=L.document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class Lf{constructor(t){m(this,"domParser"),m(this,"domConverter"),m(this,"htmlWriter"),m(this,"skipComments",!0),this.domParser=new DOMParser,this.domConverter=new ua(t,{renderingMode:"data"}),this.htmlWriter=new ZA}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4))||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),i=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return i}}class QA extends kt(){constructor(t,e){super(),m(this,"model"),m(this,"mapper"),m(this,"downcastDispatcher"),m(this,"upcastDispatcher"),m(this,"viewDocument"),m(this,"stylesProcessor"),m(this,"htmlProcessor"),m(this,"processor"),m(this,"_viewWriter"),this.model=t,this.mapper=new lf,this.downcastDispatcher=new cf({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(i,o,r)=>{if(!r.consumable.consume(o.item,i.name))return;const s=r.writer,a=r.mapper.toViewPosition(o.range.start),l=s.createText(o.item.data);s.insert(a,l)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,o,r)=>{r.convertAttributes(o.item),o.reconversion||!o.item.is("element")||o.item.isEmpty||r.convertChildren(o.item)},{priority:"lowest"}),this.upcastDispatcher=new YA({schema:t.schema}),this.viewDocument=new la(e),this.stylesProcessor=e,this.htmlProcessor=new Lf(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Dc(this.viewDocument),this.upcastDispatcher.on("text",(i,o,{schema:r,consumable:s,writer:a})=>{let l=o.modelCursor;if(!s.test(o.viewItem))return;if(!r.checkChild(l,"$text")){if(!Cf(l,"$text",r)||o.viewItem.data.trim().length==0)return;l=Af(l,a)}s.consume(o.viewItem);const c=a.createText(o.viewItem.data);a.insert(c,l),o.modelRange=a.createRange(l,l.getShiftedBy(c.offsetSize)),o.modelCursor=o.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,o,r)=>{if(!o.modelRange&&r.consumable.consume(o.viewItem,{name:!0})){const{modelRange:s,modelCursor:a}=r.convertChildren(o.viewItem,o.modelCursor);o.modelRange=s,o.modelCursor=a}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,o,r)=>{if(!o.modelRange&&r.consumable.consume(o.viewItem,{name:!0})){const{modelRange:s,modelCursor:a}=r.convertChildren(o.viewItem,o.modelCursor);o.modelRange=s,o.modelCursor=a}},{priority:"lowest"}),wt().prototype.decorate.call(this,"init"),wt().prototype.decorate.call(this,"set"),wt().prototype.decorate.call(this,"get"),wt().prototype.decorate.call(this,"toView"),wt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},yf)},{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:i="empty"}=t;if(!this._checkIfRootsExists([e]))throw new v("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(e);return o.isAttached()||st("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,t):""}stringify(t,e={}){const i=this.toView(t,e);return this.processor.toData(i)}toView(t,e={}){const i=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const r=E._createIn(t),s=new Zn(i);this.mapper.bindElements(t,s);const a=t.is("documentFragment")?t.markers:function(l){const c=[],d=l.root.document;if(!d)return new Map;const u=E._createIn(l);for(const h of d.model.markers){const g=h.getRange(),f=g.isCollapsed,p=g.start.isEqual(u.start)||g.end.isEqual(u.end);if(f&&p)c.push([h.name,g]);else{const b=u.getIntersection(g);b&&c.push([h.name,b])}}return c.sort(([h,g],[f,p])=>{if(g.end.compareWith(p.start)!=="after")return 1;if(g.start.compareWith(p.end)!=="before")return-1;switch(g.start.compareWith(p.start)){case"before":return 1;case"after":return-1;default:switch(g.end.compareWith(p.end)){case"before":return 1;case"after":return-1;default:return f.localeCompare(h)}}}),new Map(c)}(t);return this.downcastDispatcher.convert(r,a,o,e),s}init(t){if(this.model.document.version)throw new v("datacontroller-init-document-not-empty",this);let e={};if(typeof t=="string"?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new v("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const o of Object.keys(e)){const r=this.model.document.getRoot(o);i.insert(this.parse(e[o],r),r,0)}}),Promise.resolve()}set(t,e={}){let i={};if(typeof t=="string"?i.main=t:i=t,!this._checkIfRootsExists(Object.keys(i)))throw new v("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const r of Object.keys(i)){const s=this.model.document.getRoot(r);o.remove(o.createRangeIn(s)),o.insert(this.parse(i[r],s),s,0)}})}parse(t,e="$root"){const i=this.processor.toView(t);return this.toModel(i,e)}toModel(t,e="$root"){return this.model.change(i=>this.upcastDispatcher.convert(t,i,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRoot(e))return!1;return!0}}class JA{constructor(t,e){m(this,"_helpers",new Map),m(this,"_downcast"),m(this,"_upcast"),this._downcast=Dt(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Dt(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const i=this._downcast.includes(e);if(!this._upcast.includes(e)&&!i)throw new v("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:i})}for(t){if(!this._helpers.has(t))throw new v("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:i}of Fc(t))this.for("upcast").elementToElement({model:e,view:i,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:i}of Fc(t))this.for("upcast").elementToAttribute({view:i,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:i}of Fc(t))this.for("upcast").attributeToAttribute({view:i,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:i}){if(this._helpers.has(t))throw new v("conversion-group-exists",this);const o=i?new SA(e):new BA(e);this._helpers.set(t,o)}}function*Fc(n){if(n.model.values)for(const t of n.model.values){const e={key:n.model.key,value:t},i=n.view[t],o=n.upcastAlso?n.upcastAlso[t]:void 0;yield*Bf(e,i,o)}else yield*Bf(n.model,n.view,n.upcastAlso)}function*Bf(n,t,e){if(yield{model:n,view:t},e)for(const i of Dt(e))yield{model:n,view:i}}class Ge{constructor(t){m(this,"baseVersion"),m(this,"isDocumentOperation"),m(this,"batch"),this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function jc(n,t){const e=zf(t),i=e.reduce((s,a)=>s+a.offsetSize,0),o=n.parent;Hr(n);const r=n.index;return o._insertChild(r,e),jr(o,r+e.length),jr(o,r),new E(n,n.getShiftedBy(i))}function Nf(n){if(!n.isFlat)throw new v("operation-utils-remove-range-not-flat",this);const t=n.start.parent;Hr(n.start),Hr(n.end);const e=t._removeChildren(n.start.index,n.end.index-n.start.index);return jr(t,n.start.index),e}function Fr(n,t){if(!n.isFlat)throw new v("operation-utils-move-range-not-flat",this);const e=Nf(n);return jc(t=t._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),e)}function zf(n){const t=[];(function e(i){if(typeof i=="string")t.push(new Rt(i));else if(i instanceof gi)t.push(new Rt(i.data,i.getAttributes()));else if(i instanceof Jn)t.push(i);else if($e(i))for(const o of i)e(o)})(n);for(let e=1;e<t.length;e++){const i=t[e],o=t[e-1];i instanceof Rt&&o instanceof Rt&&Of(i,o)&&(t.splice(e-1,2,new Rt(o.data+i.data,o.getAttributes())),e--)}return t}function jr(n,t){const e=n.getChild(t-1),i=n.getChild(t);if(e&&i&&e.is("$text")&&i.is("$text")&&Of(e,i)){const o=new Rt(e.data+i.data,e.getAttributes());n._removeChildren(t-1,2),n._insertChild(t-1,o)}}function Hr(n){const t=n.textNode,e=n.parent;if(t){const i=n.offset-t.startOffset,o=t.index;e._removeChildren(o,1);const r=new Rt(t.data.substr(0,i),t.getAttributes()),s=new Rt(t.data.substr(i),t.getAttributes());e._insertChild(o,[r,s])}}function Of(n,t){const e=n.getAttributes(),i=t.getAttributes();for(const o of e){if(o[1]!==t.getAttribute(o[0]))return!1;i.next()}return i.next().done}class mt extends Ge{constructor(t,e,i,o){super(o),m(this,"sourcePosition"),m(this,"howMany"),m(this,"targetPosition"),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[E._createFromPositionAndShift(this.sourcePosition,this.howMany),E._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new mt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new mt(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,i=this.sourcePosition.offset,o=this.targetPosition.offset;if(i+this.howMany>t.maxOffset)throw new v("move-operation-nodes-do-not-exist",this);if(t===e&&i<o&&o<i+this.howMany)throw new v("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&xe(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=i&&this.targetPosition.path[r]<i+this.howMany)throw new v("move-operation-node-into-itself",this)}}_execute(){Fr(E._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const i=S.fromJSON(t.sourcePosition,e),o=S.fromJSON(t.targetPosition,e);return new this(i,t.howMany,o,t.baseVersion)}}class he extends Ge{constructor(t,e,i){super(i),m(this,"position"),m(this,"nodes"),m(this,"shouldReceiveAttributes"),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new Rr(zf(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new Rr([...this.nodes].map(i=>i._clone(!0))),e=new he(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new S(t,[0]);return new mt(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new v("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new Rr([...t].map(e=>e._clone(!0))),jc(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const i=[];for(const r of t.nodes)r.name?i.push(Lt.fromJSON(r)):i.push(Rt.fromJSON(r));const o=new he(S.fromJSON(t.position,e),i,t.baseVersion);return o.shouldReceiveAttributes=t.shouldReceiveAttributes,o}}class It extends Ge{constructor(t,e,i,o,r){super(r),m(this,"splitPosition"),m(this,"howMany"),m(this,"insertionPosition"),m(this,"graveyardPosition"),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=i,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new S(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new E(this.splitPosition,t)}get affectedSelectable(){const t=[E._createFromPositionAndShift(this.splitPosition,0),E._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(E._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new It(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new S(t,[0]);return new Zt(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new v("split-operation-position-invalid",this);if(!t.parent)throw new v("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new v("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new v("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Fr(E._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();jc(this.insertionPosition,e)}Fr(new E(S._createAt(t,this.splitPosition.offset),S._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new S(t.root,e,"toPrevious")}static fromJSON(t,e){const i=S.fromJSON(t.splitPosition,e),o=S.fromJSON(t.insertionPosition,e),r=t.graveyardPosition?S.fromJSON(t.graveyardPosition,e):null;return new this(i,t.howMany,o,r,t.baseVersion)}}class Zt extends Ge{constructor(t,e,i,o,r){super(r),m(this,"sourcePosition"),m(this,"howMany"),m(this,"targetPosition"),m(this,"graveyardPosition"),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new S(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new E(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[E._createOn(t),E._createFromPositionAndShift(this.targetPosition,0),E._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Zt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),i=new S(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new It(t,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new v("merge-operation-source-position-invalid",this);if(!e.parent)throw new v("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new v("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;Fr(E._createIn(t),this.targetPosition),Fr(E._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const i=S.fromJSON(t.sourcePosition,e),o=S.fromJSON(t.targetPosition,e),r=S.fromJSON(t.graveyardPosition,e);return new this(i,t.howMany,o,r,t.baseVersion)}}class De extends Ge{constructor(t,e,i,o,r,s){super(s),m(this,"name"),m(this,"oldRange"),m(this,"newRange"),m(this,"affectsData"),m(this,"_markers"),this.name=t,this.oldRange=e?e.clone():null,this.newRange=i?i.clone():null,this.affectsData=r,this._markers=o}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new De(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new De(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new De(t.name,t.oldRange?E.fromJSON(t.oldRange,e):null,t.newRange?E.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class te extends Ge{constructor(t,e,i,o,r){super(r),m(this,"range"),m(this,"key"),m(this,"oldValue"),m(this,"newValue"),this.range=t.clone(),this.key=e,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new te(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new te(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new v("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Ys(t.getAttribute(this.key),this.oldValue))throw new v("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new v("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){Ys(this.oldValue,this.newValue)||function(t,e,i){Hr(t.start),Hr(t.end);for(const o of t.getItems({shallow:!0})){const r=o.is("$textProxy")?o.textNode:o;i!==null?r._setAttribute(e,i):r._removeAttribute(e),jr(r.parent,r.index)}jr(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new te(E.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class se extends Ge{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new se(this.baseVersion)}getReversed(){return new se(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Re extends Ge{constructor(t,e,i,o){super(o),m(this,"position"),m(this,"oldName"),m(this,"newName"),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Re(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Re(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Lt))throw new v("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new v("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Re(S.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class an extends Ge{constructor(t,e,i,o,r){super(r),m(this,"root"),m(this,"key"),m(this,"oldValue"),m(this,"newValue"),this.root=t,this.key=e,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new an(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new an(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new v("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new v("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new v("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new v("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new an(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class zi extends Ge{constructor(t,e,i,o,r){super(r),m(this,"rootName"),m(this,"elementName"),m(this,"isAdd"),m(this,"_document"),this.rootName=t,this.elementName=e,this.isAdd=i,this._document=o,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new zi(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new zi(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,e){return new zi(t.rootName,t.elementName,t.isAdd,e,t.baseVersion)}}const Xe={};Xe[te.className]=te,Xe[he.className]=he,Xe[De.className]=De,Xe[mt.className]=mt,Xe[se.className]=se,Xe[Ge.className]=Ge,Xe[Re.className]=Re,Xe[an.className]=an,Xe[zi.className]=zi,Xe[It.className]=It,Xe[Zt.className]=Zt;class XA{static fromJSON(t,e){return Xe[t.__className].fromJSON(t,e)}}const Hc=new Map;function dt(n,t,e){let i=Hc.get(n);i||(i=new Map,Hc.set(n,i)),i.set(t,e)}function tx(n){return[n]}function Rf(n,t,e={}){const i=function(o,r){const s=Hc.get(o);return s&&s.has(r)?s.get(r):tx}(n.constructor,t.constructor);try{return i(n=n.clone(),t,e)}catch(o){throw o}}function ex(n,t,e){n=n.slice(),t=t.slice();const i=new ix(e.document,e.useRelations,e.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(t);const o=i.originalOperations;if(n.length==0||t.length==0)return{operationsA:n,operationsB:t,originalOperations:o};const r=new WeakMap;for(const l of n)r.set(l,0);const s={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:t.length};let a=0;for(;a<n.length;){const l=n[a],c=r.get(l);if(c==t.length){a++;continue}const d=t[c],u=Rf(l,d,i.getContext(l,d,!0)),h=Rf(d,l,i.getContext(d,l,!1));i.updateRelation(l,d),i.setOriginalOperations(u,l),i.setOriginalOperations(h,d);for(const g of u)r.set(g,c+h.length);n.splice(a,1,...u),t.splice(c,1,...h)}return Ff(n),Ff(t),e.padWithNoOps,Vf(n,s.nextBaseVersionB),Vf(t,s.nextBaseVersionA),{operationsA:n,operationsB:t,originalOperations:o}}class ix{constructor(t,e,i=!1){m(this,"originalOperations"),m(this,"_history"),m(this,"_useRelations"),m(this,"_forceWeakRemove"),m(this,"_relations"),this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(t,e=null){const i=e?this.originalOperations.get(e):null;for(const o of t)this.originalOperations.set(o,i||o)}updateRelation(t,e){if(t instanceof mt)e instanceof Zt?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof mt&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof It){if(e instanceof Zt)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof mt)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const i=E._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const o=i.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-i.start.offset;this._setRelation(t,e,{howMany:o,offset:r})}}}else if(t instanceof Zt)e instanceof Zt?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof It?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof mt&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof De){const i=t.newRange;if(!i)return;if(e instanceof Zt){const o=i.start.isEqual(e.targetPosition),r=i.start.isEqual(e.deletionPosition),s=i.end.isEqual(e.deletionPosition),a=i.end.isEqual(e.sourcePosition);(o||r||s||a)&&this._setRelation(t,e,{wasInLeftElement:o,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:s,wasInRightElement:a})}}}getContext(t,e,i){return{aIsStrong:i,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const i=this.originalOperations.get(e),o=this._history.getUndoneOperation(i);if(!o)return null;const r=this.originalOperations.get(t),s=this._relations.get(r);return s&&s.get(o)||null}_setRelation(t,e,i){const o=this.originalOperations.get(t),r=this.originalOperations.get(e);let s=this._relations.get(o);s||(s=new Map,this._relations.set(o,s)),s.set(r,i)}}function Vf(n,t){for(const e of n)e.baseVersion=t++}function Ff(n){const t=new Map;for(let e=0;e<n.length;e++){const i=n[e];i instanceof De&&(i.baseVersion!==-1?t.set(i.name,{op:i,ranges:i.newRange?[i.newRange]:[]}):(i.newRange&&t.get(i.name).ranges.push(i.newRange),n.splice(e,1),e--))}for(const{op:e,ranges:i}of t.values())i.length?e.newRange=E._createFromRanges(i):e.newRange=null}function jf(n,t,e){const i=n.nodes.getNode(0).getAttribute(t);if(i==e)return null;const o=new E(n.position,n.position.getShiftedBy(n.howMany));return new te(o,t,i,e,0)}function Hf(n,t){return n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function No(n,t){const e=[];for(let i=0;i<n.length;i++){const o=n[i],r=new mt(o.start,o.end.offset-o.start.offset,t,0);e.push(r);for(let s=i+1;s<n.length;s++)n[s]=n[s]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return e}dt(te,te,(n,t,e)=>{if(n.key===t.key&&n.range.start.hasSameParentAs(t.range.start)){const i=n.range.getDifference(t.range).map(r=>new te(r,n.key,n.oldValue,n.newValue,0)),o=n.range.getIntersection(t.range);return o&&e.aIsStrong&&i.push(new te(o,t.key,t.newValue,n.newValue,0)),i.length==0?[new se(0)]:i}return[n]}),dt(te,he,(n,t)=>{if(n.range.start.hasSameParentAs(t.position)&&n.range.containsPosition(t.position)){const e=n.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(i=>new te(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(t.shouldReceiveAttributes){const i=jf(t,n.key,n.oldValue);i&&e.unshift(i)}return e}return n.range=n.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[n]}),dt(te,Zt,(n,t)=>{const e=[];n.range.start.hasSameParentAs(t.deletionPosition)&&(n.range.containsPosition(t.deletionPosition)||n.range.start.isEqual(t.deletionPosition))&&e.push(E._createFromPositionAndShift(t.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(t);return i.isCollapsed||e.push(i),e.map(o=>new te(o,n.key,n.oldValue,n.newValue,n.baseVersion))}),dt(te,mt,(n,t)=>function(e,i){const o=E._createFromPositionAndShift(i.sourcePosition,i.howMany);let r=null,s=[];o.containsRange(e,!0)?r=e:e.start.hasSameParentAs(o.start)?(s=e.getDifference(o),r=e.getIntersection(o)):s=[e];const a=[];for(let l of s){l=l._getTransformedByDeletion(i.sourcePosition,i.howMany);const c=i.getMovedRangeStart(),d=l.start.hasSameParentAs(c),u=l._getTransformedByInsertion(c,i.howMany,d);a.push(...u)}return r&&a.push(r._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),a}(n.range,t).map(e=>new te(e,n.key,n.oldValue,n.newValue,n.baseVersion))),dt(te,It,(n,t)=>{if(n.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(t.splitPosition)&&n.range.containsPosition(t.splitPosition)){const e=n.clone();return e.range=new E(t.moveTargetPosition.clone(),n.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),n.range.end=t.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,e]}return n.range=n.range._getTransformedBySplitOperation(t),[n]}),dt(he,te,(n,t)=>{const e=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(n.position)){const i=jf(n,t.key,t.newValue);i&&e.push(i)}return e}),dt(he,he,(n,t,e)=>(n.position.isEqual(t.position)&&e.aIsStrong||(n.position=n.position._getTransformedByInsertOperation(t)),[n])),dt(he,mt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n])),dt(he,It,(n,t)=>(n.position=n.position._getTransformedBySplitOperation(t),[n])),dt(he,Zt,(n,t)=>(n.position=n.position._getTransformedByMergeOperation(t),[n])),dt(De,he,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(t)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(t)[0]),[n])),dt(De,De,(n,t,e)=>{if(n.name==t.name){if(!e.aIsStrong)return[new se(0)];n.oldRange=t.newRange?t.newRange.clone():null}return[n]}),dt(De,Zt,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(t)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(t)),[n])),dt(De,mt,(n,t)=>{const e=[n];if(n.oldRange&&(n.oldRange=E._createFromRanges(n.oldRange._getTransformedByMoveOperation(t))),n.newRange){const i=n.newRange._getTransformedByMoveOperation(t);n.newRange=i[0];for(let o=1;o<i.length;o++){const r=n.clone();r.oldRange=null,r.newRange=i[o],r.baseVersion=-1,e.push(r)}}return e}),dt(De,It,(n,t,e)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(t)),n.newRange){if(e.abRelation){const i=n.newRange._getTransformedBySplitOperation(t);return n.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?n.newRange.start=S._createAt(t.insertionPosition):n.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement?n.newRange.start=S._createAt(t.moveTargetPosition):n.newRange.start=i.start,n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?n.newRange.end=S._createAt(t.moveTargetPosition):n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?n.newRange.end=S._createAt(t.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(t)}return[n]}),dt(Zt,he,(n,t)=>(n.sourcePosition.hasSameParentAs(t.position)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(t),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t),[n])),dt(Zt,Zt,(n,t,e)=>{if(n.sourcePosition.isEqual(t.sourcePosition)&&n.targetPosition.isEqual(t.targetPosition)){if(e.bWasUndone){const i=t.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new S(t.graveyardPosition.root,i),n.howMany=0,[n]}return[new se(0)]}if(n.sourcePosition.isEqual(t.sourcePosition)&&!n.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",o=t.targetPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&e.aIsStrong){const r=t.targetPosition._getTransformedByMergeOperation(t),s=n.targetPosition._getTransformedByMergeOperation(t);return[new mt(r,n.howMany,s,0)]}return[new se(0)]}return n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(t),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),n.graveyardPosition.isEqual(t.graveyardPosition)&&e.aIsStrong||(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]}),dt(Zt,mt,(n,t,e)=>{const i=E._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&n.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new se(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(n.sourcePosition)&&e.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=t.howMany):t.targetPosition.isEqual(n.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=t.howMany):(n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition.hasSameParentAs(t.sourcePosition)&&(n.howMany-=t.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(t),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(t),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(t.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)),[n])}),dt(Zt,It,(n,t,e)=>{if(t.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),n.deletionPosition.isEqual(t.graveyardPosition)&&(n.howMany=t.howMany)),n.targetPosition.isEqual(t.splitPosition)&&(t.graveyardPosition&&n.deletionPosition.isEqual(t.graveyardPosition)||e.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),[n];if(n.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n];if(e.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=t.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]}return n.sourcePosition.hasSameParentAs(t.splitPosition)&&(n.howMany=t.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]}),dt(mt,he,(n,t)=>{const e=E._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(t,!1)[0];return n.sourcePosition=e.start,n.howMany=e.end.offset-e.start.offset,n.targetPosition.isEqual(t.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t)),[n]}),dt(mt,mt,(n,t,e)=>{const i=E._createFromPositionAndShift(n.sourcePosition,n.howMany),o=E._createFromPositionAndShift(t.sourcePosition,t.howMany);let r,s=e.aIsStrong,a=!e.aIsStrong;if(e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?a=!0:e.abRelation!="insertAfter"&&e.baRelation!="insertBefore"||(a=!1),r=n.targetPosition.isEqual(t.targetPosition)&&a?n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):n.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Hf(n,t)&&Hf(t,n))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),No([i],r);if(o.containsPosition(n.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),No([i],r);const l=xe(n.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(l=="prefix"||l=="extension")return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),No([i],r);n.type!="remove"||t.type=="remove"||e.aWasUndone||e.forceWeakRemove?n.type=="remove"||t.type!="remove"||e.bWasUndone||e.forceWeakRemove||(s=!1):s=!0;const c=[],d=i.getDifference(o);for(const h of d){h.start=h.start._getTransformedByDeletion(t.sourcePosition,t.howMany),h.end=h.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const g=xe(h.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",f=h._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,g);c.push(...f)}const u=i.getIntersection(o);return u!==null&&s&&(u.start=u.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),u.end=u.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),c.length===0?c.push(u):c.length==1?o.start.isBefore(i.start)||o.start.isEqual(i.start)?c.unshift(u):c.push(u):c.splice(1,0,u)),c.length===0?[new se(n.baseVersion)]:No(c,r)}),dt(mt,It,(n,t,e)=>{let i=n.targetPosition.clone();n.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&e.abRelation!="moveTargetAfter"||(i=n.targetPosition._getTransformedBySplitOperation(t));const o=E._createFromPositionAndShift(n.sourcePosition,n.howMany);if(o.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let s=new E(t.splitPosition,o.end);return s=s._getTransformedBySplitOperation(t),No([new E(o.start,t.splitPosition),s],i)}n.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(i=t.moveTargetPosition),n.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(i=n.targetPosition);const r=[o._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const s=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);n.howMany>1&&s&&!e.aWasUndone&&r.push(E._createFromPositionAndShift(t.insertionPosition,1))}return No(r,i)}),dt(mt,Zt,(n,t,e)=>{const i=E._createFromPositionAndShift(n.sourcePosition,n.howMany);if(t.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(t.sourcePosition)){if(n.type!="remove"||e.forceWeakRemove){if(n.howMany==1)return e.bWasUndone?(n.sourcePosition=t.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]):[new se(0)]}else if(!e.aWasUndone){const r=[];let s=t.graveyardPosition.clone(),a=t.targetPosition._getTransformedByMergeOperation(t);const l=n.targetPosition.getTransformedByOperation(t);n.howMany>1&&(r.push(new mt(n.sourcePosition,n.howMany-1,l,0)),s=s._getTransformedByMove(n.sourcePosition,l,n.howMany-1),a=a._getTransformedByMove(n.sourcePosition,l,n.howMany-1));const c=t.deletionPosition._getCombined(n.sourcePosition,l),d=new mt(s,1,c,0),u=d.getMovedRangeStart().path.slice();u.push(0);const h=new S(d.targetPosition.root,u);a=a._getTransformedByMove(s,c,1);const g=new mt(a,t.howMany,h,0);return r.push(d),r.push(g),r}}const o=E._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(t);return n.sourcePosition=o.start,n.howMany=o.end.offset-o.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]}),dt(Re,he,(n,t)=>(n.position=n.position._getTransformedByInsertOperation(t),[n])),dt(Re,Zt,(n,t)=>n.position.isEqual(t.deletionPosition)?(n.position=t.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(t),[n])),dt(Re,mt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n])),dt(Re,Re,(n,t,e)=>{if(n.position.isEqual(t.position)){if(!e.aIsStrong)return[new se(0)];n.oldName=t.newName}return[n]}),dt(Re,It,(n,t)=>{if(xe(n.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){const e=new Re(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,e]}return n.position=n.position._getTransformedBySplitOperation(t),[n]}),dt(an,an,(n,t,e)=>{if(n.root===t.root&&n.key===t.key){if(!e.aIsStrong||n.newValue===t.newValue)return[new se(0)];n.oldValue=t.newValue}return[n]}),dt(zi,zi,(n,t)=>n.rootName===t.rootName&&n.isAdd===t.isAdd?[new se(0)]:[n]),dt(It,he,(n,t)=>(n.splitPosition.hasSameParentAs(t.position)&&n.splitPosition.offset<t.position.offset&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(t),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(t),[n])),dt(It,Zt,(n,t,e)=>{if(!n.graveyardPosition&&!e.bWasUndone&&n.splitPosition.hasSameParentAs(t.sourcePosition)){const i=t.graveyardPosition.path.slice();i.push(0);const o=new S(t.graveyardPosition.root,i),r=It.getInsertionPosition(new S(t.graveyardPosition.root,i)),s=new It(o,0,r,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=It.getInsertionPosition(n.splitPosition),n.graveyardPosition=s.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[s,n]}return n.splitPosition.hasSameParentAs(t.deletionPosition)&&!n.splitPosition.isAfter(t.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=It.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]}),dt(It,mt,(n,t,e)=>{const i=E._createFromPositionAndShift(t.sourcePosition,t.howMany);if(n.graveyardPosition){const r=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!e.bWasUndone&&r){const s=n.splitPosition._getTransformedByMoveOperation(t),a=n.graveyardPosition._getTransformedByMoveOperation(t),l=a.path.slice();l.push(0);const c=new S(a.root,l);return[new mt(s,n.howMany,c,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)}const o=n.splitPosition.isEqual(t.targetPosition);if(o&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return n.howMany+=t.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),n.insertionPosition=It.getInsertionPosition(n.splitPosition),[n];if(o&&e.abRelation&&e.abRelation.howMany){const{howMany:r,offset:s}=e.abRelation;return n.howMany+=r,n.splitPosition=n.splitPosition.getShiftedBy(s),[n]}if(n.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.splitPosition)){const r=t.howMany-(n.splitPosition.offset-t.sourcePosition.offset);return n.howMany-=r,n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany),n.splitPosition=t.sourcePosition.clone(),n.insertionPosition=It.getInsertionPosition(n.splitPosition),[n]}return t.sourcePosition.isEqual(t.targetPosition)||(n.splitPosition.hasSameParentAs(t.sourcePosition)&&n.splitPosition.offset<=t.sourcePosition.offset&&(n.howMany-=t.howMany),n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(t),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(t):n.insertionPosition=It.getInsertionPosition(n.splitPosition),[n]}),dt(It,It,(n,t,e)=>{if(n.splitPosition.isEqual(t.splitPosition)){if(!n.graveyardPosition&&!t.graveyardPosition)return[new se(0)];if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition))return[new se(0)];if(e.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t),[n]}if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",o=t.splitPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&e.aIsStrong){const r=[];return t.howMany&&r.push(new mt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),n.howMany&&r.push(new mt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),r}return[new se(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t)),n.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return n.howMany++,[n];if(t.splitPosition.isEqual(n.insertionPosition)&&e.baRelation=="splitBefore"){const i=t.insertionPosition.path.slice();i.push(0);const o=new S(t.insertionPosition.root,i);return[n,new mt(n.insertionPosition,1,o,0)]}return n.splitPosition.hasSameParentAs(t.splitPosition)&&n.splitPosition.offset<t.splitPosition.offset&&(n.howMany-=t.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(t),n.insertionPosition=It.getInsertionPosition(n.splitPosition),[n]});class Gt extends kt(S){constructor(t,e,i="toNone"){if(super(t,e,i),!this.root.is("rootElement"))throw new v("model-liveposition-root-not-rootelement",t);nx.call(this)}detach(){this.stopListening()}toPosition(){return new S(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function nx(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&ox.call(this,e)},{priority:"low"})}function ox(n){const t=this.getTransformedByOperation(n);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}Gt.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};class zo{constructor(t={}){m(this,"operations"),m(this,"isUndoable"),m(this,"isLocal"),m(this,"isUndo"),m(this,"isTyping"),typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},st("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:i=!0,isUndo:o=!1,isTyping:r=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=i,this.isUndo=o,this.isTyping=r}get type(){return st("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.isDocumentOperation&&(t.batch=this,this.operations.push(t)),t}}const Uf=class Fu{constructor(t){m(this,"_markerCollection"),m(this,"_changesInElement",new Map),m(this,"_elementsSnapshots",new Map),m(this,"_elementChildrenSnapshots",new Map),m(this,"_elementState",new Map),m(this,"_changedMarkers",new Map),m(this,"_changedRoots",new Map),m(this,"_changeCount",0),m(this,"_cachedChanges",null),m(this,"_cachedChangesWithGraveyard",null),m(this,"_refreshedItems",new Set),this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of e.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const i=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const r=E._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const s of r.getItems({shallow:!0}))this._setElementState(s,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const i=E._createFromPositionAndShift(e.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(i)){const r=o.getData();this.bufferMarkerChange(o.name,r,r)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const i=e.splitPosition.parent;if(!this._isInInsertedElement(i)){this._markRemove(i,e.splitPosition.offset,e.howMany);const o=E._createFromPositionAndShift(e.splitPosition,e.howMany);for(const r of o.getItems({shallow:!0}))this._setElementState(r,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const i=e.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const o=e.graveyardPosition.parent;this._markInsert(o,e.graveyardPosition.offset,1),this._setElementState(i,"move");const r=e.targetPosition.parent;if(!this._isInInsertedElement(r)){this._markInsert(r,e.targetPosition.offset,i.maxOffset);const s=E._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const a of s.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const i=e.affectedSelectable;if(!i._isLoaded||i.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const i=e.root.rootName;this._bufferRootAttributeChange(i,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,i){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let o=this._changedMarkers.get(t);o?o.newMarkerData=i:(o={newMarkerData:i,oldMarkerData:e},this._changedMarkers.set(t,o)),o.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,i]of this._changedMarkers)i.oldMarkerData.range!=null&&t.push({name:e,range:i.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,i]of this._changedMarkers)i.newMarkerData.range!=null&&t.push({name:e,range:i.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const i=t.range&&!e.range,o=!t.range&&e.range,r=t.range&&e.range&&!t.range.isEqual(e.range);if(i||o||r)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const i of this._changesInElement.keys()){const o=this._changesInElement.get(i).sort((d,u)=>d.offset===u.offset?d.type!=u.type?d.type=="remove"?-1:1:0:d.offset<u.offset?-1:1),r=this._elementChildrenSnapshots.get(i),s=qf(i.getChildren()),a=sx(r.length,o);let l=0,c=0;for(const d of a)if(d==="i"){const u=this._getDiffActionForNode(s[l].node,"insert"),h=this._elementsSnapshots.get(s[l].node),g=this._getInsertDiff(i,l,u,s[l],h);e.push(g),l++}else if(d==="r"){const u=this._getDiffActionForNode(r[c].node,"remove"),h=this._getRemoveDiff(i,l,u,r[c]);e.push(h),c++}else if(d==="a"){const u=r[c].attributes,h=s[l].attributes;let g;if(s[l].name=="$text")g=new E(S._createAt(i,l),S._createAt(i,l+1));else{const p=i.offsetToIndex(l);g=new E(S._createAt(i,l),S._createAt(i.getChild(p),0))}const f=this._getAttributesDiff(g,u,h);e.push(...f),l++,c++}else l++,c++}e.sort((i,o)=>i.position.root!=o.position.root?i.position.root.rootName<o.position.root.rootName?-1:1:i.position.isEqual(o.position)?i.changeCount-o.changeCount:i.position.isBefore(o.position)?-1:1);for(let i=1,o=0;i<e.length;i++){const r=e[o],s=e[i],a=r.type=="remove"&&s.type=="remove"&&r.name=="$text"&&s.name=="$text"&&r.position.isEqual(s.position),l=r.type=="insert"&&s.type=="insert"&&r.name=="$text"&&s.name=="$text"&&r.position.parent==s.position.parent&&r.position.offset+r.length==s.position.offset,c=r.type=="attribute"&&s.type=="attribute"&&r.position.parent==s.position.parent&&r.range.isFlat&&s.range.isFlat&&r.position.offset+r.length==s.position.offset&&r.attributeKey==s.attributeKey&&r.attributeOldValue==s.attributeOldValue&&r.attributeNewValue==s.attributeNewValue;a||l||c?(r.length++,c&&(r.range.end=r.range.end.getShiftedBy(1)),e[i]=null):o=i}e=e.filter(i=>i);for(const i of e)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(ax),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const e={...t};return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=E._createOn(t);for(const i of this._markerCollection.getMarkersIntersectingRange(e)){const o=i.getData();this.bufferMarkerChange(i.name,o,o)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const i=e.getData();this.bufferMarkerChange(e.name,{...i,range:null},i)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});const i=this._changedRoots.get(t);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(t)):i.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,i,o){const r=this._changedRoots.get(t)||{name:t},s=r.attributes||{};if(s[e]){const a=s[e];o===a.oldValue?delete s[e]:a.newValue=o}else s[e]={oldValue:i,newValue:o};Object.entries(s).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(t)):(r.attributes=s,this._changedRoots.set(t,r))}_markInsert(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const o={type:"insert",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,o)}_markRemove(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const o={type:"remove",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,o),this._removeAllNestedChanges(t,e,i)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const i=this._getChangesForElement(t);this._handleChange(e,i),i.push(e);for(let o=0;o<i.length;o++)i[o].howMany<1&&(i.splice(o,1),o--)}_setElementState(t,e){if(!t.is("element"))return;const i=Fu._statesPriority.indexOf(this._elementState.get(t));Fu._statesPriority.indexOf(e)>i&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element")||!this._elementsSnapshots.has(t))return e;const i=this._elementState.get(t);return i&&i!="move"?i:e}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=qf(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const i of e)this._elementsSnapshots.set(i.node,i)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const i of e){const o=t.offset+t.howMany,r=i.offset+i.howMany;if(t.type=="insert"&&(i.type=="insert"&&(t.offset<=i.offset?i.offset+=t.howMany:t.offset<r&&(i.howMany+=t.nodesToHandle,t.nodesToHandle=0)),i.type=="remove"&&t.offset<i.offset&&(i.offset+=t.howMany),i.type=="attribute")){if(t.offset<=i.offset)i.offset+=t.howMany;else if(t.offset<r){const s=i.howMany;i.howMany=t.offset-i.offset,e.unshift({type:"attribute",offset:o,howMany:s-i.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(i.type=="insert"){if(o<=i.offset)i.offset-=t.howMany;else if(o<=r)if(t.offset<i.offset){const s=o-i.offset;i.offset=t.offset,i.howMany-=s,t.nodesToHandle-=s}else i.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=i.offset)t.nodesToHandle-=i.howMany,i.howMany=0;else if(t.offset<r){const s=r-t.offset;i.howMany-=s,t.nodesToHandle-=s}}if(i.type=="remove"&&(o<=i.offset?i.offset-=t.howMany:t.offset<i.offset&&(t.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(o<=i.offset)i.offset-=t.howMany;else if(t.offset<i.offset){const s=o-i.offset;i.offset=t.offset,i.howMany-=s}else if(t.offset<r)if(o<=r){const s=i.howMany;i.howMany=t.offset-i.offset;const a=s-i.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:a,count:this._changeCount++})}else i.howMany-=r-t.offset}}if(t.type=="attribute"){if(i.type=="insert")if(t.offset<i.offset&&o>i.offset){if(o>r){const s={type:"attribute",offset:r,howMany:o-r,count:this._changeCount++};this._handleChange(s,e),e.push(s)}t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=i.offset&&t.offset<r&&(o>r?(t.nodesToHandle=o-r,t.offset=r):t.nodesToHandle=0);if(i.type=="remove"&&t.offset<i.offset&&o>i.offset){const s={type:"attribute",offset:i.offset,howMany:o-i.offset,count:this._changeCount++};this._handleChange(s,e),e.push(s),t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}i.type=="attribute"&&(t.offset>=i.offset&&o<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=i.offset&&o>=r&&(i.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,i,o,r){const s={type:"insert",position:S._createAt(t,e),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++,action:i};return i!="insert"&&r&&(s.before={name:r.name,attributes:new Map(r.attributes)}),s}_getRemoveDiff(t,e,i,o){return{type:"remove",action:i,position:S._createAt(t,e),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,i){const o=[];i=new Map(i);for(const[r,s]of e){const a=i.has(r)?i.get(r):null;a!==s&&o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:s,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(r)}for(const[r,s]of i)o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return o}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const i=this._changesInElement.get(e),o=t.startOffset;if(i){for(const r of i)if(r.type=="insert"&&o>=r.offset&&o<r.offset+r.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,i){const o=new E(S._createAt(t,e),S._createAt(t,e+i));for(const r of o.getItems({shallow:!0}))r.is("element")&&(this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}};m(Uf,"_statesPriority",[void 0,"refresh","rename","move"]);let rx=Uf;function $f(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function qf(n){const t=[];for(const e of n)if(e.is("$text"))for(let i=0;i<e.data.length;++i)t.push($f(e));else t.push($f(e));return t}function sx(n,t){const e=[];let i=0,o=0;for(const r of t){if(r.offset>i){for(let s=0;s<r.offset-i;s++)e.push("e");o+=r.offset-i}if(r.type=="insert"){for(let s=0;s<r.howMany;s++)e.push("i");i=r.offset+r.howMany}else if(r.type=="remove"){for(let s=0;s<r.howMany;s++)e.push("r");i=r.offset,o+=r.howMany}else{if(r.howMany>1500)for(let s=0;s<r.howMany;s++)e.push("a");else e.push(..."a".repeat(r.howMany).split(""));i=r.offset+r.howMany,o+=r.howMany}}if(o<n)for(let r=0;r<n-o-i;r++)e.push("e");return e}function ax(n){const t="position"in n&&n.position.root.rootName=="$graveyard",e="range"in n&&n.range.root.rootName=="$graveyard";return!t&&!e}class lx{constructor(){m(this,"_operations",[]),m(this,"_undoPairs",new Map),m(this,"_undoneOperations",new Set),m(this,"_baseVersionToOperationIndex",new Map),m(this,"_version",0),m(this,"_gaps",new Map)}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new v("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const i=this._operations[0];t===void 0&&(t=i.baseVersion);let o=e-1;for(const[a,l]of this._gaps)t>a&&t<l&&(t=l),o>a&&o<l&&(o=a-1);if(o<i.baseVersion||t>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(t);r===void 0&&(r=0);let s=this._baseVersionToOperationIndex.get(o);return s===void 0&&(s=this._operations.length-1),this._operations.slice(r,s+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class fa extends Lt{constructor(t,e,i="main"){super(e),m(this,"rootName"),m(this,"_document"),m(this,"_isAttached",!0),m(this,"_isLoaded",!0),this._document=t,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}fa.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const Wf="$graveyard";class cx extends kt(){constructor(t){super(),m(this,"model"),m(this,"history"),m(this,"selection"),m(this,"roots"),m(this,"differ"),m(this,"isReadOnly"),m(this,"_postFixers"),m(this,"_hasSelectionChangedFromTheLastChangeBlock"),this.model=t,this.history=new lx,this.selection=new fi(this),this.roots=new ie({idProperty:"rootName"}),this.differ=new rx(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Wf),this.listenTo(t,"applyOperation",(e,i)=>{const o=i[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(t,"applyOperation",(e,i)=>{const o=i[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(e,i,o,r,s)=>{const a={...i.getData(),range:r};this.differ.bufferMarkerChange(i.name,s,a),o===null&&i.on("change",(l,c)=>{const d=i.getData();this.differ.bufferMarkerChange(i.name,{...d,range:c},d)})}),this.registerPostFixer(e=>{let i=!1;for(const o of this.roots)o.isAttached()||o.isEmpty||(e.remove(e.createRangeIn(o)),i=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(e.removeMarker(o),i=!0);return i})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(Wf)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new v("model-document-createroot-name-exists",this,{name:e});const i=new fa(this,t,e);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map(e=>e.rootName)}getRoots(t=!1){return this.roots.filter(e=>e!=this.graveyard&&(t||e.isAttached())&&e._isLoaded)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Zl(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,i=e.schema,o=e.createPositionFromPath(t,[0]);return i.getNearestSelectionRange(o)||e.createRange(o)}_validateSelectionRange(t){return t.start.isValid()&&t.end.isValid()&&Gf(t.start)&&Gf(t.end)}_callPostFixers(t){let e=!1;do for(const i of this._postFixers)if(this.selection.refresh(),e=i(t),e)break;while(e)}}function Gf(n){const t=n.textNode;if(t){const e=t.data,i=n.offset-t.startOffset;return!gc(e,i)&&!fc(e,i)}return!0}class dx extends kt(){constructor(){super(...arguments),m(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(t){const e=t instanceof Oo?t.name:t;return this._markers.has(e)}get(t){return this._markers.get(t)||null}_set(t,e,i=!1,o=!1){const r=t instanceof Oo?t.name:t;if(r.includes(","))throw new v("markercollection-incorrect-marker-name",this);const s=this._markers.get(r);if(s){const c=s.getData(),d=s.getRange();let u=!1;return d.isEqual(e)||(s._attachLiveRange(Me.fromRange(e)),u=!0),i!=s.managedUsingOperations&&(s._managedUsingOperations=i,u=!0),typeof o=="boolean"&&o!=s.affectsData&&(s._affectsData=o,u=!0),u&&this.fire(`update:${r}`,s,d,e,c),s}const a=Me.fromRange(e),l=new Oo(r,a,i,o);return this._markers.set(r,l),this.fire(`update:${r}`,l,null,e,{...l.getData(),range:null}),l}_remove(t){const e=t instanceof Oo?t.name:t,i=this._markers.get(e);return!!i&&(this._markers.delete(e),this.fire(`update:${e}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(t){const e=t instanceof Oo?t.name:t,i=this._markers.get(e);if(!i)throw new v("markercollection-refresh-marker-not-exists",this);const o=i.getRange();this.fire(`update:${e}`,i,o,o,i.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)e.getRange().getIntersection(t)!==null&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class Oo extends kt(_n){constructor(t,e,i,o){super(),m(this,"name"),m(this,"_managedUsingOperations"),m(this,"_affectsData"),m(this,"_liveRange"),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=i,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Oo.prototype.is=function(n){return n==="marker"||n==="model:marker"};class ux extends Ge{constructor(t,e){super(null),m(this,"sourcePosition"),m(this,"howMany"),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new v("detach-operation-on-document-node",this)}_execute(){Nf(E._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ni extends _n{constructor(t){super(),m(this,"markers",new Map),m(this,"_children",new Rr),t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildAtOffset(t){return this._children.getNodeAtOffset(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const i of t)e=e.getChildAtOffset(i);return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const i of t)i.name?e.push(Lt.fromJSON(i)):e.push(Rt.fromJSON(i));return new Ni(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const i=function(o){return typeof o=="string"?[new Rt(o)]:($e(o)||(o=[o]),Array.from(o).map(r=>typeof r=="string"?new Rt(r):r instanceof gi?new Rt(r.data,r.getAttributes()):r))}(e);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(t,i)}_removeChildren(t,e=1){const i=this._children._removeNodes(t,e);for(const o of i)o.parent=null;return i}_removeChildrenArray(t){this._children._removeNodesArray(t);for(const e of t)e.parent=null}}Ni.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};class hx{constructor(t,e){m(this,"model"),m(this,"batch"),this.model=t,this.batch=e}createText(t,e){return new Rt(t,e)}createElement(t,e){return new Lt(t,e)}createDocumentFragment(){return new Ni}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,i=0){if(this._assertWriterUsedCorrectly(),t instanceof Rt&&t.data=="")return;const o=S._createAt(e,i);if(t.parent){if(Zf(t.root,o.root))return void this.move(E._createOn(t),o);if(t.root.document)throw new v("model-writer-insert-forbidden-move",this);this.remove(t)}const r=o.root.document?o.root.document.version:null,s=t instanceof Ni?t._removeChildren(0,t.childCount):t,a=new he(o,s,r);if(t instanceof Rt&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),t instanceof Ni)for(const[l,c]of t.markers){const d=S._createAt(c.root,0),u={range:new E(c.start._getCombined(d,o),c.end._getCombined(d,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,u):this.addMarker(l,u)}}insertText(t,e,i,o){e instanceof Ni||e instanceof Lt||e instanceof S?this.insert(this.createText(t),e,i):this.insert(this.createText(t,e),i,o)}insertElement(t,e,i,o){e instanceof Ni||e instanceof Lt||e instanceof S?this.insert(this.createElement(t),e,i):this.insert(this.createElement(t,e),i,o)}append(t,e){this.insert(t,e,"end")}appendText(t,e,i){e instanceof Ni||e instanceof Lt?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),i,"end")}appendElement(t,e,i){e instanceof Ni||e instanceof Lt?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),i,"end")}setAttribute(t,e,i){if(this._assertWriterUsedCorrectly(),i instanceof E){const o=i.getMinimalFlatRanges();for(const r of o)Kf(this,t,e,r)}else Yf(this,t,e,i)}setAttributes(t,e){for(const[i,o]of hi(t))this.setAttribute(i,o,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof E){const i=e.getMinimalFlatRanges();for(const o of i)Kf(this,t,null,o)}else Yf(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=i=>{for(const o of i.getAttributeKeys())this.removeAttribute(o,i)};if(t instanceof E)for(const i of t.getItems())e(i);else e(t)}move(t,e,i){if(this._assertWriterUsedCorrectly(),!(t instanceof E))throw new v("writer-move-invalid-range",this);if(!t.isFlat)throw new v("writer-move-range-not-flat",this);const o=S._createAt(e,i);if(o.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Zf(t.root,o.root))throw new v("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,s=new mt(t.start,t.end.offset-t.start.offset,o,r);this.batch.addOperation(s),this.model.applyOperation(s)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof E?t:E._createOn(t)).getMinimalFlatRanges().reverse();for(const i of e)this._addOperationForAffectedMarkers("move",i),mx(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,i=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Lt))throw new v("writer-merge-no-element-before",this);if(!(i instanceof Lt))throw new v("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,i){return this.model.createPositionFromPath(t,e,i)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,i=t.nodeAfter;this.move(E._createIn(i),S._createAt(e,"end")),this.remove(i)}_merge(t){const e=S._createAt(t.nodeBefore,"end"),i=S._createAt(t.nodeAfter,0),o=t.root.document.graveyard,r=new S(o,[0]),s=t.root.document.version,a=new Zt(i,t.nodeAfter.maxOffset,e,r,s);this.batch.addOperation(a),this.model.applyOperation(a)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Lt))throw new v("writer-rename-not-element-instance",this);const i=t.root.document?t.root.document.version:null,o=new Re(S._createBefore(t),t.name,e,i);this.batch.addOperation(o),this.model.applyOperation(o)}split(t,e){this._assertWriterUsedCorrectly();let i,o,r=t.parent;if(!r.parent)throw new v("writer-split-element-no-parent",this);if(e||(e=r.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new v("writer-split-invalid-limit-element",this);do{const s=r.root.document?r.root.document.version:null,a=r.maxOffset-t.offset,l=It.getInsertionPosition(t),c=new It(t,a,l,null,s);this.batch.addOperation(c),this.model.applyOperation(c),i||o||(i=r,o=t.parent.nextSibling),r=(t=this.createPositionAfter(t.parent)).parent}while(r!==e);return{position:t,range:new E(S._createAt(i,"end"),S._createAt(o,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new v("writer-wrap-range-not-flat",this);const i=e instanceof Lt?e:new Lt(e);if(i.childCount>0)throw new v("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new v("writer-wrap-element-attached",this);this.insert(i,t.start);const o=new E(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(o,S._createAt(i,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new v("writer-unwrap-element-no-parent",this);this.move(E._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new v("writer-addmarker-no-usingoperation",this);const i=e.usingOperation,o=e.range,r=e.affectsData!==void 0&&e.affectsData;if(this.model.markers.has(t))throw new v("writer-addmarker-marker-exists",this);if(!o)throw new v("writer-addmarker-no-range",this);return i?(Ur(this,t,null,o,r),this.model.markers.get(t)):this.model.markers._set(t,o,i,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const i=typeof t=="string"?t:t.name,o=this.model.markers.get(i);if(!o)throw new v("writer-updatemarker-marker-not-exists",this);if(!e)return st("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(o);const r=typeof e.usingOperation=="boolean",s=typeof e.affectsData=="boolean",a=s?e.affectsData:o.affectsData;if(!r&&!e.range&&!s)throw new v("writer-updatemarker-wrong-options",this);const l=o.getRange(),c=e.range?e.range:l;r&&e.usingOperation!==o.managedUsingOperations?e.usingOperation?Ur(this,i,null,c,a):(Ur(this,i,l,null,a),this.model.markers._set(i,c,void 0,a)):o.managedUsingOperations?Ur(this,i,l,c,a):this.model.markers._set(i,c,void 0,a)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new v("writer-removemarker-no-marker",this);const i=this.model.markers.get(e);if(!i.managedUsingOperations)return void this.model.markers._remove(e);Ur(this,e,i.getRange(),null,i.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(t);if(i&&i.isAttached())throw new v("writer-addroot-root-exists",this);const o=this.model.document,r=new zi(t,e,!0,o,o.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new v("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===e&&this.removeMarker(r);for(const r of e.getAttributeKeys())this.removeAttribute(r,e);this.remove(this.createRangeIn(e));const i=this.model.document,o=new zi(e.rootName,e.name,!1,i,i.version);this.batch.addOperation(o),this.model.applyOperation(o)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[i,o]of hi(t))this._setSelectionAttribute(i,o)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const o=fi._getStoreAttributeKey(t);this.setAttribute(o,e,i.anchor.parent)}i._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const i=fi._getStoreAttributeKey(t);this.removeAttribute(i,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new v("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const o=i.getRange();let r=!1;if(t==="move"){const s=e;r=s.containsPosition(o.start)||s.start.isEqual(o.start)||s.containsPosition(o.end)||s.end.isEqual(o.end)}else{const s=e,a=s.nodeBefore,l=s.nodeAfter,c=o.start.parent==a&&o.start.isAtEnd,d=o.end.parent==l&&o.end.offset==0,u=o.end.nodeAfter==l,h=o.start.nodeAfter==l;r=c||d||u||h}r&&this.updateMarker(i.name,{range:o})}}}function Kf(n,t,e,i){const o=n.model,r=o.document;let s,a,l,c=i.start;for(const u of i.getWalker({shallow:!0}))l=u.item.getAttribute(t),s&&a!=l&&(a!=e&&d(),c=s),s=u.nextPosition,a=l;function d(){const u=new E(c,s),h=u.root.document?r.version:null,g=new te(u,t,a,e,h);n.batch.addOperation(g),o.applyOperation(g)}s instanceof S&&s!=c&&a!=e&&d()}function Yf(n,t,e,i){const o=n.model,r=o.document,s=i.getAttribute(t);let a,l;if(s!=e){if(i.root===i){const c=i.document?r.version:null;l=new an(i,t,s,e,c)}else{a=new E(S._createBefore(i),n.createPositionAfter(i));const c=a.root.document?r.version:null;l=new te(a,t,s,e,c)}n.batch.addOperation(l),o.applyOperation(l)}}function Ur(n,t,e,i,o){const r=n.model,s=r.document,a=new De(t,e,i,r.markers,!!o,s.version);n.batch.addOperation(a),r.applyOperation(a)}function mx(n,t,e,i){let o;if(n.root.document){const r=i.document,s=new S(r.graveyard,[0]);o=new mt(n,t,s,r.version)}else o=new ux(n,t);e.addOperation(o),i.applyOperation(o)}function Zf(n,t){return n===t||n instanceof fa&&t instanceof fa}function gx(n,t,e={}){if(t.isCollapsed)return;const i=t.getFirstRange();if(i.root.rootName=="$graveyard")return;const o=n.schema;n.change(r=>{if(!e.doNotResetEntireContent&&function(c,d){const u=c.getLimitElement(d);if(!d.containsEntireContent(u))return!1;const h=d.getFirstRange();return h.start.parent==h.end.parent?!1:c.checkChild(u,"paragraph")}(o,t))return void function(c,d){const u=c.model.schema.getLimitElement(d);c.remove(c.createRangeIn(u)),Xf(c,c.createPositionAt(u,0),d)}(r,t);const s={};if(!e.doNotAutoparagraph){const c=t.getSelectedElement();c&&Object.assign(s,o.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=function(c){const d=c.root.document.model,u=c.start;let h=c.end;if(d.hasContent(c,{ignoreMarkers:!0})){const g=function(f){const p=f.parent,b=p.root.document.model.schema,k=p.getAncestors({parentFirst:!0,includeSelf:!0});for(const w of k){if(b.isLimit(w))return null;if(b.isBlock(w))return w}}(h);if(g&&h.isTouching(d.createPositionAt(g,0))){const f=d.createSelection(c);d.modifySelection(f,{direction:"backward"});const p=f.getLastPosition(),b=d.createRange(p,h);d.hasContent(b,{ignoreMarkers:!0})||(h=p)}}return[Gt.fromPosition(u,"toPrevious"),Gt.fromPosition(h,"toNext")]}(i);a.isTouching(l)||r.remove(r.createRange(a,l)),e.leaveUnmerged||(function(c,d,u){const h=c.model;if(!Uc(c.model.schema,d,u))return;const[g,f]=function(p,b){const k=p.getAncestors(),w=b.getAncestors();let _=0;for(;k[_]&&k[_]==w[_];)_++;return[k[_],w[_]]}(d,u);!g||!f||(!h.hasContent(g,{ignoreMarkers:!0})&&h.hasContent(f,{ignoreMarkers:!0})?Jf(c,d,u,g.parent):Qf(c,d,u,g.parent))}(r,a,l),o.removeDisallowedAttributes(a.parent.getChildren(),r)),tp(r,t,a),!e.doNotAutoparagraph&&function(c,d){const u=c.checkChild(d,"$text"),h=c.checkChild(d,"paragraph");return!u&&h}(o,a)&&Xf(r,a,t,s),a.detach(),l.detach()})}function Qf(n,t,e,i){const o=t.parent,r=e.parent;if(o!=i&&r!=i){for(t=n.createPositionAfter(o),(e=n.createPositionBefore(r)).isEqual(t)||n.insert(r,t),n.merge(t);e.parent.isEmpty;){const s=e.parent;e=n.createPositionBefore(s),n.remove(s)}Uc(n.model.schema,t,e)&&Qf(n,t,e,i)}}function Jf(n,t,e,i){const o=t.parent,r=e.parent;if(o!=i&&r!=i){for(t=n.createPositionAfter(o),(e=n.createPositionBefore(r)).isEqual(t)||n.insert(o,e);t.parent.isEmpty;){const s=t.parent;t=n.createPositionBefore(s),n.remove(s)}e=n.createPositionBefore(r),function(s,a){const l=a.nodeBefore,c=a.nodeAfter;l.name!=c.name&&s.rename(l,c.name),s.clearAttributes(l),s.setAttributes(Object.fromEntries(c.getAttributes()),l),s.merge(a)}(n,e),Uc(n.model.schema,t,e)&&Jf(n,t,e,i)}}function Uc(n,t,e){const i=t.parent,o=e.parent;return i!=o&&!n.isLimit(i)&&!n.isLimit(o)&&function(r,s,a){const l=new E(r,s);for(const c of l.getWalker())if(a.isLimit(c.item))return!1;return!0}(t,e,n)}function Xf(n,t,e,i={}){const o=n.createElement("paragraph");n.model.schema.setAllowedAttributes(o,i,n),n.insert(o,t),tp(n,e,n.createPositionAt(o,0))}function tp(n,t,e){t instanceof fi?n.setSelection(e):t.setTo(e)}function ep(n,t){const e=[];Array.from(n.getItems({direction:"backward"})).map(i=>t.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{e.push(i.start.parent),t.remove(i)}),e.forEach(i=>{let o=i;for(;o.parent&&o.isEmpty;){const r=t.createRangeOn(o);o=o.parent,t.remove(r)}})}class fx{constructor(t,e,i){m(this,"model"),m(this,"writer"),m(this,"position"),m(this,"canMergeWith"),m(this,"schema"),m(this,"_documentFragment"),m(this,"_documentFragmentPosition"),m(this,"_firstNode",null),m(this,"_lastNode",null),m(this,"_lastAutoParagraph",null),m(this,"_filterAttributesOf",[]),m(this,"_affectedStart",null),m(this,"_affectedEnd",null),m(this,"_nodeToSelect",null),this.model=t,this.writer=e,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(t);if(i.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new v("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?E._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new E(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){this._checkAndSplitToAllowedPosition(t)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this.schema.isObject(t)||this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Gt.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleDisallowedNode(t){t.is("element")&&this.handleNodes(t.getChildren())}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new v("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Gt.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Gt.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof Lt)||!this._canMergeLeft(t))return;const e=Gt._createBefore(t);e.stickiness="toNext";const i=Gt.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Gt._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Gt._createAt(e.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof Lt)||!this._canMergeRight(t))return;const e=Gt._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new v("insertcontent-invalid-insertion-position",this);this.position=S._createAt(e.nodeBefore,"end");const i=Gt.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Gt._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Gt._createAt(e.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof Lt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof Lt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_insertAutoParagraph(){this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0)}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===e&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,t)||this._insertAutoParagraph(),!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)||this.schema.checkChild(t,"paragraph")&&this.schema.checkChild("paragraph",e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function px(n,t,e,i={}){if(!n.schema.isObject(t))throw new v("insertobject-element-not-an-object",n,{object:t});const o=e||n.document.selection;let r=o;i.findOptimalPosition&&n.schema.isBlock(t)&&(r=n.createSelection(n.schema.findOptimalInsertionRange(o,i.findOptimalPosition)));const s=_t(o.getSelectedBlocks()),a={};return s&&Object.assign(a,n.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),n.change(l=>{r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let c=t;const d=r.anchor.parent;!n.schema.checkChild(d,t)&&n.schema.checkChild(d,"paragraph")&&n.schema.checkChild("paragraph",t)&&(c=l.createElement("paragraph"),l.insert(t,c)),n.schema.setAllowedAttributes(c,a,l);const u=n.insertContent(c,r);return u.isCollapsed||i.setSelection&&function(h,g,f,p){const b=h.model;if(f=="on")return void h.setSelection(g,"on");if(f!="after")throw new v("insertobject-invalid-place-parameter-value",b);let k=g.nextSibling;if(b.schema.isInline(g))return void h.setSelection(g,"after");!(k&&b.schema.checkChild(k,"$text"))&&b.schema.checkChild(g.parent,"paragraph")&&(k=h.createElement("paragraph"),b.schema.setAllowedAttributes(k,p,h),b.insertContent(k,h.createPositionAfter(g))),k&&h.setSelection(k,0)}(l,t,i.setSelection,a),u})}function bx(n,t){const{isForward:e,walker:i,unit:o,schema:r,treatEmojiAsSingleUnit:s}=n,{type:a,item:l,nextPosition:c}=t;if(a=="text")return n.unit==="word"?function(d,u){let h=d.position.textNode;for(h||(h=u?d.position.nodeAfter:d.position.nodeBefore);h&&h.is("$text");){const g=d.position.offset-h.startOffset;if(_x(h,g,u))h=u?d.position.nodeAfter:d.position.nodeBefore;else{if(wx(h.data,g,u))break;d.next()}}return d.position}(i,e):function(d,u,h){const g=d.position.textNode;if(g){const f=g.data;let p=d.position.offset-g.startOffset;for(;gc(f,p)||u=="character"&&fc(f,p)||h&&Sg(f,p);)d.next(),p=d.position.offset-g.startOffset}return d.position}(i,o,s);if(a==(e?"elementStart":"elementEnd")){if(r.isSelectable(l))return S._createAt(l,e?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(l))return void i.skip(()=>!0);if(r.checkChild(c,"$text"))return c}}function kx(n,t){const e=n.root,i=S._createAt(e,t?"end":0);return t?new E(n,i):new E(i,n)}function wx(n,t,e){const i=t+(e?0:-1);return' ,.?!:;"-()'.includes(n.charAt(i))}function _x(n,t,e){return t===(e?n.offsetSize:0)}let vx=class extends wt(){constructor(){super(),m(this,"markers"),m(this,"document"),m(this,"schema"),m(this,"_pendingChanges"),m(this,"_currentWriter"),this.markers=new dx,this.document=new cx(this),this.schema=new OA,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),NA(this),this.document.registerPostFixer(yf),this.on("insertContent",(n,[t,e])=>{n.return=function(i,o,r){return i.change(s=>{const a=r||i.document.selection;a.isCollapsed||i.deleteContent(a,{doNotAutoparagraph:!0});const l=new fx(i,s,a.anchor),c=[];let d;if(o.is("documentFragment")){if(o.markers.size){const g=[];for(const[f,p]of o.markers){const{start:b,end:k}=p,w=b.isEqual(k);g.push({position:b,name:f,isCollapsed:w},{position:k,name:f,isCollapsed:w})}g.sort(({position:f},{position:p})=>f.isBefore(p)?1:-1);for(const{position:f,name:p,isCollapsed:b}of g){let k=null,w=null;const _=f.parent===o&&f.isAtStart,y=f.parent===o&&f.isAtEnd;_||y?b&&(w=_?"start":"end"):(k=s.createElement("$marker"),s.insert(k,f)),c.push({name:p,element:k,collapsed:w})}}d=o.getChildren()}else d=[o];l.handleNodes(d);let u=l.getSelectionRange();if(o.is("documentFragment")&&c.length){const g=u?Me.fromRange(u):null,f={};for(let p=c.length-1;p>=0;p--){const{name:b,element:k,collapsed:w}=c[p],_=!f[b];if(_&&(f[b]=[]),k){const y=s.createPositionAt(k,"before");f[b].push(y),s.remove(k)}else{const y=l.getAffectedRange();if(!y){w&&f[b].push(l.position);continue}w?f[b].push(y[w]):f[b].push(_?y.start:y.end)}}for(const[p,[b,k]]of Object.entries(f))b&&k&&b.root===k.root&&b.root.document&&!s.model.markers.has(p)&&s.addMarker(p,{usingOperation:!0,affectsData:!0,range:new E(b,k)});g&&(u=g.toRange(),g.detach())}u&&(a instanceof fi?s.setSelection(u):a.setTo(u));const h=l.getAffectedRange()||i.createRange(a.anchor);return l.destroy(),h})}(this,t,e)}),this.on("insertObject",(n,[t,e,i])=>{n.return=px(this,t,e,i)}),this.on("canEditAt",n=>{const t=!this.document.isReadOnly;n.return=t,t||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new zo,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(t){v.rethrowUnexpectedError(t,this)}}enqueueChange(n,t){try{n?typeof n=="function"?(t=n,n=new zo):n instanceof zo||(n=new zo(n)):n=new zo,this._pendingChanges.push({batch:n,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(e){v.rethrowUnexpectedError(e,this)}}applyOperation(n){n._execute()}insertContent(n,t,e,...i){const o=$c(t,e);return this.fire("insertContent",[n,o,e,...i])}insertObject(n,t,e,i,...o){const r=$c(t,e);return this.fire("insertObject",[n,r,i,i,...o])}deleteContent(n,t){gx(this,n,t)}modifySelection(n,t){(function(e,i,o={}){const r=e.schema,s=o.direction!="backward",a=o.unit?o.unit:"character",l=!!o.treatEmojiAsSingleUnit,c=i.focus,d=new Yi({boundaries:kx(c,s),singleCharacters:!0,direction:s?"forward":"backward"}),u={walker:d,schema:r,isForward:s,unit:a,treatEmojiAsSingleUnit:l};let h;for(;h=d.next();){if(h.done)return;const g=bx(u,h.value);if(g)return void(i instanceof fi?e.change(f=>{f.setSelectionFocus(g)}):i.setFocus(g))}})(this,n,t)}getSelectedContent(n){return function(t,e){return t.change(i=>{const o=i.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return o;const s=r.start.root,a=r.start.getCommonPath(r.end),l=s.getNodeByPath(a);let c;c=r.start.parent==r.end.parent?r:i.createRange(i.createPositionAt(l,r.start.path[a.length]),i.createPositionAt(l,r.end.path[a.length]+1));const d=c.end.offset-c.start.offset;for(const u of c.getItems({shallow:!0}))u.is("$textProxy")?i.appendText(u.data,u.getAttributes(),o):i.append(i.cloneElement(u,!0),o);if(c!=r){const u=r._getTransformedByMove(c.start,i.createPositionAt(o,0),d)[0],h=i.createRange(i.createPositionAt(o,0),u.start);ep(i.createRange(u.end,i.createPositionAt(o,"end")),i),ep(h,i)}return o})}(this,n)}hasContent(n,t={}){const e=n instanceof E?n:E._createIn(n);if(e.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:o=!1}=t;if(!o){for(const r of this.markers.getMarkersIntersectingRange(e))if(r.affectsData)return!0}for(const r of e.getItems())if(this.schema.isContent(r)&&(!r.is("$textProxy")||!i||r.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const t=$c(n);return this.fire("canEditAt",[t])}createPositionFromPath(n,t,e){return new S(n,t,e)}createPositionAt(n,t){return S._createAt(n,t)}createPositionAfter(n){return S._createAfter(n)}createPositionBefore(n){return S._createBefore(n)}createRange(n,t){return new E(n,t)}createRangeIn(n){return E._createIn(n)}createRangeOn(n){return E._createOn(n)}createSelection(...n){return new Ye(...n)}createBatch(n){return new zo(n)}createOperationFromJSON(n){return XA.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new hx(this,t);const e=this._pendingChanges[0].callback(this._currentWriter);n.push(e),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}};function $c(n,t){if(n)return n instanceof Ye||n instanceof fi?n:n instanceof Jn?t||t===0?new Ye(n,t):n.is("rootElement")?new Ye(n,"in"):new Ye(n,"on"):new Ye(n)}class yx extends Ai{constructor(){super(...arguments),m(this,"domEventType","click")}onDomEvent(t){this.fire(t.type,t)}}class pa extends Ai{constructor(){super(...arguments),m(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(t){this.fire(t.type,t)}}class Cx extends Ai{constructor(){super(...arguments),m(this,"domEventType",["touchstart","touchend","touchmove"])}onDomEvent(t){this.fire(t.type,t)}}class Ei{constructor(t){m(this,"document"),this.document=t}createDocumentFragment(t){return new Zn(this.document,t)}createElement(t,e,i){return new Gi(this.document,t,e,i)}createText(t){return new fe(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,i){return i._insertChild(t,e)}removeChildren(t,e,i){return i._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const i=t.parent;if(i){const o=i.getChildIndex(t);return this.removeChildren(o,1,i),this.insertChild(o,e,i),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const i=e.getChildIndex(t);this.remove(t),this.insertChild(i,t.getChildren(),e)}}rename(t,e){const i=new Gi(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,i)?i:null}setAttribute(t,e,i){i._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){Ci(t)&&i===void 0?e._setStyle(t):i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return B._createAt(t,e)}createPositionAfter(t){return B._createAfter(t)}createPositionBefore(t){return B._createBefore(t)}createRange(t,e){return new rt(t,e)}createRangeOn(t){return rt._createOn(t)}createRangeIn(t){return rt._createIn(t)}createSelection(...t){return new Ki(...t)}}const Ax=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,xx=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,Ex=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Tx=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,Sx=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Ix=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,Mx=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function Dx(n){return n.startsWith("#")?Ax.test(n):n.startsWith("rgb")?xx.test(n)||Ex.test(n):n.startsWith("hsl")?Tx.test(n)||Sx.test(n):Mx.has(n.toLowerCase())}const Px=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Lx(n){return Px.test(n)}const Bx=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Nx(n){return Bx.test(n)}const zx=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function Ox(n){return zx.includes(n)}const Rx=["center","top","bottom","left","right"];function Vx(n){return Rx.includes(n)}const Fx=["fixed","scroll","local"];function jx(n){return Fx.includes(n)}const Hx=/^url\(/;function Ux(n){return Hx.test(n)}function $x(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const t=ip(n),e=t[0],i=t[2]||e,o=t[1]||e;return{top:e,bottom:i,right:o,left:t[3]||o}}function qx(n){return t=>{const{top:e,right:i,bottom:o,left:r}=t,s=[];return[e,i,r,o].every(a=>!!a)?s.push([n,Wx(t)]):(e&&s.push([n+"-top",e]),i&&s.push([n+"-right",i]),o&&s.push([n+"-bottom",o]),r&&s.push([n+"-left",r])),s}}function Wx({top:n,right:t,bottom:e,left:i}){const o=[];return i!==t?o.push(n,t,e,i):e!==n?o.push(n,t,e):t!==n?o.push(n,t):o.push(n),o.join(" ")}function Gx(n){return t=>({path:n,value:$x(t)})}function ip(n){const t=n.trim().slice(0,1500).matchAll(Ix);return Array.from(t).map(e=>e[0])}function Kx(n){n.setNormalizer("background",t=>{const e={},i=ip(t);for(const o of i)Ox(o)?(e.repeat=e.repeat||[],e.repeat.push(o)):Vx(o)?(e.position=e.position||[],e.position.push(o)):jx(o)?e.attachment=o:Dx(o)?e.color=o:Ux(o)&&(e.image=o);return{path:"background",value:e}}),n.setNormalizer("background-color",t=>({path:"background.color",value:t})),n.setReducer("background",t=>{const e=[];return e.push(["background-color",t.color]),e}),n.setStyleRelation("background",["background-color"])}function Yx(n){n.setNormalizer("margin",Gx("margin")),n.setNormalizer("margin-top",t=>({path:"margin.top",value:t})),n.setNormalizer("margin-right",t=>({path:"margin.right",value:t})),n.setNormalizer("margin-bottom",t=>({path:"margin.bottom",value:t})),n.setNormalizer("margin-left",t=>({path:"margin.left",value:t})),n.setReducer("margin",qx("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}class np{constructor(t){if(m(this,"crashes",[]),m(this,"state","initializing"),m(this,"_crashNumberLimit"),m(this,"_now",Date.now),m(this,"_minimumNonErrorTimePeriod"),m(this,"_boundErrorHandler"),m(this,"_listeners"),this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const i="error"in e?e.error:e.reason;i instanceof Error&&this._handleError(i,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(i=>i!==e)}_fire(t,...e){const i=this._listeners[t]||[];for(const o of i)o.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function qc(n,t=new Set){const e=[n],i=new Set;let o=0;for(;e.length>o;){const r=e[o++];if(!i.has(r)&&Zx(r)&&!t.has(r))if(i.add(r),Symbol.iterator in r)try{for(const s of r)e.push(s)}catch{}else for(const s in r)s!=="defaultValue"&&e.push(r[s])}return i}function Zx(n){const t=Object.prototype.toString.call(n),e=typeof n;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||n==null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function op(n,t,e=new Set){if(n===t&&typeof(i=n)=="object"&&i!==null)return!0;var i;const o=qc(n,e),r=qc(t,e);for(const s of o)if(r.has(s))return!0;return!1}class rp extends np{constructor(t,e={}){super(e),m(this,"_editor",null),m(this,"_lifecyclePromise",null),m(this,"_throttledSave"),m(this,"_data"),m(this,"_lastDocumentVersion"),m(this,"_elementOrData"),m(this,"_initUsingData",!0),m(this,"_editables",{}),m(this,"_config"),m(this,"_excludedProps"),this._throttledSave=Io(this._save.bind(this),typeof e.saveInterval=="number"?e.saveInterval:5e3),t&&(this._creator=(i,o)=>t.create(i,o)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},e=[],i=this._config.rootsAttributes||{},o={};for(const[s,a]of Object.entries(this._data.roots))a.isLoaded?(t[s]="",o[s]=i[s]||{}):e.push(s);const r={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:e,rootsAttributes:o,_watchdogInitialData:this._data};return delete r.initialData,r.extraPlugins.push(Qx),this._initUsingData?this.create(t,r,r.context):bn(this._elementOrData)?this.create(this._elementOrData,r,r.context):this.create(this._editables,r,r.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(e)||{},this._config.context=i,this._creator(t,this._config))).then(o=>{this._editor=o,o.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=o.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,e=t.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:i}=t,o=i.has("CommentsRepository")&&i.get("CommentsRepository"),r=i.has("TrackChanges")&&i.get("TrackChanges"),s={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};e.forEach(a=>{s.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of t.model.markers)a._affectsData&&(s.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return o&&(s.commentThreads=JSON.stringify(o.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),r&&(s.suggestions=JSON.stringify(r.getSuggestions({toJSON:!0,skipNotAttached:!0}))),s}_getEditables(){const t={};for(const e of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(e);i&&(t[e]=i)}return t}_isErrorComingFromThisItem(t){return op(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Qs(t,(e,i)=>bn(e)||i==="context"?e:void 0)}}class Qx{constructor(t){m(this,"editor"),m(this,"_data"),this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,e){if("name"in e){const i=t.createElement(e.name,e.attributes);if(e.children)for(const o of e.children)i._appendChild(this._createNode(t,o));return i}return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach(([i,{content:o,attributes:r}])=>{const s=JSON.parse(o),a=JSON.parse(r),l=e.model.document.getRoot(i);for(const[c,d]of a)t.setAttribute(c,d,l);for(const c of s){const d=this._createNode(t,c);t.insert(d,l,"end")}}),Object.entries(this._data.markers).forEach(([i,o])=>{const{document:r}=e.model,{rangeJSON:{start:s,end:a},...l}=o,c=r.getRoot(s.root),d=t.createPositionFromPath(c,s.path,s.stickiness),u=t.createPositionFromPath(c,a.path,a.stickiness),h=t.createRange(d,u);t.addMarker(i,{range:h,...l})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach(i=>{const o=this.editor.config.get("collaboration.channelId"),r=this.editor.plugins.get("CommentsRepository");r.hasCommentThread(i.threadId)&&r.getCommentThread(i.threadId).remove(),r.addCommentThread({channelId:o,...i})}),e.forEach(i=>{const o=this.editor.plugins.get("TrackChangesEditing");o.hasSuggestion(i.id)?o.getSuggestion(i.id).attributes=i.attributes:o.addSuggestionData(i)})}}const $r=Symbol("MainQueueId");class Jx extends np{constructor(t,e={}){super(e),m(this,"_watchdogs",new Map),m(this,"_watchdogConfig"),m(this,"_context",null),m(this,"_contextProps",new Set),m(this,"_actionQueues",new Xx),m(this,"_contextConfig"),m(this,"_item"),this._watchdogConfig=e,this._creator=i=>t.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue($r,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const e=sp(t);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return o=new rp(null,this._watchdogConfig),o.setCreator(i.creator),o._setExcludedProperties(this._contextProps),i.destructor&&o.setDestructor(i.destructor),this._watchdogs.set(i.id,o),o.on("error",(r,{error:s,causesRestart:a})=>{this._fire("itemError",{itemId:i.id,error:s}),a&&this._actionQueues.enqueue(i.id,()=>new Promise(l=>{const c=()=>{o.off("restart",c),this._fire("itemRestart",{itemId:i.id}),l()};o.on("restart",c)}))}),o.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(t){const e=sp(t);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const o=this._getWatchdog(i);return this._watchdogs.delete(i),o.destroy()})))}destroy(){return this._actionQueues.enqueue($r,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue($r,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=qc(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const e=this._watchdogs.get(t);if(!e)throw new Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return op(this._context,t.context)}}class Xx{constructor(){m(this,"_onEmptyCallbacks",[]),m(this,"_queues",new Map),m(this,"_activeActions",0)}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const i=t===$r;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const o=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get($r),this._queues.get(t)])).then(e),r=o.catch(()=>{});return this._queues.set(t,r),o.finally(()=>{this._activeActions--,this._queues.get(t)===r&&this._activeActions===0&&this._onEmptyCallbacks.forEach(s=>s())})}}function sp(n){return Array.isArray(n)?n:[n]}class t2{constructor(){m(this,"_commands"),this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const i=this.get(t);if(!i)throw new v("commandcollection-command-not-found",this,{commandName:t});return i.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class e2 extends Tt{constructor(t){super(),m(this,"editor"),this.editor=t}set(t,e,i={}){if(typeof e=="string"){const o=e;e=(r,s)=>{this.editor.execute(o),s()}}super.set(t,e,i)}}const Wc="contentEditing",ap="common";class i2{constructor(t){m(this,"keystrokeInfos",new Map),m(this,"_editor"),this._editor=t;const e=t.config.get("menuBar.isVisible"),i=t.locale.t;this.addKeystrokeInfoCategory({id:Wc,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const o=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&o.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:o}]})}addKeystrokeInfoCategory({id:t,label:e,description:i,groups:o}){this.keystrokeInfos.set(t,{id:t,label:e,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:ap}),o&&o.forEach(r=>{this.addKeystrokeInfoGroup({categoryId:t,...r})})}addKeystrokeInfoGroup({categoryId:t=Wc,id:e,label:i,keystrokes:o}){const r=this.keystrokeInfos.get(t);if(!r)throw new v("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});r.groups.set(e,{id:e,label:i,keystrokes:o||[]})}addKeystrokeInfos({categoryId:t=Wc,groupId:e=ap,keystrokes:i}){if(!this.keystrokeInfos.has(t))throw new v("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:i});const o=this.keystrokeInfos.get(t);if(!o.groups.has(e))throw new v("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:i});o.groups.get(e).keystrokes.push(...i)}}function n2(n){return Object.getPrototypeOf(n).constructor.editorName}function Gc(n){if(!n)return;const t=Array.isArray(n)?{items:n}:n,e=function o(r){return r.flatMap(s=>typeof s=="string"?[s]:o(s.items))}(t.items||[]);return{isMultiline:e.includes("-"),shouldNotGroupWhenFull:!!t.shouldNotGroupWhenFull,items:(i=e,i.filter(o=>o!=="|"&&o!=="-"))};var i}function o2(){let n="unknown",t="unknown";return j.isMac?n="mac":j.isWindows?n="windows":j.isiOS?n="ios":j.isAndroid&&(n="android"),j.isGecko?t="gecko":j.isBlink?t="blink":j.isSafari&&(t="safari"),{os:n,browser:t}}function r2(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",Ae()),localStorage.getItem("__ckeditor-session-id")}function s2(){return L.window.CKEDITOR_PAGE_SESSION_ID=L.window.CKEDITOR_PAGE_SESSION_ID||Ae(),L.window.CKEDITOR_PAGE_SESSION_ID}class Ro extends wt(){constructor(t={}){if(super(),m(this,"accessibility"),m(this,"commands"),m(this,"config"),m(this,"conversion"),m(this,"data"),m(this,"editing"),m(this,"locale"),m(this,"model"),m(this,"plugins"),m(this,"keystrokes"),m(this,"t"),m(this,"_context"),m(this,"_readOnlyLocks"),"sanitizeHtml"in t)throw new v("editor-config-sanitizehtml-not-supported");const e=this.constructor,{translations:i,...o}=e.defaultConfig||{},{translations:r=i,...s}=t,a=t.language||o.language;this._context=t.context||new oa({language:a,translations:r}),this._context._addEditor(this,!t.context);const l=Array.from(e.builtinPlugins||[]);this.config=new ig(s,o),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),function(d){let u=d.get("licenseKey");if(!u&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(u=window.CKEDITOR_GLOBAL_LICENSE_KEY,d.set("licenseKey",u)),!u)throw new v("license-key-missing")}(this.config),this.plugins=new Pg(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new t2,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new vx,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new qC;this.data=new QA(this.model,c),this.editing=new zA(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new JA([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new e2(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new i2(this),function(d){const u=d.config.get("licenseKey"),h=window[Symbol.for("cke distribution")]||"sh";function g(k){d.enableReadOnlyMode(Symbol("invalidLicense")),d._showLicenseError(k)}if(u=="GPL")return void(h=="cloud"&&g("distributionChannel"));const f=function(k){const w=k.split(".");return w.length!=3?null:w[1]}(u);if(!f)return void g("invalid");const p=mc(f);if(!p||!function(k){return["exp","jti","vc"].every(w=>w in k)}(p))return void g("invalid");if(p.distributionChannel&&!Dt(p.distributionChannel).includes(h))return void g("distributionChannel");if(OC(function(k){return Object.getOwnPropertyNames(k).sort().filter(w=>w!="vc"&&k[w]!=null).map(w=>k[w])}(p))!=p.vc.toLowerCase())return void g("invalid");if(new Date(1e3*p.exp)<rC)return void g("expired");const b=p.licensedHosts;if(b&&b.length>0&&!function(k){const{hostname:w}=new URL(window.location.href);if(k.includes(w))return!0;const _=w.split(".");return k.filter(y=>y.includes("*")).map(y=>y.split(".")).filter(y=>y.length<=_.length).map(y=>Array(_.length-y.length).fill(y[0]==="*"?"*":"").concat(y)).some(y=>_.every((A,x)=>y[x]===A||y[x]==="*"))}(b))return void g("domainLimit");if(["evaluation","trial"].includes(p.licenseType)&&1e3*p.exp<Date.now())return void g("expired");if(["development","evaluation","trial"].includes(p.licenseType)){const{licenseType:k}=p,w=k[0].toUpperCase()+k.slice(1),_=k==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${w} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(`\u26A0\uFE0F You are using ${_} ${k} license of CKEditor 5`+(k==="trial"?" which is for evaluation purposes only":"")+". For production usage, please obtain a production license at https://portal.ckeditor.com/")}if(["evaluation","trial"].includes(p.licenseType)){const k=p.licenseType,w=setTimeout(()=>{g(`${k}Limit`)},6e5);d.on("destroy",()=>{clearTimeout(w)})}p.usageEndpoint&&d.once("ready",()=>{const k={requestId:Ae(),requestTime:Math.round(Date.now()/1e3),license:u,editor:a2(d)};d._sendUsageRequest(p.usageEndpoint,k).then(w=>{const{status:_,message:y}=w;y&&console.warn(y),_!="ok"&&g("usageLimit")},()=>{oC("license-key-validation-endpoint-not-reachable",{url:p.usageEndpoint})})},{priority:"high"})}(this)}static get editorName(){return"Editor"}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new v("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new v("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new v("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(t){this.data.set(t)}getData(t){return this.data.get(t)}initPlugins(){const t=this.config,e=t.get("plugins"),i=t.get("removePlugins")||[],o=t.get("extraPlugins")||[],r=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(o),i,r)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(e=>this.once("ready",e))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(i){v.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}_showLicenseError(t,e){setTimeout(()=>{if(t=="invalid")throw new v("invalid-license-key");if(t=="expired")throw new v("license-key-expired");if(t=="domainLimit")throw new v("license-key-domain-limit");if(t=="featureNotAllowed")throw new v("license-key-plugin-not-allowed",null,{pluginName:e});if(t=="evaluationLimit")throw new v("license-key-evaluation-limit");if(t=="trialLimit")throw new v("license-key-trial-limit");if(t=="developmentLimit")throw new v("license-key-development-limit");if(t=="usageLimit")throw new v("license-key-usage-limit");if(t=="distributionChannel")throw new v("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(t,e){const i=new Headers({"Content-Type":"application/json"}),o=await fetch(new URL(t),{method:"POST",headers:i,body:JSON.stringify(e)});if(!o.ok)throw new Error(`HTTP Response: ${o.status}`);return o.json()}}m(Ro,"defaultConfig"),m(Ro,"builtinPlugins"),m(Ro,"Context",oa),m(Ro,"EditorWatchdog",rp),m(Ro,"ContextWatchdog",Jx);function a2(n){const t=function(e){return{sessionId:r2(),pageSessionId:s2(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:n2(e),plugins:(i=e.plugins,Array.from(i).filter(([o])=>!!o.pluginName).map(([o])=>{const{pluginName:r,isContextPlugin:s,isOfficialPlugin:a,isPremiumPlugin:l}=o;return{isContext:!!s,isOfficial:!!a,isPremium:!!l,name:r}})),distribution:{channel:window[Symbol.for("cke distribution")]||"sh"},env:o2(),integration:Object.create(null),menuBar:{isVisible:!!e.config.get("menuBar.isVisible")},language:{ui:e.locale.uiLanguage,content:e.locale.contentLanguage},toolbar:{main:Gc(e.config.get("toolbar")),block:Gc(e.config.get("blockToolbar")),balloon:Gc(e.config.get("balloonToolbar"))}};var i}(n);return n.fire("collectUsageData",{setUsageData:function(e,i){if(pn(t,e)!==void 0)throw new v("editor-usage-data-path-already-set",{path:e});qm(t,e,i)}}),t}function l2(n){if(!Zs(n.updateSourceElement))throw new v("attachtoform-missing-elementapi-interface",n);const t=n.sourceElement;if(function(e){return!!e&&e.tagName.toLowerCase()==="textarea"}(t)&&t.form){let e;const i=t.form,o=()=>n.updateSourceElement();Zs(i.submit)&&(e=i.submit,i.submit=()=>{o(),e.apply(i)}),i.addEventListener("submit",o),n.on("destroy",()=>{i.removeEventListener("submit",o),e&&(i.submit=e)})}}function Kc(n){return class extends n{constructor(){super(...arguments),m(this,"sourceElement")}updateSourceElement(t){if(!this.sourceElement)throw new v("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),i=this.sourceElement instanceof HTMLTextAreaElement;if(!e&&!i)return void mg(this.sourceElement,"");const o=typeof t=="string"?t:this.data.get();mg(this.sourceElement,o)}}}function c2(n,t){if(t.ckeditorInstance)throw new v("editor-source-element-already-used",n);t.ckeditorInstance=n,n.once("destroy",()=>{delete t.ckeditorInstance})}Kc.updateSourceElement=Kc(Object).prototype.updateSourceElement;class ba extends Lg{constructor(){super(...arguments),m(this,"_actions")}static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new ie({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new v("pendingactions-add-invalid-message",this);const e=new(wt());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class d2 extends wt(){constructor(){super(),m(this,"total"),m(this,"_reader"),m(this,"_data");const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((i,o)=>{e.onload=()=>{const r=e.result;this._data=r,i(r)},e.onerror=()=>{o("error")},e.onabort=()=>{o("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class vn extends C{constructor(){super(...arguments),m(this,"loaders",new ie),m(this,"_loadersMap",new Map),m(this,"_pendingAction",null)}static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[ba]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return st("filerepository-no-upload-adapter"),null;const e=new lp(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(i=>{this._loadersMap.set(i,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let i=0;for(const o of this.loaders)i+=o.uploaded;this.uploaded=i}),e.on("change:uploadTotal",()=>{let i=0;for(const o of this.loaders)o.uploadTotal&&(i+=o.uploadTotal);this.uploadTotal=i}),e}destroyLoader(t){const e=t instanceof lp?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((i,o)=>{i===e&&this._loadersMap.delete(o)})}_updatePendingAction(){const t=this.editor.plugins.get(ba);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,i=o=>`${e("Upload in progress")} ${parseInt(o)}%.`;this._pendingAction=t.add(i(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else t.remove(this._pendingAction),this._pendingAction=null}}class lp extends wt(){constructor(t,e){super(),m(this,"id"),m(this,"_filePromiseWrapper"),m(this,"_adapter"),m(this,"_reader"),this.id=Ae(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new d2,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,o)=>o?i/o*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new v("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new v("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((i,o)=>{e.rejecter=o,e.isFulfilled=!1,t.then(r=>{e.isFulfilled=!0,i(r)}).catch(r=>{e.isFulfilled=!0,o(r)})}),e}}class u2 extends C{static get requires(){return[vn]}static get pluginName(){return"Base64UploadAdapter"}static get isOfficialPlugin(){return!0}init(){this.editor.plugins.get(vn).createUploadAdapter=t=>new h2(t)}}let h2=class{constructor(n){m(this,"loader"),m(this,"reader"),this.loader=n}upload(){return new Promise((n,t)=>{const e=this.reader=new window.FileReader;e.addEventListener("load",()=>{n({default:e.result})}),e.addEventListener("error",i=>{t(i)}),e.addEventListener("abort",()=>{t()}),this.loader.file.then(i=>{e.readAsDataURL(i)})})}abort(){this.reader.abort()}};const Yc=["left","right","center","justify"];function cp(n){return Yc.includes(n)}function dp(n,t){return t.contentLanguageDirection=="rtl"?n==="right":n==="left"}function up(n){const t=n.map(i=>{let o;return o=typeof i=="string"?{name:i}:i,o}).filter(i=>{const o=Yc.includes(i.name);return o||st("alignment-config-name-not-recognized",{option:i}),o}),e=t.filter(i=>!!i.className).length;if(e&&e<t.length)throw new v("alignment-config-classnames-are-missing",{configuredOptions:n});return t.forEach((i,o,r)=>{const s=r.slice(o+1);if(s.some(a=>a.name==i.name))throw new v("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&s.some(a=>a.className==i.className))throw new v("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),t}const Zc="alignment";class m2 extends q{refresh(){const t=this.editor.locale,e=_t(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!e&&this._canBeAligned(e),this.isEnabled&&e.hasAttribute("alignment")?this.value=e.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(t={}){const e=this.editor,i=e.locale,o=e.model,r=o.document,s=t.value;o.change(a=>{const l=Array.from(r.selection.getSelectedBlocks()).filter(d=>this._canBeAligned(d)),c=l[0].getAttribute("alignment");dp(s,i)||c===s||!s?function(d,u){for(const h of d)u.removeAttribute(Zc,h)}(l,a):function(d,u,h){for(const g of d)u.setAttribute(Zc,h,g)}(l,a,s)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,Zc)}}class g2 extends C{static get pluginName(){return"AlignmentEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("alignment",{options:Yc.map(e=>({name:e}))})}init(){const t=this.editor,e=t.locale,i=t.model.schema,o=up(t.config.get("alignment.options")).filter(l=>cp(l.name)&&!dp(l.name,e)),r=o.some(l=>!!l.className);i.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),r?t.conversion.attributeToAttribute(function(l){const c={};for(const d of l)c[d.name]={key:"class",value:d.className};return{model:{key:"alignment",values:l.map(d=>d.name)},view:c}}(o)):t.conversion.for("downcast").attributeToAttribute(function(l){const c={};for(const{name:d}of l)c[d]={key:"style",value:{"text-align":d}};return{model:{key:"alignment",values:l.map(d=>d.name)},view:c}}(o));const s=function(l){const c=[];for(const{name:d}of l)c.push({view:{key:"style",value:{"text-align":d}},model:{key:"alignment",value:d}});return c}(o);for(const l of s)t.conversion.for("upcast").attributeToAttribute(l);const a=function(l){const c=[];for(const{name:d}of l)c.push({view:{key:"align",value:d},model:{key:"alignment",value:d}});return c}(o);for(const l of a)t.conversion.for("upcast").attributeToAttribute(l);t.commands.add("alignment",new m2(t))}}class Ee extends ie{constructor(t=[]){super(t,{idProperty:"viewUid"}),m(this,"_parentElement"),this.on("add",(e,i,o)=>{this._renderViewIntoCollectionParent(i,o)}),this.on("remove",(e,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!t.every(e=>typeof e=="string"))throw new v("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const i of this)for(const o of t)i.delegate(o).to(e);this.on("add",(i,o)=>{for(const r of t)o.delegate(r).to(e)}),this.on("remove",(i,o)=>{for(const r of t)o.stopDelegating(r,e)})}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}remove(t){return super.remove(t)}}class ti extends kt(){constructor(t){super(),m(this,"ns"),m(this,"tag"),m(this,"text"),m(this,"attributes"),m(this,"children"),m(this,"eventListeners"),m(this,"_isRendered"),m(this,"_revertData"),Object.assign(this,fp(gp(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new v("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const i of e.children)wa(i)?yield i:Qc(i)&&(yield*t(i))}(this)}static bind(t,e){return{to:(i,o)=>new f2({eventNameOrFunction:i,attribute:i,observable:t,emitter:e,callback:o}),if:(i,o,r)=>new hp({observable:t,emitter:e,attribute:i,valueIfTrue:o,callback:r})}}static extend(t,e){if(t._isRendered)throw new v("template-extend-render",[this,t]);wp(t,fp(gp(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new v("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),ka(this.text)?this._bindToObservable({schema:this.text,updater:p2(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,i=t.revertData;for(const o in this.attributes){const r=e.getAttribute(o),s=this.attributes[o];i&&(i.attributes[o]=r);const a=_p(s)?s[0].ns:null;if(ka(s)){const l=_p(s)?s[0].value:s;i&&vp(o)&&l.unshift(r),this._bindToObservable({schema:l,updater:b2(e,o,a),data:t})}else if(o=="style"&&typeof s[0]!="string")this._renderStyleAttribute(s[0],t);else{i&&r&&vp(o)&&s.unshift(r);const l=s.map(c=>c&&c.value||c).reduce((c,d)=>c.concat(d),[]).reduce(bp,"");Vo(l)||e.setAttributeNS(a,o,l)}}}_renderStyleAttribute(t,e){const i=e.node;for(const o in t){const r=t[o];ka(r)?this._bindToObservable({schema:[r],updater:k2(i,o),data:e}):i.style[o]=r}}_renderElementChildren(t){const e=t.node,i=t.intoFragment?document.createDocumentFragment():e,o=t.isApplying;let r=0;for(const s of this.children)if(Jc(s)){if(!o){s.setParent(e);for(const a of s)i.appendChild(a.element)}}else if(wa(s))o||(s.isRendered||s.render(),i.appendChild(s.element));else if(kn(s))i.appendChild(s);else if(o){const a={children:[],bindings:[],attributes:{}};t.revertData.children.push(a),s._renderNode({intoFragment:!1,node:i.childNodes[r++],isApplying:!0,revertData:a})}else i.appendChild(s.render());t.intoFragment&&e.appendChild(i)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const i=this.eventListeners[e].map(o=>{const[r,s]=e.split("@");return o.activateDomEventListener(r,s,t)});t.revertData&&t.revertData.bindings.push(i)}}_bindToObservable({schema:t,updater:e,data:i}){const o=i.revertData;mp(t,e,i);const r=t.filter(s=>!Vo(s)).filter(s=>s.observable).map(s=>s.activateAttributeListener(t,e,i));o&&o.bindings.push(r)}_revertTemplateFromNode(t,e){for(const o of e.bindings)for(const r of o)r();if(e.text)return void(t.textContent=e.text);const i=t;for(const o in e.attributes){const r=e.attributes[o];r===null?i.removeAttribute(o):i.setAttribute(o,r)}for(let o=0;o<e.children.length;++o)this._revertTemplateFromNode(i.childNodes[o],e.children[o])}}class qr{constructor(t){m(this,"attribute"),m(this,"observable"),m(this,"emitter"),m(this,"callback"),this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,i){const o=()=>mp(t,e,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,o),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,o)}}}class f2 extends qr{constructor(t){super(t),m(this,"eventNameOrFunction"),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,i){const o=(r,s)=>{e&&!s.target.matches(e)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(s):this.observable.fire(this.eventNameOrFunction,s))};return this.emitter.listenTo(i.node,t,o),()=>{this.emitter.stopListening(i.node,t,o)}}}class hp extends qr{constructor(t){super(t),m(this,"valueIfTrue"),this.valueIfTrue=t.valueIfTrue}getValue(t){return!Vo(super.getValue(t))&&(this.valueIfTrue||!0)}}function ka(n){return!!n&&(n.value&&(n=n.value),Array.isArray(n)?n.some(ka):n instanceof qr)}function mp(n,t,{node:e}){const i=function(r,s){return r.map(a=>a instanceof qr?a.getValue(s):a)}(n,e);let o;o=n.length==1&&n[0]instanceof hp?i[0]:i.reduce(bp,""),Vo(o)?t.remove():t.set(o)}function p2(n){return{set(t){n.textContent=t},remove(){n.textContent=""}}}function b2(n,t,e){return{set(i){n.setAttributeNS(e,t,i)},remove(){n.removeAttributeNS(e,t)}}}function k2(n,t){return{set(e){n.style[t]=e},remove(){n.style[t]=null}}}function gp(n){return Qs(n,t=>{if(t&&(t instanceof qr||Qc(t)||wa(t)||Jc(t)))return t})}function fp(n){if(typeof n=="string"?n=function(t){return{text:[t]}}(n):n.text&&function(t){t.text=Dt(t.text)}(n),n.on&&(n.eventListeners=function(t){for(const e in t)pp(t,e);return t}(n.on),delete n.on),!n.text){n.attributes&&function(e){for(const i in e)e[i].value&&(e[i].value=Dt(e[i].value)),pp(e,i)}(n.attributes);const t=[];if(n.children)if(Jc(n.children))t.push(n.children);else for(const e of n.children)Qc(e)||wa(e)||kn(e)?t.push(e):t.push(new ti(e));n.children=t}return n}function pp(n,t){n[t]=Dt(n[t])}function bp(n,t){return Vo(t)?n:Vo(n)?t:`${n} ${t}`}function kp(n,t){for(const e in t)n[e]?n[e].push(...t[e]):n[e]=t[e]}function wp(n,t){if(t.attributes&&(n.attributes||(n.attributes={}),kp(n.attributes,t.attributes)),t.eventListeners&&(n.eventListeners||(n.eventListeners={}),kp(n.eventListeners,t.eventListeners)),t.text&&n.text.push(...t.text),t.children&&t.children.length){if(n.children.length!=t.children.length)throw new v("ui-template-extend-children-mismatch",n);let e=0;for(const i of t.children)wp(n.children[e++],i)}}function Vo(n){return!n&&n!==0}function wa(n){return n instanceof P}function Qc(n){return n instanceof ti}function Jc(n){return n instanceof Ee}function _p(n){return ci(n[0])&&n[0].ns}function vp(n){return n=="class"||n=="style"}class P extends Se(wt()){constructor(t){super(),m(this,"element"),m(this,"isRendered"),m(this,"locale"),m(this,"t"),m(this,"template"),m(this,"_viewCollections"),m(this,"_unboundChildren"),m(this,"_bindTemplate"),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new ie,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,i)=>{i.locale=t,i.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ti.bind(this,this)}createCollection(t){const e=new Ee(t);return this._viewCollections.add(e),e}registerChild(t){$e(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){$e(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new ti(t)}extendTemplate(t){ti.extend(this.template,t)}render(){if(this.isRendered)throw new v("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function yn({emitter:n,activator:t,callback:e,contextElements:i,listenerOptions:o}){n.listenTo(document,"mousedown",(r,s)=>{if(!t())return;const a=typeof s.composedPath=="function"?s.composedPath():[],l=typeof i=="function"?i():i;for(const c of l)if(c.contains(s.target)||a.includes(c))return;e()},o)}function Wr(n){return class extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Fo({view:n}){n.listenTo(n.element,"submit",(t,e)=>{e.preventDefault(),n.fire("submit")},{useCapture:!0})}function Gr({keystrokeHandler:n,focusTracker:t,gridItems:e,numberOfColumns:i,uiLanguageDirection:o}){const r=typeof i=="number"?()=>i:i;function s(c){return d=>{const u=e.find(f=>f.element===t.focusedElement),h=e.getIndex(u),g=c(h,e);e.get(g).focus(),d.stopPropagation(),d.preventDefault()}}function a(c,d){return c===d-1?0:c+1}function l(c,d){return c===0?d-1:c-1}n.set("arrowright",s((c,d)=>o==="rtl"?l(c,d.length):a(c,d.length))),n.set("arrowleft",s((c,d)=>o==="rtl"?a(c,d.length):l(c,d.length))),n.set("arrowup",s((c,d)=>{let u=c-r();return u<0&&(u=c+r()*Math.floor(d.length/r()),u>d.length-1&&(u-=r())),u})),n.set("arrowdown",s((c,d)=>{let u=c+r();return u>d.length-1&&(u=c%r()),u}))}var yp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>',w2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',_2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',Cp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',v2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',Ap='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',Xc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',td='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',y2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',xp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Ep='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',C2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',A2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',x2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',E2='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',T2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',_a='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',S2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M8.5 8.25a1.25 1.25 0 1 1-2.499.001A1.25 1.25 0 0 1 8.5 8.25Z"/><path clip-rule="evenodd" d="M14 8.25a1.25 1.25 0 1 1-2.499.001A1.25 1.25 0 0 1 14 8.25Z"/><path clip-rule="evenodd" d="M7.127 12.088a.75.75 0 1 0-1.254.824C6.88 14.444 8.423 15.25 10 15.25c1.578 0 3.12-.805 4.127-2.338a.75.75 0 0 0-1.254-.824C12.13 13.221 11.048 13.75 10 13.75c-1.047 0-2.13-.529-2.873-1.662Z"/><path d="M10 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0-1.5a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z"/></svg>',ed='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',I2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',M2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',Tp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',Sp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',D2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',P2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',L2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',B2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',N2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',Ip='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',z2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',Mp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',O2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',R2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>',V2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',F2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>',j2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>',H2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>',U2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>',$2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>',q2='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>',W2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',G2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>',K2='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',Y2='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',Dp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',id='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',nd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',Z2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',Pp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',od='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Lp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Bp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Np='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Q2='<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',J2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',X2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',tE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',eE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',zp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',iE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',nE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',oE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>',rE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',sE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',Xn='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',aE=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,lE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',Op='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',cE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',dE='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',uE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',hE=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.734 6.375H1.75a.75.75 0 0 1 0-1.5h1.984a2.626 2.626 0 0 1 5.032 0h9.48a.75.75 0 0 1 0 1.5h-9.48a2.626 2.626 0 0 1-5.032 0Zm1.141-.75a1.375 1.375 0 1 1 2.75 0 1.375 1.375 0 0 1-2.75 0ZM16.263 14.625h1.983a.75.75 0 0 1 0 1.5h-1.983a2.626 2.626 0 0 1-5.033 0H1.75a.75.75 0 0 1 0-1.5h9.48a2.626 2.626 0 0 1 5.033 0Zm-1.142.75a1.375 1.375 0 1 1-2.75 0 1.375 1.375 0 0 1 2.75 0Z"/></svg>
`,mE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',gE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',fE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',pE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',bE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',kE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',wE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',Rp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>',_E='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',vE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',rd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',yE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',CE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',Vp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',AE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';const Fp=class q0 extends P{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!t)throw new v("ui-iconview-invalid-svg",this);const e=t.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:o}of Array.from(t.attributes))q0.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,o);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}};m(Fp,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);let Ti=Fp;class jp extends P{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}class V extends P{constructor(t,e=new jp){super(t),m(this,"children"),m(this,"labelView"),m(this,"iconView"),m(this,"keystrokeView"),m(this,"_focusDelayed",null);const i=this.bindTemplate,o=Ae();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${o}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(e),this.iconView=new Ti,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s),i.if("isVisible","ck-hidden",s=>!s),i.to("isOn",s=>s?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",s=>s||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("_ariaChecked"),"aria-pressed":i.to("_ariaPressed"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,s=>!s),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(s=>{this.isEnabled?this.fire("execute"):s.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(s,a,l)=>!(!a||Hp(l))&&String(!!s)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(s,a,l)=>!(!a||!Hp(l))&&String(!!s)),j.isSafari&&(this._focusDelayed||(this._focusDelayed=hc(()=>this.focus(),0)),r.on.mousedown=i.to(()=>{this._focusDelayed()}),r.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(r)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",(t,e,i,o)=>{i&&!o?this.children.add(this.iconView,0):!i&&o&&this.children.remove(this.iconView)}),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new P;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>ia(e))}]}),t}_getTooltipString(t,e,i){return t?typeof t=="string"?t:(i&&(i=ia(i)),t instanceof Function?t(e,i):`${e}${i?` (${i})`:""}`):""}}function Hp(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class to extends P{constructor(t,e={}){super(t),m(this,"children"),m(this,"iconView");const i=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),e.icon&&(this.iconView=new Ti,this.iconView.content=e.icon,this.children.add(this.iconView));const o=new P(t);o.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(o)}}class re extends kt(){constructor(t){if(super(),m(this,"focusables"),m(this,"focusTracker"),m(this,"keystrokeHandler"),m(this,"actions"),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let i=t.actions[e];typeof i=="string"&&(i=[i]);for(const o of i)t.keystrokeHandler.set(o,(r,s)=>{this[e](),s()},t.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(sd)||null}get last(){return this.focusables.filter(sd).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((e,i)=>{const o=e.element===this.focusTracker.focusedElement;return o&&(t=i),o}),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||t===this.first?this.fire("forwardCycle"):this._focus(t,1)}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||t===this.last?this.fire("backwardCycle"):this._focus(t,-1)}chain(t){const e=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(t,"forwardCycle",i=>{const o=e();this.focusNext(),o!==e()&&i.stop()},{priority:"low"}),this.listenTo(t,"backwardCycle",i=>{const o=e();this.focusPrevious(),o!==e()&&i.stop()},{priority:"low"})}unchain(t){this.stopListening(t)}_focus(t,e){t&&this.focusTracker.focusedElement!==t.element&&t.focus(e)}_getDomFocusableItem(t){const e=this.focusables.length;if(!e)return null;const i=this.current;if(i===null)return this[t===1?"first":"last"];let o=this.focusables.get(i),r=(i+e+t)%e;do{const s=this.focusables.get(r);if(sd(s)){o=s;break}r=(r+e+t)%e}while(r!==i);return o}}function sd(n){return jo(n)&&qi(n.element)}function jo(n){return!(!("focus"in n)||typeof n.focus!="function")}function Up(n){return jo(n)&&"focusCycler"in n&&n.focusCycler instanceof re}function xE(n){return class extends n{constructor(...t){super(...t),m(this,"_onDragBound",this._onDrag.bind(this)),m(this,"_onDragEndBound",this._onDragEnd.bind(this)),m(this,"_lastDraggingCoordinates",{x:0,y:0}),this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(L.document,"mouseup",this._onDragEndBound),this.listenTo(L.document,"touchend",this._onDragEndBound),this.listenTo(L.document,"mousemove",this._onDragBound),this.listenTo(L.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(L.document,"mouseup",this._onDragEndBound),this.stopListening(L.document,"touchend",this._onDragEndBound),this.stopListening(L.document,"mousemove",this._onDragBound),this.stopListening(L.document,"touchmove",this._onDragBound)}_onDragStart(t,e){if(!this._isHandleElementPressed(e))return;this._attachDragListeners();let i=0,o=0;e instanceof MouseEvent?(i=e.clientX,o=e.clientY):(i=e.touches[0].clientX,o=e.touches[0].clientY),this._lastDraggingCoordinates={x:i,y:o},this.isDragging=!0}_onDrag(t,e){if(!this.isDragging)return void this._detachDragListeners();let i=0,o=0;e instanceof MouseEvent?(i=e.clientX,o=e.clientY):(i=e.touches[0].clientX,o=e.touches[0].clientY),e.preventDefault(),this.fire("drag",{deltaX:Math.round(i-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:i,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(t){return!!this.dragHandleElement&&(this.dragHandleElement===t.target||t.target instanceof HTMLElement&&this.dragHandleElement.contains(t.target))}}}class EE extends P{constructor(t){super(t),m(this,"children"),m(this,"keystrokes"),m(this,"focusCycler"),m(this,"_focusTracker"),m(this,"_focusables"),this.children=this.createCollection(),this.keystrokes=new Tt,this._focusTracker=new ht,this._focusables=new Ee,this.focusCycler=new re({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(t){for(const e of t){const i=new V(this.locale);let o;for(o in i.on("execute",()=>e.onExecute()),e.onCreate&&e.onCreate(i),e)o!="onExecute"&&o!="onCreate"&&i.set(o,e[o]);this.children.add(i)}this._updateFocusCyclableItems()}focus(t){t===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(t=>{this._focusables.add(t),this._focusTracker.add(t.element)})}}class TE extends P{constructor(t){super(t),m(this,"children"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const ei={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},$p=wn("px"),qp=class W0 extends xE(P){constructor(t,{getCurrentDomRoot:e,getViewportOffset:i,keystrokeHandlerOptions:o}){super(t),m(this,"parts"),m(this,"headerView"),m(this,"closeButtonView"),m(this,"actionsView"),m(this,"contentView"),m(this,"keystrokes"),m(this,"focusTracker"),m(this,"wasMoved",!1),m(this,"_getCurrentDomRoot"),m(this,"_getViewportOffset"),m(this,"_focusables"),m(this,"_focusCycler");const r=this.bindTemplate,s=t.t;this.set("className",""),this.set("ariaLabel",s("Editor dialog")),this.set("isModal",!1),this.set("position",ei.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Tt,this.focusTracker=new ht,this._focusables=new Ee,this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:o}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",r.if("isModal","ck-dialog-overlay__transparent",a=>!a),r.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",r.if("isModal","ck-dialog_modal"),r.to("className")],role:"dialog","aria-label":r.to("ariaLabel"),style:{top:r.to("_top",a=>$p(a)),left:r.to("_left",a=>$p(a)),visibility:r.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(t,e)=>{t.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),e())}),this.on("drag",(t,{deltaX:e,deltaY:i})=>{this.wasMoved=!0,this.moveBy(e,i)}),this.listenTo(L.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(L.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(t,e,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:t,title:e,hasCloseButton:i=!0,content:o,actionButtons:r}){e&&(this.headerView=new to(this.locale,{icon:t}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),o&&(o instanceof P&&(o=[o]),this.contentView=new TE(this.locale),this.contentView.children.addMany(o),this.parts.add(this.contentView)),r&&(this.actionsView=new EE(this.locale),this.actionsView.setButtons(r),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(t,e){const i=this._getViewportRect(),o=this._getDialogRect();t+o.width>i.right&&(t=i.right-o.width),t<i.left&&(t=i.left),e<i.top&&(e=i.top),this._moveTo(t,e)}_moveTo(t,e){this._left=t,this._top=e}moveBy(t,e){this.moveTo(this._left+t,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const t=this._getViewportRect();let e,i=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(t):i=ei.SCREEN_CENTER;const o=W0.defaultOffset,r=this._getDialogRect();switch(i){case ei.EDITOR_TOP_SIDE:if(e){const s=this.locale.contentLanguageDirection==="ltr"?e.right-r.width-o:e.left+o;this.moveTo(s,e.top+o)}else this._moveOffScreen();break;case ei.EDITOR_CENTER:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),Math.round(e.top+e.height/2-r.height/2)):this._moveOffScreen();break;case ei.SCREEN_CENTER:this.moveTo(Math.round((t.width-r.width)/2),Math.round((t.height-r.height)/2));break;case ei.EDITOR_TOP_CENTER:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.top+o):this._moveOffScreen();break;case ei.EDITOR_BOTTOM_CENTER:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.bottom-r.height-o):this._moveOffScreen();break;case ei.EDITOR_ABOVE_CENTER:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.top-r.height-o):this._moveOffScreen();break;case ei.EDITOR_BELOW_CENTER:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.bottom+o):this._moveOffScreen()}}_getVisibleDomRootRect(t){let e=new K(this._getCurrentDomRoot()).getVisible();return e?(e=t.getIntersection(e),e||null):null}_getDialogRect(){return new K(this.element.firstElementChild)}_getViewportRect(){const t=new K(L.window);if(this.isModal)return t;const e={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t.left+=e.left,t.right-=e.right,t.width-=e.left+e.right,t}_updateFocusCyclableItems(){const t=[];if(this.contentView)for(const e of this.contentView.children)jo(e)&&t.push(e);this.actionsView&&t.push(this.actionsView),this.closeButtonView&&t.push(this.closeButtonView),t.forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element),Up(e)&&this._focusCycler.chain(e.focusCycler)})}_createCloseButton(){const t=new V(this.locale),e=this.locale.t;return t.set({label:e("Close"),tooltip:!0,icon:td}),t.on("execute",()=>this.fire("close",{source:"closeButton"})),t}};m(qp,"defaultOffset",15);let SE=qp;const Wp=class on extends C{constructor(t){super(t),m(this,"view"),m(this,"_onHide");const e=t.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),t.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:e("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),on._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(t,e)=>{this._show(e)}),this.on("show",(t,e)=>{e.onShow&&e.onShow(this)},{priority:"low"}),this.on("hide",()=>{on._visibleDialogPlugin&&on._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const t=this.editor;t.keystrokes.set("Ctrl+F6",(e,i)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?t.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const t=this.editor.model;t.document.on("change:data",()=>{if(!this.view)return;const e=t.document.differ.getChangedRoots();for(const i of e)i.state&&this.view.updatePosition()})}show(t){this.hide(),this.fire(`show:${t.id}`,t)}_show({id:t,icon:e,title:i,hasCloseButton:o=!0,content:r,actionButtons:s,className:a,isModal:l,position:c,onHide:d,keystrokeHandlerOptions:u}){const h=this.editor;this.view=new SE(h.locale,{getCurrentDomRoot:()=>h.editing.view.getDomRoot(h.model.document.selection.anchor.root.rootName),getViewportOffset:()=>h.ui.viewportOffset,keystrokeHandlerOptions:u});const g=this.view;g.on("close",()=>{this.hide()}),h.ui.view.body.add(g),h.keystrokes.listenTo(g.element),c||(c=l?ei.SCREEN_CENTER:ei.EDITOR_CENTER),l&&this._lockBodyScroll(),g.set({position:c,_isVisible:!0,className:a,isModal:l}),g.setupParts({icon:e,title:i,hasCloseButton:o,content:r,actionButtons:s}),this.id=t,d&&(this._onHide=d),this.isOpen=!0,on._visibleDialogPlugin=this}hide(){on._visibleDialogPlugin&&on._visibleDialogPlugin.fire(`hide:${on._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const t=this.editor,e=this.view;e.isModal&&this._unlockBodyScroll(),e.contentView&&e.contentView.reset(),t.ui.view.body.remove(e),t.ui.focusTracker.remove(e.element),t.keystrokes.stopListening(e.element),e.destroy(),t.editing.view.focus(),this.id=null,this.isOpen=!1,on._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}};m(Wp,"_visibleDialogPlugin");let Kr=Wp;class Ho extends V{constructor(t,e=new jp){super(t,e),m(this,"_checkIconHolderView",new IE),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",i.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(o,r)=>o||r)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",t=>this.isToggleable&&t),this.on("change:_hasCheck",(t,e,i)=>{const{children:o,_checkIconHolderView:r}=this;i?o.add(r,0):o.remove(r)})}}class IE extends P{constructor(){super(),m(this,"children"),m(this,"_checkIconView",this._createCheckIconView());const t=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",t.to("isOn",e=>e?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(t,e,i)=>{const{children:o,_checkIconView:r}=this;i&&!o.has(r)?o.add(r):!i&&o.has(r)&&o.remove(r)})}_createCheckIconView(){const t=new Ti;return t.content=xp,t.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),t}}class xt extends Ho{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class ad extends P{constructor(t){super(t),m(this,"id"),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Ae()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class ME extends P{constructor(t,e){super(t);const i=t.t,o=new ad;o.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":o.id,role:"document",tabindex:-1},children:[ui(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),o]})}focus(){this.element.focus()}_createCategories(t){return t.map(e=>{const i=[ui(document,"h3",{},e.label),...Array.from(e.groups.values()).map(o=>this._createGroup(o)).flat()];return e.description&&i.splice(1,0,ui(document,"p",{},e.description)),ui(document,"section",{},i)})}_createGroup(t){const e=t.keystrokes.sort((o,r)=>o.label.localeCompare(r.label)).map(o=>this._createGroupRow(o)).flat(),i=[ui(document,"dl",{},e)];return t.label&&i.unshift(ui(document,"h4",{},t.label)),i}_createGroupRow(t){const e=this.locale.t,i=ui(document,"dt"),o=ui(document,"dd"),r=function(a){return typeof a=="string"?[[a]]:typeof a[0]=="string"?[a]:a}(t.keystroke),s=[];for(const a of r)s.push(a.map(DE).join(""));return i.innerHTML=t.label,o.innerHTML=s.join(", ")+(t.mayRequireFn&&j.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[i,o]}}function DE(n){return ia(n).split("+").map(t=>`<kbd>${t}</kbd>`).join("+")}class PE extends C{constructor(){super(...arguments),m(this,"contentView",null)}static get requires(){return[Kr]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t;t.ui.componentFactory.add("accessibilityHelp",()=>{const i=this._createButton(V);return i.set({tooltip:!0,withText:!1,label:e("Accessibility help")}),i}),t.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const i=this._createButton(xt);return i.label=e("Accessibility"),i}),t.keystrokes.set("Alt+0",(i,o)=>{this._toggleDialog(),o()}),this._setupRootLabels()}_createButton(t){const e=this.editor,i=e.plugins.get("Dialog"),o=new t(e.locale);return o.set({keystroke:"Alt+0",icon:yp,isToggleable:!0}),o.on("execute",()=>this._toggleDialog()),o.bind("isOn").to(i,"id",r=>r==="accessibilityHelp"),o}_setupRootLabels(){const t=this.editor,e=t.editing.view,i=t.t;function o(r,s){const a=[s.getAttribute("aria-label"),i("Press %0 for help.",[ia("Alt+0")])].filter(l=>l).join(". ");r.setAttribute("aria-label",a,s)}t.ui.on("ready",()=>{e.change(r=>{for(const s of e.document.roots)o(r,s)}),t.on("addRoot",(r,s)=>{const a=t.editing.view.document.getRoot(s.rootName);e.change(l=>o(l,a))},{priority:"low"})})}_toggleDialog(){const t=this.editor,e=t.plugins.get("Dialog"),i=t.locale.t;this.contentView||(this.contentView=new ME(t.locale,t.accessibility.keystrokeInfos)),e.id==="accessibilityHelp"?e.hide():e.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:yp,hasCloseButton:!0,content:this.contentView})}}const Gp=class Bi extends Ee{constructor(t,e=[]){super(e),m(this,"locale"),m(this,"_bodyCollectionContainer"),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ti({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),Bi._bodyWrapper&&Bi._bodyWrapper.isConnected||(Bi._bodyWrapper=ui(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(Bi._bodyWrapper)),Bi._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),Bi._bodyWrapper&&!Bi._bodyWrapper.childElementCount&&(Bi._bodyWrapper.remove(),delete Bi._bodyWrapper)}};m(Gp,"_bodyWrapper");let LE=Gp;class Yr extends V{constructor(t){super(t),m(this,"toggleSwitchView"),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new P;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}class Kp extends Yp(V){}class BE extends Yp(Ho){}function Yp(n){return class extends n{constructor(...t){super(...t),m(this,"buttonView"),m(this,"_fileInputView"),this.buttonView=this,this._fileInputView=new NE(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class NE extends P{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{var i,o;(o=(i=this.element)==null?void 0:i.files)!=null&&o.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class Zp extends P{constructor(t,e){super(t),m(this,"buttonView"),m(this,"children");const i=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),e&&this.children.addMany(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",i.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:i.if("isCollapsed","hidden"),"aria-labelledby":i.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const t=new V(this.locale),e=t.bindTemplate;return t.set({withText:!0,icon:_a}),t.extendTemplate({attributes:{"aria-expanded":e.to("isOn",i=>String(i))}}),t.bind("label").to(this),t.bind("isOn").to(this,"isCollapsed",i=>!i),t.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),t}}function zE(n,t){const e=n.t,i={Black:e("Black"),"Dim grey":e("Dim grey"),Grey:e("Grey"),"Light grey":e("Light grey"),White:e("White"),Red:e("Red"),Orange:e("Orange"),Yellow:e("Yellow"),"Light green":e("Light green"),Green:e("Green"),Aquamarine:e("Aquamarine"),Turquoise:e("Turquoise"),"Light blue":e("Light blue"),Blue:e("Blue"),Purple:e("Purple")};return t.map(o=>{const r=i[o.label];return r&&r!=o.label&&(o.label=r),o})}function OE(n){return n.map(RE).filter(t=>!!t)}function RE(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder!==void 0&&n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}class Qp extends V{constructor(t){super(t);const e=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=x2,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color",i=>j.isMediaForcedColors?null:i)},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class Jp extends P{constructor(t,e){super(t),m(this,"columns"),m(this,"items"),m(this,"focusTracker"),m(this,"keystrokes");const i=e&&e.colorDefinitions?e.colorDefinitions:[];this.columns=e?.columns||5;const o={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new ht,this.keystrokes=new Tt,this.items.on("add",(r,s)=>{s.isOn=s.color===this.selectedColor}),i.forEach(r=>{const s=new Qp;s.set({color:r.color,label:r.label,tooltip:!0,hasBorder:r.options.hasBorder}),s.on("execute",()=>{this.fire("execute",{value:r.color,hasBorder:r.options.hasBorder,label:r.label})}),this.items.add(s)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:o}}),this.on("change:selectedColor",(r,s,a)=>{for(const l of this.items)l.isOn=l.color===a})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){var t;super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),Gr({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:(t=this.locale)==null?void 0:t.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var ld={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Xp={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function tb(n){var t,e,i=[],o=1;if(typeof n=="string")if(ld[n])i=ld[n].slice(),e="rgb";else if(n==="transparent")o=0,e="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var r=n.slice(1);o=1,(l=r.length)<=4?(i=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],l===4&&(o=parseInt(r[3]+r[3],16)/255)):(i=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],l===8&&(o=parseInt(r[6]+r[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),e="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var s=t[1],a=s==="rgb";e=r=s.replace(/a$/,"");var l=r==="cmyk"?4:r==="gray"?1:3;i=t[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(c,d){if(/%$/.test(c))return d===l?parseFloat(c)/100:r==="rgb"?255*parseFloat(c)/100:parseFloat(c);if(r[d]==="h"){if(/deg$/.test(c))return parseFloat(c);if(Xp[c]!==void 0)return Xp[c]}return parseFloat(c)}),s===r&&i.push(1),o=a||i[l]===void 0?1:i[l],i=i.slice(0,l)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(i=n.match(/([0-9]+)/g).map(function(c){return parseFloat(c)}),e=n.match(/([a-z])/gi).join("").toLowerCase());else isNaN(n)?Array.isArray(n)||n.length?(i=[n[0],n[1],n[2]],e="rgb",o=n.length===4?n[3]:1):n instanceof Object&&(n.r!=null||n.red!=null||n.R!=null?(e="rgb",i=[n.r||n.red||n.R||0,n.g||n.green||n.G||0,n.b||n.blue||n.B||0]):(e="hsl",i=[n.h||n.hue||n.H||0,n.s||n.saturation||n.S||0,n.l||n.lightness||n.L||n.b||n.brightness]),o=n.a||n.alpha||n.opacity||1,n.opacity!=null&&(o/=100)):(e="rgb",i=[n>>>16,(65280&n)>>>8,255&n]);return{space:e,values:i,alpha:o}}const Zr=ld,eb={};for(const n of Object.keys(Zr))eb[Zr[n]]=n;const H={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var ib=H;for(const n of Object.keys(H)){if(!("channels"in H[n]))throw new Error("missing channels property: "+n);if(!("labels"in H[n]))throw new Error("missing channel labels property: "+n);if(H[n].labels.length!==H[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:t,labels:e}=H[n];delete H[n].channels,delete H[n].labels,Object.defineProperty(H[n],"channels",{value:t}),Object.defineProperty(H[n],"labels",{value:e})}function VE(n,t){return(n[0]-t[0])**2+(n[1]-t[1])**2+(n[2]-t[2])**2}H.rgb.hsl=function(n){const t=n[0]/255,e=n[1]/255,i=n[2]/255,o=Math.min(t,e,i),r=Math.max(t,e,i),s=r-o;let a,l;r===o?a=0:t===r?a=(e-i)/s:e===r?a=2+(i-t)/s:i===r&&(a=4+(t-e)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(o+r)/2;return l=r===o?0:c<=.5?s/(r+o):s/(2-r-o),[a,100*l,100*c]},H.rgb.hsv=function(n){let t,e,i,o,r;const s=n[0]/255,a=n[1]/255,l=n[2]/255,c=Math.max(s,a,l),d=c-Math.min(s,a,l),u=function(h){return(c-h)/6/d+.5};return d===0?(o=0,r=0):(r=d/c,t=u(s),e=u(a),i=u(l),s===c?o=i-e:a===c?o=1/3+t-i:l===c&&(o=2/3+e-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*r,100*c]},H.rgb.hwb=function(n){const t=n[0],e=n[1];let i=n[2];const o=H.rgb.hsl(n)[0],r=1/255*Math.min(t,Math.min(e,i));return i=1-1/255*Math.max(t,Math.max(e,i)),[o,100*r,100*i]},H.rgb.cmyk=function(n){const t=n[0]/255,e=n[1]/255,i=n[2]/255,o=Math.min(1-t,1-e,1-i);return[100*((1-t-o)/(1-o)||0),100*((1-e-o)/(1-o)||0),100*((1-i-o)/(1-o)||0),100*o]},H.rgb.keyword=function(n){const t=eb[n];if(t)return t;let e,i=1/0;for(const o of Object.keys(Zr)){const r=VE(n,Zr[o]);r<i&&(i=r,e=o)}return e},H.keyword.rgb=function(n){return Zr[n]},H.rgb.xyz=function(n){let t=n[0]/255,e=n[1]/255,i=n[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,[100*(.4124*t+.3576*e+.1805*i),100*(.2126*t+.7152*e+.0722*i),100*(.0193*t+.1192*e+.9505*i)]},H.rgb.lab=function(n){const t=H.rgb.xyz(n);let e=t[0],i=t[1],o=t[2];return e/=95.047,i/=100,o/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,[116*i-16,500*(e-i),200*(i-o)]},H.hsl.rgb=function(n){const t=n[0]/360,e=n[1]/100,i=n[2]/100;let o,r,s;if(e===0)return s=255*i,[s,s,s];o=i<.5?i*(1+e):i+e-i*e;const a=2*i-o,l=[0,0,0];for(let c=0;c<3;c++)r=t+1/3*-(c-1),r<0&&r++,r>1&&r--,s=6*r<1?a+6*(o-a)*r:2*r<1?o:3*r<2?a+(o-a)*(2/3-r)*6:a,l[c]=255*s;return l},H.hsl.hsv=function(n){const t=n[0];let e=n[1]/100,i=n[2]/100,o=e;const r=Math.max(i,.01);return i*=2,e*=i<=1?i:2-i,o*=r<=1?r:2-r,[t,100*(i===0?2*o/(r+o):2*e/(i+e)),100*((i+e)/2)]},H.hsv.rgb=function(n){const t=n[0]/60,e=n[1]/100;let i=n[2]/100;const o=Math.floor(t)%6,r=t-Math.floor(t),s=255*i*(1-e),a=255*i*(1-e*r),l=255*i*(1-e*(1-r));switch(i*=255,o){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},H.hsv.hsl=function(n){const t=n[0],e=n[1]/100,i=n[2]/100,o=Math.max(i,.01);let r,s;s=(2-e)*i;const a=(2-e)*o;return r=e*o,r/=a<=1?a:2-a,r=r||0,s/=2,[t,100*r,100*s]},H.hwb.rgb=function(n){const t=n[0]/360;let e=n[1]/100,i=n[2]/100;const o=e+i;let r;o>1&&(e/=o,i/=o);const s=Math.floor(6*t),a=1-i;r=6*t-s,1&s&&(r=1-r);const l=e+r*(a-e);let c,d,u;switch(s){default:case 6:case 0:c=a,d=l,u=e;break;case 1:c=l,d=a,u=e;break;case 2:c=e,d=a,u=l;break;case 3:c=e,d=l,u=a;break;case 4:c=l,d=e,u=a;break;case 5:c=a,d=e,u=l}return[255*c,255*d,255*u]},H.cmyk.rgb=function(n){const t=n[0]/100,e=n[1]/100,i=n[2]/100,o=n[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o))]},H.xyz.rgb=function(n){const t=n[0]/100,e=n[1]/100,i=n[2]/100;let o,r,s;return o=3.2406*t+-1.5372*e+-.4986*i,r=-.9689*t+1.8758*e+.0415*i,s=.0557*t+-.204*e+1.057*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=Math.min(Math.max(0,o),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*o,255*r,255*s]},H.xyz.lab=function(n){let t=n[0],e=n[1],i=n[2];return t/=95.047,e/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*e-16,500*(t-e),200*(e-i)]},H.lab.xyz=function(n){let t,e,i;e=(n[0]+16)/116,t=n[1]/500+e,i=e-n[2]/200;const o=e**3,r=t**3,s=i**3;return e=o>.008856?o:(e-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,t*=95.047,e*=100,i*=108.883,[t,e,i]},H.lab.lch=function(n){const t=n[0],e=n[1],i=n[2];let o;return o=360*Math.atan2(i,e)/2/Math.PI,o<0&&(o+=360),[t,Math.sqrt(e*e+i*i),o]},H.lch.lab=function(n){const t=n[0],e=n[1],i=n[2]/360*2*Math.PI;return[t,e*Math.cos(i),e*Math.sin(i)]},H.rgb.ansi16=function(n,t=null){const[e,i,o]=n;let r=t===null?H.rgb.hsv(n)[2]:t;if(r=Math.round(r/50),r===0)return 30;let s=30+(Math.round(o/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return r===2&&(s+=60),s},H.hsv.ansi16=function(n){return H.rgb.ansi16(H.hsv.rgb(n),n[2])},H.rgb.ansi256=function(n){const t=n[0],e=n[1],i=n[2];return t===e&&e===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(i/255*5)},H.ansi16.rgb=function(n){let t=n%10;if(t===0||t===7)return n>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const e=.5*(1+~~(n>50));return[(1&t)*e*255,(t>>1&1)*e*255,(t>>2&1)*e*255]},H.ansi256.rgb=function(n){if(n>=232){const e=10*(n-232)+8;return[e,e,e]}let t;return n-=16,[Math.floor(n/36)/5*255,Math.floor((t=n%36)/6)/5*255,t%6/5*255]},H.rgb.hex=function(n){const t=(((255&Math.round(n[0]))<<16)+((255&Math.round(n[1]))<<8)+(255&Math.round(n[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},H.hex.rgb=function(n){const t=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let e=t[0];t[0].length===3&&(e=e.split("").map(o=>o+o).join(""));const i=parseInt(e,16);return[i>>16&255,i>>8&255,255&i]},H.rgb.hcg=function(n){const t=n[0]/255,e=n[1]/255,i=n[2]/255,o=Math.max(Math.max(t,e),i),r=Math.min(Math.min(t,e),i),s=o-r;let a,l;return a=s<1?r/(1-s):0,l=s<=0?0:o===t?(e-i)/s%6:o===e?2+(i-t)/s:4+(t-e)/s,l/=6,l%=1,[360*l,100*s,100*a]},H.hsl.hcg=function(n){const t=n[1]/100,e=n[2]/100,i=e<.5?2*t*e:2*t*(1-e);let o=0;return i<1&&(o=(e-.5*i)/(1-i)),[n[0],100*i,100*o]},H.hsv.hcg=function(n){const t=n[1]/100,e=n[2]/100,i=t*e;let o=0;return i<1&&(o=(e-i)/(1-i)),[n[0],100*i,100*o]},H.hcg.rgb=function(n){const t=n[0]/360,e=n[1]/100,i=n[2]/100;if(e===0)return[255*i,255*i,255*i];const o=[0,0,0],r=t%1*6,s=r%1,a=1-s;let l=0;switch(Math.floor(r)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return l=(1-e)*i,[255*(e*o[0]+l),255*(e*o[1]+l),255*(e*o[2]+l)]},H.hcg.hsv=function(n){const t=n[1]/100,e=t+n[2]/100*(1-t);let i=0;return e>0&&(i=t/e),[n[0],100*i,100*e]},H.hcg.hsl=function(n){const t=n[1]/100,e=n[2]/100*(1-t)+.5*t;let i=0;return e>0&&e<.5?i=t/(2*e):e>=.5&&e<1&&(i=t/(2*(1-e))),[n[0],100*i,100*e]},H.hcg.hwb=function(n){const t=n[1]/100,e=t+n[2]/100*(1-t);return[n[0],100*(e-t),100*(1-e)]},H.hwb.hcg=function(n){const t=n[1]/100,e=1-n[2]/100,i=e-t;let o=0;return i<1&&(o=(e-i)/(1-i)),[n[0],100*i,100*o]},H.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]},H.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]},H.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]},H.gray.hsl=function(n){return[0,0,n[0]]},H.gray.hsv=H.gray.hsl,H.gray.hwb=function(n){return[0,100,n[0]]},H.gray.cmyk=function(n){return[0,0,0,n[0]]},H.gray.lab=function(n){return[n[0],0,0]},H.gray.hex=function(n){const t=255&Math.round(n[0]/100*255),e=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(e.length)+e},H.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};const va=ib;function FE(n){const t=function(){const i={},o=Object.keys(va);for(let r=o.length,s=0;s<r;s++)i[o[s]]={distance:-1,parent:null};return i}(),e=[n];for(t[n].distance=0;e.length;){const i=e.pop(),o=Object.keys(va[i]);for(let r=o.length,s=0;s<r;s++){const a=o[s],l=t[a];l.distance===-1&&(l.distance=t[i].distance+1,l.parent=i,e.unshift(a))}}return t}function jE(n,t){return function(e){return t(n(e))}}function HE(n,t){const e=[t[n].parent,n];let i=va[t[n].parent][n],o=t[n].parent;for(;t[o].parent;)e.unshift(t[o].parent),i=jE(va[t[o].parent][o],i),o=t[o].parent;return i.conversion=e,i}const cd=ib,UE=function(n){const t=FE(n),e={},i=Object.keys(t);for(let o=i.length,r=0;r<o;r++){const s=i[r];t[s].parent!==null&&(e[s]=HE(s,t))}return e},eo={};Object.keys(cd).forEach(n=>{eo[n]={},Object.defineProperty(eo[n],"channels",{value:cd[n].channels}),Object.defineProperty(eo[n],"labels",{value:cd[n].labels});const t=UE(n);Object.keys(t).forEach(e=>{const i=t[e];eo[n][e]=function(o){const r=function(...s){const a=s[0];if(a==null)return a;a.length>1&&(s=a);const l=o(s);if(typeof l=="object")for(let c=l.length,d=0;d<c;d++)l[d]=Math.round(l[d]);return l};return"conversion"in o&&(r.conversion=o.conversion),r}(i),eo[n][e].raw=function(o){const r=function(...s){const a=s[0];return a==null?a:(a.length>1&&(s=a),o(s))};return"conversion"in o&&(r.conversion=o.conversion),r}(i)})});var nb=Yy({__proto__:null,default:eo},[eo]);function ob(n,t){if(!n)return"";const e=rb(n);if(!e)return"";if(e.space===t)return n;if(i=e,!Object.keys(nb).includes(i.space))return"";var i;const o=nb[e.space][t];return o?function(r,s){switch(s){case"hex":return`#${r}`;case"rgb":return`rgb(${r[0]}, ${r[1]}, ${r[2]})`;case"hsl":return`hsl(${r[0]}, ${r[1]}%, ${r[2]}%)`;case"hwb":return`hwb(${r[0]}, ${r[1]}, ${r[2]})`;case"lab":return`lab(${r[0]}% ${r[1]} ${r[2]})`;case"lch":return`lch(${r[0]}% ${r[1]} ${r[2]})`;default:return""}}(o(e.space==="hex"?e.hexValue:e.values),t):""}function rb(n){if(n.startsWith("#")){const e=tb(n);return{space:"hex",values:e.values,hexValue:n,alpha:e.alpha}}const t=tb(n);return t.space?t:null}class Si extends P{constructor(t,e){super(t),m(this,"fieldView"),m(this,"labelView"),m(this,"statusView"),m(this,"fieldWrapperChildren");const i=`ck-labeled-field-view-${Ae()}`,o=`ck-labeled-field-view-status-${Ae()}`;this.fieldView=e(this,i,o),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(o),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(s,a)=>s||a);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",s=>!s),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new ad(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new P(this.locale),i=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",o=>!o)],id:t,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),e}focus(t){this.fieldView.focus(t)}}class $E extends P{constructor(t){super(t),m(this,"focusTracker"),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new ht,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),tabindex:e.to("tabIndex"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById"),"aria-label":e.to("ariaLabel")},on:{input:e.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,e,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}class sb extends $E{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class qE extends sb{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class WE extends sb{constructor(t,{min:e,max:i,step:o}={}){super(t);const r=this.bindTemplate;this.set("min",e),this.set("max",i),this.set("step",o),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:r.to("min"),max:r.to("max"),step:r.to("step")}})}}class GE extends P{constructor(t){super(t),m(this,"children");const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",i=>`ck-dropdown__panel_${i}`),e.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:e.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const t=this.children.first;typeof t.focus=="function"?t.focus():st("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}const dd=class ju extends P{constructor(t,e,i){super(t),m(this,"buttonView"),m(this,"panelView"),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"listView"),m(this,"toolbarView"),m(this,"menuView");const o=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Tt,this.focusTracker=new ht,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",r=>!r)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,i,o)=>{if(o)if(this.panelPosition==="auto"){const r=ju._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const t=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:i,southWest:o,northEast:r,northWest:s,southMiddleEast:a,southMiddleWest:l,northMiddleEast:c,northMiddleWest:d}=ju.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,o,a,l,t,r,s,c,d,e]:[o,i,l,a,t,s,r,d,c,e]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};m(dd,"defaultPanelPositions",{south:(n,t)=>({top:n.bottom,left:n.left-(t.width-n.width)/2,name:"s"}),southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,t)=>({top:n.bottom,left:n.left-t.width+n.width,name:"sw"}),southMiddleEast:(n,t)=>({top:n.bottom,left:n.left-(t.width-n.width)/4,name:"sme"}),southMiddleWest:(n,t)=>({top:n.bottom,left:n.left-3*(t.width-n.width)/4,name:"smw"}),north:(n,t)=>({top:n.top-t.height,left:n.left-(t.width-n.width)/2,name:"n"}),northEast:(n,t)=>({top:n.top-t.height,left:n.left,name:"ne"}),northWest:(n,t)=>({top:n.top-t.height,left:n.left-t.width+n.width,name:"nw"}),northMiddleEast:(n,t)=>({top:n.top-t.height,left:n.left-(t.width-n.width)/4,name:"nme"}),northMiddleWest:(n,t)=>({top:n.top-t.height,left:n.left-3*(t.width-n.width)/4,name:"nmw"})}),m(dd,"_getOptimalPosition",cc);let KE=dd;class ab extends V{constructor(t){super(t),m(this,"arrowView"),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",e=>String(e))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Ti;return t.content=_a,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class ii extends P{constructor(t){super(t),m(this,"children");const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class ya extends P{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Ca extends P{constructor(t,e=new ad){super(t),m(this,"labelView"),m(this,"items"),m(this,"children");const i=this.bindTemplate,o=new io(t);this.set({label:"",isVisible:!0}),this.labelView=e,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,o]),o.set({role:"group",ariaLabelledBy:e.id}),o.focusTracker.destroy(),o.keystrokes.destroy(),this.items=o.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",r=>!r)]},children:this.children})}focus(){if(this.items){const t=this.items.find(e=>!(e instanceof ya));t&&t.focus()}}}class io extends P{constructor(t){super(t),m(this,"focusables"),m(this,"items"),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"_focusCycler"),m(this,"_listItemGroupToChangeListeners",new WeakMap);const e=this.bindTemplate;this.focusables=new Ee,this.items=this.createCollection(),this.focusTracker=new ht,this.keystrokes=new Tt,this._focusCycler=new re({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:e.to("role"),"aria-label":e.to("ariaLabel"),"aria-labelledby":e.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof Ca?this._registerFocusableItemsGroup(t):t instanceof ii&&this._registerFocusableListItem(t);this.items.on("change",(t,e)=>{for(const i of e.removed)i instanceof Ca?this._deregisterFocusableItemsGroup(i):i instanceof ii&&this._deregisterFocusableListItem(i);for(const i of Array.from(e.added).reverse())i instanceof Ca?this._registerFocusableItemsGroup(i,e.index):this._registerFocusableListItem(i,e.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,e){this.focusTracker.add(t.element),this.focusables.add(t,e)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(e,i)=>{for(const o of i.removed)this._deregisterFocusableListItem(o);for(const o of Array.from(i.added).reverse())this._registerFocusableListItem(o,this.items.getIndex(t)+i.index)}}_registerFocusableItemsGroup(t,e){Array.from(t.items).forEach((o,r)=>{const s=e!==void 0?e+r:void 0;this._registerFocusableListItem(o,s)});const i=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,i),t.items.on("change",i)}_deregisterFocusableItemsGroup(t){for(const e of t.items)this._deregisterFocusableListItem(e);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}const lb=wn("px"),YE={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},no=class rr extends P{constructor(t){super(t),m(this,"content"),m(this,"_pinWhenIsVisibleCallback"),m(this,"_resizeObserver");const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",lb),left:e.to("left",lb)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){const e=Aa(t.target);if(e&&!qi(e))return!1;this.show();const i=rr.defaultPositions,o=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:L.document.body,fitInViewport:!0},t),r=rr._getOptimalPosition(o)||YE,s=parseInt(r.left),a=parseInt(r.top),l=r.name,c=r.config||{},{withArrow:d=!0}=c;return this.top=a,this.left=s,this.position=l,this.withArrow=d,!0}pin(t){this.unpin(),this._startPinning(t)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){if(!this.attachTo(t))return!1;let e=Aa(t.target);const i=t.limiter?Aa(t.limiter):L.document.body;if(this.listenTo(L.document,"scroll",(o,r)=>{const s=r.target,a=e&&s.contains(e),l=i&&s.contains(i);!a&&!l&&e&&i||this.attachTo(t)},{useCapture:!0}),this.listenTo(L.window,"resize",()=>{this.attachTo(t)}),!this._resizeObserver&&(e&&$t(e)&&(e=e.parentElement),e)){const o=()=>{qi(e)||this.unpin()};this._resizeObserver=new Ar(e,o)}return!0}_stopPinning(){this.stopListening(L.document,"scroll"),this.stopListening(L.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(t={}){const{sideOffset:e=rr.arrowSideOffset,heightOffset:i=rr.arrowHeightOffset,stickyVerticalOffset:o=rr.stickyVerticalOffset,config:r}=t;return{northWestArrowSouthWest:(l,c)=>({top:s(l,c),left:l.left-e,name:"arrow_sw",...r&&{config:r}}),northWestArrowSouthMiddleWest:(l,c)=>({top:s(l,c),left:l.left-.25*c.width-e,name:"arrow_smw",...r&&{config:r}}),northWestArrowSouth:(l,c)=>({top:s(l,c),left:l.left-c.width/2,name:"arrow_s",...r&&{config:r}}),northWestArrowSouthMiddleEast:(l,c)=>({top:s(l,c),left:l.left-.75*c.width+e,name:"arrow_sme",...r&&{config:r}}),northWestArrowSouthEast:(l,c)=>({top:s(l,c),left:l.left-c.width+e,name:"arrow_se",...r&&{config:r}}),northArrowSouthWest:(l,c)=>({top:s(l,c),left:l.left+l.width/2-e,name:"arrow_sw",...r&&{config:r}}),northArrowSouthMiddleWest:(l,c)=>({top:s(l,c),left:l.left+l.width/2-.25*c.width-e,name:"arrow_smw",...r&&{config:r}}),northArrowSouth:(l,c)=>({top:s(l,c),left:l.left+l.width/2-c.width/2,name:"arrow_s",...r&&{config:r}}),northArrowSouthMiddleEast:(l,c)=>({top:s(l,c),left:l.left+l.width/2-.75*c.width+e,name:"arrow_sme",...r&&{config:r}}),northArrowSouthEast:(l,c)=>({top:s(l,c),left:l.left+l.width/2-c.width+e,name:"arrow_se",...r&&{config:r}}),northEastArrowSouthWest:(l,c)=>({top:s(l,c),left:l.right-e,name:"arrow_sw",...r&&{config:r}}),northEastArrowSouthMiddleWest:(l,c)=>({top:s(l,c),left:l.right-.25*c.width-e,name:"arrow_smw",...r&&{config:r}}),northEastArrowSouth:(l,c)=>({top:s(l,c),left:l.right-c.width/2,name:"arrow_s",...r&&{config:r}}),northEastArrowSouthMiddleEast:(l,c)=>({top:s(l,c),left:l.right-.75*c.width+e,name:"arrow_sme",...r&&{config:r}}),northEastArrowSouthEast:(l,c)=>({top:s(l,c),left:l.right-c.width+e,name:"arrow_se",...r&&{config:r}}),southWestArrowNorthWest:l=>({top:a(l),left:l.left-e,name:"arrow_nw",...r&&{config:r}}),southWestArrowNorthMiddleWest:(l,c)=>({top:a(l),left:l.left-.25*c.width-e,name:"arrow_nmw",...r&&{config:r}}),southWestArrowNorth:(l,c)=>({top:a(l),left:l.left-c.width/2,name:"arrow_n",...r&&{config:r}}),southWestArrowNorthMiddleEast:(l,c)=>({top:a(l),left:l.left-.75*c.width+e,name:"arrow_nme",...r&&{config:r}}),southWestArrowNorthEast:(l,c)=>({top:a(l),left:l.left-c.width+e,name:"arrow_ne",...r&&{config:r}}),southArrowNorthWest:l=>({top:a(l),left:l.left+l.width/2-e,name:"arrow_nw",...r&&{config:r}}),southArrowNorthMiddleWest:(l,c)=>({top:a(l),left:l.left+l.width/2-.25*c.width-e,name:"arrow_nmw",...r&&{config:r}}),southArrowNorth:(l,c)=>({top:a(l),left:l.left+l.width/2-c.width/2,name:"arrow_n",...r&&{config:r}}),southArrowNorthMiddleEast:(l,c)=>({top:a(l),left:l.left+l.width/2-.75*c.width+e,name:"arrow_nme",...r&&{config:r}}),southArrowNorthEast:(l,c)=>({top:a(l),left:l.left+l.width/2-c.width+e,name:"arrow_ne",...r&&{config:r}}),southEastArrowNorthWest:l=>({top:a(l),left:l.right-e,name:"arrow_nw",...r&&{config:r}}),southEastArrowNorthMiddleWest:(l,c)=>({top:a(l),left:l.right-.25*c.width-e,name:"arrow_nmw",...r&&{config:r}}),southEastArrowNorth:(l,c)=>({top:a(l),left:l.right-c.width/2,name:"arrow_n",...r&&{config:r}}),southEastArrowNorthMiddleEast:(l,c)=>({top:a(l),left:l.right-.75*c.width+e,name:"arrow_nme",...r&&{config:r}}),southEastArrowNorthEast:(l,c)=>({top:a(l),left:l.right-c.width+e,name:"arrow_ne",...r&&{config:r}}),westArrowEast:(l,c)=>({top:l.top+l.height/2-c.height/2,left:l.left-c.width-i,name:"arrow_e",...r&&{config:r}}),eastArrowWest:(l,c)=>({top:l.top+l.height/2-c.height/2,left:l.right+i,name:"arrow_w",...r&&{config:r}}),viewportStickyNorth:(l,c,d,u)=>{const h=u||d;return l.getIntersection(h)?h.height-l.height>o?null:{top:h.top+o,left:l.left+l.width/2-c.width/2,name:"arrowless",config:{withArrow:!1,...r}}:null}};function s(l,c){return l.top-c.height-i}function a(l){return l.bottom+i}}};m(no,"arrowSideOffset",25),m(no,"arrowHeightOffset",10),m(no,"stickyVerticalOffset",20),m(no,"_getOptimalPosition",cc),m(no,"defaultPositions",no.generatePositions());let pe=no;function Aa(n){return bn(n)?n:ta(n)?n.commonAncestorContainer:typeof n=="function"?Aa(n()):null}class ud extends P{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class ZE extends P{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function hd(n){if(Array.isArray(n))return{items:n,removeItems:[]};const t={items:[],removeItems:[]};return n?{...t,...n}:t}const md={alignLeft:Cp,bold:Ap,importExport:N2,paragraph:iE,plus:sE,text:vE,threeVerticalDots:rd,pilcrow:rE,dragIndicator:T2};class Qr extends P{constructor(t,e){super(t),m(this,"options"),m(this,"items"),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"itemsView"),m(this,"children"),m(this,"focusables"),m(this,"_focusCycler"),m(this,"_behavior");const i=this.bindTemplate,o=this.t;this.options=e||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.set("isGrouping",!!this.options.shouldGroupWhenFull),this.items=this.createCollection(),this.focusTracker=new ht,this.keystrokes=new Tt,this.set("class",void 0),this.set("isCompact",!1),this.set("isVertical",!1),this.itemsView=new QE(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r=t.uiLanguageDirection==="rtl";this._focusCycler=new re({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const s=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact"),i.if("isGrouping","ck-toolbar_grouping"),i.if("isVertical","ck-toolbar_vertical")];var a;this.options.shouldGroupWhenFull&&this.options.isFloating&&s.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:s,role:i.to("role"),"aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(a=this,a.bindTemplate.to(l=>{l.target===a.element&&l.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new db(this):new cb(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t);this.items.on("add",(t,e)=>{this.focusTracker.add(e)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,i){this.items.addMany(this._buildItemsFromConfig(t,e,i))}switchBehavior(t){this._behavior.type!==t&&(this._behavior.destroy(),this.itemsView.children.clear(),this.focusables.clear(),t==="dynamic"?(this._behavior=new db(this),this._behavior.render(this),this._behavior.refreshItems()):(this._behavior=new cb(this),this._behavior.render(this)))}_buildItemsFromConfig(t,e,i){const o=hd(t),r=i||o.removeItems;return this._cleanItemsConfiguration(o.items,e,r).map(s=>ci(s)?this._createNestedToolbarDropdown(s,e,r):s==="|"?new ud:s==="-"?new ZE:e.create(s)).filter(s=>!!s)}_cleanItemsConfiguration(t,e,i){const o=t.filter((r,s,a)=>r==="|"||i.indexOf(r)===-1&&(r==="-"?!this.options.shouldGroupWhenFull||(st("toolbarview-line-break-ignored-when-grouping-items",a),!1):!(!ci(r)&&!e.has(r))||(st("toolbarview-item-unavailable",{item:r}),!1)));return this._cleanSeparatorsAndLineBreaks(o)}_cleanSeparatorsAndLineBreaks(t){const e=s=>s!=="-"&&s!=="|",i=t.length,o=t.findIndex(e);if(o===-1)return[];const r=i-t.slice().reverse().findIndex(e);return t.slice(o,r).filter((s,a,l)=>e(s)?!0:!(a>0&&l[a-1]===s))}_createNestedToolbarDropdown(t,e,i){let{label:o,icon:r,items:s,tooltip:a=!0,withText:l=!1}=t;if(s=this._cleanItemsConfiguration(s,e,i),!s.length)return null;const c=ce(this.locale);return o||st("toolbarview-nested-toolbar-dropdown-missing-label",t),c.class="ck-toolbar__nested-toolbar-dropdown",c.buttonView.set({label:o,tooltip:a,withText:!!l}),r!==!1?c.buttonView.icon=md[r]||r||rd:c.buttonView.withText=!0,Jr(c,()=>c.toolbarView._buildItemsFromConfig(s,e,i)),c}}class QE extends P{constructor(t){super(t),m(this,"children"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class cb{constructor(t){m(this,"type","static"),t.isGrouping=!1,t.itemsView.children.bindTo(t.items).using(e=>e),t.focusables.bindTo(t.items).using(e=>jo(e)?e:null)}render(){}destroy(){}}class db{constructor(t){m(this,"type","dynamic"),m(this,"view"),m(this,"viewChildren"),m(this,"viewFocusables"),m(this,"viewItemsView"),m(this,"viewFocusTracker"),m(this,"viewLocale"),m(this,"ungroupedItems"),m(this,"groupedItems"),m(this,"groupedItemsDropdown"),m(this,"resizeObserver",null),m(this,"cachedPadding",null),m(this,"shouldUpdateGroupingOnNextResize",!1),m(this,"viewElement"),this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.view.isGrouping=!0,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",(e,i)=>{const o=i.index,r=Array.from(i.added);for(const s of i.removed)o>=this.ungroupedItems.length?this.groupedItems.remove(s):this.ungroupedItems.remove(s);for(let s=o;s<o+r.length;s++){const a=r[s-o];s>this.ungroupedItems.length?this.groupedItems.add(a,s-this.ungroupedItems.length):this.ungroupedItems.add(a,s)}this._updateGrouping()})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.viewChildren.length>1&&(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last)),this.resizeObserver.destroy()}refreshItems(){const t=this.view;if(t.items.length){for(let e=0;e<t.items.length;e++){const i=[...t.items][e];this.ungroupedItems.add(i,e)}this._updateGrouping()}}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!qi(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,i=new K(t.lastChild),o=new K(t);if(!this.cachedPadding){const r=L.window.getComputedStyle(t),s=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[s])}return e==="ltr"?i.right>o.right-this.cachedPadding:i.left<o.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Ar(this.viewElement,e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ud),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,i=ce(t);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",Jr(i,this.groupedItems),i.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:rd}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{jo(t)&&this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class oo extends P{constructor(t,e){super(t),m(this,"children"),m(this,"actionView"),m(this,"arrowView"),m(this,"keystrokes"),m(this,"focusTracker");const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(e),this.arrowView=this._createArrowView(),this.keystrokes=new Tt,this.focusTracker=new ht,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(t){const e=t||new V;return t||e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const t=new V,e=t.bindTemplate;return t.icon=_a,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",i=>String(i))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}function ce(n,t=ab){const e=typeof t=="function"?new t(n):t,i=new GE(n),o=new KE(n,e,i);return e.bind("isEnabled").to(o),e instanceof oo?e.arrowView.bind("isOn").to(o,"isOpen"):e.bind("isOn").to(o,"isOpen"),function(r){(function(s){yn({emitter:s,activator:()=>s.isRendered&&s.isOpen,callback:()=>{s.isOpen=!1},contextElements:()=>[s.element,...mb(s.focusTracker).filter(a=>!s.element.contains(a))]})})(r),function(s){s.on("execute",a=>{a.source instanceof Yr||(s.isOpen=!1)})}(r),function(s){s.focusTracker.on("change:isFocused",(a,l,c)=>{!c&&s.isOpen&&(s.isOpen=!1)})}(r),function(s){s.keystrokes.set("arrowdown",(a,l)=>{s.isOpen&&(s.panelView.focus(),l())}),s.keystrokes.set("arrowup",(a,l)=>{s.isOpen&&(s.panelView.focusLast(),l())})}(r),function(s){s.on("change:isOpen",(a,l,c)=>{c||s.focusTracker.elements.some(d=>d.contains(L.document.activeElement))&&s.buttonView.focus()})}(r),function(s){s.on("change:isOpen",(a,l,c)=>{c&&s.panelView.focus()},{priority:"low"})}(r)}(o),o}function Jr(n,t,e={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?ub(n,t,e):n.once("change:isOpen",()=>ub(n,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&xa(n,()=>n.toolbarView.items.find(i=>i.isOn))}function ub(n,t,e){const i=n.locale,o=i.t,r=n.toolbarView=new Qr(i),s=typeof t=="function"?t():t;r.ariaLabel=e.ariaLabel||o("Dropdown toolbar"),e.maxWidth&&(r.maxWidth=e.maxWidth),e.class&&(r.class=e.class),e.isCompact&&(r.isCompact=e.isCompact),e.isVertical&&(r.isVertical=!0),s instanceof Ee?r.items.bindTo(s).using(a=>a):r.items.addMany(s),n.panelView.children.add(r),n.focusTracker.add(r),r.items.delegate("execute").to(n)}function Cn(n,t,e={}){n.isOpen?hb(n,t,e):n.once("change:isOpen",()=>hb(n,t,e),{priority:"highest"}),xa(n,()=>n.listView.items.find(i=>i instanceof ii&&i.children.first.isOn))}function hb(n,t,e){const i=n.locale,o=n.listView=new io(i),r=typeof t=="function"?t():t;o.ariaLabel=e.ariaLabel,o.role=e.role,gb(n,o.items,r,i),n.panelView.children.add(o),o.items.delegate("execute").to(n)}function xa(n,t){n.on("change:isOpen",()=>{if(!n.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():st("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:fn.low-10})}function mb(n){return[...n.elements,...n.externalViews.flatMap(t=>mb(t.focusTracker))]}function gb(n,t,e,i){t.on("change",()=>{const o=[...t].reduce((s,a)=>(a instanceof ii&&a.children.first instanceof Ho&&s.push(a.children.first),s),[]),r=o.some(s=>s.isToggleable);o.forEach(s=>{s.hasCheckSpace=r})}),t.bindTo(e).using(o=>{if(o.type==="separator")return new ya(i);if(o.type==="group"){const r=new Ca(i);return r.set({label:o.label}),gb(n,r.items,o.items,i),r.items.delegate("execute").to(n),r}if(o.type==="button"||o.type==="switchbutton"){const r=o.model.role==="menuitemcheckbox"||o.model.role==="menuitemradio",s=new ii(i);let a;return o.type==="button"?(a=new Ho(i),a.set({isToggleable:r})):a=new Yr(i),a.bind(...Object.keys(o.model)).to(o.model),a.delegate("execute").to(s),s.children.add(a),s}return null})}const An=(n,t,e)=>{const i=new qE(n.locale);return i.set({id:t,ariaDescribedById:e}),i.bind("isReadOnly").to(n,"isEnabled",o=>!o),i.bind("hasError").to(n,"errorText",o=>!!o),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},fb=(n,t,e)=>{const i=new WE(n.locale);return i.set({id:t,ariaDescribedById:e,inputMode:"numeric"}),i.bind("isReadOnly").to(n,"isEnabled",o=>!o),i.bind("hasError").to(n,"errorText",o=>!!o),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},JE=(n,t,e)=>{const i=ce(n.locale);return i.set({id:t,ariaDescribedById:e}),i.bind("isEnabled").to(n),i},Xr=(n,t=0,e=1)=>n>e?e:n<t?t:n,be=(n,t=0,e=Math.pow(10,t))=>Math.round(e*n)/e,gd=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?be(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?be(parseInt(n.substring(6,8),16)/255,2):1}),fd=n=>{const{h:t,s:e,l:i}=(({h:o,s:r,v:s,a})=>{const l=(200-r)*s/100;return{h:be(o),s:be(l>0&&l<200?r*s/100/(l<=100?l:200-l)*100:0),l:be(l/2),a:be(a,2)}})(n);return`hsl(${t}, ${e}%, ${i}%)`},XE=({h:n,s:t,v:e,a:i})=>{n=n/360*6,t/=100,e/=100;const o=Math.floor(n),r=e*(1-t),s=e*(1-(n-o)*t),a=e*(1-(1-n+o)*t),l=o%6;return{r:be(255*[e,s,r,r,a,e][l]),g:be(255*[a,e,e,s,r,r][l]),b:be(255*[r,r,a,e,e,s][l]),a:be(i,2)}},Ea=n=>{const t=n.toString(16);return t.length<2?"0"+t:t},t5=({r:n,g:t,b:e,a:i})=>{const o=i<1?Ea(be(255*i)):"";return"#"+Ea(n)+Ea(t)+Ea(e)+o},e5=({r:n,g:t,b:e,a:i})=>{const o=Math.max(n,t,e),r=o-Math.min(n,t,e),s=r?o===n?(t-e)/r:o===t?2+(e-n)/r:4+(n-t)/r:0;return{h:be(60*(s<0?s+6:s)),s:be(o?r/o*100:0),v:be(o/255*100),a:i}},pb=(n,t)=>{if(n===t)return!0;for(const e in n)if(n[e]!==t[e])return!1;return!0},bb={},kb=n=>{let t=bb[n];return t||(t=document.createElement("template"),t.innerHTML=n,bb[n]=t),t},pd=(n,t,e)=>{n.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))};let Uo=!1;const bd=n=>"touches"in n,wb=(n,t)=>{const e=bd(t)?t.touches[0]:t,i=n.el.getBoundingClientRect();pd(n.el,"move",n.getMove({x:Xr((e.pageX-(i.left+window.pageXOffset))/i.width),y:Xr((e.pageY-(i.top+window.pageYOffset))/i.height)}))};class _b{constructor(t,e,i,o){const r=kb(`<div role="slider" tabindex="0" part="${e}" ${i}><div part="${e}-pointer"></div></div>`);t.appendChild(r.content.cloneNode(!0));const s=t.querySelector(`[part=${e}]`);s.addEventListener("mousedown",this),s.addEventListener("touchstart",this),s.addEventListener("keydown",this),this.el=s,this.xy=o,this.nodes=[s.firstChild,s]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(Uo?"touchmove":"mousemove",this),e(Uo?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(e=>!(Uo&&!bd(e)||(Uo||(Uo=bd(e)),0)))(t)||!Uo&&t.button!=0)return;this.el.focus(),wb(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),wb(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((e,i)=>{const o=i.keyCode;o>40||e.xy&&o<37||o<33||(i.preventDefault(),pd(e.el,"move",e.getMove({x:o===39?.01:o===37?-.01:o===34?.05:o===33?-.05:o===35?1:o===36?-1:0,y:o===40?.01:o===38?-.01:0},!0)))})(this,t)}}style(t){t.forEach((e,i)=>{for(const o in e)this.nodes[i].style.setProperty(o,e[o])})}}class i5 extends _b{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:fd({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${be(t)}`)}getMove(t,e){return{h:e?Xr(this.h+360*t.x,0,360):360*t.x}}}class n5 extends _b{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:fd(t)},{"background-color":fd({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${be(t.s)}%, Brightness ${be(t.v)}%`)}getMove(t,e){return{s:e?Xr(this.hsva.s+100*t.x,0,100):100*t.x,v:e?Xr(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const Ta=Symbol("same"),kd=Symbol("color"),vb=Symbol("hsva"),wd=Symbol("update"),yb=Symbol("parts"),Cb=Symbol("css"),Ab=Symbol("sliders");class o5 extends HTMLElement{static get observedAttributes(){return["color"]}get[Cb](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[Ab](){return[n5,i5]}get color(){return this[kd]}set color(t){if(!this[Ta](t)){const e=this.colorModel.toHsva(t);this[wd](e),this[kd]=t}}constructor(){super();const t=kb(`<style>${this[Cb].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[yb]=this[Ab].map(i=>new i(e))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,i){const o=this.colorModel.fromAttr(i);this[Ta](o)||(this.color=o)}handleEvent(t){const e=this[vb],i={...e,...t.detail};let o;this[wd](i),pb(i,e)||this[Ta](o=this.colorModel.fromHsva(i))||(this[kd]=o,pd(this,"color-changed",{value:o}))}[Ta](t){return this.color&&this.colorModel.equal(t,this.color)}[wd](t){this[vb]=t,this[yb].forEach(e=>e.update(t))}}const r5={defaultColor:"#000",toHsva:n=>e5(gd(n)),fromHsva:({h:n,s:t,v:e})=>t5(XE({h:n,s:t,v:e,a:1})),equal:(n,t)=>n.toLowerCase()===t.toLowerCase()||pb(gd(n),gd(t)),fromAttr:n=>n};class s5 extends o5{get colorModel(){return r5}}class a5 extends P{constructor(t,e={}){super(t),m(this,"hexInputRow"),m(this,"_debounceColorPickerEvent"),m(this,"_config"),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const i=this.createCollection();e.hideInput||i.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:i}),this._config=e,this._debounceColorPickerEvent=di(o=>{this.set("color",o),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(o,r,s)=>{o.return=ob(s,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=_d(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),_d(this.color)!=_d(this._hexColor)&&(this.color=this._hexColor)})}render(){var t,e;if(super.render(),t="hex-color-picker",e=s5,customElements.get(t)===void 0&&customElements.define(t,e),this.picker=L.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const i=document.createElement("style");i.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(i)}this.picker.addEventListener("color-changed",i=>{const o=i.detail.value;this._debounceColorPickerEvent(o)})}focus(){!this._config.hideInput&&(j.isGecko||j.isiOS||j.isSafari||j.isBlink)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const t=[...this.picker.shadowRoot.children].filter(e=>e.getAttribute("role")==="slider").map(e=>new l5(e));this.slidersView=this.createCollection(),t.forEach(e=>{this.slidersView.add(e)})}_createInputRow(){const t=this._createColorInput();return new d5(this.locale,t)}_createColorInput(){const t=new Si(this.locale,An),{t:e}=this.locale;return t.set({label:e("HEX"),class:"color-picker-hex-input"}),t.fieldView.bind("value").to(this,"_hexColor",i=>t.isFocused?t.fieldView.value:i.startsWith("#")?i.substring(1):i),t.fieldView.on("input",()=>{const i=t.fieldView.element.value;if(i){const o=xb(i);o&&this._debounceColorPickerEvent(o)}}),t}isValid(){const{t}=this.locale;return!!this._config.hideInput||(this.resetValidationStatus(),!!this.hexInputRow.getParsedColor()||(this.hexInputRow.inputView.errorText=t('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function _d(n){let t=function(e){if(!e)return"";const i=rb(e);return i?i.space==="hex"?i.hexValue:ob(e,"hex"):"#000"}(n);return t||(t="#000"),t.length===4&&(t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")),t.toLowerCase()}class l5 extends P{constructor(t){super(),this.element=t}focus(){this.element.focus()}}class c5 extends P{constructor(t){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class d5 extends P{constructor(t,e){super(t),m(this,"children"),m(this,"inputView"),this.inputView=e,this.children=this.createCollection([new c5,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return xb(this.inputView.fieldView.element.value)}}function xb(n){if(!n)return null;const t=n.trim().replace(/^#/,"");return[3,4,6,8].includes(t.length)&&/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(t)?`#${t}`:null}class u5 extends wt(ie){constructor(t){super(t),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(t,e){return this.find(i=>i.color===t.color)?this:super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}class h5 extends P{constructor(t,{colors:e,columns:i,removeButtonLabel:o,documentColorsLabel:r,documentColorsCount:s,colorPickerLabel:a,focusTracker:l,focusables:c}){super(t),m(this,"items"),m(this,"colorDefinitions"),m(this,"focusTracker"),m(this,"columns"),m(this,"documentColors"),m(this,"documentColorsCount"),m(this,"staticColorsGrid"),m(this,"documentColorsGrid"),m(this,"colorPickerButtonView"),m(this,"removeColorButtonView"),m(this,"_focusables"),m(this,"_documentColorsLabel"),m(this,"_removeButtonLabel"),m(this,"_colorPickerLabel");const d=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=l,this.items=this.createCollection(),this.colorDefinitions=e,this.columns=i,this.documentColors=new u5,this.documentColorsCount=s,this._focusables=c,this._removeButtonLabel=o,this._colorPickerLabel=a,this._documentColorsLabel=r,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",d.if("isVisible","ck-hidden",u=>!u)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(t,e){const i=t.document,o=this.documentColorsCount;this.documentColors.clear();for(const r of i.getRoots()){const s=t.createRangeIn(r);for(const a of s.getItems())if(a.is("$textProxy")&&a.hasAttribute(e)&&(this._addColorToDocumentColors(a.getAttribute(e)),this.documentColors.length>=o))return}}updateSelectedColors(){const t=this.documentColorsGrid,e=this.staticColorsGrid,i=this.selectedColor;e.selectedColor=i,t&&(t.selectedColor=i)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const t=ti.bind(this.documentColors,this.documentColors),e=new P(this.locale);e.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(e),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new V,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:A2,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const t=new V;return t.set({withText:!0,icon:ed,label:this._removeButtonLabel}),t.class="ck-color-selector__remove-color",t.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),t.render(),t}_createStaticColorsGrid(){const t=new Jp(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return t.on("execute",(e,i)=>{this.fire("execute",{value:i.value,source:"staticColorsGrid"})}),t}_createDocumentColorsGrid(){const t=ti.bind(this.documentColors,this.documentColors),e=new Jp(this.locale,{columns:this.columns});return e.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),e.items.bindTo(this.documentColors).using(i=>{var o;const r=new Qp;return r.set({color:i.color,hasBorder:(o=i.options)==null?void 0:o.hasBorder}),i.label&&r.set({label:i.label,tooltip:!0}),r.on("execute",()=>{this.fire("execute",{value:i.color,source:"documentColorsGrid"})}),r}),this.documentColors.on("change:isEmpty",(i,o,r)=>{r&&(e.selectedColor=null)}),e}_addColorToDocumentColors(t){const e=this.colorDefinitions.find(i=>i.color===t);e?this.documentColors.add(Object.assign({},e)):this.documentColors.add({color:t,label:t,options:{hasBorder:!1}})}}class m5 extends P{constructor(t,{focusTracker:e,focusables:i,keystrokes:o,colorPickerViewConfig:r}){super(t),m(this,"items"),m(this,"colorPickerView"),m(this,"saveButtonView"),m(this,"cancelButtonView"),m(this,"actionBarView"),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"_focusables"),m(this,"_colorPickerViewConfig"),this.items=this.createCollection(),this.focusTracker=e,this.keystrokes=o,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=i,this._colorPickerViewConfig=r;const s=this.bindTemplate,{saveButtonView:a,cancelButtonView:l}=this._createActionButtons();this.saveButtonView=a,this.cancelButtonView=l,this.actionBarView=this._createActionBarView({saveButtonView:a,cancelButtonView:l}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",s.if("isVisible","ck-hidden",c=>!c)]},children:this.items})}render(){super.render();const t=new a5(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=t,this.colorPickerView.render(),this.selectedColor&&(t.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(e,i,o)=>{t.color=o}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",t=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),t.stopPropagation(),t.preventDefault())})}_stopPropagationOnArrowsKeys(){const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}_addColorPickersElementsToFocusTracker(){for(const e of this.colorPickerView.slidersView)this.focusTracker.add(e.element),this._focusables.add(e);const t=this.colorPickerView.hexInputRow.children.get(1);t.element&&(this.focusTracker.add(t.element),this._focusables.add(t)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:t,cancelButtonView:e}){const i=new P,o=this.createCollection();return o.add(t),o.add(e),i.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:o}),i}_createActionButtons(){const t=this.locale,e=t.t,i=new V(t),o=new V(t);return i.set({icon:xp,class:"ck-button-save",type:"button",withText:!1,label:e("Accept")}),o.set({icon:td,class:"ck-button-cancel",type:"button",withText:!1,label:e("Cancel")}),i.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),o.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:i,cancelButtonView:o}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(t,e)=>{this.fire("execute",{value:e.color,source:"colorPicker"}),this.set("selectedColor",e.color)})}}class Eb extends P{constructor(t,{colors:e,columns:i,removeButtonLabel:o,documentColorsLabel:r,documentColorsCount:s,colorPickerLabel:a,colorPickerViewConfig:l}){super(t),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"items"),m(this,"colorGridsFragmentView"),m(this,"colorPickerFragmentView"),m(this,"_focusCycler"),m(this,"_focusables"),m(this,"_colorPickerViewConfig"),this.items=this.createCollection(),this.focusTracker=new ht,this.keystrokes=new Tt,this._focusables=new Ee,this._colorPickerViewConfig=l,this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new h5(t,{colors:e,columns:i,removeButtonLabel:o,documentColorsLabel:r,documentColorsCount:s,colorPickerLabel:a,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new m5(t,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:l}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(c,d,u)=>{this.colorGridsFragmentView.set("selectedColor",u),this.colorPickerFragmentView.set("selectedColor",u)}),this.colorGridsFragmentView.on("change:selectedColor",(c,d,u)=>{this.set("selectedColor",u)}),this.colorPickerFragmentView.on("change:selectedColor",(c,d,u)=>{this.set("selectedColor",u)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(t,e){this.colorGridsFragmentView.updateDocumentColors(t,e)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class g5{constructor(t){m(this,"editor"),m(this,"_components",new Map),this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(vd(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new v("componentfactory-item-missing",this,{name:t});return this._components.get(vd(t)).callback(this.editor.locale)}has(t){return this._components.has(vd(t))}}function vd(n){return String(n).toLowerCase()}const Tb="ck-tooltip",Sa=class Oe extends Se(){constructor(t){if(super(),m(this,"tooltipTextView"),m(this,"balloonPanelView"),m(this,"_currentElementWithTooltip",null),m(this,"_currentTooltipPosition",null),m(this,"_mutationObserver",null),m(this,"_pinTooltipDebounced"),m(this,"_unpinTooltipDebounced"),m(this,"_watchdogExcluded"),Oe._editors.add(t),Oe._instance)return Oe._instance;Oe._instance=this,this.tooltipTextView=new P(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new pe(t.locale),this.balloonPanelView.class=Tb,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const i=new MutationObserver(()=>{e()});return{attach(o){i.observe(o,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=di(this._pinTooltip,600),this._unpinTooltipDebounced=di(this._unpinTooltip,400),this.listenTo(L.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(L.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(L.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(L.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(L.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(L.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;Oe._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Oe._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Oe._instance=null)}static getPositioningFunctions(t){const e=Oe.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onKeyDown(t,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(t,{target:e}){const i=yd(e);i?i!==this._currentElementWithTooltip?(this._unpinTooltip(),t.name==="focus"&&!i.matches(":hover")||i.matches("[data-cke-tooltip-instant]")?this._pinTooltip(i,Cd(i)):this._pinTooltipDebounced(i,Cd(i))):this._unpinTooltipDebounced.cancel():t.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(t,{target:e,relatedTarget:i}){if(t.name==="mouseleave"){if(!bn(e))return;const o=this.balloonPanelView.element,r=o&&(o===i||o.contains(i)),s=!r&&e===o;if(r)return void this._unpinTooltipDebounced.cancel();if(!s&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const a=yd(e),l=yd(i);(s||a&&a!==l)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||a&&a.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:i,cssClass:o}){this._unpinTooltip();const r=_t(Oe._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.class=[Tb,o].filter(s=>s).join(" "),this.balloonPanelView.pin({target:t,positions:Oe.getPositioningFunctions(i)}),this._mutationObserver.attach(t);for(const s of Oe._editors)this.listenTo(s.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of Oe._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const t=Cd(this._currentElementWithTooltip);qi(this._currentElementWithTooltip)&&t.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Oe.getPositioningFunctions(t.position)}):this._unpinTooltip()}};m(Sa,"defaultBalloonPositions",pe.generatePositions({heightOffset:5,sideOffset:13})),m(Sa,"_editors",new Set),m(Sa,"_instance",null);let f5=Sa;function yd(n){return bn(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Cd(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}class Sb extends Se(){constructor(t,e={}){super(),m(this,"editor"),m(this,"_balloonView",null),m(this,"_showBalloonThrottled",Io(()=>this._showBalloon(),50,{leading:!0})),m(this,"_lastFocusedEditableElement",null),m(this,"_balloonClass"),this.editor=t,this._balloonClass=e.balloonClass,t.on("ready",()=>this._handleEditorReady())}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;this._isEnabled()&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",(e,i,o)=>{this._updateLastFocusedEditableElement(),o?this._showBalloon():this._hideBalloon()}),t.ui.focusTracker.on("change:focusedElement",(e,i,o)=>{this._updateLastFocusedEditableElement(),o&&this._showBalloon()}),t.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const t=this._getBalloonAttachOptions();t&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const t=this.editor,e=new pe,i=this._createBadgeContent();return e.content.add(i),this._balloonClass&&(e.class=this._balloonClass),t.ui.view.body.add(e),e}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const t=this._getNormalizedConfig(),e=t.side==="right"?Ib(this._lastFocusedEditableElement,i=t,(o,r)=>o.left+o.width-r.width-i.horizontalOffset):function(o,r){return Ib(o,r,s=>s.left+r.horizontalOffset)}(this._lastFocusedEditableElement,t);var i;return{target:this._lastFocusedEditableElement,positions:[e]}}_updateLastFocusedEditableElement(){const t=this.editor,e=t.ui.focusTracker.isFocused,i=t.ui.focusTracker.focusedElement;if(!e||!i)return void(this._lastFocusedEditableElement=null);const o=Array.from(t.ui.getEditableElementsNames()).map(r=>t.ui.getEditableElement(r));o.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=o[0]}}function Ib(n,t,e){return(i,o)=>{const r=new K(n);if(r.width<350||r.height<50)return null;let s;s=t.position==="inside"?r.bottom-o.height:r.bottom-o.height/2,s-=t.verticalOffset;const a=e(r,o),l=i.clone().moveTo(a,s).getIntersection(o.clone().moveTo(a,s)).getVisible();return!l||l.getArea()<o.getArea()?null:{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}class p5 extends Sb{constructor(t){super(t,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const t=this.editor;if(t.config.get("ui.poweredBy.forceVisible"))return!0;const e=t.config.get("licenseKey");if(e=="GPL")return!0;const i=mc(e.split(".")[1]);return!i||!i.whiteLabel}_createBadgeContent(){return new b5(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{},i=e.position||t.position,o=i==="inside"?5:t.verticalOffset;return{position:i,side:e.side||t.side,label:e.label===void 0?"Powered by":e.label,verticalOffset:e.verticalOffset!==void 0?e.verticalOffset:o,horizontalOffset:e.horizontalOffset!==void 0?e.horizontalOffset:t.horizontalOffset,forceVisible:!!e.forceVisible}}}class b5 extends P{constructor(t,e){super(t);const i=new Ti,o=this.bindTemplate;i.set({content:aE,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],i],on:{dragstart:o.to(r=>r.preventDefault())}}]})}}class k5 extends Sb{constructor(t){super(t,{balloonClass:"ck-evaluation-badge-balloon"}),m(this,"licenseTypeMessage",{evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"})}_isEnabled(){const t=Mb(this.editor.config.get("licenseKey"));return!!(t&&this.licenseTypeMessage[t])}_createBadgeContent(){const t=Mb(this.editor.config.get("licenseKey"));return new w5(this.editor.locale,this.licenseTypeMessage[t])}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{};return{position:e.position||t.position,side:(e.side||t.side)==="left"?"right":"left",verticalOffset:t.verticalOffset,horizontalOffset:t.horizontalOffset}}}class w5 extends P{constructor(t,e){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[e]}]})}}function Mb(n){if(n=="GPL")return"GPL";const t=mc(n.split(".")[1]);return t?t.licenseType||"production":null}const Db={POLITE:"polite",ASSERTIVE:"assertive"};class _5{constructor(t){m(this,"editor"),m(this,"view"),this.editor=t,t.once("ready",()=>{for(const e of Object.values(Db))this.announce("",e)})}announce(t,e=Db.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new v5(i.locale),i.ui.view.body.add(this.view));const{politeness:o,isUnsafeHTML:r}=typeof e=="string"?{politeness:e}:e;let s=this.view.regionViews.find(a=>a.politeness===o);s||(s=new y5(i,o),this.view.regionViews.add(s)),s.announce({announcement:t,isUnsafeHTML:r})}}class v5 extends P{constructor(t){super(t),m(this,"regionViews"),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class y5 extends P{constructor(t,e){super(t.locale),m(this,"politeness"),m(this,"_domConverter"),m(this,"_pruneAnnouncementsInterval"),this.setTemplate({tag:"div",attributes:{"aria-live":e,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),t.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=e,this._domConverter=t.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:t,isUnsafeHTML:e}){if(!t.trim().length)return;const i=document.createElement("li");e?this._domConverter.setContentOf(i,t):i.innerText=t,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}class Ii extends ii{constructor(t,e){super(t);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const $o={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",t=>{if(n.isFocusBorderEnabled||n.isOpen){if(n.isOpen)for(const e of n.menus){const i=t.path[0],o=i instanceof Ii&&i.children.first===e;e.isOpen=(t.path.includes(e)||o)&&e.isEnabled}t.source.focus()}})},focusCycleMenusOnArrows(n){const t=n.locale.uiLanguageDirection==="rtl";function e(i,o){const r=n.children.getIndex(i),s=i.isOpen,a=n.children.length,l=n.children.get((r+a+o)%a);i.isOpen=!1,s&&(l.isOpen=!0),l.buttonView.focus()}n.on("menu:arrowright",i=>{e(i.source,t?-1:1)}),n.on("menu:arrowleft",i=>{e(i.source,t?1:-1)})},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(t=>{t.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(t,e,i)=>{i&&n.menus.filter(o=>t.source.parentMenuView===o.parentMenuView&&t.source!==o&&o.isOpen).forEach(o=>{o.isOpen=!1})})},closeOnClickOutside(n){yn({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(t=>t.element)})},enableFocusHighlightOnInteraction(n){let t=!1;n.on("change:isOpen",(e,i,o)=>{o||(t||(n.isFocusBorderEnabled=!1),t=!1)}),n.listenTo(n.element,"keydown",()=>{t=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{t=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{t&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},xn={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(t,e)=>{n.isEnabled&&n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),e())})},openOnArrowRightKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(t,(e,i)=>{n.focusTracker.focusedElement===n.buttonView.element&&n.isEnabled&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),e())})},closeOnArrowLeftKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(t,(e,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(t,e)=>{n.isOpen&&(n.isOpen=!1,n.focus(),e())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(t,e,i)=>{i||t.source!==n.parentMenuView||(n.isOpen=!1)})}},C5={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,t)=>({top:n.bottom,left:n.left-t.width+n.width,name:"sw"}),northEast:(n,t)=>({top:n.top-t.height,left:n.left,name:"ne"}),northWest:(n,t)=>({top:n.top-t.height,left:n.left-t.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-5,name:"es"}),eastNorth:(n,t)=>({top:n.top-t.height,left:n.right-5,name:"en"}),westSouth:(n,t)=>({top:n.top,left:n.left-t.width+5,name:"ws"}),westNorth:(n,t)=>({top:n.top-t.height,left:n.left-t.width+5,name:"wn"})},A5=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"fullscreen",items:["menuBar:fullscreen"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable","menuBar:insertTableLayout"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function x5(n){let t;return t="items"in n&&n.items?{items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n}:{items:Ue(A5),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n},t}function E5({normalizedConfig:n,locale:t,componentFactory:e,extraItems:i}){const o=Ue(n);return Pb(n,o,i),function(r,s){const a=s.removeItems,l=[];s.items=s.items.filter(({menuId:c})=>!a.includes(c)||(l.push(c),!1)),qo(s.items,c=>{c.groups=c.groups.filter(({groupId:d})=>!a.includes(d)||(l.push(d),!1));for(const d of c.groups)d.items=d.items.filter(u=>{const h=Nb(u);return!a.includes(h)||(l.push(h),!1)})});for(const c of a)l.includes(c)||st("menu-bar-item-could-not-be-removed",{menuBarConfig:r,itemName:c})}(n,o),Pb(n,o,o.addItems),function(r,s,a){qo(s.items,l=>{for(const c of l.groups)c.items=c.items.filter(d=>{const u=typeof d=="string"&&!a.has(d);return u&&!s.isUsingDefaultConfig&&st("menu-bar-item-unavailable",{menuBarConfig:r,parentMenuConfig:Ue(l),componentName:d}),!u})})}(n,o,e),Bb(n,o),function(r,s){const a=s.t,l={File:a({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:a({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:a({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:a({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:a({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:a({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:a({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:a({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:a({string:"Font",id:"MENU_BAR_MENU_FONT"})};qo(r.items,c=>{c.label in l&&(c.label=l[c.label])})}(o,t),o}function Pb(n,t,e){const i=[];if(e.length!=0){for(const r of e){const s=S5(r.position),a=I5(r.position);if(typeof(o=r)=="object"&&"menu"in o)if(a){const l=t.items.findIndex(c=>c.menuId===a);l!=-1?s==="before"?(t.items.splice(l,0,r.menu),i.push(r)):s==="after"&&(t.items.splice(l+1,0,r.menu),i.push(r)):Lb(t,r.menu,a,s)&&i.push(r)}else s==="start"?(t.items.unshift(r.menu),i.push(r)):s==="end"&&(t.items.push(r.menu),i.push(r));else T5(r)?qo(t.items,l=>{if(l.menuId===a)s==="start"?(l.groups.unshift(r.group),i.push(r)):s==="end"&&(l.groups.push(r.group),i.push(r));else{const c=l.groups.findIndex(d=>d.groupId===a);c!==-1&&(s==="before"?(l.groups.splice(c,0,r.group),i.push(r)):s==="after"&&(l.groups.splice(c+1,0,r.group),i.push(r)))}}):Lb(t,r.item,a,s)&&i.push(r)}var o;for(const r of e)i.includes(r)||st("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:r})}}function Lb(n,t,e,i){let o=!1;return qo(n.items,r=>{for(const{groupId:s,items:a}of r.groups){if(o)return;if(s===e)i==="start"?(a.unshift(t),o=!0):i==="end"&&(a.push(t),o=!0);else{const l=a.findIndex(c=>Nb(c)===e);l!==-1&&(i==="before"?(a.splice(l,0,t),o=!0):i==="after"&&(a.splice(l+1,0,t),o=!0))}}}),o}function Bb(n,t){const e=t.isUsingDefaultConfig;let i=!1;t.items=t.items.filter(o=>!!o.groups.length||(Ad(n,o,e),!1)),t.items.length?(qo(t.items,o=>{o.groups=o.groups.filter(r=>!!r.items.length||(i=!0,!1));for(const r of o.groups)r.items=r.items.filter(s=>!(zb(s)&&!s.groups.length)||(Ad(n,s,e),i=!0,!1))}),i&&Bb(n,t)):Ad(n,n,e)}function Ad(n,t,e){e||st("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:t})}function qo(n,t){if(Array.isArray(n))for(const i of n)e(i);function e(i){t(i);for(const o of i.groups)for(const r of o.items)zb(r)&&e(r)}}function T5(n){return typeof n=="object"&&"group"in n}function S5(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function I5(n){const t=n.match(/^[^:]+:(.+)/);return t?t[1]:null}function Nb(n){return typeof n=="string"?n:n.menuId}function zb(n){return typeof n=="object"&&"menuId"in n}class M5 extends wt(){constructor(t){super(),m(this,"editor"),m(this,"componentFactory"),m(this,"focusTracker"),m(this,"tooltipManager"),m(this,"poweredBy"),m(this,"evaluationBadge"),m(this,"ariaLiveAnnouncer"),m(this,"isReady",!1),m(this,"_editableElementsMap",new Map),m(this,"_focusableToolbarDefinitions",[]),m(this,"_extraMenuBarElements",[]),m(this,"_lastFocusedForeignElement",null);const e=t.editing.view;this.editor=t,this.componentFactory=new g5(t),this.focusTracker=new ht,this.tooltipManager=new f5(t),this.poweredBy=new p5(t),this.evaluationBadge=new k5(t),this.ariaLiveAnnouncer=new _5(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(e.document,"layoutChanged",this.update.bind(this)),this.listenTo(e,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const i=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?i():this.once("ready",i)}removeEditableElement(t){const e=this._editableElementsMap.get(t);e&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(e),this.focusTracker.remove(e),e.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}extendMenuBar(t){this._extraMenuBarElements.push(t)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}initMenuBar(t){const e=t.element;this.focusTracker.add(e),this.editor.keystrokes.listenTo(e);const i=x5(this.editor.config.get("menuBar")||{});t.fillFromConfig(i,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(o,r)=>{e.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),r())}),this.editor.keystrokes.set("Alt+F9",(o,r)=>{e.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),t.isFocusBorderEnabled=!0,t.focus(),r())})}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const i=t.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const t=this.editor;let e;t.keystrokes.set("Alt+F10",(i,o)=>{this._saveLastFocusedForeignElement();const r=this._getCurrentFocusedToolbarDefinition();r&&e||(e=this._getFocusableCandidateToolbarDefinitions());for(let s=0;s<e.length;s++){const a=e.shift();if(e.push(a),a!==r&&this._focusFocusableCandidateToolbar(a)){r&&r.options.afterBlur&&r.options.afterBlur();break}}o()}),t.keystrokes.set("Esc",(i,o)=>{const r=this._getCurrentFocusedToolbarDefinition();r&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):t.editing.view.focus(),r.options.afterBlur&&r.options.afterBlur(),o())})}_saveLastFocusedForeignElement(){const t=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(t)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(t)&&(this._lastFocusedForeignElement=t)}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:i,options:o}=e;(qi(i.element)||o.beforeFocus)&&t.push(e)}return t.sort((e,i)=>Ob(e)-Ob(i)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:i}}=t;return i&&i(),!!qi(e.element)&&(e.focus(),!0)}_handleScrollToTheSelection(t,e){const i={top:0,bottom:0,left:0,right:0,...this.viewportOffset};e.viewportOffset.top+=i.top,e.viewportOffset.bottom+=i.bottom,e.viewportOffset.left+=i.left,e.viewportOffset.right+=i.right}_bindBodyCollectionWithFocusTracker(){const t=this.view.body;for(const e of t)this.focusTracker.add(e.element);t.on("add",(e,i)=>{this.focusTracker.add(i.element)}),t.on("remove",(e,i)=>{this.focusTracker.remove(i.element)})}}function Ob(n){const{toolbarView:t,options:e}=n;let i=10;return qi(t.element)&&i--,e.isContextual&&(i-=2),i}class D5 extends P{constructor(t){super(t),m(this,"body"),m(this,"menuBarView"),m(this,"toolbar"),this.body=new LE(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class P5 extends P{constructor(t,e,i){super(t),m(this,"name",null),m(this,"_editingView"),m(this,"_editableElement"),m(this,"_hasExternalElement"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function e(i){t.change(o=>{const r=t.document.getRoot(i.name);o.addClass(i.isFocused?"ck-focused":"ck-blurred",r),o.removeClass(i.isFocused?"ck-blurred":"ck-focused",r)})}t.isRenderingInProgress?function i(o){t.once("change:isRenderingInProgress",(r,s,a)=>{a?i(o):e(o)})}(this):e(this)}}class L5 extends P5{constructor(t,e,i,o={}){super(t,e,i),m(this,"_options"),this._options=o,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView;t.change(e=>{const i=t.document.getRoot(this.name);e.setAttribute("aria-label",this.getEditableAriaLabel(),i)})}getEditableAriaLabel(){const t=this.locale.t,e=this._options.label,i=this._editableElement,o=this.name;if(typeof e=="string")return e;if(typeof e=="object")return e[o];if(typeof e=="function")return e(this);if(i){const r=i.getAttribute("aria-label");if(r)return r}return t("Rich Text Editor. Editing area: %0",o)}}class Ia extends P{constructor(t,e={}){super(t),m(this,"children");const i=this.bindTemplate;this.set("class",["ck","ck-form__row",...Dt(e.class||[])]),this.children=this.createCollection(),e.children&&e.children.forEach(o=>this.children.add(o)),this.set("_role",null),this.set("_ariaLabelledBy",null),e.labelView&&this.set({_role:"group",_ariaLabelledBy:e.labelView.id}),this.setTemplate({tag:"div",attributes:{class:i.to("class",o=>o.join(" ")),role:i.to("_role"),"aria-labelledby":i.to("_ariaLabelledBy")},children:this.children})}}class Rb extends Lg{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class Zi extends wt(){constructor(t,e){super(),e&&Gm(this,e),t&&this.set(t)}}const Ma=wn("px");class Mi extends C{constructor(t){super(t),m(this,"positionLimiter"),m(this,"visibleStack"),m(this,"_viewToStack",new Map),m(this,"_idToStack",new Map),m(this,"_view",null),m(this,"_rotatorView",null),m(this,"_fakePanelsView",null),this.positionLimiter=()=>{const e=this.editor.editing.view,i=e.document.selection.editableElement;return i?e.domConverter.mapViewToDom(i.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new v("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const i=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),i.set(t.view,t),this._viewToStack.set(t.view,i),i===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new v("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(e.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),e.size===1?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new v("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}_createPanelView(){this._view=new pe(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new B5(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,o)=>!o&&i>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,o)=>{if(o<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[r,o])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new N5(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,i)=>!i&&e>=2?Math.min(e-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:i=!0,singleViewMode:o=!1}){this.view.class=e,this.view.withArrow=i,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}}class B5 extends P{constructor(t){super(t),m(this,"focusTracker"),m(this,"buttonPrevView"),m(this,"buttonNextView"),m(this,"content");const e=t.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ht,this.buttonPrevView=this._createButtonView(e("Previous"),Xn),this.buttonNextView=this._createButtonView(e("Next"),Dp),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",o=>o?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const i=new V(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i}}class N5 extends P{constructor(t,e){super(t),m(this,"content"),m(this,"_balloonPanelView");const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",o=>o?"":"ck-hidden")],style:{top:i.to("top",Ma),left:i.to("left",Ma),width:i.to("width",Ma),height:i.to("height",Ma)}},children:this.content}),this.on("change:numberOfPanels",(o,r,s,a)=>{s>a?this._addPanels(s-a):this._removePanels(a-s),this.updatePosition()})}_addPanels(t){for(;t--;){const e=new P;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(t){for(;t--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:i,height:o}=new K(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:i,height:o})}}}class z5 extends Si{constructor(t,e){const i=t.t,o=Object.assign({},{showResetButton:!0,showIcon:!0,creator:An},e);super(t,o.creator),m(this,"iconView"),m(this,"resetButtonView"),m(this,"_viewConfig"),this.label=e.label,this._viewConfig=o,this._viewConfig.showIcon&&(this.iconView=new Ti,this.iconView.content=W2,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new V(t),this.resetButtonView.set({label:i("Clear"),icon:td,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",r=>!r),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Vb extends P{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",e=>!e)],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class O5 extends P{constructor(t){super(t),m(this,"focusTracker"),m(this,"children"),m(this,"_focusCycler"),this.children=this.createCollection(),this.focusTracker=new ht,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new re({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class R5 extends P{constructor(t,e){super(t),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"resultsView"),m(this,"filteredView"),m(this,"infoView"),m(this,"queryView"),m(this,"focusCycler"),m(this,"_config"),this._config=e,this.filteredView=e.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new ht,this.keystrokes=new Tt,this.resultsView=new O5(t),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),e.infoView&&e.infoView.instance?this.infoView=e.infoView.instance:(this.infoView=new Vb,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new re({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(i,{resultsCount:o,totalItemsCount:r})=>{this.resultsCount=o,this.totalItemsCount=r}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",e.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const t=e=>e.stopPropagation();for(const e of this.focusableChildren)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(t){const e=t?new RegExp(Qm(t),"ig"):null,i=this.filteredView.filter(e);this.fire("search",{query:t,...i})}_createSearchTextQueryView(){const t=new z5(this.locale,this._config.queryView);return this.listenTo(t.fieldView,"input",()=>{this.search(t.fieldView.element.value)}),t.on("reset",()=>this.reset()),t.bind("isEnabled").to(this),t}_enableDefaultInfoViewBehavior(){const t=this.locale.t,e=this.infoView;function i(o,{query:r,resultsCount:s,totalItemsCount:a}){return typeof o=="function"?o(r,s,a):o}this.on("search",(o,r)=>{if(r.resultsCount)e.set({isVisible:!1});else{const s=this._config.infoView&&this._config.infoView.text;let a,l;r.totalItemsCount?s!=null&&s.notFound?(a=s.notFound.primary,l=s.notFound.secondary):(a=t("No results found"),l=""):s!=null&&s.noSearchableItems?(a=s.noSearchableItems.primary,l=s.noSearchableItems.secondary):(a=t("No searchable items"),l=""),e.set({primaryText:i(a,r),secondaryText:i(l,r),isVisible:!0})}})}}const V5=wn("px");class F5 extends C{constructor(t){super(t),m(this,"toolbarView"),m(this,"focusTracker"),m(this,"_balloonConfig"),m(this,"_resizeObserver",null),m(this,"_balloon"),m(this,"_fireSelectionChangeDebounced"),this._balloonConfig=hd(t.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new ht,this._trackFocusableEditableElements(),this.focusTracker.add(this.toolbarView),t.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=t.plugins.get(Mi),this._fireSelectionChangeDebounced=di(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get isOfficialPlugin(){return!0}static get requires(){return[Mi]}init(){const t=this.editor,e=t.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(i,o,r)=>{const s=this._balloon.visibleView===this.toolbarView;!r&&s?this.hide():r&&this.show()}),this.listenTo(e,"change:range",(i,o)=>{(o.directChange||e.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(t,"ready",()=>{const i=t.ui.view.editable.element;this._resizeObserver=new Ar(i,o=>{this.toolbarView.maxWidth=V5(.9*o.contentRect.width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),t.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const t=this.editor.locale.t,e=!this._balloonConfig.shouldNotGroupWhenFull,i=new Qr(this.editor.locale,{shouldGroupWhenFull:e,isFloating:!0});return i.ariaLabel=t("Editor contextual toolbar"),i.render(),i}show(t=!1){const e=this.editor,i=e.model.document.selection,o=e.model.schema;this._balloon.hasView(this.toolbarView)||i.isCollapsed&&!t||function(r,s){return r.rangeCount===1?!1:[...r.getRanges()].every(a=>{const l=a.getContainedElement();return l&&s.isSelectable(l)})}(i,o)||Array.from(this.toolbarView.items).every(r=>r.isEnabled!==void 0&&!r.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_trackFocusableEditableElements(){const{editor:t,focusTracker:e}=this,{editing:i}=t;i.view.addObserver(class extends mi{observe(o){e.add(o)}stopObserving(o){e.remove(o)}})}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,i=e.selection,o=e.selection.isBackward;return{target:()=>{const r=o?i.getFirstRange():i.getLastRange(),s=K.getDomRangeRects(t.domConverter.viewRangeToDom(r));return o?s[0]:(s.length>1&&s[s.length-1].width===0&&s.pop(),s[s.length-1])},positions:this._getBalloonPositions(o)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(t){const e=j.isSafari&&j.isiOS?pe.generatePositions({heightOffset:Math.max(pe.arrowHeightOffset,Math.round(20/L.window.visualViewport.scale))}):pe.defaultPositions;return t?[e.northWestArrowSouth,e.northWestArrowSouthWest,e.northWestArrowSouthEast,e.northWestArrowSouthMiddleEast,e.northWestArrowSouthMiddleWest,e.southWestArrowNorth,e.southWestArrowNorthWest,e.southWestArrowNorthEast,e.southWestArrowNorthMiddleWest,e.southWestArrowNorthMiddleEast]:[e.southEastArrowNorth,e.southEastArrowNorthEast,e.southEastArrowNorthWest,e.southEastArrowNorthMiddleEast,e.southEastArrowNorthMiddleWest,e.northEastArrowSouth,e.northEastArrowSouthEast,e.northEastArrowSouthWest,e.northEastArrowSouthMiddleEast,e.northEastArrowSouthMiddleWest]}}const Fb=wn("px");class j5 extends V{constructor(t){super(t);const e=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:e.to("top",i=>Fb(i)),left:e.to("left",i=>Fb(i))}}})}}const ts=wn("px");class H5 extends C{constructor(t){super(t),m(this,"toolbarView"),m(this,"panelView"),m(this,"buttonView"),m(this,"_resizeObserver",null),m(this,"_blockToolbarConfig"),this._blockToolbarConfig=hd(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),yn({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=e("Click to edit block"),o=e("Drag to move"),r=e("Edit block"),s=t.plugins.has("DragDropBlockToolbar"),a=s?`${i}
${o}`:r;this.buttonView.label=a,s&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(t.model.document.selection,"change:range",(l,c)=>{c.directChange&&this._hidePanel()}),this.listenTo(t.ui,"update",()=>this._updateButton()),this.listenTo(t,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(l,c,d)=>{d?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),this._repositionButtonOnScroll(),t.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()}),t.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const l of this.toolbarView.items)l.on("execute",()=>this._hidePanel(!0),{priority:"high"})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const t=this.editor.locale.t,e=!this._blockToolbarConfig.shouldNotGroupWhenFull,i=new Qr(this.editor.locale,{shouldGroupWhenFull:e,isFloating:!0});return i.ariaLabel=t("Editor block content toolbar"),i}_createPanelView(){const t=this.editor,e=new pe(t.locale);return e.content.add(this.toolbarView),e.class="ck-toolbar-container",t.ui.view.body.add(e),this.toolbarView.keystrokes.set("Esc",(i,o)=>{this._hidePanel(!0),o()}),e}_createButtonView(){const t=this.editor,e=t.t,i=new j5(t.locale),o=this._blockToolbarConfig.icon,r=md[o]||o||md.dragIndicator;return i.set({label:e("Edit block"),icon:r,withText:!1}),i.bind("isOn").to(this.panelView,"isVisible"),i.bind("tooltip").to(this.panelView,"isVisible",s=>!s),this.listenTo(i,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),this.listenTo(i,"change:isEnabled",(s,a,l)=>{!l&&this.panelView.isVisible&&this._hidePanel(!1)}),t.ui.view.body.add(i),i}_updateButton(){const t=this.editor,e=t.model,i=t.editing.view;if(!t.ui.focusTracker.isFocused)return void this._hideButton();if(!t.model.canEditAt(t.model.document.selection))return void this._hideButton();const o=Array.from(e.document.selection.getSelectedBlocks())[0];if(!o||Array.from(this.toolbarView.items).every(s=>!s.isEnabled))return void this._hideButton();const r=i.domConverter.mapViewToDom(t.editing.mapper.toViewElement(o));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(r),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const t=this.panelView.isVisible;this.panelView.show();const e=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(e),this.panelView.pin({target:this.buttonView.element,limiter:e}),t||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const t=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(t)}_hidePanel(t){this.panelView.isVisible=!1,t&&this.editor.editing.view.focus()}_repositionButtonOnScroll(){const{buttonView:t}=this;let e=!1;const i=(o,r)=>{if(e)return;const s=this._getSelectedEditableElement();(r.target===L.document||sg(s).includes(r.target))&&(e=!0,L.window.requestAnimationFrame(()=>{this._updateButton(),e=!1}))};t.on("change:isVisible",(o,r,s)=>{s?t.listenTo(L.document,"scroll",i,{useCapture:!0,usePassive:!0}):t.stopListening(L.document,"scroll",i)})}_attachButtonToElement(t){const e=this.buttonView.element,i=this._getSelectedEditableElement(),o=window.getComputedStyle(t),r=new K(i),s=parseInt(o.paddingTop,10),a=parseInt(o.lineHeight,10)||1.2*parseInt(o.fontSize,10),l=new K(e),c=new K(t);let d;d=this.editor.locale.uiLanguageDirection==="ltr"?r.left-l.width:r.right;const u=c.top+s+(a-l.height)/2;l.moveTo(d,u);const h=l.toAbsoluteRect();this.buttonView.top=h.top,this.buttonView.left=h.left,this._clipButtonToViewport(this.buttonView,i)}_clipButtonToViewport(t,e){const i=new K(t.element),o=new K(e).getVisible(),r=(...a)=>{t.element.style.clipPath=a.length?`polygon(${a.join(",")})`:""},s=a=>{t.isEnabled=!a,t.element.style.pointerEvents=a?"none":""};if(o&&o.bottom<i.bottom){const a=Math.min(i.height,i.bottom-o.bottom);s(a>=i.height),r("0 0","100% 0",`100% calc(100% - ${ts(a)})`,`0 calc(100% - ${ts(a)}`)}else if(o&&o.top>i.top){const a=Math.min(i.height,o.top-i.top);s(a>=i.height),r(`0 ${ts(a)}`,`100% ${ts(a)}`,"100% 100%","0 100%")}else s(!1),r()}_setupToolbarResize(){const t=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==t&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new Ar(t,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(t)})))}_getToolbarMaxWidth(t){const e=new K(t),i=new K(this.buttonView.element),o=this.editor.locale.uiLanguageDirection==="rtl"?i.left-e.right+i.width:e.left-i.left;return ts(e.width+o)}}class U5 extends Ho{constructor(t){super(t),m(this,"arrowView");const e=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":e.to("isOn")},on:{mouseenter:e.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Ti;return t.content=_a,t.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),t}}class $5 extends P{constructor(t){super(t),m(this,"children");const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",e.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),e.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:e.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(t=1){this.children.length&&(t===1?this.children.first.focus():this.children.last.focus())}}const jb=class G0 extends P{constructor(t){super(t),m(this,"buttonView"),m(this,"panelView"),m(this,"focusTracker"),m(this,"keystrokes");const e=this.bindTemplate;this.buttonView=new U5(t),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new $5(t),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Tt,this.focusTracker=new ht,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",i=>!i),e.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),xn.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(xn.openOnButtonClick(this),xn.openOnArrowRightKey(this),xn.closeOnArrowLeftKey(this),xn.openAndFocusOnEnterKeyPress(this),xn.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),xn.openAndFocusPanelOnArrowDownKey(this),xn.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(t,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(t,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(t,e,i)=>{if(!i)return;const o=G0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:i,northWest:o,westSouth:r,eastSouth:s,westNorth:a,eastNorth:l}=C5;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[s,l,r,a]:[t,e,i,o]:this.parentMenuView?[r,a,s,l]:[e,t,o,i]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};m(jb,"_getOptimalPosition",cc);let Ke=jb;class Qi extends io{constructor(t){super(t),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const t=Array.from(this.items).some(e=>{const i=Hb(e);return i&&i.isToggleable});this.items.forEach(e=>{const i=Hb(e);i&&(i.hasCheckSpace=t)})}}function Hb(n){return n instanceof ii?n.children.map(t=>function(e){return typeof e=="object"&&"buttonView"in e&&e.buttonView instanceof V}(t)?t.buttonView:t).find(t=>t instanceof Ho):null}class Ub extends BE{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const $b=["mouseenter","arrowleft","arrowright","change:isOpen"];class q5 extends P{constructor(t){super(t),m(this,"children"),m(this,"menus",[]);const e=t.t,i=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",i.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":e("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(t,e,i=[]){const o=E5({normalizedConfig:t,locale:this.locale,componentFactory:e,extraItems:i}).items.map(r=>this._createMenu({componentFactory:e,menuDefinition:r}));this.children.addMany(o)}render(){super.render(),$o.toggleMenusAndFocusItemsOnHover(this),$o.closeMenusWhenTheBarCloses(this),$o.closeMenuWhenAnotherOnTheSameLevelOpens(this),$o.focusCycleMenusOnArrows(this),$o.closeOnClickOutside(this),$o.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const t of this.children)t.isOpen=!1}disable(){for(const t of this.children)t.isEnabled=!1}enable(){for(const t of this.children)t.isEnabled=!0}registerMenu(t,e=null){e?(t.delegate(...$b).to(e),t.parentMenuView=e):t.delegate(...$b).to(this,i=>"menu:"+i),t._attachBehaviors(),this.menus.push(t)}_createMenu({componentFactory:t,menuDefinition:e,parentMenuView:i}){const o=this.locale,r=new Ke(o);return this.registerMenu(r,i),r.buttonView.set({label:e.label}),r.once("change:isOpen",()=>{const s=new Qi(o);s.ariaLabel=e.label,r.panelView.children.add(s),s.items.addMany(this._createMenuItems({menuDefinition:e,parentMenuView:r,componentFactory:t}))}),r}_createMenuItems({menuDefinition:t,parentMenuView:e,componentFactory:i}){const o=this.locale,r=[];for(const s of t.groups){for(const a of s.items){const l=new Ii(o,e);if(ci(a))l.children.add(this._createMenu({componentFactory:i,menuDefinition:a,parentMenuView:e}));else{const c=this._createMenuItemContentFromFactory({componentName:a,componentFactory:i,parentMenuView:e});if(!c)continue;l.children.add(c)}r.push(l)}s!==t.groups[t.groups.length-1]&&r.push(new ya(o))}return r}_createMenuItemContentFromFactory({componentName:t,parentMenuView:e,componentFactory:i}){const o=i.create(t);return o instanceof Ke||o instanceof xt||o instanceof Ub?(this._registerMenuTree(o,e),o.on("execute",()=>{this.close()}),o):(st("menu-bar-component-unsupported",{componentName:t,componentView:o}),null)}_registerMenuTree(t,e){if(!(t instanceof Ke))return void t.delegate("mouseenter").to(e);this.registerMenu(t,e);const i=t.panelView.children.filter(r=>r instanceof Qi)[0];if(!i)return void t.delegate("mouseenter").to(e);const o=i.items.filter(r=>r instanceof ii);for(const r of o)this._registerMenuTree(r.children.get(0),t)}_setupIsOpenUpdater(){let t;this.on("menu:change:isOpen",(e,i,o)=>{clearTimeout(t),o?this.isOpen=!0:t=setTimeout(()=>{this.isOpen=Array.from(this.children).some(r=>r.isOpen)},0)})}}const es=new Map([["left",Cp],["right",v2],["center",w2],["justify",_2]]);class W5 extends C{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}static get isOfficialPlugin(){return!0}init(){const t=up(this.editor.config.get("alignment.options"));t.map(e=>e.name).filter(cp).forEach(e=>this._addButton(e)),this._addToolbarDropdown(t),this._addMenuBarMenu(t)}_addButton(t){this.editor.ui.componentFactory.add(`alignment:${t}`,e=>this._createButton(e,t))}_createButton(t,e,i={}){const o=this.editor,r=o.commands.get("alignment"),s=new V(t);return s.set({label:this.localizedOptionTitles[e],icon:es.get(e),tooltip:!0,isToggleable:!0,...i}),s.bind("isEnabled").to(r),s.bind("isOn").to(r,"value",a=>a===e),this.listenTo(s,"execute",()=>{o.execute("alignment",{value:e}),o.editing.view.focus()}),s}_addToolbarDropdown(t){const e=this.editor;e.ui.componentFactory.add("alignment",i=>{const o=ce(i),r=i.uiLanguageDirection==="rtl"?"w":"e",s=i.t;Jr(o,()=>t.map(c=>this._createButton(i,c.name,{tooltipPosition:r})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:s("Text alignment toolbar")}),o.buttonView.set({label:s("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const a=i.contentLanguageDirection==="rtl"?es.get("right"):es.get("left"),l=e.commands.get("alignment");return o.buttonView.bind("icon").to(l,"value",c=>es.get(c)||a),o.bind("isEnabled").to(l,"isEnabled"),this.listenTo(o,"execute",()=>{e.editing.view.focus()}),o})}_addMenuBarMenu(t){const e=this.editor;e.ui.componentFactory.add("menuBar:alignment",i=>{const o=e.commands.get("alignment"),r=i.t,s=new Ke(i),a=new Qi(i);s.bind("isEnabled").to(o),a.set({ariaLabel:r("Text alignment"),role:"menu"}),s.buttonView.set({label:r("Text alignment")});for(const l of t){const c=new Ii(i,s),d=new xt(i);d.delegate("execute").to(s),d.set({label:this.localizedOptionTitles[l.name],icon:es.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),d.on("execute",()=>{e.execute("alignment",{value:l.name}),e.editing.view.focus()}),d.bind("isOn").to(o,"value",u=>u===l.name),d.bind("isEnabled").to(o,"isEnabled"),c.children.add(d),a.items.add(c)}return s.panelView.children.add(a),s})}}class G5 extends C{static get requires(){return[g2,W5]}static get pluginName(){return"Alignment"}static get isOfficialPlugin(){return!0}}class qb{constructor(t,e=20){m(this,"model"),m(this,"limit"),m(this,"_isLocked"),m(this,"_size"),m(this,"_batch",null),m(this,"_changeCallback"),m(this,"_selectionChangeCallback"),this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(i,o)=>{o.isLocal&&o.isUndoable&&o!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class K5 extends q{constructor(t,e){super(t),m(this,"_buffer"),this._buffer=new qb(t.model,e),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,i=e.document,o=t.text||"",r=o.length;let s=i.selection;if(t.selection?s=t.selection:t.range&&(s=e.createSelection(t.range)),!e.canEditAt(s))return;const a=t.resultRange;e.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const c=Array.from(i.selection.getAttributes());e.deleteContent(s),o&&e.insertContent(l.createText(o,c),s),a?l.setSelection(a):s.is("documentSelection")||l.setSelection(s),this._buffer.unlock(),this._buffer.input(r)})}}const Wb=["insertText","insertReplacementText"],Y5=[...Wb,"insertCompositionText"];class Z5 extends mi{constructor(t){super(t),m(this,"focusObserver"),this.focusObserver=t.getObserver(ha);const e=j.isAndroid?Y5:Wb,i=t.document;i.on("beforeinput",(o,r)=>{if(!this.isEnabled)return;const{data:s,targetRanges:a,inputType:l,domEvent:c}=r;if(!e.includes(l))return;this.focusObserver.flush();const d=new Ui(i,"insertText");i.fire(d,new Bo(t,c,{text:s,selection:t.createSelection(a)})),d.stop.called&&o.stop()}),j.isAndroid||i.on("compositionend",(o,{data:r,domEvent:s})=>{this.isEnabled&&r&&i.fire("insertText",new Bo(t,s,{text:r}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Gb extends C{constructor(){super(...arguments),m(this,"_compositionQueue")}static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model,i=t.editing.view,o=t.editing.mapper,r=e.document.selection;this._compositionQueue=new Q5(t),i.addObserver(Z5);const s=new K5(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",s),t.commands.add("input",s),this.listenTo(i.document,"insertText",(a,l)=>{i.document.isComposing||l.preventDefault(),j.isAndroid&&i.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:c,selection:d}=l;let u;u=d?Array.from(d.getRanges()).map(f=>o.toModelRange(f)):Array.from(r.getRanges());let h=c;if(j.isAndroid){const f=Array.from(u[0].getItems()).reduce((p,b)=>p+(b.is("$textProxy")?b.data:""),"");if(f&&(f.length<=h.length?h.startsWith(f)&&(h=h.substring(f.length),u[0].start=u[0].start.getShiftedBy(f.length)):f.startsWith(h)&&(u[0].start=u[0].start.getShiftedBy(h.length),h="")),h.length==0&&u[0].isCollapsed)return}const g={text:h,selection:e.createSelection(u)};j.isAndroid&&i.document.isComposing?this._compositionQueue.push(g):(t.execute("insertText",g),i.scrollToTheSelection())}),j.isAndroid?this.listenTo(i.document,"keydown",(a,l)=>{!r.isCollapsed&&l.keyCode==229&&i.document.isComposing&&Kb(e,s)}):this.listenTo(i.document,"compositionstart",()=>{r.isCollapsed||Kb(e,s)}),j.isAndroid?(this.listenTo(i.document,"mutations",(a,{mutations:l})=>{if(i.document.isComposing)for(const{node:c}of l){const d=J5(c,o),u=o.toModelElement(d);if(this._compositionQueue.isComposedElement(u))return void this._compositionQueue.flush("mutations")}}),this.listenTo(i.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(i.document,"compositionend",()=>{const a=[];for(const l of this._compositionQueue.flushComposedElements()){const c=o.toViewElement(l);c&&a.push({type:"children",node:c})}a.length&&i.document.fire("mutations",{mutations:a})},{priority:"lowest"})):this.listenTo(i.document,"compositionend",()=>{i.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class Q5{constructor(t){m(this,"editor"),m(this,"flushDebounced",di(()=>this.flush("timeout"),50)),m(this,"_queue",[]),m(this,"_compositionElements",new Set),this.editor=t}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(t){const e={text:t.text};if(t.selection){e.selectionRanges=[];for(const i of t.selection.getRanges())e.selectionRanges.push(Me.fromRange(i)),this._compositionElements.add(i.start.parent)}this._queue.push(e),this.flushDebounced()}shift(){const t=this._queue.shift(),e={text:t.text};if(t.selectionRanges){const i=t.selectionRanges.map(o=>function(r){const s=r.toRange();return r.detach(),s.root.rootName=="$graveyard"?null:s}(o)).filter(o=>!!o);i.length&&(e.selection=this.editor.model.createSelection(i))}return e}flush(t){const e=this.editor,i=e.model,o=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const r=e.commands.get("insertText").buffer;i.enqueueChange(r.batch,()=>{for(r.lock();this._queue.length;){const s=this.shift();e.execute("insertText",s)}r.unlock()}),o.scrollToTheSelection()}isComposedElement(t){return this._compositionElements.has(t)}flushComposedElements(){const t=Array.from(this._compositionElements);return this._compositionElements.clear(),t}}function Kb(n,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),n.enqueueChange(e.batch,()=>{n.deleteContent(n.document.selection)}),e.unlock()}function J5(n,t){let e=n.is("$text")?n.parent:n;for(;!t.toModelElement(e);)e=e.parent;return e}class Yb extends q{constructor(t,e){super(t),m(this,"direction"),m(this,"_buffer"),this.direction=e,this._buffer=new qb(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,i=e.document;e.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const r=o.createSelection(t.selection||i.selection);if(!e.canEditAt(r))return;const s=t.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&e.modifySelection(r,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(s))return void this._replaceEntireContentWithParagraph(o);if(this._shouldReplaceFirstBlockWithParagraph(r,s))return void this.editor.execute("paragraph",{selection:r});if(r.isCollapsed)return;let l=0;r.getFirstRange().getMinimalFlatRanges().forEach(c=>{l+=sc(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),o.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,i=e.document.selection,o=e.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(o))||!e.schema.checkChild(o,"paragraph"))return!1;const r=o.getChild(0);return!r||!r.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const e=this.editor.model,i=e.document.selection,o=e.schema.getLimitElement(i),r=t.createElement("paragraph");t.remove(t.createRangeIn(o)),t.insert(r,o),t.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const i=this.editor.model;if(e>1||this.direction!="backward"||!t.isCollapsed)return!1;const o=t.getFirstPosition(),r=i.schema.getLimitElement(o),s=r.getChild(0);return o.parent==s&&!!t.containsEntireContent(s)&&!!i.schema.checkChild(r,"paragraph")&&s.name!="paragraph"}}const Zb="word",En="selection",Wo="backward",is="forward",Qb={deleteContent:{unit:En,direction:Wo},deleteContentBackward:{unit:"codePoint",direction:Wo},deleteWordBackward:{unit:Zb,direction:Wo},deleteHardLineBackward:{unit:En,direction:Wo},deleteSoftLineBackward:{unit:En,direction:Wo},deleteContentForward:{unit:"character",direction:is},deleteWordForward:{unit:Zb,direction:is},deleteHardLineForward:{unit:En,direction:is},deleteSoftLineForward:{unit:En,direction:is}};class X5 extends mi{constructor(t){super(t);const e=t.document;let i=0;e.on("keydown",()=>{i++}),e.on("keyup",()=>{i=0}),e.on("beforeinput",(o,r)=>{if(!this.isEnabled)return;const{targetRanges:s,domEvent:a,inputType:l}=r,c=Qb[l];if(!c)return;const d={direction:c.direction,unit:c.unit,sequence:i};d.unit==En&&(d.selectionToRemove=t.createSelection(s[0])),l==="deleteContentBackward"&&(j.isAndroid&&(d.sequence=1),function(h){if(h.length!=1||h[0].isCollapsed)return!1;const g=h[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let f=0;for(const{nextPosition:p,item:b}of g){if(p.parent.is("$text")){const k=p.parent.data,w=p.offset;if(gc(k,w)||fc(k,w)||Sg(k,w))continue;f++}else(b.is("containerElement")||b.is("emptyElement"))&&f++;if(f>1)return!0}return!1}(s)&&(d.unit=En,d.selectionToRemove=t.createSelection(s)));const u=new Do(e,"delete",s[0]);e.fire(u,new Bo(t,a,d)),u.stop.called&&o.stop()}),j.isBlink&&function(o){const r=o.view,s=r.document;let a=null,l=!1;function c(u){return u==it.backspace||u==it.delete}function d(u){return u==it.backspace?Wo:is}s.on("keydown",(u,{keyCode:h})=>{a=h,l=!1}),s.on("keyup",(u,{keyCode:h,domEvent:g})=>{const f=s.selection,p=o.isEnabled&&h==a&&c(h)&&!f.isCollapsed&&!l;if(a=null,p){const b=f.getFirstRange(),k=new Do(s,"delete",b),w={unit:En,direction:d(h),selectionToRemove:f};s.fire(k,new Bo(r,g,w))}}),s.on("beforeinput",(u,{inputType:h})=>{const g=Qb[h];c(a)&&g&&g.direction==d(a)&&(l=!0)},{priority:"high"}),s.on("beforeinput",(u,{inputType:h,data:g})=>{a==it.delete&&h=="insertText"&&g=="\x7F"&&u.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Di extends C{constructor(){super(...arguments),m(this,"_undoOnBackspace")}static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=e.document,o=t.model.document;e.addObserver(X5),this._undoOnBackspace=!1;const r=new Yb(t,"forward");t.commands.add("deleteForward",r),t.commands.add("forwardDelete",r),t.commands.add("delete",new Yb(t,"backward")),this.listenTo(i,"delete",(s,a)=>{i.isComposing||a.preventDefault();const{direction:l,sequence:c,selectionToRemove:d,unit:u}=a,h=l==="forward"?"deleteForward":"delete",g={sequence:c};if(u=="selection"){const f=Array.from(d.getRanges()).map(p=>t.editing.mapper.toModelRange(p));g.selection=t.model.createSelection(f)}else g.unit=u;t.execute(h,g),e.scrollToTheSelection()},{priority:"low"}),this.listenTo(i,"keydown",(s,a)=>{if(i.isComposing||a.keyCode!=it.backspace||!o.selection.isCollapsed)return;const l=t.model.schema.getLimitElement(o.selection);t.model.createPositionAt(l,0).isTouching(o.selection.getFirstPosition())&&a.preventDefault()}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(s,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),a.preventDefault(),s.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Da extends C{static get requires(){return[Gb,Di]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}function Jb(n,t){let e=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((i,{item:o})=>o.is("$text")||o.is("$textProxy")?i+o.data:(e=t.createPositionAfter(o),""),""),range:t.createRange(e,n.end)}}class Xb extends wt(){constructor(t,e){super(),m(this,"model"),m(this,"testCallback"),m(this,"_hasMatch"),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(e,{directChange:i})=>{i&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(t,"change:data",(e,i)=>{!i.isUndo&&i.isLocal&&this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(t,e={}){const i=this.model,o=i.document.selection,r=i.createRange(i.createPositionAt(o.focus.parent,0),o.focus),{text:s,range:a}=Jb(r,i),l=this.testCallback(s);if(!l&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!l,l){const c=Object.assign(e,{text:s,range:a});typeof l=="object"&&Object.assign(c,l),this.fire(`matched:${t}`,c)}}}class Pa extends C{constructor(t){super(t),m(this,"attributes"),m(this,"_overrideUid"),m(this,"_isNextGravityRestorationSkipped",!1),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model,i=t.editing.view,o=t.locale,r=e.document.selection;this.listenTo(i.document,"arrowKey",(s,a)=>{if(!r.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==it.arrowright,c=a.keyCode==it.arrowleft;if(!l&&!c)return;const d=o.contentLanguageDirection;let u=!1;u=d==="ltr"&&l||d==="rtl"&&c?this._handleForwardMovement(a):this._handleBackwardMovement(a),u===!0&&s.stop()},{context:"$text",priority:"highest"}),this.listenTo(r,"change:range",(s,a)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!a.directChange&&ni(r.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,i=this.editor.model,o=i.document.selection,r=o.getFirstPosition();return!this._isGravityOverridden&&(!r.isAtStart||!Ji(o,e))&&!!ni(r,e)&&(t&&os(t),Ji(o,e)&&ni(r,e,!0)?ns(i,e):this._overrideGravity(),!0)}_handleBackwardMovement(t){const e=this.attributes,i=this.editor.model,o=i.document.selection,r=o.getFirstPosition();return this._isGravityOverridden?(t&&os(t),this._restoreGravity(),ni(r,e,!0)?ns(i,e):La(i,e,r),!0):r.isAtStart?!!Ji(o,e)&&(t&&os(t),La(i,e,r),!0):!Ji(o,e)&&ni(r,e,!0)?(t&&os(t),La(i,e,r),!0):!!tk(r,e)&&(r.isAtEnd&&!Ji(o,e)&&ni(r,e)?(t&&os(t),La(i,e,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const t=this.editor,e=t.model,i=e.document.selection,o=t.editing.view.document;t.editing.view.addObserver(pa),t.editing.view.addObserver(Cx);let r=!1,s=!1;this.listenTo(o,"touchstart",()=>{s=!1,r=!0}),this.listenTo(o,"mousedown",()=>{s=!0}),this.listenTo(o,"selectionChange",()=>{const a=this.attributes;if(!s&&!r||(s=!1,r=!1,!i.isCollapsed)||!Ji(i,a))return;const l=i.getFirstPosition();ni(l,a)&&(l.isAtStart||ni(l,a,!0)?ns(e,a):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection,i=this.attributes;this.listenTo(t,"insertContent",()=>{const o=e.getFirstPosition();Ji(e,i)&&ni(o,i)&&ns(t,i)},{priority:"low"})}_handleDeleteContentAfterNode(){const t=this.editor,e=t.model,i=e.document.selection,o=t.editing.view;let r=!1,s=!1;this.listenTo(o.document,"delete",(a,l)=>{r=l.direction==="backward"},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{if(!r)return;const a=i.getFirstPosition();s=Ji(i,this.attributes)&&!tk(a,this.attributes)},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{r&&(r=!1,s||t.model.enqueueChange(()=>{const a=i.getFirstPosition();Ji(i,this.attributes)&&ni(a,this.attributes)&&(a.isAtStart||ni(a,this.attributes,!0)?ns(e,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ji(n,t){for(const e of t)if(n.hasAttribute(e))return!0;return!1}function La(n,t,e){const i=e.nodeBefore;n.change(o=>{if(i){const r=[],s=n.schema.isObject(i)&&n.schema.isInline(i);for(const[a,l]of i.getAttributes())!n.schema.checkAttribute("$text",a)||s&&n.schema.getAttributeProperties(a).copyFromObject===!1||r.push([a,l]);o.setSelectionAttribute(r)}else o.removeSelectionAttribute(t)})}function ns(n,t){n.change(e=>{e.removeSelectionAttribute(t)})}function os(n){n.preventDefault()}function tk(n,t){return ni(n.getShiftedBy(-1),t)}function ni(n,t,e=!1){const{nodeBefore:i,nodeAfter:o}=n;for(const r of t){const s=i?i.getAttribute(r):void 0,a=o?o.getAttribute(r):void 0;if((!e||s!==void 0&&a!==void 0)&&a!==s)return!0}return!1}function Ba(n,t,e,i){return i.createRange(ek(n,t,e,!0,i),ek(n,t,e,!1,i))}function ek(n,t,e,i,o){let r=n.textNode||(i?n.nodeBefore:n.nodeAfter),s=null;for(;r&&r.getAttribute(t)==e;)s=r,r=i?r.previousSibling:r.nextSibling;return s?o.createPositionAt(s,i?"before":"after"):n}function ik(n,t,e,i){const o=n.editing.view,r=new Set;o.document.registerPostFixer(s=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(t)){const c=Ba(a.getFirstPosition(),t,a.getAttribute(t),n.model),d=n.editing.mapper.toViewRange(c);for(const u of d.getItems())u.is("element",e)&&!u.hasClass(i)&&(s.addClass(i,u),r.add(u),l=!0)}return l}),n.conversion.for("editingDowncast").add(s=>{function a(){o.change(l=>{for(const c of r.values())l.removeClass(i,c),r.delete(c)})}s.on("insert",a,{priority:"highest"}),s.on("remove",a,{priority:"highest"}),s.on("attribute",a,{priority:"highest"}),s.on("selection",a,{priority:"highest"})})}function Tn(n,t,e,i){let o,r=null;typeof i=="function"?o=i:(r=n.commands.get(i),o=()=>{n.execute(i)}),n.model.document.on("change:data",(s,a)=>{if(r&&!r.isEnabled||!t.isEnabled)return;const l=_t(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const c=Array.from(n.model.document.differ.getChanges()),d=c[0];if(c.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1)return;const u=d.position.parent;if(u.is("element","codeBlock")||u.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||r&&r.value===!0)return;const h=u.getChild(0),g=n.model.createRangeOn(h);if(!g.containsRange(l)&&!l.end.isEqual(g.end))return;const f=e.exec(h.data.substr(0,l.end.offset));f&&n.model.enqueueChange(p=>{const b=p.createPositionAt(u,0),k=p.createPositionAt(u,f[0].length),w=new Me(b,k);if(o({match:f})!==!1){p.remove(w);const _=n.model.document.selection.getFirstRange(),y=p.createRangeIn(u);!u.isEmpty||y.isEqual(_)||y.containsRange(_,!0)||p.remove(u)}w.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}function Go(n,t,e,i){let o,r;e instanceof RegExp?o=e:r=e,r=r||(s=>{let a;const l=[],c=[];for(;(a=o.exec(s))!==null&&!(a&&a.length<4);){let{index:d,1:u,2:h,3:g}=a;const f=u+h+g;d+=a[0].length-f.length;const p=[d,d+u.length],b=[d+u.length+h.length,d+u.length+h.length+g.length];l.push(p),l.push(b),c.push([d+u.length,d+u.length+h.length])}return{remove:l,format:c}}),n.model.document.on("change:data",(s,a)=>{if(a.isUndo||!a.isLocal||!t.isEnabled)return;const l=n.model,c=l.document.selection;if(!c.isCollapsed)return;const d=Array.from(l.document.differ.getChanges()),u=d[0];if(d.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)return;const h=c.focus,g=h.parent,{text:f,range:p}=function(_,y){let A=_.start;return{text:Array.from(_.getItems()).reduce((x,I)=>!I.is("$text")&&!I.is("$textProxy")||I.getAttribute("code")?(A=y.createPositionAfter(I),""):x+I.data,""),range:y.createRange(A,_.end)}}(l.createRange(l.createPositionAt(g,0),h),l),b=r(f),k=nk(p.start,b.format,l),w=nk(p.start,b.remove,l);k.length&&w.length&&l.enqueueChange(_=>{if(i(_,k)!==!1){for(const y of w.reverse())_.remove(y);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function nk(n,t,e){return t.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>e.createRange(n.getShiftedBy(i[0]),n.getShiftedBy(i[1])))}class tT extends C{static get requires(){return[Di]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&Tn(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&Tn(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&Tn(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&Tn(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const e=Na(this.editor,"bold");Go(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Go(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(t.get("italic")){const e=Na(this.editor,"italic");Go(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Go(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(t.get("code")){const e=Na(this.editor,"code");Go(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(t.get("strikethrough")){const e=Na(this.editor,"strikethrough");Go(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],o=new RegExp(`^(#{${i}})\\s$`);Tn(this.editor,this,o,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Tn(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&Tn(t,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Tn(this.editor,this,/^---$/,"horizontalLine")}}function Na(n,t){return(e,i)=>{if(!n.commands.get(t).isEnabled)return!1;const o=n.model.schema.getValidRanges(i,t);for(const r of o)e.setAttribute(t,!0,r);e.removeSelectionAttribute(t)}}class eT extends C{constructor(t){super(t),m(this,"adapter"),m(this,"_debouncedSave"),m(this,"_lastDocumentVersion"),m(this,"_savePromise"),m(this,"_domEmitter"),m(this,"_config"),m(this,"_pendingActions"),m(this,"_makeImmediateSave"),m(this,"_action",null);const e=t.config.get("autosave")||{},i=e.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=di(this._save.bind(this),i),this._lastDocumentVersion=t.model.document.version,this._savePromise=null,this._domEmitter=new(Se()),this._config=e,this._pendingActions=t.plugins.get(ba),this._makeImmediateSave=!1}static get pluginName(){return"Autosave"}static get isOfficialPlugin(){return!0}static get requires(){return[ba]}init(){const t=this.editor,e=t.model.document;this.listenTo(t,"ready",()=>{this.listenTo(e,"change:data",(i,o)=>{this._saveCallbacks.length&&o.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(t,"destroy",()=>this._flush(),{priority:"highest"}),this._domEmitter.listenTo(window,"beforeunload",(i,o)=>{this._pendingActions.hasAny&&(o.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(t=>t(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(t=>{throw this.state="error",this.state="saving",this._debouncedSave(),t}),this._savePromise)}_setPendingAction(){const t=this.editor.t;this._action||(this._action=this._pendingActions.add(t("Saving changes")))}get _saveCallbacks(){const t=[];return this.adapter&&this.adapter.save&&t.push(this.adapter.save),this._config.save&&t.push(this._config.save),t}}class ro extends q{constructor(t,e){super(t),m(this,"attributeKey"),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,i=e.document.selection,o=t.forceValue===void 0?!this.value:t.forceValue;e.change(r=>{if(i.isCollapsed)o?r.setSelectionAttribute(this.attributeKey,!0):r.removeSelectionAttribute(this.attributeKey);else{const s=e.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const a of s)o?r.setAttribute(this.attributeKey,o,a):r.removeAttribute(this.attributeKey,a)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,i=t.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const o of i.getRanges())for(const r of o.getItems())if(e.checkAttribute(r,this.attributeKey))return r.hasAttribute(this.attributeKey);return!1}}const Ko="bold";class iT extends C{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Ko}),t.model.schema.setAttributeProperties(Ko,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Ko,view:"strong",upcastAlso:["b",i=>{const o=i.getStyle("font-weight");return o&&(o=="bold"||Number(o)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(Ko,new ro(t,Ko)),t.keystrokes.set("CTRL+B",Ko),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function so({editor:n,commandName:t,plugin:e,icon:i,label:o,keystroke:r}){return s=>{const a=n.commands.get(t),l=new s(n.locale);return l.set({label:o,icon:i,keystroke:r,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof xt?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),e.listenTo(l,"execute",()=>{n.execute(t),n.editing.view.focus()}),l}}const xd="bold";class nT extends C{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=so({editor:t,commandName:xd,plugin:this,icon:Ap,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(xd,()=>i(V)),t.ui.componentFactory.add("menuBar:"+xd,()=>i(xt))}}class oT extends C{static get requires(){return[iT,nT]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const ao="code";class rT extends C{static get pluginName(){return"CodeEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Pa]}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:ao}),t.model.schema.setAttributeProperties(ao,{isFormatting:!0,copyOnEnter:!1}),t.conversion.attributeToElement({model:ao,view:"code"}),t.commands.add(ao,new ro(t,ao)),t.plugins.get(Pa).registerAttribute(ao),ik(t,ao,"code","ck-code_selected"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}const Ed="code";class sT extends C{static get pluginName(){return"CodeUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=so({editor:t,commandName:Ed,plugin:this,icon:C2,label:e("Code")});t.ui.componentFactory.add(Ed,()=>i(V)),t.ui.componentFactory.add("menuBar:"+Ed,()=>i(xt))}}class aT extends C{static get requires(){return[rT,sT]}static get pluginName(){return"Code"}static get isOfficialPlugin(){return!0}}const Yo="italic";class lT extends C{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Yo}),t.model.schema.setAttributeProperties(Yo,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Yo,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Yo,new ro(t,Yo)),t.keystrokes.set("CTRL+I",Yo),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}const Td="italic";class cT extends C{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=so({editor:t,commandName:Td,plugin:this,icon:z2,keystroke:"CTRL+I",label:e("Italic")});t.ui.componentFactory.add(Td,()=>i(V)),t.ui.componentFactory.add("menuBar:"+Td,()=>i(xt))}}class dT extends C{static get requires(){return[lT,cT]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}const rs="strikethrough";class uT extends C{static get pluginName(){return"StrikethroughEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:rs}),t.model.schema.setAttributeProperties(rs,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:rs,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),t.commands.add(rs,new ro(t,rs)),t.keystrokes.set("CTRL+SHIFT+X","strikethrough"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const Sd="strikethrough";class hT extends C{static get pluginName(){return"StrikethroughUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=so({editor:t,commandName:Sd,plugin:this,icon:gE,keystroke:"CTRL+SHIFT+X",label:e("Strikethrough")});t.ui.componentFactory.add(Sd,()=>i(V)),t.ui.componentFactory.add("menuBar:"+Sd,()=>i(xt))}}class mT extends C{static get requires(){return[uT,hT]}static get pluginName(){return"Strikethrough"}static get isOfficialPlugin(){return!0}}const ss="subscript";class gT extends C{static get pluginName(){return"SubscriptEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ss}),t.model.schema.setAttributeProperties(ss,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:ss,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add(ss,new ro(t,ss))}}const Id="subscript";class fT extends C{static get pluginName(){return"SubscriptUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=so({editor:t,commandName:Id,plugin:this,icon:fE,label:e("Subscript")});t.ui.componentFactory.add(Id,()=>i(V)),t.ui.componentFactory.add("menuBar:"+Id,()=>i(xt))}}class pT extends C{static get requires(){return[gT,fT]}static get pluginName(){return"Subscript"}static get isOfficialPlugin(){return!0}}const as="superscript";class bT extends C{static get pluginName(){return"SuperscriptEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:as}),t.model.schema.setAttributeProperties(as,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:as,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add(as,new ro(t,as))}}const Md="superscript";class kT extends C{static get pluginName(){return"SuperscriptUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=so({editor:t,commandName:Md,plugin:this,icon:pE,label:e("Superscript")});t.ui.componentFactory.add(Md,()=>i(V)),t.ui.componentFactory.add("menuBar:"+Md,()=>i(xt))}}class wT extends C{static get requires(){return[bT,kT]}static get pluginName(){return"Superscript"}static get isOfficialPlugin(){return!0}}const ls="underline";class _T extends C{static get pluginName(){return"UnderlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:ls}),t.model.schema.setAttributeProperties(ls,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:ls,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(ls,new ro(t,ls)),t.keystrokes.set("CTRL+U","underline"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Underline text"),keystroke:"CTRL+U"}]})}}const Dd="underline";class vT extends C{static get pluginName(){return"UnderlineUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=so({editor:t,commandName:Dd,plugin:this,icon:CE,label:e("Underline"),keystroke:"CTRL+U"});t.ui.componentFactory.add(Dd,()=>i(V)),t.ui.componentFactory.add("menuBar:"+Dd,()=>i(xt))}}class yT extends C{static get requires(){return[_T,vT]}static get pluginName(){return"Underline"}static get isOfficialPlugin(){return!0}}function*ok(n,t){for(const e of t)e&&n.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class CT extends q{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,i=e.document.selection,o=e.schema,r=i.isCollapsed,s=i.getFirstRange(),a=s.start.parent,l=s.end.parent;if(o.isLimit(a)||o.isLimit(l))return r||a!=l||e.deleteContent(i),!1;if(r){const c=ok(t.model.schema,i.getAttributes());return rk(t,s.start),t.setSelectionAttribute(c),!0}{const c=!(s.start.isAtStart&&s.end.isAtEnd),d=a==l;if(e.deleteContent(i,{leaveUnmerged:c}),c){if(d)return rk(t,i.focus),!0;t.setSelection(l,0)}}return!1}}function rk(n,t){n.split(t),n.setSelection(t.parent.nextSibling,0)}const AT={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class sk extends mi{constructor(t){super(t);const e=this.document;let i=!1;e.on("keydown",(o,r)=>{i=r.shiftKey}),e.on("beforeinput",(o,r)=>{if(!this.isEnabled)return;let s=r.inputType;j.isSafari&&i&&s=="insertParagraph"&&(s="insertLineBreak");const a=r.domEvent,l=AT[s];if(!l)return;const c=new Do(e,"enter",r.targetRanges[0]);e.fire(c,new Bo(t,a,{isSoft:l.isSoft})),c.stop.called&&o.stop()})}observe(){}stopObserving(){}}class za extends C{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=e.document,o=this.editor.t;e.addObserver(sk),t.commands.add("enter",new CT(t)),this.listenTo(i,"enter",(r,s)=>{i.isComposing||s.preventDefault(),s.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class xT extends q{execute(){const t=this.editor.model,e=t.document;t.change(i=>{(function(o,r,s){const a=s.isCollapsed,l=s.getFirstRange(),c=l.start.parent,d=l.end.parent,u=c==d;if(a){const h=ok(o.schema,s.getAttributes());ak(o,r,l.end),r.removeSelectionAttribute(s.getAttributeKeys()),r.setSelectionAttribute(h)}else{const h=!(l.start.isAtStart&&l.end.isAtEnd);o.deleteContent(s,{leaveUnmerged:h}),u?ak(o,r,s.focus):h&&r.setSelection(d,0)}})(t,i,e.selection),this.fire("afterExecute",{writer:i})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(i,o){if(o.rangeCount>1)return!1;const r=o.anchor;if(!r||!i.checkChild(r,"softBreak"))return!1;const s=o.getFirstRange(),a=s.start.parent,l=s.end.parent;return!((Pd(a,i)||Pd(l,i))&&a!==l)}(t.schema,e.selection)}}function ak(n,t,e){const i=t.createElement("softBreak");n.insertContent(i,e),t.setSelection(i,"after")}function Pd(n,t){return!n.is("rootElement")&&(t.isLimit(n)||Pd(n.parent,t))}class lk extends C{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.conversion,o=t.editing.view,r=o.document,s=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),o.addObserver(sk),t.commands.add("shiftEnter",new xT(t)),this.listenTo(r,"enter",(a,l)=>{r.isComposing||l.preventDefault(),l.isSoft&&(t.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class ET extends q{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.schema,o=e.document.selection,r=Array.from(o.getSelectedBlocks()),s=t.forceValue===void 0?!this.value:t.forceValue;e.change(a=>{if(s){const l=r.filter(c=>Oa(c)||dk(i,c));this._applyQuote(a,l)}else this._removeQuote(a,r.filter(Oa))})}_getValue(){const t=_t(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Oa(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,i=_t(t.getSelectedBlocks());return!!i&&dk(e,i)}_removeQuote(t,e){ck(t,e).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd)return void t.unwrap(i.start.parent);if(i.start.isAtStart){const r=t.createPositionBefore(i.start.parent);return void t.move(i,r)}i.end.isAtEnd||t.split(i.end);const o=t.createPositionAfter(i.end.parent);t.move(i,o)})}_applyQuote(t,e){const i=[];ck(t,e).reverse().forEach(o=>{let r=Oa(o.start);r||(r=t.createElement("blockQuote"),t.wrap(o,r)),i.push(r)}),i.reverse().reduce((o,r)=>o.nextSibling==r?(t.merge(t.createPositionAfter(o)),o):r)}}function Oa(n){return n.parent.name=="blockQuote"?n.parent:null}function ck(n,t){let e,i=0;const o=[];for(;i<t.length;){const r=t[i],s=t[i+1];e||(e=n.createPositionBefore(r)),s&&r.nextSibling==s||(o.push(n.createRange(e,n.createPositionAfter(r))),e=null),i++}return o}function dk(n,t){const e=n.checkChild(t.parent,"blockQuote"),i=n.checkChild(["$root","blockQuote"],t);return e&&i}class TT extends C{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[za,Di]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new ET(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(s=>{const a=t.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const c=l.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return s.remove(c),!0;if(c.is("element","blockQuote")&&!e.checkChild(l.position,c))return s.unwrap(c),!0;if(c.is("element")){const d=s.createRangeIn(c);for(const u of d.getItems())if(u.is("element","blockQuote")&&!e.checkChild(s.createPositionBefore(u),u))return s.unwrap(u),!0}}else if(l.type=="remove"){const c=l.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return s.remove(c),!0}return!1});const i=this.editor.editing.view.document,o=t.model.document.selection,r=t.commands.get("blockQuote");this.listenTo(i,"enter",(s,a)=>{!o.isCollapsed||!r.value||o.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),s.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(s,a)=>{if(a.direction!="backward"||!o.isCollapsed||!r.value)return;const l=o.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),s.stop())},{context:"blockquote"})}}class ST extends C{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("blockQuote",()=>{const e=this._createButton(V);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:blockQuote",()=>{const e=this._createButton(xt);return e.set({role:"menuitemcheckbox"}),e})}_createButton(t){const e=this.editor,i=e.locale,o=e.commands.get("blockQuote"),r=new t(e.locale),s=i.t;return r.set({label:s("Block quote"),icon:lE,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value"),this.listenTo(r,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),r}}class IT extends C{static get requires(){return[TT,ST]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}class MT extends kt(){constructor(){super(...arguments),m(this,"_stack",[])}add(t,e){const i=this._stack,o=i[0];this._insertDescriptor(t);const r=i[0];o===r||Ld(o,r)||this.fire("change:top",{oldDescriptor:o,newDescriptor:r,writer:e})}remove(t,e){const i=this._stack,o=i[0];this._removeDescriptor(t);const r=i[0];o===r||Ld(o,r)||this.fire("change:top",{oldDescriptor:o,newDescriptor:r,writer:e})}_insertDescriptor(t){const e=this._stack,i=e.findIndex(r=>r.id===t.id);if(Ld(t,e[i]))return;i>-1&&e.splice(i,1);let o=0;for(;e[o]&&DT(e[o],t);)o++;e.splice(o,0,t)}_removeDescriptor(t){const e=this._stack,i=e.findIndex(o=>o.id===t);i>-1&&e.splice(i,1)}}function Ld(n,t){return n&&t&&n.priority==t.priority&&Ra(n.classes)==Ra(t.classes)}function DT(n,t){return n.priority>t.priority||!(n.priority<t.priority)&&Ra(n.classes)>Ra(t.classes)}function Ra(n){return Array.isArray(n)?n.sort().join(","):n}const PT="ck-widget",uk="ck-widget_selected";function Kt(n){return!!n.is("element")&&!!n.getCustomProperty("widget")}function Va(n,t,e={}){if(!n.is("containerElement"))throw new v("widget-to-widget-wrong-element-type",null,{element:n});return t.setAttribute("contenteditable","false",n),t.addClass(PT,n),t.setCustomProperty("widget",!0,n),n.getFillerOffset=OT,t.setCustomProperty("widgetLabel",[],n),e.label&&NT(n,e.label),e.hasSelectionHandle&&function(i,o){const r=o.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(s){const a=this.toDomElement(s),l=new Ti;return l.set("content",E2),l.render(),a.appendChild(l.element),a});o.insert(o.createPositionAt(i,0),r),o.addClass(["ck-widget_with-selection-handle"],i)}(n,t),hk(n,t),n}function LT(n,t,e){if(t.classes&&e.addClass(Dt(t.classes),n),t.attributes)for(const i in t.attributes)e.setAttribute(i,t.attributes[i],n)}function BT(n,t,e){if(t.classes&&e.removeClass(Dt(t.classes),n),t.attributes)for(const i in t.attributes)e.removeAttribute(i,n)}function hk(n,t,e=LT,i=BT){const o=new MT;o.on("change:top",(r,s)=>{s.oldDescriptor&&i(n,s.oldDescriptor,s.writer),s.newDescriptor&&e(n,s.newDescriptor,s.writer)}),t.setCustomProperty("addHighlight",(r,s,a)=>o.add(s,a),n),t.setCustomProperty("removeHighlight",(r,s,a)=>o.remove(s,a),n)}function NT(n,t){n.getCustomProperty("widgetLabel").push(t)}function zT(n){return n.getCustomProperty("widgetLabel").reduce((t,e)=>typeof e=="function"?t?t+". "+e():e():t?t+". "+e:e,"")}function mk(n,t,e={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),e.withAriaRole!==!1&&t.setAttribute("role","textbox",n),t.setAttribute("tabindex","-1",n),e.label&&t.setAttribute("aria-label",e.label,n),t.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(i,o,r)=>{t.setAttribute("contenteditable",r?"false":"true",n)}),n.on("change:isFocused",(i,o,r)=>{r?t.addClass("ck-editor__nested-editable_focused",n):t.removeClass("ck-editor__nested-editable_focused",n)}),hk(n,t),n}function Bd(n,t){const e=n.getSelectedElement();if(e){const i=Sn(n);if(i)return t.createRange(t.createPositionAt(e,i))}return t.schema.findOptimalInsertionRange(n)}function OT(){return null}function Nd(n){const t=s=>{const{width:a,paddingLeft:l,paddingRight:c}=s.ownerDocument.defaultView.getComputedStyle(s);return parseFloat(a)-(parseFloat(l)||0)-(parseFloat(c)||0)},e=n.parentElement;if(!e)return 0;let i=t(e),o=0,r=e;for(;isNaN(i);){if(r=r.parentElement,++o>5)return 0;i=t(r)}return i}function RT(n,t=new K(n)){const e=Nd(n);return e?t.width/e*100:0}const Xi="widget-type-around";function lo(n,t,e){return!!n&&Kt(n)&&!e.isInline(t)}function Sn(n){return n.getAttribute(Xi)}const gk=["before","after"],VT=new DOMParser().parseFromString(dE,"image/svg+xml").firstChild,fk="ck-widget__type-around_disabled";class FT extends C{constructor(){super(...arguments),m(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[za,Di]}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",(i,o,r)=>{e.change(s=>{for(const a of e.document.roots)r?s.removeClass(fk,a):s.addClass(fk,a)}),r||t.model.change(s=>{s.removeSelectionAttribute(Xi)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const i=this.editor,o=i.editing.view,r=i.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(t,e),attributes:r}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(t,e,i,o){this.listenTo(t,e,(...r)=>{this.isEnabled&&i(...r)},o)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=Sn(t);if(!e)return!1;const i=t.getSelectedElement();return this._insertParagraph(i,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,i=t.locale.t,o={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(r,s,a)=>{const l=a.mapper.toViewElement(s.item);l&&lo(l,s.item,e)&&(function(c,d,u){const h=c.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(g){const f=this.toDomElement(g);return function(p,b){for(const k of gk){const w=new ti({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${k}`],title:b[k],"aria-hidden":"true"},children:[p.ownerDocument.importNode(VT,!0)]});p.appendChild(w.render())}}(f,d),function(p){const b=new ti({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});p.appendChild(b.render())}(f),f});c.insert(c.createPositionAt(u,"end"),h)}(a.writer,o,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,i=e.document.selection,o=e.schema,r=t.editing.view;function s(a){return`ck-widget_type-around_show-fake-caret_${a}`}this._listenToIfEnabled(r.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[Kt,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(a,l)=>{l.directChange&&t.model.change(c=>{c.removeSelectionAttribute(Xi)})}),this._listenToIfEnabled(e.document,"change:data",()=>{const a=i.getSelectedElement();a&&lo(t.editing.mapper.toViewElement(a),a,o)||t.model.change(l=>{l.removeSelectionAttribute(Xi)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(a,l,c)=>{const d=c.writer;if(this._currentFakeCaretModelElement){const f=c.mapper.toViewElement(this._currentFakeCaretModelElement);f&&(d.removeClass(gk.map(s),f),this._currentFakeCaretModelElement=null)}const u=l.selection.getSelectedElement();if(!u)return;const h=c.mapper.toViewElement(u);if(!lo(h,u,o))return;const g=Sn(l.selection);g&&(d.addClass(s(g),h),this._currentFakeCaretModelElement=u)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(a,l,c)=>{c||t.model.change(d=>{d.removeSelectionAttribute(Xi)})})}_handleArrowKeyPress(t,e){const i=this.editor,o=i.model,r=o.document.selection,s=o.schema,a=i.editing.view,l=PC(e.keyCode,i.locale.contentLanguageDirection),c=a.document.selection.getSelectedElement();let d;lo(c,i.editing.mapper.toModelElement(c),s)?d=this._handleArrowKeyPressOnSelectedWidget(l):r.isCollapsed?d=this._handleArrowKeyPressWhenSelectionNextToAWidget(l):e.shiftKey||(d=this._handleArrowKeyPressWhenNonCollapsedSelection(l)),d&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,i=Sn(e.document.selection);return e.change(o=>i?i!==(t?"after":"before")?(o.removeSelectionAttribute(Xi),!0):!1:(o.setSelectionAttribute(Xi,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,i=e.model,o=i.schema,r=e.plugins.get("Widget"),s=r._getObjectElementNextToSelection(t);return!!lo(e.editing.mapper.toViewElement(s),s,o)&&(i.change(a=>{r._setSelectionOverElement(s),a.setSelectionAttribute(Xi,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,i=e.model,o=i.schema,r=e.editing.mapper,s=i.document.selection,a=t?s.getLastPosition().nodeBefore:s.getFirstPosition().nodeAfter;return!!lo(r.toViewElement(a),a,o)&&(i.change(l=>{l.setSelection(a,"on"),l.setSelectionAttribute(Xi,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",(i,o)=>{const r=o.domTarget.closest(".ck-widget__type-around__button");if(!r)return;const s=function(c){return c.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(r),a=function(c,d){const u=c.closest(".ck-widget");return d.mapDomToView(u)}(r,e.domConverter),l=t.editing.mapper.toModelElement(a);this._insertParagraph(l,s),o.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection,i=t.editing.view;this._listenToIfEnabled(i.document,"enter",(o,r)=>{if(o.eventPhase!="atTarget")return;const s=e.getSelectedElement(),a=t.editing.mapper.toViewElement(s),l=t.model.schema;let c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:lo(a,s,l)&&(this._insertParagraph(s,r.isSoft?"before":"after"),c=!0),c&&(r.preventDefault(),o.stop())},{context:Kt})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(e,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=t.selection)},{priority:"high"}),j.isAndroid?this._listenToIfEnabled(t,"keydown",(e,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.editing.view,i=t.model,o=i.schema;this._listenToIfEnabled(e.document,"delete",(r,s)=>{if(r.eventPhase!="atTarget")return;const a=Sn(i.document.selection);if(!a)return;const l=s.direction,c=i.document.selection.getSelectedElement(),d=l=="forward";if(a==="before"===d)t.execute("delete",{selection:i.createSelection(c,"on")});else{const u=o.getNearestSelectionRange(i.createPositionAt(c,a),l);if(u)if(u.isCollapsed){const h=i.createSelection(u.start);if(i.modifySelection(h,{direction:l}),h.focus.isEqual(u.start)){const g=function(f,p){let b=p;for(const k of p.getAncestors({parentFirst:!0})){if(k.childCount>1||f.isLimit(k))break;b=k}return b}(o,u.start.parent);i.deleteContent(i.createSelection(g,"on"),{doNotAutoparagraph:!0})}else i.change(g=>{g.setSelection(u),t.execute(d?"deleteForward":"delete")})}else i.change(h=>{h.setSelection(u),t.execute(d?"deleteForward":"delete")})}s.preventDefault(),r.stop()},{context:Kt})}_enableInsertContentIntegration(){const t=this.editor,e=this.editor.model,i=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",(o,[r,s])=>{if(s&&!s.is("documentSelection"))return;const a=Sn(i);return a?(o.stop(),e.change(l=>{const c=i.getSelectedElement(),d=e.createPositionAt(c,a),u=l.createSelection(d),h=e.insertContent(r,u);return l.setSelection(u),h})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",(i,o)=>{const[,r,s={}]=o;if(r&&!r.is("documentSelection"))return;const a=Sn(e);a&&(s.findOptimalPosition=a,o[3]=s)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(i,[o])=>{o&&!o.is("documentSelection")||Sn(e)&&i.stop()},{priority:"high"})}}function jT(n){const t=n.model;return(e,i)=>{const o=i.keyCode==it.arrowup,r=i.keyCode==it.arrowdown,s=i.shiftKey,a=t.document.selection;if(!o&&!r)return;const l=r;if(s&&function(d,u){return!d.isCollapsed&&d.isBackward==u}(a,l))return;const c=function(d,u,h){const g=d.model;if(h){const f=u.isCollapsed?u.focus:u.getLastPosition(),p=pk(g,f,"forward");if(!p)return null;const b=g.createRange(f,p),k=bk(g.schema,b,"backward");return k?g.createRange(f,k):null}{const f=u.isCollapsed?u.focus:u.getFirstPosition(),p=pk(g,f,"backward");if(!p)return null;const b=g.createRange(p,f),k=bk(g.schema,b,"forward");return k?g.createRange(k,f):null}}(n,a,l);if(c){if(c.isCollapsed&&(a.isCollapsed||s))return;(c.isCollapsed||function(d,u,h){const g=d.model,f=d.view.domConverter;if(h){const _=g.createSelection(u.start);g.modifySelection(_),_.focus.isAtEnd||u.start.isEqual(_.focus)||(u=g.createRange(_.focus,u.end))}const p=d.mapper.toViewRange(u),b=f.viewRangeToDom(p),k=K.getDomRangeRects(b);let w;for(const _ of k)if(w!==void 0){if(Math.round(_.top)>=w)return!1;w=Math.max(w,Math.round(_.bottom))}else w=Math.round(_.bottom);return!0}(n,c,l))&&(t.change(d=>{const u=l?c.end:c.start;if(s){const h=t.createSelection(a.anchor);h.setFocus(u),d.setSelection(h)}else d.setSelection(u)}),e.stop(),i.preventDefault(),i.stopPropagation())}}}function pk(n,t,e){const i=n.schema,o=n.createRangeIn(t.root),r=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:l}of o.getWalker({startPosition:t,direction:e})){if(i.isLimit(a)&&!i.isInline(a))return s;if(l==r&&i.isBlock(a))return null}return null}function bk(n,t,e){const i=e=="backward"?t.end:t.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:o}of t.getWalker({direction:e}))if(n.checkChild(o,"$text"))return o;return null}class Zo extends C{constructor(){super(...arguments),m(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[FT,Di]}init(){const t=this.editor,e=t.editing.view,i=e.document,o=t.t;this.editor.editing.downcastDispatcher.on("selection",(r,s,a)=>{const l=a.writer,c=s.selection;if(c.isCollapsed)return;const d=c.getSelectedElement();if(!d)return;const u=t.editing.mapper.toViewElement(d);Kt(u)&&a.consumable.consume(c,"selection")&&l.setSelection(l.createRangeOn(u),{fake:!0,label:zT(u)})}),this.editor.editing.downcastDispatcher.on("selection",(r,s,a)=>{this._clearPreviouslySelectedWidgets(a.writer);const l=a.writer,c=l.document.selection;let d=null;for(const u of c.getRanges())for(const h of u){const g=h.item;Kt(g)&&!HT(g,d)&&(l.addClass(uk,g),this._previouslySelected.add(g),d=g)}},{priority:"low"}),e.addObserver(pa),this.listenTo(i,"mousedown",(...r)=>this._onMousedown(...r)),this.listenTo(i,"arrowKey",(...r)=>{this._handleSelectionChangeOnArrowKeyPress(...r)},{context:[Kt,"$text"]}),this.listenTo(i,"arrowKey",(...r)=>{this._preventDefaultOnArrowKeyPress(...r)},{context:"$root"}),this.listenTo(i,"arrowKey",jT(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(r,s)=>{this._handleDelete(s.direction=="forward")&&(s.preventDefault(),r.stop())},{context:"$root"}),this.listenTo(i,"tab",(r,s)=>{r.eventPhase=="atTarget"&&(s.shiftKey||this._selectFirstNestedEditable()&&(s.preventDefault(),r.stop()))},{context:Kt,priority:"low"}),this.listenTo(i,"tab",(r,s)=>{s.shiftKey&&this._selectAncestorWidget()&&(s.preventDefault(),r.stop())},{priority:"low"}),this.listenTo(i,"keydown",(r,s)=>{s.keystroke==it.esc&&this._selectAncestorWidget()&&(s.preventDefault(),r.stop())},{priority:"low"}),t.accessibility.addKeystrokeInfoGroup({id:"widget",label:o("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:o("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:o("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:o("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:o("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:o("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(t,e){const i=this.editor,o=i.editing.view,r=o.document;let s=e.target;if(!s)return;if(e.domEvent.detail>=3)return void(this._selectBlockContent(s)&&e.preventDefault());if(!Kt(s)){const l=function(c){let d=c;for(;d;){if(d.is("editableElement")||Kt(d))return d;d=d.parent}return null}(s);if(!l)return;if(Kt(l))s=l;else{const c=function(d,u){const h=lg(u.domEvent);let g=null;if(g=h?d.domConverter.domRangeToView(h):d.createRange(d.createPositionAt(u.target,0)),!g)return null;const f=g.start;if(!f.parent)return null;let p=f.parent;return f.parent.is("editableElement")&&(f.isAtEnd&&f.nodeBefore?p=f.nodeBefore:f.isAtStart&&f.nodeAfter&&(p=f.nodeAfter)),p.is("$text")?p.parent:p}(o,e);if(!c||!Kt(c))return;s=c}}j.isAndroid&&e.preventDefault(),r.isFocused||o.focus();const a=i.editing.mapper.toModelElement(s);this._setSelectionOverElement(a)}_selectBlockContent(t){const e=this.editor,i=e.model,o=e.editing.mapper,r=i.schema,s=o.findMappedViewAncestor(this.editor.editing.view.createPositionAt(t,0)),a=function(l,c){for(const d of l.getAncestors({includeSelf:!0,parentFirst:!0})){if(c.checkChild(d,"$text"))return d;if(c.isLimit(d)&&!c.isObject(d))break}return null}(o.toModelElement(s),i.schema);return!!a&&(i.change(l=>{const c=r.isLimit(a)?null:function(h,g){const f=new Yi({startPosition:h});for(const{item:p}of f){if(g.isLimit(p)||!p.is("element"))return null;if(g.checkChild(p,"$text"))return p}return null}(l.createPositionAfter(a),r),d=l.createPositionAt(a,0),u=c?l.createPositionAt(c,0):l.createPositionAt(a,"end");l.setSelection(l.createRange(d,u))}),!0)}_handleSelectionChangeOnArrowKeyPress(t,e){const i=e.keyCode,o=this.editor.model,r=o.schema,s=o.document.selection,a=s.getSelectedElement(),l=na(i,this.editor.locale.contentLanguageDirection),c=l=="down"||l=="right",d=l=="up"||l=="down";if(a&&r.isObject(a)){const h=c?s.getLastPosition():s.getFirstPosition(),g=r.getNearestSelectionRange(h,c?"forward":"backward");return void(g&&(o.change(f=>{f.setSelection(g)}),e.preventDefault(),t.stop()))}if(!s.isCollapsed&&!e.shiftKey){const h=s.getFirstPosition(),g=s.getLastPosition(),f=h.nodeAfter,p=g.nodeBefore;return void((f&&r.isObject(f)||p&&r.isObject(p))&&(o.change(b=>{b.setSelection(c?g:h)}),e.preventDefault(),t.stop()))}if(!s.isCollapsed)return;const u=this._getObjectElementNextToSelection(c);if(u&&r.isObject(u)){if(r.isInline(u)&&d)return;this._setSelectionOverElement(u),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const i=this.editor.model,o=i.schema,r=i.document.selection.getSelectedElement();r&&o.isObject(r)&&(e.preventDefault(),t.stop())}_handleDelete(t){const e=this.editor.model.document.selection;if(!this.editor.model.canEditAt(e)||!e.isCollapsed)return;const i=this._getObjectElementNextToSelection(t);return i?(this.editor.model.change(o=>{let r=e.anchor.parent;for(;r.isEmpty;){const s=r;r=s.parent,o.remove(s)}this._setSelectionOverElement(i)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,i=e.schema,o=e.document.selection,r=e.createSelection(o);if(e.modifySelection(r,{direction:t?"forward":"backward"}),r.isEqual(o))return null;const s=t?r.focus.nodeBefore:r.focus.nodeAfter;return s&&i.isObject(s)?s:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(uk,e);this._previouslySelected.clear()}_selectFirstNestedEditable(){const t=this.editor,e=this.editor.editing.view.document;for(const i of e.selection.getFirstRange().getItems())if(i.is("editableElement")){const o=t.editing.mapper.toModelElement(i);if(!o)continue;const r=t.model.createPositionAt(o,0),s=t.model.schema.getNearestSelectionRange(r,"forward");return t.model.change(a=>{a.setSelection(s)}),!0}return!1}_selectAncestorWidget(){const t=this.editor,e=t.editing.mapper,i=t.editing.view.document.selection.getFirstPosition().parent,o=(i.is("$text")?i.parent:i).findAncestor(Kt);if(!o)return!1;const r=e.toModelElement(o);return!!r&&(t.model.change(s=>{s.setSelection(r,"on")}),!0)}}function HT(n,t){return!!t&&Array.from(n.getAncestors()).includes(t)}class Fa extends C{constructor(){super(...arguments),m(this,"_toolbarDefinitions",new Map),m(this,"_balloon")}static get requires(){return[Mi]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",i=>{(function(o){const r=o.getSelectedElement();return!(!r||!Kt(r))})(t.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:i,getRelatedElement:o,balloonClassName:r="ck-toolbar-container",positions:s}){if(!i.length)return void st("widget-toolbar-no-items",{toolbarId:t});const a=this.editor,l=a.t,c=new Qr(a.locale);if(c.ariaLabel=e||l("Widget toolbar"),this._toolbarDefinitions.has(t))throw new v("widget-toolbar-duplicated",this,{toolbarId:t});const d={view:c,getRelatedElement:o,balloonClassName:r,itemsConfig:i,positions:s,initialized:!1};a.ui.addToolbar(c,{isContextual:!0,beforeFocus:()=>{const u=o(a.editing.view.document.selection);u&&this._showToolbar(d,u)},afterBlur:()=>{this._hideToolbar(d)}}),this._toolbarDefinitions.set(t,d)}_updateToolbarsVisibility(){let t=0,e=null,i=null;for(const o of this._toolbarDefinitions.values()){const r=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&r)if(this.editor.ui.focusTracker.isFocused){const s=r.getAncestors().length;s>t&&(t=s,e=r,i=o)}else this._isToolbarVisible(o)&&this._hideToolbar(o);else this._isToolbarInBalloon(o)&&this._hideToolbar(o)}i&&this._showToolbar(i,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?kk(this.editor,e,t.positions):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:wk(this.editor,e,t.positions),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const o=i.getRelatedElement(this.editor.editing.view.document.selection);kk(this.editor,o,t.positions)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function kk(n,t,e){const i=n.plugins.get("ContextualBalloon"),o=wk(n,t,e);i.updatePosition(o)}function wk(n,t,e){const i=n.editing.view,o=pe.defaultPositions;return{target:i.domConverter.mapViewToDom(t),positions:e||[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class UT extends wt(){constructor(t){super(),m(this,"_referenceCoordinates"),m(this,"_options"),m(this,"_originalWidth"),m(this,"_originalHeight"),m(this,"_originalWidthPercents"),m(this,"_aspectRatio"),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(t,e,i){const o=new K(e);this.activeHandlePosition=function(s){const a=["top-left","top-right","bottom-right","bottom-left"];for(const l of a)if(s.classList.contains($T(l)))return l}(t),this._referenceCoordinates=function(s,a){const l=new K(s),c=a.split("-"),d={x:c[1]=="right"?l.right:l.left,y:c[0]=="bottom"?l.bottom:l.top};return d.x+=s.ownerDocument.defaultView.scrollX,d.y+=s.ownerDocument.defaultView.scrollY,d}(e,function(s){const a=s.split("-"),l={top:"bottom",bottom:"top",left:"right",right:"left"};return`${l[a[0]]}-${l[a[1]]}`}(this.activeHandlePosition)),this._originalWidth=o.width,this._originalHeight=o.height,this._aspectRatio=o.width/o.height;const r=i.style.width;r&&r.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(r):this._originalWidthPercents=RT(i,o)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}function $T(n){return`ck-widget__resizer__handle-${n}`}class qT extends P{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",e=>e?`ck-orientation-${e}`:"")],style:{display:t.if("_isVisible","none",e=>!e)}},children:[{text:t.to("_label")}]})}_bindToState(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",(i,o)=>i!==null&&o!==null),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(i,o,r)=>t.unit==="px"?`${i}\xD7${o}`:`${r}%`),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",(i,o,r)=>o<50||r<50?"above-center":i)}_dismiss(){this.unbind(),this._isVisible=!1}}class _k extends wt(){constructor(t){super(),m(this,"_state"),m(this,"_sizeView"),m(this,"_options"),m(this,"_viewResizerWrapper",null),m(this,"_initialViewWidth"),this._options=t,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(e,i)=>e&&i),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",e=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),e.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const t=this,e=this._options.viewElement;this._options.editor.editing.view.change(i=>{const o=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(r){const s=this.toDomElement(r);return t._appendHandles(s),t._appendSizeUI(s),s});i.insert(i.createPositionAt(e,"end"),o),i.addClass("ck-widget_with-resizer",e),this._viewResizerWrapper=o,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(t){this._state=new UT(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const e=this._proposeNewSize(t);this._options.editor.editing.view.change(l=>{const c=this._options.unit||"%",d=(c==="%"?e.widthPercents:e.width)+c;l.setStyle("width",d,this._options.viewElement)});const i=this._getHandleHost(),o=new K(i),r=Math.round(o.width),s=Math.round(o.height),a=new K(i);e.width=Math.round(a.width),e.height=Math.round(a.height),this.redraw(o),this.state.update({...e,handleHostWidth:r,handleHostHeight:s})}commit(){const t=this._options.unit||"%",e=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(e)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const e=this._domResizerWrapper;if(!((i=e)&&i.ownerDocument&&i.ownerDocument.contains(i)))return;var i;const o=e.parentElement,r=this._getHandleHost(),s=this._viewResizerWrapper,a=[s.getStyle("width"),s.getStyle("height"),s.getStyle("left"),s.getStyle("top")];let l;if(o.isSameNode(r)){const c=t||new K(r);l=[c.width+"px",c.height+"px",void 0,void 0]}else l=[r.offsetWidth+"px",r.offsetHeight+"px",r.offsetLeft+"px",r.offsetTop+"px"];xe(a,l)!=="same"&&this._options.editor.editing.view.change(c=>{c.setStyle({width:l[0],height:l[1],left:l[2],top:l[3]},s)})}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(t){const e=this.state,i={x:(o=t).pageX,y:o.pageY};var o;const r=!this._options.isCentered||this._options.isCentered(this),s={x:e._referenceCoordinates.x-(i.x+e.originalWidth),y:i.y-e.originalHeight-e._referenceCoordinates.y};r&&e.activeHandlePosition.endsWith("-right")&&(s.x=i.x-(e._referenceCoordinates.x+e.originalWidth)),r&&(s.x*=2);let a=Math.abs(e.originalWidth+s.x),l=Math.abs(e.originalHeight+s.y);return(a/e.aspectRatio>l?"width":"height")=="width"?l=a/e.aspectRatio:a=l*e.aspectRatio,{width:Math.round(a),height:Math.round(l),widthPercents:Math.min(Math.round(e.originalWidthPercents/e.originalWidth*a*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(t){const e=["top-left","top-right","bottom-right","bottom-left"];for(const o of e)t.appendChild(new ti({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(i=o,`ck-widget__resizer__handle-${i}`)}}).render());var i}_appendSizeUI(t){this._sizeView=new qT,this._sizeView.render(),t.appendChild(this._sizeView.element)}}class zd extends C{constructor(){super(...arguments),m(this,"_resizers",new Map),m(this,"_observer"),m(this,"_redrawSelectedResizerThrottled")}static get pluginName(){return"WidgetResize"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.editing,e=L.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),t.view.addObserver(pa),this._observer=new(Se()),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Io(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[o,r]of this._resizers)o.isAttached()||(this._resizers.delete(o),r.destroy())},{priority:"lowest"}),this._observer.listenTo(L.window,"resize",this._redrawSelectedResizerThrottled);const i=this.editor.editing.view.document.selection;i.on("change",()=>{const o=i.getSelectedElement(),r=this.getResizerByViewElement(o)||null;r?this.select(r):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const t of this._resizers.values())t.destroy();this._redrawSelectedResizerThrottled.cancel()}select(t){this.deselect(),this.selectedResizer=t,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(t){const e=new _k(t),i=this.editor.plugins;if(e.attach(),i.has("WidgetToolbarRepository")){const r=i.get("WidgetToolbarRepository");e.on("begin",()=>{r.forceDisabled("resize")},{priority:"lowest"}),e.on("cancel",()=>{r.clearForceDisabled("resize")},{priority:"highest"}),e.on("commit",()=>{r.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(t.viewElement,e);const o=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(o)==e&&this.select(e),e}getResizerByViewElement(t){return this._resizers.get(t)}_getResizerByHandle(t){for(const e of this._resizers.values())if(e.containsHandle(t))return e}_mouseDownListener(t,e){const i=e.domTarget;_k.isResizeHandle(i)&&(this._activeResizer=this._getResizerByHandle(i)||null,this._activeResizer&&(this._activeResizer.begin(i),t.stop(),e.preventDefault()))}_mouseMoveListener(t,e){this._activeResizer&&this._activeResizer.updateSize(e)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}class cs extends Ai{constructor(t){super(t),m(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const e=this.document;function i(o){return(r,s)=>{s.preventDefault();const a=s.dropRange?[s.dropRange]:null,l=new Ui(e,o);e.fire(l,{dataTransfer:s.dataTransfer,method:r.name,targetRanges:a,target:s.target,domEvent:s.domEvent}),l.stop.called&&s.stopPropagation()}}this.listenTo(e,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",i("dragging"),{priority:"low"})}onDomEvent(t){const e="clipboardData"in t?t.clipboardData:t.dataTransfer,i=t.type=="drop"||t.type=="paste",o={dataTransfer:new nf(e,{cacheFiles:i})};if(t.type=="drop"||t.type=="dragover"){const r=lg(t);o.dropRange=r&&this.view.domConverter.domRangeToView(r)}this.fire(t.type,t,o)}}function WT(n){return((n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}const vk=["figcaption","li"],yk=["ol","ul"];function Ck(n,t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return`
`;let e="",i=null;for(const o of t.getChildren())e+=GT(o,i)+Ck(n,o),i=o;if(t.is("rawElement")){const o=document.createElement("div");t.render(o,n),e+=Ak(o)}return e}function Ak(n){let t="";if(n.nodeType===Node.TEXT_NODE)return n.textContent;if(n.tagName==="BR")return`
`;for(const e of n.childNodes)t+=Ak(e);return t}function GT(n,t){return t?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||yk.includes(n.name)&&yk.includes(t.name)?`

`:n.is("containerElement")||t.is("containerElement")?vk.includes(n.name)||vk.includes(t.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:"":""}class ds extends C{constructor(){super(...arguments),m(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(t,e){this._markersToCopy.set(t,e)}_copySelectedFragmentWithMarkers(t,e,i=o=>o.model.getSelectedContent(o.model.document.selection)){return this.editor.model.change(o=>{const r=o.model.document.selection;o.setSelection(e);const s=this._insertFakeMarkersIntoSelection(o,o.model.document.selection,t),a=i(o),l=this._removeFakeMarkersInsideElement(o,a);for(const[c,d]of Object.entries(s)){l[c]||(l[c]=o.createRangeIn(a));for(const u of d)o.remove(u)}a.markers.clear();for(const[c,d]of Object.entries(l))a.markers.set(c,d);return o.setSelection(r),a})}_pasteMarkersIntoTransformedElement(t,e){const i=this._getPasteMarkersFromRangeMap(t);return this.editor.model.change(o=>{const r=this._insertFakeMarkersElements(o,i),s=e(o),a=this._removeFakeMarkersInsideElement(o,s);for(const l of Object.values(r).flat())o.remove(l);for(const[l,c]of Object.entries(a))o.model.markers.has(l)||o.addMarker(l,{usingOperation:!0,affectsData:!0,range:c});return s})}_pasteFragmentWithMarkers(t){const e=this._getPasteMarkersFromRangeMap(t.markers);t.markers.clear();for(const i of e)t.markers.set(i.name,i.range);return this.editor.model.insertContent(t)}_forceMarkersCopy(t,e,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const o=this._markersToCopy.get(t);this._markersToCopy.set(t,i),e(),o?this._markersToCopy.set(t,o):this._markersToCopy.delete(t)}_isMarkerCopyable(t,e){const i=this._getMarkerClipboardConfig(t);if(!i)return!1;if(!e)return!0;const{allowedActions:o}=i;return o==="all"||o.includes(e)}_hasMarkerConfiguration(t){return!!this._getMarkerClipboardConfig(t)}_getMarkerClipboardConfig(t){const[e]=t.split(":");return this._markersToCopy.get(e)||null}_insertFakeMarkersIntoSelection(t,e,i){const o=this._getCopyableMarkersFromSelection(t,e,i);return this._insertFakeMarkersElements(t,o)}_getCopyableMarkersFromSelection(t,e,i){const o=Array.from(e.getRanges()),r=new Set(o.flatMap(s=>Array.from(t.model.markers.getMarkersIntersectingRange(s))));return Array.from(r).filter(s=>{if(!this._isMarkerCopyable(s.name,i))return!1;const{copyPartiallySelected:a}=this._getMarkerClipboardConfig(s.name);if(!a){const l=s.getRange();return o.some(c=>c.containsRange(l,!0))}return!0}).map(s=>({name:i==="dragstart"?this._getUniqueMarkerName(s.name):s.name,range:s.getRange()}))}_getPasteMarkersFromRangeMap(t,e=null){const{model:i}=this.editor;return(t instanceof Map?Array.from(t.entries()):Object.entries(t)).flatMap(([o,r])=>{if(!this._hasMarkerConfiguration(o))return[{name:o,range:r}];if(this._isMarkerCopyable(o,e)){const s=this._getMarkerClipboardConfig(o),a=i.markers.has(o)&&i.markers.get(o).getRange().root.rootName==="$graveyard";return(s.duplicateOnPaste||a)&&(o=this._getUniqueMarkerName(o)),[{name:o,range:r}]}return[]})}_insertFakeMarkersElements(t,e){const i={},o=e.flatMap(r=>{const{start:s,end:a}=r.range;return[{position:s,marker:r,type:"start"},{position:a,marker:r,type:"end"}]}).sort(({position:r},{position:s})=>r.isBefore(s)?1:-1);for(const{position:r,marker:s,type:a}of o){const l=t.createElement("$marker",{"data-name":s.name,"data-type":a});i[s.name]||(i[s.name]=[]),i[s.name].push(l),t.insert(l,r)}return i}_removeFakeMarkersInsideElement(t,e){return gC(this._getAllFakeMarkersFromElement(t,e).reduce((i,o)=>{const r=o.markerElement&&t.createPositionBefore(o.markerElement);let s=i[o.name],a=!1;return s!=null&&s.start&&s!=null&&s.end&&(this._getMarkerClipboardConfig(o.name).duplicateOnPaste?i[this._getUniqueMarkerName(o.name)]=i[o.name]:a=!0,s=null),a||(i[o.name]={...s,[o.type]:r}),o.markerElement&&t.remove(o.markerElement),i},{}),i=>new E(i.start||t.createPositionFromPath(e,[0]),i.end||t.createPositionAt(e,"end")))}_getAllFakeMarkersFromElement(t,e){const i=Array.from(t.createRangeIn(e)).flatMap(({item:s})=>{if(!s.is("element","$marker"))return[];const a=s.getAttribute("data-name"),l=s.getAttribute("data-type");return[{markerElement:s,name:a,type:l}]}),o=[],r=[];for(const s of i)s.type==="end"&&(i.some(a=>a.name===s.name&&a.type==="start")||o.push({markerElement:null,name:s.name,type:"start"})),s.type==="start"&&(i.some(a=>a.name===s.name&&a.type==="end")||r.unshift({markerElement:null,name:s.name,type:"end"}));return[...o,...i,...r]}_getUniqueMarkerName(t){const e=t.split(":"),i=Ae().substring(1,6);return e.length===3?`${e.slice(0,2).join(":")}:${i}`:`${e.join(":")}:${i}`}}class Ie extends C{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[ds]}init(){this.editor.editing.view.addObserver(cs),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,i){const o=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const r=o._copySelectedFragmentWithMarkers(i,e);this.fire("outputTransformation",{dataTransfer:t,content:r,method:i})})}_setupPasteDrop(){const t=this.editor,e=t.model,i=t.editing.view,o=i.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(o,"clipboardInput",(s,a)=>{a.method!="paste"||t.model.canEditAt(t.model.document.selection)||s.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(s,a)=>{const l=a.dataTransfer;let c;if(a.content)c=a.content;else{let h="";l.getData("text/html")?h=function(g){return g.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(f,p)=>p.length==1?" ":p).replace(/<!--[\s\S]*?-->/g,"")}(l.getData("text/html")):l.getData("text/plain")&&(h=WT(l.getData("text/plain"))),c=this.editor.data.htmlProcessor.toView(h)}const d=new Ui(this,"inputTransformation"),u=l.getData("application/ckeditor5-editor-id")||null;this.fire(d,{content:c,dataTransfer:l,sourceEditorId:u,targetRanges:a.targetRanges,method:a.method}),d.stop.called&&s.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,a)=>{if(a.content.isEmpty)return;const l=this.editor.data.toModel(a.content,"$clipboardHolder");l.childCount!=0&&(s.stop(),e.change(()=>{this.fire("contentInsertion",{content:l,method:a.method,sourceEditorId:a.sourceEditorId,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,a)=>{a.resultRange=r._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,i=t.editing.view.document,o=(r,s)=>{const a=s.dataTransfer;s.preventDefault(),this._fireOutputTransformationEvent(a,e.selection,r.name)};this.listenTo(i,"copy",o,{priority:"low"}),this.listenTo(i,"cut",(r,s)=>{t.model.canEditAt(t.model.document.selection)?o(r,s):s.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(r,s)=>{const a=t.data.toView(s.content,{isClipboardPipeline:!0});i.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:a,method:s.method})},{priority:"low"}),this.listenTo(i,"clipboardOutput",(r,s)=>{s.content.isEmpty||(s.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(s.content)),s.dataTransfer.setData("text/plain",Ck(t.data.htmlProcessor.domConverter,s.content)),s.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),s.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}const Od=wn("px");class KT extends P{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",e=>!e)],style:{left:t.to("left",e=>Od(e)),top:t.to("top",e=>Od(e)),width:t.to("width",e=>Od(e))}}})}}class ja extends C{constructor(){super(...arguments),m(this,"removeDropMarkerDelayed",hc(()=>this.removeDropMarker(),40)),m(this,"_updateDropMarkerThrottled",Io(t=>this._updateDropMarker(t),40)),m(this,"_reconvertMarkerThrottled",Io(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0)),m(this,"_dropTargetLineView",new KT),m(this,"_domEmitter",new(Se())),m(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,e,i,o,r,s){this.removeDropMarkerDelayed.cancel();const a=xk(this.editor,t,e,i,o,r,s);if(a)return s&&s.containsRange(a)?this.removeDropMarker():void this._updateDropMarkerThrottled(a)}getFinalDropRange(t,e,i,o,r,s){const a=xk(this.editor,t,e,i,o,r,s);return this.removeDropMarker(),a}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change(e=>{e.removeMarker("drop-target")})}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:i})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);e.markerRange.isCollapsed?this._updateDropTargetLine(e.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const e=this.editor,i=e.model.markers;e.model.change(o=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(t)||o.updateMarker("drop-target",{range:t}):o.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(e){const i=this.toDomElement(e);return i.append("\u2060",e.createElement("span"),"\u2060"),i})}_updateDropTargetLine(t){const e=this.editor.editing,i=t.start.nodeBefore,o=t.start.nodeAfter,r=t.start.parent,s=i?e.mapper.toViewElement(i):null,a=s?e.view.domConverter.mapViewToDom(s):null,l=o?e.mapper.toViewElement(o):null,c=l?e.view.domConverter.mapViewToDom(l):null,d=e.mapper.toViewElement(r);if(!d)return;const u=e.view.domConverter.mapViewToDom(d),h=this._getScrollableRect(d),{scrollX:g,scrollY:f}=L.window,p=a?new K(a):null,b=c?new K(c):null,k=new K(u).excludeScrollbarsAndBorders(),w=p?p.bottom:k.top,_=b?b.top:k.bottom,y=L.window.getComputedStyle(u),A=w<=_?(w+_)/2:_;if(h.top<A&&A<h.bottom){const x=k.left+parseFloat(y.paddingLeft),I=k.right-parseFloat(y.paddingRight),z=Math.max(x+g,h.left),Y=Math.min(I+g,h.right);this._dropTargetLineView.set({isVisible:!0,left:z,top:A+f,width:Y-z})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const e=t.root.rootName;let i;if(this._scrollables.has(e))i=this._scrollables.get(e).domElement;else{i=function(r){let s=r;do{s=s.parentElement;const a=L.window.getComputedStyle(s).overflowY;if(a=="auto"||a=="scroll")break}while(s.tagName!="BODY");return s}(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const o=new Ar(i,this._reconvertMarkerThrottled);this._scrollables.set(e,{domElement:i,resizeObserver:o})}return new K(i).excludeScrollbarsAndBorders()}}function xk(n,t,e,i,o,r,s){const a=n.model,l=n.editing.mapper;let c=Tk(n,t);for(;c;){if(!r){if(a.schema.checkChild(c,"$text")){if(e){const d=e[0].start,u=l.toModelPosition(d);if(!s||Array.from(s.getItems({shallow:!0})).every(h=>a.schema.checkChild(u,h))){if(a.schema.checkChild(u,"$text"))return a.createRange(u);if(d)return Ha(n,Tk(n,d.parent),i,o)}}}else if(a.schema.isInline(c))return Ha(n,c,i,o)}if(a.schema.isBlock(c))return Ha(n,c,i,o);if(a.schema.checkChild(c,"$block")){const d=Array.from(c.getChildren()).filter(g=>g.is("element")&&!YT(n,g));let u=0,h=d.length;if(h==0)return a.createRange(a.createPositionAt(c,"end"));for(;u<h-1;){const g=Math.floor((u+h)/2);Ek(n,d[g],i,o)=="before"?h=g:u=g}return Ha(n,d[u],i,o)}c=c.parent}return null}function YT(n,t){const e=n.editing.mapper,i=n.editing.view.domConverter,o=e.toViewElement(t);if(!o)return!0;const r=i.mapViewToDom(o);return L.window.getComputedStyle(r).float!="none"}function Ha(n,t,e,i){const o=n.model;return o.createRange(o.createPositionAt(t,Ek(n,t,e,i)))}function Ek(n,t,e,i){const o=n.editing.mapper,r=n.editing.view.domConverter,s=o.toViewElement(t),a=r.mapViewToDom(s),l=new K(a);return n.model.schema.isInline(t)?e<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function Tk(n,t){const e=n.editing.mapper,i=n.editing.view,o=e.toModelElement(t);if(o)return o;const r=i.createPositionBefore(t),s=e.findMappedViewAncestor(r);return e.toModelElement(s)}class ZT extends C{constructor(){super(...arguments),m(this,"_isBlockDragging",!1),m(this,"_domEmitter",new(Se()))}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",(e,i,o)=>{o?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),j.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const e=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(e,"dragstart",(i,o)=>this._handleBlockDragStart(o)),this._domEmitter.listenTo(L.document,"dragover",(i,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(L.document,"drop",(i,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(L.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&e.setAttribute("draggable","true"),this.on("change:isEnabled",(i,o,r)=>{e.setAttribute("draggable",r?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const e=this.editor.model,i=e.document.selection,o=this.editor.editing.view,r=Array.from(i.getSelectedBlocks()),s=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));e.change(a=>a.setSelection(s)),this._isBlockDragging=!0,o.focus(),o.getObserver(cs).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const e=t.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=t.clientY,o=document.elementFromPoint(e,i),r=this.editor.editing.view;o&&o.closest(".ck-editor__editable")&&r.getObserver(cs).onDomEvent({...t,type:t.type,dataTransfer:t.dataTransfer,target:o,clientX:e,clientY:i,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class QT extends C{constructor(){super(...arguments),m(this,"_draggedRange"),m(this,"_draggingUid"),m(this,"_draggableElement"),m(this,"_clearDraggableAttributesDelayed",hc(()=>this._clearDraggableAttributes(),40)),m(this,"_blockMode",!1),m(this,"_domEmitter",new(Se())),m(this,"_previewContainer")}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[Ie,Zo,ja,ZT]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,e.addObserver(cs),e.addObserver(pa),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(i,o,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,o,r)=>{r||this._finalizeDragging(!1)}),j.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,i=t.editing.view,o=i.document,r=t.plugins.get(ja);this.listenTo(o,"dragstart",(s,a)=>{var l;if((l=a.target)!=null&&l.is("editableElement")||(this._prepareDraggedRange(a.target),!this._draggedRange))return void a.preventDefault();this._draggingUid=Ae(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const c=e.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,c,"dragstart");const{dataTransfer:d,domTarget:u,domEvent:h}=a,{clientX:g}=h;this._updatePreview({dataTransfer:d,domTarget:u,clientX:g}),a.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(o,"dragend",(s,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(L.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(o,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(o,"dragleave",()=>{r.removeDropMarkerDelayed()}),this.listenTo(o,"dragging",(s,a)=>{if(!this.isEnabled)return void(a.dataTransfer.dropEffect="none");const{clientX:l,clientY:c}=a.domEvent;r.updateDropMarker(a.target,a.targetRanges,l,c,this._blockMode,this._draggedRange),this._draggedRange||(a.dataTransfer.dropEffect="copy"),j.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),s.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,e=t.editing.view.document,i=t.plugins.get(ja);this.listenTo(e,"clipboardInput",(o,r)=>{if(r.method!="drop")return;const{clientX:s,clientY:a}=r.domEvent,l=i.getFinalDropRange(r.target,r.targetRanges,s,a,this._blockMode,this._draggedRange);if(!l)return this._finalizeDragging(!1),void o.stop();if(this._draggedRange&&this._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Sk(r.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(l,!0))return this._finalizeDragging(!1),void o.stop();r.targetRanges=[t.editing.mapper.toViewRange(l)]},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(Ie);t.on("contentInsertion",(e,i)=>{if(!this.isEnabled||i.method!=="drop")return;const o=i.targetRanges.map(r=>this.editor.editing.mapper.toModelRange(r));this.editor.model.change(r=>r.setSelection(o))},{priority:"high"}),t.on("contentInsertion",(e,i)=>{if(!this.isEnabled||i.method!=="drop")return;const o=Sk(i.dataTransfer)=="move",r=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(r&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,i=e.document;this.listenTo(i,"mousedown",(o,r)=>{if(j.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let s=Ik(r.target);if(j.isBlink&&!t.isReadOnly&&!s&&!i.selection.isCollapsed){const a=i.selection.getSelectedElement();a&&Kt(a)||(s=i.selection.editableElement)}s&&(e.change(a=>{a.setAttribute("draggable","true",s)}),this._draggableElement=t.editing.mapper.toModelElement(s))}),this.listenTo(i,"mouseup",()=>{j.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(e=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(t){const e=this.editor,i=e.model;e.plugins.get(ja).removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&i.change(o=>{const r=i.createSelection(this._draggedRange);i.deleteContent(r,{doNotAutoparagraph:!0});const s=r.getFirstPosition().parent;s.isEmpty&&!i.schema.checkChild(s,"$text")&&i.schema.checkChild(s,"paragraph")&&o.insertElement("paragraph",s,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const e=this.editor,i=e.model,o=i.document.selection,r=t?Ik(t):null;if(r){const c=e.editing.mapper.toModelElement(r);this._draggedRange=Me.fromRange(i.createRangeOn(c)),this._blockMode=i.schema.isBlock(c),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(o.isCollapsed&&!o.getFirstPosition().parent.isEmpty)return;const s=Array.from(o.getSelectedBlocks()),a=o.getFirstRange();if(s.length==0)return void(this._draggedRange=Me.fromRange(a));const l=Mk(i,s);if(s.length>1)this._draggedRange=Me.fromRange(l),this._blockMode=!0;else if(s.length==1){const c=a.start.isTouching(l.start)&&a.end.isTouching(l.end);this._draggedRange=Me.fromRange(c?l:a),this._blockMode=c}i.change(c=>c.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:t,domTarget:e,clientX:i}){const o=this.editor.editing.view,r=o.document.selection.editableElement,s=o.domConverter.mapViewToDom(r),a=L.window.getComputedStyle(s);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ui(L.document,"div",{style:"position: fixed; left: -999999px;"}),L.document.body.appendChild(this._previewContainer));const l=new K(s);if(s.contains(e))return;const c=parseFloat(a.paddingLeft),d=ui(L.document,"div");d.className="ck ck-content",d.style.width=a.width,d.style.paddingLeft=`${l.left-i+c}px`,j.isiOS&&(d.style.backgroundColor="white"),o.domConverter.setContentOf(d,t.getData("text/html")),t.setDragImage(d,0,0),this._previewContainer.appendChild(d)}}function Sk(n){return j.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function Ik(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(Kt);if(Kt(n))return n;const t=n.findAncestor(e=>Kt(e)||e.is("editableElement"));return Kt(t)?t:null}function Mk(n,t){const e=t[0],i=t[t.length-1],o=e.getCommonAncestor(i),r=n.createPositionBefore(e),s=n.createPositionAfter(i);if(o&&o.is("element")&&!n.schema.isLimit(o)){const a=n.createRangeOn(o),l=r.isTouching(a.start),c=s.isTouching(a.end);if(l&&c)return Mk(n,[o])}return n.createRange(r,s)}class JT extends C{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[Ie]}init(){const t=this.editor,e=t.model,i=t.editing.view,o=e.document.selection;i.addObserver(cs),t.plugins.get(Ie).on("contentInsertion",(r,s)=>{(function(a,l){let c=l.createRangeIn(a);if(a.childCount==1){const d=a.getChild(0);d.is("element")&&l.schema.isBlock(d)&&!l.schema.isObject(d)&&!l.schema.isLimit(d)&&(c=l.createRangeIn(d))}for(const d of c.getItems())if(!l.schema.isInline(d)||Array.from(d.getAttributeKeys()).find(u=>l.schema.getAttributeProperties(u).isFormatting))return!1;return!0})(s.content,e)&&e.change(a=>{const l=Array.from(o.getAttributes()).filter(([d])=>e.schema.getAttributeProperties(d).isFormatting);o.isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0}),l.push(...o.getAttributes());const c=a.createRangeIn(s.content);for(const d of c.getItems())for(const u of l)e.schema.checkAttribute(d,u[0])&&a.setAttribute(u[0],u[1],d)})})}}class Rd extends C{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[ds,Ie,QT,JT]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}const Vd=/^data:(\S*?);base64,/;class P3 extends kt(){constructor(t,e,i){if(super(),m(this,"file"),m(this,"xhr"),m(this,"_token"),m(this,"_apiAddress"),!t)throw new v("fileuploader-missing-file",null);if(!e)throw new v("fileuploader-missing-token",null);if(!i)throw new v("fileuploader-missing-api-address",null);this.file=function(o){var r;return typeof o!="string"?!1:!!((r=o.match(Vd))!=null&&r.length)}(t)?function(o,r=512){try{const s=o.match(Vd)[1],a=atob(o.replace(Vd,"")),l=[];for(let c=0;c<a.length;c+=r){const d=a.slice(c,c+r),u=new Array(d.length);for(let h=0;h<d.length;h++)u[h]=d.charCodeAt(h);l.push(new Uint8Array(u))}return new Blob(l,{type:s})}catch{throw new v("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=i}onProgress(t){return this.on("progress",(e,i)=>t(i)),this}onError(t){return this.once("error",(e,i)=>t(i)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this.xhr,e=i=>()=>this.fire("error",i);t.addEventListener("error",e("Network Error")),t.addEventListener("abort",e("Abort")),t.upload&&t.upload.addEventListener("progress",i=>{i.lengthComputable&&this.fire("progress",{total:i.total,uploaded:i.loaded})}),t.addEventListener("load",()=>{const i=t.status,o=t.response;if(i<200||i>299)return this.fire("error",o.message||o.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((i,o)=>{e.addEventListener("load",()=>{const r=e.status,s=e.response;return r<200||r>299?s.message?o(new v("fileuploader-uploading-data-failed",this,{message:s.message})):o(s.error):i(s)}),e.addEventListener("error",()=>o(new Error("Network Error"))),e.addEventListener("abort",()=>o(new Error("Abort"))),e.send(t)})}}function Ua(n){const t=n.t,e=n.config.get("codeBlock.languages");for(const i of e)i.label==="Plain text"&&(i.label=t("Plain text")),i.class===void 0&&(i.class=`language-${i.language}`);return e}function $a(n,t,e){const i={};for(const o of n)t==="class"?i[o[t].split(" ").shift()]=o[e]:i[o[t]]=o[e];return i}function Fd(n){return n.data.match(/^(\s*)/)[0]}function jd(n){const t=n.document.selection,e=[];if(t.isCollapsed)return[t.anchor];const i=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:o}of i){let r=o.is("$textProxy")?o.textNode:o;const s=r.parent;if(!s.is("element","codeBlock")||r.is("element","softBreak"))continue;for(;r.previousSibling&&!r.previousSibling.is("element","softBreak");)r=r.previousSibling;const a=r.is("$text")?r.startOffset+Fd(r).length:r.startOffset,l=n.createPositionAt(s,a);e.every(c=>!c.isEqual(l))&&e.push(l)}return e}function Dk(n){const t=_t(n.getSelectedBlocks());return!!t&&t.is("element","codeBlock")}function Pk(n,t){return!t.is("rootElement")&&!n.isLimit(t)&&n.checkChild(t.parent,"codeBlock")}function Lk(n,t,e,i){const o=$a(t,"language","label"),r=e.getAttribute("language");if(r in o){const s=o[r];return n(i==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",s)}return n(i==="enter"?"Entering code snippet":"Leaving code snippet")}function Bk(n,t){for(n.textNode&&(n=t.createPositionBefore(n.textNode));n.nodeBefore&&!n.nodeBefore.is("element","softBreak");)n=t.createPositionBefore(n.nodeBefore);const e=n.nodeAfter;return e&&e.is("$text")?e:null}class XT extends q{constructor(t){super(t),m(this,"_lastLanguage"),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor,i=e.model,o=i.document.selection,r=Ua(e)[0],s=Array.from(o.getSelectedBlocks()),a=t.forceValue==null?!this.value:t.forceValue,l=function(c,d,u){return c.language?c.language:c.usePreviousLanguageChoice&&d?d:u}(t,this._lastLanguage,r.language);i.change(c=>{a?this._applyCodeBlock(c,s,l):this._removeCodeBlock(c,s)})}_getValue(){const t=_t(this.editor.model.document.selection.getSelectedBlocks());return!!(t!=null&&t.is("element","codeBlock"))&&t.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,i=_t(t.getSelectedBlocks());return!!i&&Pk(e,i)}_applyCodeBlock(t,e,i){this._lastLanguage=i;const o=this.editor.model.schema,r=e.filter(s=>Pk(o,s));for(const s of r)t.rename(s,"codeBlock"),t.setAttribute("language",i,s),o.removeDisallowedAttributes([s],t),Array.from(s.getChildren()).filter(a=>!o.checkChild(s,a)).forEach(a=>t.remove(a));r.reverse().forEach((s,a)=>{const l=r[a+1];s.previousSibling===l&&(t.appendElement("softBreak",l),t.merge(t.createPositionBefore(s)))})}_removeCodeBlock(t,e){const i=e.filter(o=>o.is("element","codeBlock"));for(const o of i){const r=t.createRangeOn(o);for(const s of Array.from(r.getItems()).reverse())if(s.is("element","softBreak")&&s.parent.is("element","codeBlock")){const{position:a}=t.split(t.createPositionBefore(s)),l=a.nodeAfter;t.rename(l,"paragraph"),t.removeAttribute("language",l),t.remove(s)}t.rename(o,"paragraph"),t.removeAttribute("language",o)}}}class tS extends q{constructor(t){super(t),m(this,"_indentSequence"),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(e=>{const i=jd(t);for(const o of i){const r=e.createText(this._indentSequence);t.insertContent(r,o)}})}_checkEnabled(){return!!this._indentSequence&&Dk(this.editor.model.document.selection)}}class eS extends q{constructor(t){super(t),m(this,"_indentSequence"),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(()=>{const e=jd(t);for(const i of e){const o=Nk(t,i,this._indentSequence);o&&t.deleteContent(t.createSelection(o))}})}_checkEnabled(){if(!this._indentSequence)return!1;const t=this.editor.model;return!!Dk(t.document.selection)&&jd(t).some(e=>Nk(t,e,this._indentSequence))}}function Nk(n,t,e){const i=Bk(t,n);if(!i)return null;const o=Fd(i),r=o.lastIndexOf(e);if(r+e.length!==o.length||r===-1)return null;const{parent:s,startOffset:a}=i;return n.createRange(n.createPositionAt(s,a+r),n.createPositionAt(s,a+r+e.length))}function zk(n,t,e=!1){const i=$a(t,"language","class"),o=$a(t,"language","label");return(r,s,a)=>{const{writer:l,mapper:c,consumable:d}=a;if(!d.consume(s.item,"insert"))return;const u=s.item.getAttribute("language"),h=c.toViewPosition(n.createPositionBefore(s.item)),g={};e&&(g["data-language"]=o[u],g.spellcheck="false");const f=i[u]?{class:i[u]}:void 0,p=l.createContainerElement("code",f),b=l.createContainerElement("pre",g,p);l.insert(h,b),c.bindElements(s.item,p)}}const Ok="paragraph";class iS extends C{static get pluginName(){return"CodeBlockEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[lk]}constructor(t){super(t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const t=this.editor,e=t.model.schema,i=t.model,o=t.editing.view,r=Ua(t);t.commands.add("codeBlock",new XT(t)),t.commands.add("indentCodeBlock",new tS(t)),t.commands.add("outdentCodeBlock",new eS(t)),this.listenTo(o.document,"tab",(s,a)=>{const l=a.shiftKey?"outdentCodeBlock":"indentCodeBlock";t.commands.get(l).isEnabled&&(t.execute(l),a.stopPropagation(),a.preventDefault(),s.stop())},{context:"pre"}),e.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),e.addAttributeCheck((s,a)=>{const l=s.getItem(s.length-2);if(e.getAttributeProperties(a).isFormatting&&l&&l.name=="codeBlock")return!1}),t.editing.downcastDispatcher.on("insert:codeBlock",zk(i,r,!0)),t.data.downcastDispatcher.on("insert:codeBlock",zk(i,r)),t.data.downcastDispatcher.on("insert:softBreak",function(s){return(a,l,c)=>{if(l.item.parent.name!=="codeBlock")return;const{writer:d,mapper:u,consumable:h}=c;if(!h.consume(l.item,"insert"))return;const g=u.toViewPosition(s.createPositionBefore(l.item));d.insert(g,d.createText(`
`))}}(i),{priority:"high"}),t.data.upcastDispatcher.on("element:code",function(s,a){const l=$a(a,"class","language"),c=a[0].language;return(d,u,h)=>{const g=u.viewItem,f=g.parent;if(!f||!f.is("element","pre")||u.modelCursor.findAncestor("codeBlock"))return;const{consumable:p,writer:b}=h;if(!p.test(g,{name:!0}))return;const k=b.createElement("codeBlock"),w=[...g.getClassNames()];w.length||w.push("");for(const _ of w){const y=l[_];if(y){b.setAttribute("language",y,k);break}}k.hasAttribute("language")||b.setAttribute("language",c,k),h.convertChildren(g,k),h.safeInsert(k,u.modelCursor)&&(p.consume(g,{name:!0}),h.updateConversionResult(k,u))}}(0,r)),t.data.upcastDispatcher.on("text",(s,a,{consumable:l,writer:c})=>{let d=a.modelCursor;if(!l.test(a.viewItem)||!d.findAncestor("codeBlock"))return;l.consume(a.viewItem);const u=a.viewItem.data.split(`
`).map(g=>c.createText(g)),h=u[u.length-1];for(const g of u)if(c.insert(g,d),d=d.getShiftedBy(g.offsetSize),g!==h){const f=c.createElement("softBreak");c.insert(f,d),d=c.createPositionAfter(f)}a.modelRange=c.createRange(a.modelCursor,d),a.modelCursor=d}),t.data.upcastDispatcher.on("element:pre",(s,a,{consumable:l})=>{const c=a.viewItem;if(c.findAncestor("pre"))return;const d=Array.from(c.getChildren()),u=d.find(h=>h.is("element","code"));if(u)for(const h of d)h!==u&&h.is("$text")&&l.consume(h,{name:!0})},{priority:"high"}),this.listenTo(t.editing.view.document,"clipboardInput",(s,a)=>{let l=i.createRange(i.document.selection.anchor);if(a.targetRanges&&(l=t.editing.mapper.toModelRange(a.targetRanges[0])),!l.start.parent.is("element","codeBlock"))return;const c=a.dataTransfer.getData("text/plain"),d=new Ei(t.editing.view.document);a.content=function(u,h){const g=u.createDocumentFragment(),f=h.split(`
`),p=f.reduce((b,k,w)=>(b.push(k),w<f.length-1&&b.push(u.createElement("br")),b),[]);return u.appendChild(p,g),g}(d,c)}),t.plugins.has("ClipboardPipeline")&&t.plugins.get(Ie).on("contentInsertion",(s,a)=>{const l=t.model,c=l.document.selection;c.anchor.parent.is("element","codeBlock")&&l.change(d=>{const u=d.createRangeIn(a.content);for(const h of[...u.getItems()])h.is("node")&&!e.checkChild(c.anchor,h)&&d.remove(h)})}),this.listenTo(i,"getSelectedContent",(s,[a])=>{const l=a.anchor;!a.isCollapsed&&l.parent.is("element","codeBlock")&&l.hasSameParentAs(a.focus)&&i.change(c=>{const d=s.return;if(l.parent.is("element")&&(d.childCount>1||a.containsEntireContent(l.parent))){const h=c.createElement("codeBlock",l.parent.getAttributes());c.append(d,h);const g=c.createDocumentFragment();return c.append(h,g),void(s.return=g)}const u=d.getChild(0);e.checkAttribute(u,"code")&&c.setAttribute("code",!0,u)})})}afterInit(){const t=this.editor,e=t.commands,i=e.get("indent"),o=e.get("outdent");i&&i.registerChildCommand(e.get("indentCodeBlock"),{priority:"highest"}),o&&o.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",(r,s)=>{t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(a,l){const c=a.model,d=c.document,u=a.editing.view,h=d.selection.getLastPosition(),g=h.nodeAfter;return l||!d.selection.isCollapsed||!h.isAtStart||!co(g)?!1:(a.model.change(f=>{a.execute("enter");const p=d.selection.anchor.parent.previousSibling;f.rename(p,Ok),f.setSelection(p,"in"),a.model.schema.removeDisallowedAttributes([p],f),f.remove(g)}),u.scrollToTheSelection(),!0)}(t,s.isSoft)||function(a,l){const c=a.model,d=c.document,u=a.editing.view,h=d.selection.getLastPosition(),g=h.nodeBefore;let f;if(l||!d.selection.isCollapsed||!h.isAtEnd||!g||!g.previousSibling)return!1;if(co(g)&&co(g.previousSibling))f=c.createRange(c.createPositionBefore(g.previousSibling),c.createPositionAfter(g));else if(Hd(g)&&co(g.previousSibling)&&co(g.previousSibling.previousSibling))f=c.createRange(c.createPositionBefore(g.previousSibling.previousSibling),c.createPositionAfter(g));else{if(!(Hd(g)&&co(g.previousSibling)&&Hd(g.previousSibling.previousSibling)&&g.previousSibling.previousSibling&&co(g.previousSibling.previousSibling.previousSibling)))return!1;f=c.createRange(c.createPositionBefore(g.previousSibling.previousSibling.previousSibling),c.createPositionAfter(g))}return a.model.change(p=>{p.remove(f),a.execute("enter");const b=d.selection.anchor.parent;p.rename(b,Ok),a.model.schema.removeDisallowedAttributes([b],p)}),u.scrollToTheSelection(),!0}(t,s.isSoft)||function(a){const l=a.model,c=l.document;let d;const u=Bk(c.selection.getLastPosition(),l);u&&u.is("$text")&&(d=Fd(u)),a.model.change(h=>{a.execute("shiftEnter"),d&&h.insertText(d,c.selection.anchor)})}(t),s.preventDefault(),r.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor,o=Ua(this.editor);let r=null;t.document.selection.on("change:range",()=>{const s=t.document.selection.focus.parent;e&&r!==s&&s.is("element")&&(r&&r.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(Lk(i,o,r,"leave")),s.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(Lk(i,o,s,"enter")),r=s)})}}function Hd(n){return n&&n.is("$text")&&!n.data.match(/\S/)}function co(n){return n&&n.is("element","softBreak")}class nS extends C{static get pluginName(){return"CodeBlockUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=t.ui.componentFactory,o=Ua(t),r=this._getLanguageListItemDefinitions(o),s=t.commands.get("codeBlock");i.add("codeBlock",a=>{const l=ce(a,oo),c=l.buttonView,d=e("Insert code block");return c.set({label:d,tooltip:!0,icon:Ep,isToggleable:!0}),c.bind("isOn").to(s,"value",u=>!!u),c.on("execute",()=>{t.execute("codeBlock",{usePreviousLanguageChoice:!0}),t.editing.view.focus()}),l.on("execute",u=>{t.execute("codeBlock",{language:u.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(s),Cn(l,r,{role:"menu",ariaLabel:d}),l}),i.add("menuBar:codeBlock",a=>{const l=new Ke(a);l.buttonView.set({role:"menuitem",label:e("Code block"),icon:Ep}),l.bind("isEnabled").to(s);const c=new Qi(a);c.set({ariaLabel:e("Insert code block")});for(const d of r){const u=new Ii(a,l),h=new xt(a);h.bind(...Object.keys(d.model)).to(d.model),h.set({isToggleable:!0,role:"menuitemcheckbox"}),h.delegate("execute").to(l),h.on("execute",()=>{t.execute("codeBlock",{language:d.model._codeBlockLanguage,forceValue:s.value!=d.model._codeBlockLanguage}),t.editing.view.focus()}),u.children.add(h),c.items.add(u)}return l.panelView.children.add(c),l})}_getLanguageListItemDefinitions(t){const e=this.editor.commands.get("codeBlock"),i=new ie;for(const o of t){const r={type:"button",model:new Zi({_codeBlockLanguage:o.language,label:o.label,role:"menuitemradio",withText:!0})};r.model.bind("isOn").to(e,"value",s=>s===r.model._codeBlockLanguage),i.add(r)}return i}}class oS extends C{static get requires(){return[iS,nS]}static get pluginName(){return"CodeBlock"}static get isOfficialPlugin(){return!0}}class rS extends M5{constructor(t,e){super(t),m(this,"view"),this.view=e}get element(){return this.view.editable.element}init(){const t=this.editor,e=this.view,i=t.editing.view,o=e.editable,r=i.document.getRoot();o.name=r.rootName,e.render();const s=o.element;this.setEditableElement(o.name,s),o.bind("isFocused").to(this.focusTracker),i.attachDomRoot(s),this._initPlaceholder(),this.initMenuBar(this.view.menuBarView),this.fire("ready")}destroy(){super.destroy();const t=this.view,e=this.editor.editing.view;e.getDomRoot(t.editable.name)&&e.detachDomRoot(t.editable.name),t.destroy()}_initPlaceholder(){const t=this.editor,e=t.editing.view,i=e.document.getRoot(),o=t.config.get("placeholder");if(o){const r=typeof o=="string"?o:o[i.rootName];r&&(i.placeholder=r)}pc({view:e,element:i,isDirectHost:!1,keepOnFocus:!0})}}class sS extends D5{constructor(t,e,i,o){super(t),m(this,"editable"),m(this,"menuBarView"),this.editable=new L5(t,e,i,{label:o}),this.menuBarView=new q5(t),this.menuBarView.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:t.uiLanguageDirection}})}render(){super.render(),this.registerChild(this.editable),this.registerChild(this.menuBarView)}}class aS extends Kc(Ro){constructor(t,e={}){if(!qa(t)&&e.initialData!==void 0)throw new v("editor-create-initial-data",null);super(e),m(this,"ui"),this.config.get("initialData")===void 0&&this.config.set("initialData",function(r){return qa(r)?yC(r):r}(t)),qa(t)&&(this.sourceElement=t,c2(this,t));const i=this.config.get("plugins");i.push(F5),this.config.set("plugins",i),this.config.define("balloonToolbar",this.config.get("toolbar")),this.model.document.createRoot();const o=new sS(this.locale,this.editing.view,this.sourceElement,this.config.get("label"));this.ui=new rS(this,o),l2(this)}static get editorName(){return"BalloonEditor"}destroy(){const t=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(t)})}static create(t,e={}){return new Promise(i=>{if(qa(t)&&t.tagName==="TEXTAREA")throw new v("editor-wrong-element",null);const o=new this(t,e);i(o.initPlugins().then(()=>o.ui.init()).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}function qa(n){return bn(n)}var Ud,lS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rk={exports:{}};Ud=Rk,((n,t)=>{Ud.exports?Ud.exports=t():n.fuzzysort=t()})(lS,n=>{var t=M=>{typeof M=="number"?M=""+M:typeof M!="string"&&(M="");var T=f(M);return o(M,{_targetLower:T._lower,_targetLowerCodes:T.lowerCodes,_bitflags:T.bitflags})};class e{get indexes(){return this._indexes.slice(0,this._indexes.len).sort((T,R)=>T-R)}set indexes(T){return this._indexes=T}highlight(T,R){return((J,Z="<b>",G="</b>")=>{for(var ft=typeof Z=="function"?Z:void 0,pt=J.target,nt=pt.length,ot=J.indexes,yt="",jt=0,Nt=0,gt=!1,Mt=[],zt=0;zt<nt;++zt){var ne=pt[zt];if(ot[Nt]===zt){if(++Nt,gt||(gt=!0,ft?(Mt.push(yt),yt=""):yt+=Z),Nt===ot.length){ft?(yt+=ne,Mt.push(ft(yt,jt++)),yt="",Mt.push(pt.substr(zt+1))):yt+=ne+G+pt.substr(zt+1);break}}else gt&&(gt=!1,ft?(Mt.push(ft(yt,jt++)),yt=""):yt+=G);yt+=ne}return ft?Mt:yt})(this,T,R)}get score(){return r(this._score)}set score(T){this._score=s(T)}}class i extends Array{get score(){return r(this._score)}set score(T){this._score=s(T)}}var o=(M,T)=>{const R=new e;return R.target=M,R.obj=T.obj??Qt,R._score=T._score??ct,R._indexes=T._indexes??[],R._targetLower=T._targetLower??"",R._targetLowerCodes=T._targetLowerCodes??Qt,R._nextBeginningIndexes=T._nextBeginningIndexes??Qt,R._bitflags=T._bitflags??0,R},r=M=>M===ct?0:M>1?M:Math.E**(-2*((1-M)**.04307-1)),s=M=>M===0?ct:M>1?M:1-Math.pow(Math.log(M)/-2+1,1/.04307),a=M=>{typeof M=="number"?M=""+M:typeof M!="string"&&(M=""),M=M.trim();var T=f(M),R=[];if(T.containsSpace){var J=M.split(/\s+/);J=[...new Set(J)];for(var Z=0;Z<J.length;Z++)if(J[Z]!==""){var G=f(J[Z]);R.push({lowerCodes:G.lowerCodes,_lower:J[Z].toLowerCase(),containsSpace:!1})}}return{lowerCodes:T.lowerCodes,_lower:T._lower,containsSpace:T.containsSpace,bitflags:T.bitflags,spaceSearches:R}},l=M=>{if(M.length>999)return t(M);var T=b.get(M);return T!==void 0||(T=t(M),b.set(M,T)),T},c=M=>{if(M.length>999)return a(M);var T=k.get(M);return T!==void 0||(T=a(M),k.set(M,T)),T},d=(M,T)=>{var R=[];R.total=M.length;var J=T?.limit||we;if(T!=null&&T.key)for(var Z=0;Z<M.length;Z++){var G=M[Z];if((ot=Y(G,T.key))!=Qt){Vt(ot)||(ot=l(ot));var ft=o(ot.target,{_score:ot._score,obj:G});if(R.push(ft),R.length>=J)return R}}else if(T!=null&&T.keys)for(Z=0;Z<M.length;Z++){G=M[Z];for(var pt=new i(T.keys.length),nt=T.keys.length-1;nt>=0;--nt)(ot=Y(G,T.keys[nt]))?(Vt(ot)||(ot=l(ot)),ot._score=ct,ot._indexes.len=0,pt[nt]=ot):pt[nt]=Bn;if(pt.obj=G,pt._score=ct,R.push(pt),R.length>=J)return R}else for(Z=0;Z<M.length;Z++){var ot;if((ot=M[Z])!=Qt&&(Vt(ot)||(ot=l(ot)),ot._score=ct,ot._indexes.len=0,R.push(ot),R.length>=J))return R}return R},u=(M,T,R=!1,J=!1)=>{if(R===!1&&M.containsSpace)return h(M,T,J);for(var Z=M._lower,G=M.lowerCodes,ft=G[0],pt=T._targetLowerCodes,nt=G.length,ot=pt.length,yt=0,jt=0,Nt=0;;){if(ft===pt[jt]){if(w[Nt++]=jt,++yt===nt)break;ft=G[yt]}if(++jt>=ot)return Qt}yt=0;var gt=!1,Mt=0,zt=T._nextBeginningIndexes;zt===Qt&&(zt=T._nextBeginningIndexes=p(T.target));var ne=0;if((jt=w[0]===0?0:zt[w[0]-1])!==ot)for(;;)if(jt>=ot){if(yt<=0||++ne>200)break;--yt;var Oi=_[--Mt];jt=zt[Oi]}else if(G[yt]===pt[jt]){if(_[Mt++]=jt,++yt===nt){gt=!0;break}++jt}else jt=zt[jt];var Ot=nt<=1?-1:T._targetLower.indexOf(Z,w[0]),Ze=!!~Ot,bt=!!Ze&&(Ot===0||T._nextBeginningIndexes[Ot-1]===Ot);if(Ze&&!bt){for(var lt=0;lt<zt.length;lt=zt[lt])if(!(lt<=Ot)){for(var ki=0;ki<nt&&G[ki]===T._targetLowerCodes[lt+ki];ki++);if(ki===nt){Ot=lt,bt=!0;break}}}var Ht=ln=>{for(var Ri=0,Hu=0,Vi=1;Vi<nt;++Vi)ln[Vi]-ln[Vi-1]!=1&&(Ri-=ln[Vi],++Hu);if(Ri-=(ln[nt-1]-ln[0]-(nt-1)+12)*Hu,ln[0]!==0&&(Ri-=ln[0]*ln[0]*.2),gt){var gl=1;for(Vi=zt[0];Vi<ot;Vi=zt[Vi])++gl;gl>24&&(Ri*=10*(gl-24))}else Ri*=1e3;return Ri-=(ot-nt)/2,Ze&&(Ri/=1+nt*nt*1),bt&&(Ri/=1+nt*nt*1),Ri-=(ot-nt)/2};if(gt)if(bt){for(lt=0;lt<nt;++lt)w[lt]=Ot+lt;ve=w,Nn=Ht(w)}else ve=_,Nn=Ht(_);else{if(Ze)for(var lt=0;lt<nt;++lt)w[lt]=Ot+lt;var ve,Nn=Ht(ve=w)}for(T._score=Nn,lt=0;lt<nt;++lt)T._indexes[lt]=ve[lt];T._indexes.len=nt;const tt=new e;return tt.target=T.target,tt._score=T._score,tt._indexes=T._indexes,tt},h=(M,T,R)=>{for(var J=new Set,Z=0,G=Qt,ft=0,pt=M.spaceSearches,nt=pt.length,ot=0,yt=()=>{for(let bt=ot-1;bt>=0;bt--)T._nextBeginningIndexes[y[2*bt+0]]=y[2*bt+1]},jt=!1,Nt=0;Nt<nt;++Nt){x[Nt]=ct;var gt=pt[Nt];if(G=u(gt,T),R){if(G===Qt)continue;jt=!0}else if(G===Qt)return yt(),Qt;if(Nt!==nt-1){var Mt=G._indexes,zt=!0;for(let bt=0;bt<Mt.len-1;bt++)if(Mt[bt+1]-Mt[bt]!=1){zt=!1;break}if(zt){var ne=Mt[Mt.len-1]+1,Oi=T._nextBeginningIndexes[ne-1];for(let bt=ne-1;bt>=0&&Oi===T._nextBeginningIndexes[bt];bt--)T._nextBeginningIndexes[bt]=ne,y[2*ot+0]=bt,y[2*ot+1]=Oi,ot++}}Z+=G._score/nt,x[Nt]=G._score/nt,G._indexes[0]<ft&&(Z-=2*(ft-G._indexes[0])),ft=G._indexes[0];for(var Ot=0;Ot<G._indexes.len;++Ot)J.add(G._indexes[Ot])}if(R&&!jt)return Qt;yt();var Ze=u(M,T,!0);if(Ze!==Qt&&Ze._score>Z){if(R)for(Nt=0;Nt<nt;++Nt)x[Nt]=Ze._score/nt;return Ze}R&&(G=T),G._score=Z,Nt=0;for(let bt of J)G._indexes[Nt++]=bt;return G._indexes.len=Nt,G},g=M=>M.replace(new RegExp("\\p{Script=Latin}+","gu"),T=>T.normalize("NFD")).replace(/[\u0300-\u036f]/g,""),f=M=>{for(var T=(M=g(M)).length,R=M.toLowerCase(),J=[],Z=0,G=!1,ft=0;ft<T;++ft){var pt=J[ft]=R.charCodeAt(ft);pt!==32?Z|=1<<(pt>=97&&pt<=122?pt-97:pt>=48&&pt<=57?26:pt<=127?30:31):G=!0}return{lowerCodes:J,bitflags:Z,containsSpace:G,_lower:R}},p=M=>{for(var T=(M=g(M)).length,R=(pt=>{for(var nt=pt.length,ot=[],yt=0,jt=!1,Nt=!1,gt=0;gt<nt;++gt){var Mt=pt.charCodeAt(gt),zt=Mt>=65&&Mt<=90,ne=zt||Mt>=97&&Mt<=122||Mt>=48&&Mt<=57,Oi=zt&&!jt||!Nt||!ne;jt=zt,Nt=ne,Oi&&(ot[yt++]=gt)}return ot})(M),J=[],Z=R[0],G=0,ft=0;ft<T;++ft)Z>ft?J[ft]=Z:(Z=R[++G],J[ft]=Z===void 0?T:Z);return J},b=new Map,k=new Map,w=[],_=[],y=[],A=[],x=[],I=[],z=[],Y=(M,T)=>{var R=M[T];if(R!==void 0)return R;if(typeof T=="function")return T(M);var J=T;Array.isArray(T)||(J=T.split("."));for(var Z=J.length,G=-1;M&&++G<Z;)M=M[J[G]];return M},Vt=M=>typeof M=="object"&&typeof M._bitflags=="number",we=1/0,ct=-we,ee=[];ee.total=0;var Bt,qt,_e,go,Qt=null,Bn=t(""),As=(Bt=[],qt=0,go=M=>{for(var T=0,R=Bt[T],J=1;J<qt;){var Z=J+1;T=J,Z<qt&&Bt[Z]._score<Bt[J]._score&&(T=Z),Bt[T-1>>1]=Bt[T],J=1+(T<<1)}for(var G=T-1>>1;T>0&&R._score<Bt[G]._score;G=(T=G)-1>>1)Bt[T]=Bt[G];Bt[T]=R},(_e={}).add=M=>{var T=qt;Bt[qt++]=M;for(var R=T-1>>1;T>0&&M._score<Bt[R]._score;R=(T=R)-1>>1)Bt[T]=Bt[R];Bt[T]=M},_e.poll=M=>{if(qt!==0){var T=Bt[0];return Bt[0]=Bt[--qt],go(),T}},_e.peek=M=>{if(qt!==0)return Bt[0]},_e.replaceTop=M=>{Bt[0]=M,go()},_e);return{single:(M,T)=>{if(!M||!T)return Qt;var R=c(M);Vt(T)||(T=l(T));var J=R.bitflags;return(J&T._bitflags)!==J?Qt:u(R,T)},go:(M,T,R)=>{if(!M)return R!=null&&R.all?d(T,R):ee;var J=c(M),Z=J.bitflags,G=J.containsSpace,ft=s(R?.threshold||0),pt=R?.limit||we,nt=0,ot=0,yt=T.length;function jt(tt){nt<pt?(As.add(tt),++nt):(++ot,tt._score>As.peek()._score&&As.replaceTop(tt))}if(R!=null&&R.key)for(var Nt=R.key,gt=0;gt<yt;++gt){var Mt=T[gt];(Ht=Y(Mt,Nt))&&(Vt(Ht)||(Ht=l(Ht)),(Z&Ht._bitflags)===Z&&(ve=u(J,Ht))!==Qt&&(ve._score<ft||(ve.obj=Mt,jt(ve))))}else if(R!=null&&R.keys){var zt=R.keys,ne=zt.length;t:for(gt=0;gt<yt;++gt){Mt=T[gt];for(var Oi=0,Ot=0;Ot<ne;++Ot)Nt=zt[Ot],(Ht=Y(Mt,Nt))?(Vt(Ht)||(Ht=l(Ht)),I[Ot]=Ht,Oi|=Ht._bitflags):I[Ot]=Bn;if((Z&Oi)===Z){if(G)for(let tt=0;tt<J.spaceSearches.length;tt++)A[tt]=ct;for(Ot=0;Ot<ne;++Ot)if((Ht=I[Ot])!==Bn)if(z[Ot]=u(J,Ht,!1,G),z[Ot]!==Qt){if(G)for(let tt=0;tt<J.spaceSearches.length;tt++)x[tt]>-1e3&&A[tt]>ct&&(ki=(A[tt]+x[tt])/4)>A[tt]&&(A[tt]=ki),x[tt]>A[tt]&&(A[tt]=x[tt])}else z[Ot]=Bn;else z[Ot]=Bn;if(G){for(let tt=0;tt<J.spaceSearches.length;tt++)if(A[tt]===ct)continue t}else{var Ze=!1;for(let tt=0;tt<ne;tt++)if(z[tt]._score!==ct){Ze=!0;break}if(!Ze)continue}var bt=new i(ne);for(let tt=0;tt<ne;tt++)bt[tt]=z[tt];if(G){var lt=0;for(let tt=0;tt<J.spaceSearches.length;tt++)lt+=A[tt]}else{lt=ct;for(let tt=0;tt<ne;tt++){var ki;(ve=bt[tt])._score>-1e3&&lt>ct&&(ki=(lt+ve._score)/4)>lt&&(lt=ki),ve._score>lt&&(lt=ve._score)}}if(bt.obj=Mt,bt._score=lt,R?.scoreFn){if(!(lt=R.scoreFn(bt)))continue;lt=s(lt),bt._score=lt}lt<ft||jt(bt)}}}else for(gt=0;gt<yt;++gt){var Ht,ve;(Ht=T[gt])&&(Vt(Ht)||(Ht=l(Ht)),(Z&Ht._bitflags)===Z&&(ve=u(J,Ht))!==Qt&&(ve._score<ft||jt(ve)))}if(nt===0)return ee;var Nn=new Array(nt);for(gt=nt-1;gt>=0;--gt)Nn[gt]=As.poll();return Nn.total=nt+ot,Nn},prepare:t,cleanup:()=>{b.clear(),k.clear()}}});var cS=Rk.exports;function dS(n){const t=function(){try{return document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{return null}}();if(!t)return!1;const e=20,i=Math.floor(12.5);t.font=i+"px Arial, Sans-Serif",t.textBaseline="top",t.canvas.width=40,t.canvas.height=25,t.clearRect(0,0,40,25),t.fillStyle="#FF0000",t.fillText(n,0,22),t.fillStyle="#0000FF",t.fillText(n,e,22);const o=t.getImageData(0,0,e,25).data,r=o.length;let s=0;for(;s<r&&!o[s+3];s+=4);if(s>=r)return!1;const a=e+s/4%e,l=Math.floor(s/4/e),c=t.getImageData(a,l,1,1).data;return o[s]===c[0]&&o[s+2]===c[2]&&!(t.measureText(n).width>=e)}const uS={0:"default",1:"light",2:"medium-light",3:"medium",4:"medium-dark",5:"dark"},hS={"\u{1FAE9}":16,"\u{1FAE8}":15.1,"\u{1FAE0}":14,"\u{1F636}\u200D\u{1F32B}\uFE0F":13.1,"\u{1F9D1}\u200D\u{1F4BB}":12.1,"\u{1F970}":11,"\u{1F92A}":5,"\u2695\uFE0F":4,"\u{1F923}":3,"\u{1F44B}\u{1F3FD}":2,"\u{1F600}":1,"\u{1F610}":.7,"\u{1F602}":.6},Vk=class K0 extends C{static get pluginName(){return"EmojiUtils"}static get isOfficialPlugin(){return!0}isEmojiSupported(t,e,i){return t.version<=e&&(!this.hasZwj(t.emoji)||this.isEmojiZwjSupported(t,i))}getEmojiSupportedVersionByOs(){for(const[t,e]of Object.entries(hS))if(K0._isEmojiSupported(t))return e;return 0}hasZwj(t){return t.includes("\u200D")}isEmojiZwjSupported(t,e){return this.getNodeWidth(e,t.emoji)<43.2}getNodeWidth(t,e){const i=document.createElement("span");i.textContent=e,t.appendChild(i);const o=i.offsetWidth;return t.removeChild(i),o}createEmojiWidthTestingContainer(){const t=document.createElement("div");return t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-9999px",t.style.whiteSpace="nowrap",t.style.fontSize="24px",t}normalizeEmojiSkinTone(t){const e={...t,skins:{default:t.emoji}};return t.skins&&t.skins.forEach(i=>{const o=uS[i.tone];e.skins[o]=i.emoji}),e}isEmojiCategoryAllowed(t){return t.group!==2}};m(Vk,"_isEmojiSupported",dS);let mS=Vk;const Fk=class hl extends C{constructor(t){super(t),m(this,"_items"),m(this,"_url"),m(this,"_repositoryPromise"),t.config.define("emoji",{version:void 0,skinTone:"default",definitionsUrl:void 0,useCustomFont:!1}),this._url=this._getUrl(),this._repositoryPromise=new Promise(e=>{this._repositoryPromiseResolveCallback=e}),this._items=null}static get requires(){return[mS]}static get pluginName(){return"EmojiRepository"}static get isOfficialPlugin(){return!0}async init(){return this._warnAboutCdnUse(),await this._loadAndCacheEmoji(),this._items=this._getItems(),this._items?this._repositoryPromiseResolveCallback(!0):(st("emoji-repository-empty"),this._repositoryPromiseResolveCallback(!1))}getEmojiByQuery(t){return this._items?t.split(/\s/).filter(Boolean).some(e=>e.length>=2)?cS.go(t,this._items,{threshold:.6,keys:["emoticon","annotation",e=>t.split(/\s/).filter(Boolean).flatMap(i=>{var o;return(o=e.tags)==null?void 0:o.filter(r=>r.startsWith(i))}).join()]}).map(e=>e.obj):[]:[]}getEmojiCategories(){const t=this._getItems();if(!t)return[];const{t:e}=this.editor.locale,i=[{title:e("Smileys & Expressions"),icon:"\u{1F604}",groupId:0},{title:e("Gestures & People"),icon:"\u{1F44B}",groupId:1},{title:e("Animals & Nature"),icon:"\u{1F43B}",groupId:3},{title:e("Food & Drinks"),icon:"\u{1F34E}",groupId:4},{title:e("Travel & Places"),icon:"\u{1F698}",groupId:5},{title:e("Activities"),icon:"\u{1F3C0}",groupId:6},{title:e("Objects"),icon:"\u{1F4A1}",groupId:7},{title:e("Symbols"),icon:"\u{1F535}",groupId:8},{title:e("Flags"),icon:"\u{1F3C1}",groupId:9}],o=function(r,s){const a={};for(let l=0;l<r.length;l++){const c=r[l],d=s(c);Object.hasOwn(a,d)||(a[d]=[]),a[d].push(c)}return a}(t,r=>r.group);return i.map(r=>({...r,items:o[r.groupId]}))}getSkinTones(){const{t}=this.editor.locale;return[{id:"default",icon:"\u{1F44B}",tooltip:t("Default skin tone")},{id:"light",icon:"\u{1F44B}\u{1F3FB}",tooltip:t("Light skin tone")},{id:"medium-light",icon:"\u{1F44B}\u{1F3FC}",tooltip:t("Medium Light skin tone")},{id:"medium",icon:"\u{1F44B}\u{1F3FD}",tooltip:t("Medium skin tone")},{id:"medium-dark",icon:"\u{1F44B}\u{1F3FE}",tooltip:t("Medium Dark skin tone")},{id:"dark",icon:"\u{1F44B}\u{1F3FF}",tooltip:t("Dark skin tone")}]}isReady(){return this._repositoryPromise}_getUrl(){const{definitionsUrl:t,version:e}=this.editor.config.get("emoji");if(!t||t==="cdn"){const i=new URL("https://cdn.ckeditor.com/ckeditor5/data/emoji/{version}/en.json".replace("{version}",(e||16).toString()));return i.searchParams.set("editorVersion",pm),i}return e&&st("emoji-repository-redundant-version"),new URL(t)}_warnAboutCdnUse(){const t=this.editor,e=t.config.get("emoji"),i=t.config.get("licenseKey"),o=window[Symbol.for("cke distribution")];i!=="GPL"&&o!=="cloud"&&(e&&e.definitionsUrl||st("emoji-repository-cdn-use"))}_getItems(){const t=hl._results[this._url.href];return t&&t.length?t:null}async _loadAndCacheEmoji(){if(hl._results[this._url.href])return;const t=await fetch(this._url,{cache:"force-cache"}).then(e=>e.ok?e.json():[]).catch(()=>[]);hl._results[this._url.href]=this._normalizeEmoji(t)}_normalizeEmoji(t){const e=this.editor,i=e.config.get("emoji.useCustomFont"),o=e.plugins.get("EmojiUtils"),r=t.filter(c=>o.isEmojiCategoryAllowed(c));if(i)return r.map(c=>o.normalizeEmojiSkinTone(c));const s=o.getEmojiSupportedVersionByOs(),a=o.createEmojiWidthTestingContainer();document.body.appendChild(a);const l=r.filter(c=>o.isEmojiSupported(c,s,a)).map(c=>o.normalizeEmojiSkinTone(c));return a.remove(),l}};m(Fk,"_results",{});let jk=Fk;const Qo=":",$d=":__EMOJI_SHOW_ALL:",qd=":__EMOJI_HINT:";class gS extends C{constructor(t){super(t),m(this,"_emojiDropdownLimit"),m(this,"_skinTone"),this.editor.config.define("emoji",{dropdownLimit:6}),this._emojiDropdownLimit=t.config.get("emoji.dropdownLimit"),this._skinTone=t.config.get("emoji.skinTone"),this._setupMentionConfiguration(t)}static get requires(){return[jk,Da,"Mention"]}static get pluginName(){return"EmojiMention"}static get isOfficialPlugin(){return!0}_setupMentionConfiguration(t){const e=t.config.get("mergeFields.prefix"),i=t.config.get("mention.feeds"),o=!!e&&e[0]===Qo;if(i.filter(s=>!s._isEmojiMarker).some(s=>s.marker===Qo)||o)return void st("emoji-config-marker-already-used",{marker:Qo});if(i.some(s=>s._isEmojiMarker))return;const r={_isEmojiMarker:!0,marker:Qo,dropdownLimit:this._emojiDropdownLimit,itemRenderer:this._customItemRendererFactory(this.editor.t),feed:this._queryEmojiCallbackFactory()};this.editor.config.set("mention.feeds",[...i,r])}async init(){const t=this.editor;this.emojiPickerPlugin=t.plugins.has("EmojiPicker")?t.plugins.get("EmojiPicker"):null,this.emojiRepositoryPlugin=t.plugins.get("EmojiRepository"),this._isEmojiRepositoryAvailable=await this.emojiRepositoryPlugin.isReady(),this._isEmojiRepositoryAvailable&&t.once("ready",this._overrideMentionExecuteListener.bind(this))}_customItemRendererFactory(t){return e=>{const i=document.createElement("button");i.classList.add("ck"),i.classList.add("ck-button"),i.classList.add("ck-button_with-text"),i.id=`mention-list-item-id${e.id.slice(0,-1)}`,i.type="button",i.tabIndex=-1;const o=document.createElement("span");return o.classList.add("ck"),o.classList.add("ck-button__label"),i.appendChild(o),e.id===qd?(i.classList.add("ck-list-item-button"),i.classList.add("ck-disabled"),o.textContent=t("Keep on typing to see the emoji.")):e.id===$d?o.textContent=t("Show all emoji..."):o.textContent=`${e.text} ${e.id}`,i}}_overrideMentionExecuteListener(){const t=this.editor;t.commands.get("mention").on("execute",(e,i)=>{const o=i[0];if(o.marker===Qo&&(e.stop(),o.mention.id!==qd))if(o.mention.id===$d){const r=[...o.range.getItems()].filter(a=>a.is("$textProxy")).map(a=>a.data).reduce((a,l)=>a+l,"");t.model.change(a=>{t.model.deleteContent(a.createSelection(o.range))});const s=this.emojiPickerPlugin;s.showUI(r.slice(1)),setTimeout(()=>{s.emojiPickerView.focus()})}else t.execute("insertText",{text:o.mention.text,range:o.range})},{priority:"high"})}_queryEmojiCallbackFactory(){return t=>{if(t.startsWith(" "))return[];if(t.startsWith(Qo))return[];if(!this._isEmojiRepositoryAvailable)return[];const e=this.emojiRepositoryPlugin.getEmojiByQuery(t).map(o=>{let r=o.skins[this._skinTone]||o.skins.default;return this.emojiPickerPlugin&&(r=o.skins[this.emojiPickerPlugin.skinTone]||o.skins.default),{id:`:${o.annotation}:`,text:r}});if(!this.emojiPickerPlugin)return e.slice(0,this._emojiDropdownLimit);const i={id:t.length>1?$d:qd};return[...e.slice(0,this._emojiDropdownLimit-1),i]}}}class fS extends q{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection;this.isEnabled=e.checkChild(i.getFirstPosition(),"$text")}execute(t=""){this.editor.plugins.get("EmojiPicker").showUI(t)}}class pS extends P{constructor(t,{categoryName:e,emojiCategories:i,getEmojiByQuery:o,skinTone:r}){super(t),m(this,"tiles"),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"emojiCategories"),m(this,"cachedTiles"),m(this,"_getEmojiByQuery"),this.set("isEmpty",!0),this.set("categoryName",e),this.set("skinTone",r),this.tiles=this.createCollection(),this.cachedTiles=this.createCollection(),this.focusTracker=new ht,this.keystrokes=new Tt,this._getEmojiByQuery=o,this.emojiCategories=i;const s=this.bindTemplate;this.setTemplate({tag:"div",children:[{tag:"div",attributes:{role:"grid",class:["ck","ck-emoji__grid"]},children:this.tiles}],attributes:{role:"tabpanel",class:["ck","ck-emoji__tiles",s.if("isEmpty","ck-hidden",a=>a)]}}),Gr({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>L.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy(),this.focusTracker.destroy()}focus(){const t=this.tiles.first;t&&t.focus()}filter(t){const{matchingItems:e,allItems:i}=t?this._getItemsByQuery(t.source):this._getItemsByCategory();return this._updateGrid(e),this.set("isEmpty",e.length===0),{resultsCount:e.length,totalItemsCount:i.length}}_getItemsByQuery(t){return{matchingItems:this._getEmojiByQuery(t),allItems:this.emojiCategories.flatMap(e=>e.items)}}_getItemsByCategory(){const t=this.emojiCategories.find(i=>i.title===this.categoryName),{items:e}=t;return{matchingItems:e,allItems:e}}_updateGrid(t){[...this.tiles].forEach(e=>{this.focusTracker.remove(e),this.tiles.remove(e)}),t.map(e=>{const i=e.skins[this.skinTone]||e.skins.default;return this.cachedTiles.get(i)||this._createTile(i,e.annotation)}).forEach(e=>{this.tiles.add(e),this.focusTracker.add(e)})}_createTile(t,e){const i=new V(this.locale);return i.viewUid=t,i.extendTemplate({attributes:{class:["ck-emoji__tile"]}}),i.set({label:t,tooltip:e,withText:!0,ariaLabel:e,ariaLabelledBy:void 0}),i.on("execute",()=>{this.fire("execute",{name:e,emoji:t})}),this.cachedTiles.add(i),i}}class bS extends P{constructor(t,{emojiCategories:e,categoryName:i}){super(t),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"focusCycler"),m(this,"buttonViews"),this.buttonViews=this.createCollection(e.map(o=>this._createCategoryButton(o))),this.focusTracker=new ht,this.keystrokes=new Tt,this.focusCycler=new re({focusables:this.buttonViews,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-emoji__categories-list"],role:"tablist"},children:this.buttonViews}),this.on("change:categoryName",(o,r,s,a)=>{const l=this.buttonViews.find(c=>c.tooltip===a);l&&(l.isOn=!1),this.buttonViews.find(c=>c.tooltip===s).isOn=!0}),this.set("categoryName",i)}render(){super.render(),this.buttonViews.forEach(t=>{this.focusTracker.add(t)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),this.buttonViews.destroy()}focus(){this.buttonViews.first.focus()}enableCategories(){this.buttonViews.forEach(t=>{t.isEnabled=!0})}disableCategories(){this.buttonViews.forEach(t=>{t.set({class:"",isEnabled:!1,isOn:!1})})}_createCategoryButton(t){const e=new V,i=e.bindTemplate;return e.extendTemplate({attributes:{"aria-selected":i.to("isOn",o=>o.toString()),class:["ck-emoji__category-item"]}}),e.set({ariaLabel:t.title,label:t.icon,role:"tab",tooltip:t.title,withText:!0,ariaLabelledBy:void 0}),e.on("execute",()=>{this.categoryName=t.title}),e.on("change:isEnabled",()=>{e.isEnabled&&e.tooltip===this.categoryName&&(e.isOn=!0)}),e}}class kS extends P{constructor(t,{gridView:e,resultsView:i}){super(t),m(this,"inputView"),m(this,"gridView"),this.gridView=e;const o=t.t;this.inputView=new R5(this.locale,{queryView:{label:o("Find an emoji (min. 2 characters)"),creator:An},filteredView:this.gridView,infoView:{instance:i}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search"],tabindex:"-1"},children:[this.inputView.queryView]}),this.inputView.delegate("search").to(this)}destroy(){super.destroy(),this.inputView.destroy()}search(t){const e=t?new RegExp(Qm(t),"ig"):null,i=this.gridView.filter(e);this.inputView.fire("search",{query:t,...i})}setInputValue(t){t?this.inputView.queryView.fieldView.value=t:this.inputView.queryView.fieldView.reset()}getInputValue(){return this.inputView.queryView.fieldView.element.value}focus(){this.inputView.focus()}}class wS extends P{constructor(t,{skinTone:e,skinTones:i}){super(t),m(this,"dropdownView"),m(this,"_skinTones"),this.set("skinTone",e),this._skinTones=i;const o=(0,t.t)("Select skin tone"),r=ce(t),s=new ie;for(const{id:a,icon:l,tooltip:c}of this._skinTones){const d={type:"button",model:new Zi({value:a,label:l,ariaLabel:c,tooltip:c,tooltipPosition:"e",role:"menuitemradio",withText:!0,ariaLabelledBy:void 0})};d.model.bind("isOn").to(this,"skinTone",u=>u===a),s.add(d)}Cn(r,s,{ariaLabel:o,role:"menu"}),r.buttonView.set({label:this._getSkinTone().icon,ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),this.dropdownView=r,this.listenTo(r,"execute",a=>{this.skinTone=a.source.value}),r.buttonView.bind("label").to(this,"skinTone",()=>this._getSkinTone().icon),r.buttonView.bind("ariaLabel").to(this,"skinTone",()=>`${this._getSkinTone().tooltip}, ${o}`),this.setTemplate({tag:"div",attributes:{class:["ck","ck-emoji__skin-tone"]},children:[r]})}focus(){this.dropdownView.buttonView.focus()}_getSkinTone(){return this._skinTones.find(t=>t.id===this.skinTone)}}class _S extends P{constructor(t,{emojiCategories:e,getEmojiByQuery:i,skinTone:o,skinTones:r}){super(t),m(this,"items"),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"focusCycler"),m(this,"searchView"),m(this,"toneView"),m(this,"categoriesView"),m(this,"gridView"),m(this,"infoView");const s=e[0].title;this.gridView=new pS(t,{categoryName:s,emojiCategories:e,getEmojiByQuery:i,skinTone:o}),this.infoView=new Vb,this.searchView=new kS(t,{gridView:this.gridView,resultsView:this.infoView}),this.categoriesView=new bS(t,{emojiCategories:e,categoryName:s}),this.toneView=new wS(t,{skinTone:o,skinTones:r}),this.items=this.createCollection([this.searchView,this.toneView,this.categoriesView,this.gridView,this.infoView]),this.focusTracker=new ht,this.keystrokes=new Tt,this.focusCycler=new re({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[{tag:"div",children:[this.searchView,this.toneView],attributes:{class:["ck","ck-emoji__search"]}},this.categoriesView,this.gridView,{tag:"div",children:[this.infoView],attributes:{class:["ck","ck-search__results"]}}],attributes:{tabindex:"-1",class:["ck","ck-emoji","ck-search"]}}),this._setupEventListeners()}render(){super.render(),this.focusTracker.add(this.searchView.element),this.focusTracker.add(this.toneView.element),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.focusTracker.add(this.infoView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.searchView.focus()}_setupEventListeners(){const t=this.locale.t;this.searchView.on("search",(e,i)=>{i.query?this.categoriesView.disableCategories():this.categoriesView.enableCategories()}),this.searchView.on("search",(e,i)=>{i.query.length===1?this.infoView.set({primaryText:t("Keep on typing to see the emoji."),secondaryText:t("The query must contain at least two characters."),isVisible:!0}):i.resultsCount?this.infoView.set({isVisible:!1}):this.infoView.set({primaryText:t('No emojis were found matching "%0".',i.query),secondaryText:t("Please try a different phrase or check the spelling."),isVisible:!0})}),this.searchView.on("search",()=>{this.fire("update"),this.gridView.element.scrollTo(0,0)}),this.categoriesView.on("change:categoryName",(e,i,o)=>{this.gridView.categoryName=o,this.searchView.search("")}),this.toneView.on("change:skinTone",(e,i,o)=>{this.gridView.skinTone=o,this.searchView.search(this.searchView.getInputValue())})}}class vS extends P{constructor(t){super(t),m(this,"backButtonView"),m(this,"focusTracker",new ht),m(this,"keystrokes",new Tt),m(this,"children"),m(this,"_focusables",new Ee),m(this,"_focusCycler"),this.backButtonView=this._createBackButton(),this.children=this.createCollection([this._createHeaderView()]),this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form","ck-emoji-picker-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),[...this.children.filter(jo),this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),Up(t)&&this._focusCycler.chain(t.focusCycler)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const t=this.locale.t,e=new V(this.locale);return e.set({class:"ck-button-back",label:t("Back"),icon:Xn,tooltip:!0}),e.delegate("execute").to(this,"cancel"),e}_createHeaderView(){const t=this.locale.t,e=new to(this.locale,{label:t("Emoji picker")});return e.children.add(this.backButtonView,0),e}}const In="emoji-picker";class yS extends C{static get requires(){return[jk,Mi,Kr,Da]}static get pluginName(){return"EmojiPicker"}static get isOfficialPlugin(){return!0}async init(){const t=this.editor;if(this.balloonPlugin=t.plugins.get("ContextualBalloon"),this.emojiRepositoryPlugin=t.plugins.get("EmojiRepository"),!await this.emojiRepositoryPlugin.isReady())return;const e=new fS(t);t.commands.add("emoji",e),t.ui.componentFactory.add("emoji",()=>{const i=this._createButton(V,e);return i.set({tooltip:!0}),i}),t.ui.componentFactory.add("menuBar:emoji",()=>this._createButton(xt,e)),this._setupConversion()}destroy(){super.destroy(),this.emojiPickerView&&this.emojiPickerView.destroy()}get skinTone(){return this.emojiPickerView?this.emojiPickerView.gridView.skinTone:this.editor.config.get("emoji.skinTone")}showUI(t=""){this._showFakeVisualSelection(),this.emojiPickerView||(this.emojiPickerView=this._createEmojiPickerView()),t&&this.emojiPickerView.searchView.setInputValue(t),this.emojiPickerView.searchView.search(t),this.emojiPickerFormView||(this.emojiPickerFormView=this._createEmojiPickerFormView()),this.balloonPlugin.hasView(this.emojiPickerFormView)||(this.emojiPickerFormView.backButtonView.isVisible=!!this.balloonPlugin.visibleView,this.balloonPlugin.add({view:this.emojiPickerFormView,position:this._getBalloonPositionData(),balloonClassName:"ck-emoji-picker-balloon"})),this.emojiPickerView.focus()}_createButton(t,e){const i=new t(this.editor.locale),o=this.editor.locale.t;return i.bind("isEnabled").to(e,"isEnabled"),i.set({label:o("Emoji"),icon:S2,isToggleable:!0}),i.on("execute",()=>{this.editor.editing.view.scrollToTheSelection(),this.showUI()}),i}_createEmojiPickerView(){const t=new _S(this.editor.locale,{emojiCategories:this.emojiRepositoryPlugin.getEmojiCategories(),skinTone:this.editor.config.get("emoji.skinTone"),skinTones:this.emojiRepositoryPlugin.getSkinTones(),getEmojiByQuery:e=>this.emojiRepositoryPlugin.getEmojiByQuery(e)});return this.listenTo(t.gridView,"execute",(e,i)=>{const o=this.editor,r=i.emoji;this._hideUI(),o.execute("insertText",{text:r})}),t}_createEmojiPickerFormView(){const t=new vS(this.editor.locale);return t.children.add(this.emojiPickerView),this.listenTo(this.emojiPickerView,"update",()=>{this.balloonPlugin.visibleView===t&&this.balloonPlugin.updatePosition()}),this.listenTo(t,"cancel",()=>{this._hideUI()}),t.keystrokes.set("Esc",(e,i)=>{this._hideUI(),i()}),yn({emitter:t,contextElements:[this.balloonPlugin.view.element],callback:()=>{this._hideUI(!1)},activator:()=>this.balloonPlugin.visibleView===t}),t}_hideUI(t=!0){this.balloonPlugin.remove(this.emojiPickerFormView),this.emojiPickerView.searchView.setInputValue(""),t&&this.editor.editing.view.focus(),this._hideFakeVisualSelection()}_setupConversion(){const t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:In,view:{classes:["ck-fake-emoji-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:In,view:(e,{writer:i})=>{if(!e.markerRange.isCollapsed)return null;const o=i.createUIElement("span");return i.addClass(["ck-fake-emoji-selection","ck-fake-emoji-selection_collapsed"],o),o}})}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document;return{target:()=>t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{const i=t.document.selection.getFirstRange();if(t.markers.has(In))e.updateMarker(In,{range:i});else if(i.start.isAtEnd){const o=i.start.getLastMatchingPosition(({item:r})=>!t.schema.isContent(r),{boundaries:i});e.addMarker(In,{usingOperation:!1,affectsData:!1,range:e.createRange(o,i.end)})}else e.addMarker(In,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(In)&&t.change(e=>{e.removeMarker(In)})}}class CS extends C{static get requires(){return[gS,yS]}static get pluginName(){return"Emoji"}static get isOfficialPlugin(){return!0}}class AS extends q{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let i=t.schema.getLimitElement(e);if(e.containsEntireContent(i)||!Hk(t.schema,i))do if(i=i.parent,!i)return;while(!Hk(t.schema,i));t.change(o=>{o.setSelection(i,"in")})}}function Hk(n,t){return n.isLimit(t)&&(n.checkChild(t,"$text")||n.checkChild(t,"paragraph"))}const xS=Tr("Ctrl+A");class ES extends C{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=t.editing.view.document;t.commands.add("selectAll",new AS(t)),this.listenTo(i,"keydown",(o,r)=>{qn(r)===xS&&(t.execute("selectAll"),r.preventDefault())}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}class TS extends C{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(V);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(xt))}_createButton(t){const e=this.editor,i=e.locale,o=e.commands.get("selectAll"),r=new t(e.locale),s=i.t;return r.set({label:s("Select all"),icon:uE,keystroke:"Ctrl+A"}),r.bind("isEnabled").to(o,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),r}}class SS extends C{static get requires(){return[ES,TS]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}class Uk extends q{constructor(t){super(t),m(this,"_stack",[]),m(this,"_createdBatches",new WeakSet),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",(e,i)=>{i[1]={...i[1]};const o=i[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(e,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const e=this.editor.model.document.selection,i={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,i){const o=this.editor.model,r=o.document,s=[],a=t.map(c=>c.getTransformedByOperations(i)),l=a.flat();for(const c of a){const d=c.filter(u=>u.root!=r.graveyard).filter(u=>!MS(u,l));d.length&&(IS(d),s.push(d[0]))}s.length&&o.change(c=>{c.setSelection(s,{backward:e})})}_undo(t,e){const i=this.editor.model,o=i.document;this._createdBatches.add(e);const r=t.operations.slice().filter(s=>s.isDocumentOperation);r.reverse();for(const s of r){const a=s.baseVersion+1,l=Array.from(o.history.getOperations(a)),c=ex([s.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let d of c){const u=d.affectedSelectable;u&&!i.canEditAt(u)&&(d=new se(d.baseVersion)),e.addOperation(d),i.applyOperation(d),o.history.setOperationAsUndone(s,d)}}}}function IS(n){n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const e=n[t-1].getJoined(n[t],!0);e&&(t--,n.splice(t,2,e))}}function MS(n,t){return t.some(e=>e!==n&&e.containsRange(n,!0))}class DS extends Uk{execute(t=null){const e=t?this._stack.findIndex(r=>r.batch==t):this._stack.length-1,i=this._stack.splice(e,1)[0],o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{this._undo(i.batch,o);const r=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,r)}),this.fire("revert",i.batch,o),this.refresh()}}class PS extends Uk{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const i=t.batch.operations[t.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(i);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o),this._undo(t.batch,e)}),this.refresh()}}class LS extends C{constructor(){super(...arguments),m(this,"_undoCommand"),m(this,"_redoCommand"),m(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;this._undoCommand=new DS(t),this._redoCommand=new PS(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(i,o)=>{const r=o[0];if(!r.isDocumentOperation)return;const s=r.batch,a=this._redoCommand.createdBatches.has(s),l=this._undoCommand.createdBatches.has(s);this._batchRegistry.has(s)||(this._batchRegistry.add(s),s.isUndoable&&(a?this._undoCommand.addBatch(s):l||(this._undoCommand.addBatch(s),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,o,r)=>{this._redoCommand.addBatch(r)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Undo"),keystroke:"CTRL+Z"},{label:e("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class BS extends C{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,i=t.t,o=e.uiLanguageDirection=="ltr"?Vp:Op,r=e.uiLanguageDirection=="ltr"?Op:Vp;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",o),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",r)}_addButtonsToFactory(t,e,i,o){const r=this.editor;r.ui.componentFactory.add(t,()=>{const s=this._createButton(V,t,e,i,o);return s.set({tooltip:!0}),s}),r.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(xt,t,e,i,o))}_createButton(t,e,i,o,r){const s=this.editor,a=s.locale,l=s.commands.get(e),c=new t(a);return c.set({label:i,icon:r,keystroke:o}),c.bind("isEnabled").to(l,"isEnabled"),this.listenTo(c,"execute",()=>{s.execute(e),s.editing.view.focus()}),c}}class Wd extends C{static get requires(){return[LS,BS]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}class NS extends C{static get requires(){return[PE,Rd,za,SS,lk,Da,Wd]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}class Wa extends q{constructor(t,e){super(t),m(this,"attributeKey"),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,i=e.document.selection,o=t.value,r=t.batch,s=a=>{if(i.isCollapsed)o?a.setSelectionAttribute(this.attributeKey,o):a.removeSelectionAttribute(this.attributeKey);else{const l=e.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const c of l)o?a.setAttribute(this.attributeKey,o,c):a.removeAttribute(this.attributeKey,c)}};r?e.enqueueChange(r,a=>{s(a)}):e.change(a=>{s(a)})}}const Ne="fontSize",ze="fontFamily",Pi="fontColor",tn="fontBackgroundColor";function $k(n,t){const e={model:{key:n,values:[]},view:{},upcastAlso:{}};for(const i of t)e.model.values.push(i.model),e.view[i.model]=i.view,i.upcastAlso&&(e.upcastAlso[i.model]=i.upcastAlso);return e}function qk(n){return t=>t.getStyle(n).replace(/\s/g,"")}function Wk(n){return(t,{writer:e})=>e.createAttributeElement("span",{style:`${n}:${t}`},{priority:7})}class zS extends Wa{constructor(t){super(t,ze)}}function Gk(n){return n.map(OS).filter(t=>t!==void 0)}function OS(n){return typeof n=="object"?n:n==="default"?{title:"Default",model:void 0}:typeof n=="string"?function(t){const e=t.replace(/"|'/g,"").split(","),i=e[0],o=e.map(RS).join(", ");return{title:i,model:o,view:{name:"span",styles:{"font-family":o},priority:7}}}(n):void 0}function RS(n){return(n=n.trim()).indexOf(" ")>0&&(n=`'${n}'`),n}class VS extends C{static get pluginName(){return"FontFamilyEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(ze,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ze}),t.model.schema.setAttributeProperties(ze,{isFormatting:!0,copyOnEnter:!0});const e=Gk(t.config.get("fontFamily.options")).filter(o=>o.model),i=$k(ze,e);t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(i),t.commands.add(ze,new zS(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:ze,view:(e,{writer:i})=>i.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:ze,value:e=>e.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:ze,value:t=>t.getAttribute("face")}})}}class FS extends C{static get pluginName(){return"FontFamilyUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=this._getLocalizedOptions(),o=t.commands.get(ze),r=e("Font Family"),s=function(a,l){const c=new ie;for(const d of a){const u={type:"button",model:new Zi({commandName:ze,commandParam:d.model,label:d.title,role:"menuitemradio",withText:!0})};u.model.bind("isOn").to(l,"value",h=>h===d.model||!(!h||!d.model)&&h.split(",")[0].replace(/'/g,"").toLowerCase()===d.model.toLowerCase()),d.view&&typeof d.view!="string"&&d.view.styles&&u.model.set("labelStyle",`font-family: ${d.view.styles["font-family"]}`),c.add(u)}return c}(i,o);t.ui.componentFactory.add(ze,a=>{const l=ce(a);return Cn(l,s,{role:"menu",ariaLabel:r}),l.buttonView.set({label:r,icon:Tp,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),l.bind("isEnabled").to(o),this.listenTo(l,"execute",c=>{t.execute(c.source.commandName,{value:c.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${ze}`,a=>{const l=new Ke(a);l.buttonView.set({label:r,icon:Tp}),l.bind("isEnabled").to(o);const c=new Qi(a);for(const d of s){const u=new Ii(a,l),h=new xt(a);h.set({role:"menuitemradio",isToggleable:!0}),h.bind(...Object.keys(d.model)).to(d.model),h.delegate("execute").to(l),h.on("execute",()=>{t.execute(d.model.commandName,{value:d.model.commandParam}),t.editing.view.focus()}),u.children.add(h),c.items.add(u)}return l.panelView.children.add(c),l})}_getLocalizedOptions(){const t=this.editor,e=t.t;return Gk(t.config.get(ze).options).map(i=>(i.title==="Default"&&(i.title=e("Default")),i))}}class jS extends C{static get requires(){return[VS,FS]}static get pluginName(){return"FontFamily"}static get isOfficialPlugin(){return!0}}class HS extends Wa{constructor(t){super(t,Ne)}}function Gd(n){return n.map(t=>function(e){if(typeof e=="number"&&(e=String(e)),typeof e=="object"&&(i=e,i.title&&i.model&&i.view))return Kd(e);var i;const o=function(r){return typeof r=="string"?Kk[r]:Kk[r.model]}(e);if(o)return Kd(o);if(e==="default")return{model:void 0,title:"Default"};if(!function(r){let s;if(typeof r=="object"){if(!r.model)throw new v("font-size-invalid-definition",null,r);s=parseFloat(r.model)}else s=parseFloat(r);return isNaN(s)}(e))return function(r){return typeof r=="string"&&(r={title:r,model:`${parseFloat(r)}px`}),r.view={name:"span",styles:{"font-size":r.model}},Kd(r)}(e)}(t)).filter(t=>t!==void 0)}const Kk={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function Kd(n){return n.view&&typeof n.view!="string"&&!n.view.priority&&(n.view.priority=7),n}const Yk=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class US extends C{static get pluginName(){return"FontSizeEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(Ne,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Ne}),t.model.schema.setAttributeProperties(Ne,{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),i=Gd(this.editor.config.get("fontSize.options")).filter(r=>r.model),o=$k(Ne,i);e?(this._prepareAnyValueConverters(o),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(o),t.commands.add(Ne,new HS(t))}_prepareAnyValueConverters(t){const e=this.editor,i=t.model.values.filter(o=>!Lx(String(o))&&!Nx(String(o)));if(i.length)throw new v("font-size-invalid-use-of-named-presets",null,{presets:i});e.conversion.for("downcast").attributeToElement({model:Ne,view:(o,{writer:r})=>{if(o)return r.createAttributeElement("span",{style:"font-size:"+o},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:Ne,value:o=>o.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:Ne,value:t=>{const e=t.getAttribute("size"),i=e[0]==="-"||e[0]==="+";let o=parseInt(e,10);i&&(o=3+o);const r=Yk.length-1,s=Math.min(Math.max(o,0),r);return Yk[s]}}})}}class $S extends C{static get pluginName(){return"FontSizeUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=this._getLocalizedOptions(),o=t.commands.get(Ne),r=e("Font Size"),s=function(a,l){const c=new ie;for(const d of a){const u={type:"button",model:new Zi({commandName:Ne,commandParam:d.model,label:d.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};d.view&&typeof d.view!="string"&&(d.view.styles&&u.model.set("labelStyle",`font-size:${d.view.styles["font-size"]}`),d.view.classes&&u.model.set("class",`${u.model.class} ${d.view.classes}`)),u.model.bind("isOn").to(l,"value",h=>h===d.model),c.add(u)}return c}(i,o);t.ui.componentFactory.add(Ne,a=>{const l=ce(a);return Cn(l,s,{role:"menu",ariaLabel:r}),l.buttonView.set({label:r,icon:Sp,tooltip:!0}),l.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),l.bind("isEnabled").to(o),this.listenTo(l,"execute",c=>{t.execute(c.source.commandName,{value:c.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${Ne}`,a=>{const l=new Ke(a);l.buttonView.set({label:r,icon:Sp}),l.bind("isEnabled").to(o);const c=new Qi(a);for(const d of s){const u=new Ii(a,l),h=new xt(a);h.set({role:"menuitemradio",isToggleable:!0}),h.bind(...Object.keys(d.model)).to(d.model),h.delegate("execute").to(l),h.on("execute",()=>{t.execute(d.model.commandName,{value:d.model.commandParam}),t.editing.view.focus()}),u.children.add(h),c.items.add(u)}return l.panelView.children.add(c),l})}_getLocalizedOptions(){const t=this.editor,e=t.t,i={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return Gd(t.config.get(Ne).options).map(o=>{const r=i[o.title];return r&&r!=o.title&&(o=Object.assign({},o,{title:r})),o})}}class qS extends C{static get requires(){return[US,$S]}static get pluginName(){return"FontSize"}static get isOfficialPlugin(){return!0}normalizeSizeOptions(t){return Gd(t)}}class WS extends Wa{constructor(t){super(t,Pi)}}class GS extends C{static get pluginName(){return"FontColorEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(Pi,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Pi,value:qk("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Pi,value:e=>e.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:Pi,view:Wk("color")}),t.commands.add(Pi,new WS(t)),t.model.schema.extend("$text",{allowAttributes:Pi}),t.model.schema.setAttributeProperties(Pi,{isFormatting:!0,copyOnEnter:!0})}}class Zk extends C{constructor(t,{commandName:e,componentName:i,icon:o,dropdownLabel:r}){super(t),m(this,"commandName"),m(this,"componentName"),m(this,"icon"),m(this,"dropdownLabel"),m(this,"columns"),this.commandName=e,this.componentName=i,this.icon=o,this.dropdownLabel=r,this.columns=t.config.get(`${this.componentName}.columns`)}init(){const t=this.editor,e=t.locale,i=e.t,o=t.commands.get(this.commandName),r=t.config.get(this.componentName),s=zE(e,OE(r.colors)),a=r.documentColors,l=r.colorPicker!==!1;t.ui.componentFactory.add(this.componentName,c=>{const d=ce(c);let u=!1;const h=function({dropdownView:g,colors:f,columns:p,removeButtonLabel:b,colorPickerLabel:k,documentColorsLabel:w,documentColorsCount:_,colorPickerViewConfig:y}){const A=g.locale,x=new Eb(A,{colors:f,columns:p,removeButtonLabel:b,colorPickerLabel:k,documentColorsLabel:w,documentColorsCount:_,colorPickerViewConfig:y});return g.colorSelectorView=x,g.panelView.children.add(x),x}({dropdownView:d,colors:s.map(g=>({label:g.label,color:g.model,options:{hasBorder:g.hasBorder}})),columns:this.columns,removeButtonLabel:i("Remove color"),colorPickerLabel:i("Color picker"),documentColorsLabel:a!==0?i("Document colors"):"",documentColorsCount:a===void 0?this.columns:a,colorPickerViewConfig:!!l&&(r.colorPicker||{})});return h.bind("selectedColor").to(o,"value"),d.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),d.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),d.bind("isEnabled").to(o),h.on("execute",(g,f)=>{d.isOpen&&t.execute(this.commandName,{value:f.value,batch:this._undoStepBatch}),f.source!=="colorPicker"&&t.editing.view.focus(),f.source==="colorPickerSaveButton"&&(d.isOpen=!1)}),h.on("colorPicker:show",()=>{this._undoStepBatch=t.model.createBatch()}),h.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(d.isOpen=!1,t.execute("undo",this._undoStepBatch)),t.editing.view.focus()}),d.on("change:isOpen",(g,f,p)=>{u||(u=!0,d.colorSelectorView.appendUI()),p&&(a!==0&&h.updateDocumentColors(t.model,this.componentName),h.updateSelectedColors(),h.showColorGridsFragment())}),xa(d,()=>d.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(g=>g.isOn)),d}),t.ui.componentFactory.add(`menuBar:${this.componentName}`,c=>{const d=new Ke(c);d.buttonView.set({label:this.dropdownLabel,icon:this.icon}),d.bind("isEnabled").to(o);let u=!1;const h=new Eb(c,{colors:s.map(g=>({label:g.label,color:g.model,options:{hasBorder:g.hasBorder}})),columns:this.columns,removeButtonLabel:i("Remove color"),colorPickerLabel:i("Color picker"),documentColorsLabel:a!==0?i("Document colors"):"",documentColorsCount:a===void 0?this.columns:a,colorPickerViewConfig:!1});return h.bind("selectedColor").to(o,"value"),h.delegate("execute").to(d),h.on("execute",(g,f)=>{t.execute(this.commandName,{value:f.value,batch:this._undoStepBatch}),t.editing.view.focus()}),d.on("change:isOpen",(g,f,p)=>{u||(u=!0,h.appendUI()),p&&(a!==0&&h.updateDocumentColors(t.model,this.componentName),h.updateSelectedColors(),h.showColorGridsFragment())}),d.panelView.children.add(h),d})}}class KS extends Zk{constructor(t){const e=t.locale.t;super(t,{commandName:Pi,componentName:Pi,icon:M2,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class YS extends C{static get requires(){return[GS,KS]}static get pluginName(){return"FontColor"}static get isOfficialPlugin(){return!0}}class ZS extends Wa{constructor(t){super(t,tn)}}class QS extends C{static get pluginName(){return"FontBackgroundColorEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(tn,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(Kx),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:tn,value:qk("background-color")}}),t.conversion.for("downcast").attributeToElement({model:tn,view:Wk("background-color")}),t.commands.add(tn,new ZS(t)),t.model.schema.extend("$text",{allowAttributes:tn}),t.model.schema.setAttributeProperties(tn,{isFormatting:!0,copyOnEnter:!0})}}class JS extends Zk{constructor(t){const e=t.locale.t;super(t,{commandName:tn,componentName:tn,icon:I2,dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class XS extends C{static get requires(){return[QS,JS]}static get pluginName(){return"FontBackgroundColor"}static get isOfficialPlugin(){return!0}}class tI extends q{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=_t(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&Qk(e,t.schema)}execute(t={}){const e=this.editor.model,i=e.document,o=t.selection||i.selection;e.canEditAt(o)&&e.change(r=>{const s=o.getSelectedBlocks();for(const a of s)!a.is("element","paragraph")&&Qk(a,e.schema)&&r.rename(a,"paragraph")})}}function Qk(n,t){return t.checkChild(n.parent,"paragraph")&&!t.isObject(n)}class eI extends q{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,i=t.attributes;let o=t.position;return e.canEditAt(o)?e.change(r=>{if(o=this._findPositionToInsertParagraph(o,r),!o)return null;const s=r.createElement("paragraph");return i&&e.schema.setAllowedAttributes(s,i,r),e.insertContent(s,o),r.setSelection(s,"in"),r.createPositionAt(s,0)}):null}_findPositionToInsertParagraph(t,e){const i=this.editor.model;if(i.schema.checkChild(t,"paragraph"))return t;const o=i.schema.findAllowedParent(t,"paragraph");if(!o)return null;const r=t.parent,s=i.schema.checkChild(r,"$text");return r.isEmpty||s&&t.isAtEnd?i.createPositionAfter(r):!r.isEmpty&&s&&t.isAtStart?i.createPositionBefore(r):e.split(t,o).position}}const Jk=class Y0 extends C{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new tI(t)),t.commands.add("insertParagraph",new eI(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(i,{writer:o})=>Y0.paragraphLikeElements.has(i.name)?i.isEmpty?null:o.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};m(Jk,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));let Xk=Jk;class iI extends q{constructor(t,e){super(t),m(this,"modelElements"),this.modelElements=e}refresh(){const t=_t(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>tw(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,i=e.document,o=t.value;e.change(r=>{const s=Array.from(i.selection.getSelectedBlocks()).filter(a=>tw(a,o,e.schema));for(const a of s)a.is("element",o)||r.rename(a,o)})}}function tw(n,t,e){return e.checkChild(n.parent,t)&&!e.isObject(n)}const ew="paragraph";class nI extends C{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Xk]}init(){const t=this.editor,e=t.config.get("heading.options"),i=[];for(const o of e)o.model!=="paragraph"&&(t.model.schema.register(o.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(o),i.push(o.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new iI(t,i))}afterInit(){const t=this.editor,e=t.commands.get("enter"),i=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(o,r)=>{const s=t.model.document.selection.getFirstPosition().parent;i.some(a=>s.is("element",a.model))&&!s.is("element",ew)&&s.childCount===0&&r.writer.rename(s,ew)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:fn.low+1})}}function oI(n){const t=n.t,e={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return n.config.get("heading.options").map(i=>{const o=e[i.title];return o&&o!=i.title&&(i.title=o),i})}class rI extends C{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=oI(t),o=e("Choose heading"),r=e("Heading");t.ui.componentFactory.add("heading",s=>{const a={},l=new ie,c=t.commands.get("heading"),d=t.commands.get("paragraph"),u=[c];for(const g of i){const f={type:"button",model:new Zi({label:g.title,class:g.class,role:"menuitemradio",withText:!0})};g.model==="paragraph"?(f.model.bind("isOn").to(d,"value"),f.model.set("commandName","paragraph"),u.push(d)):(f.model.bind("isOn").to(c,"value",p=>p===g.model),f.model.set({commandName:"heading",commandValue:g.model})),l.add(f),a[g.model]=g.title}const h=ce(s);return Cn(h,l,{ariaLabel:r,role:"menu"}),h.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),h.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),h.bind("isEnabled").toMany(u,"isEnabled",(...g)=>g.some(f=>f)),h.buttonView.bind("label").to(c,"value",d,"value",(g,f)=>{const p=f?"paragraph":g;return typeof p=="boolean"?o:a[p]?a[p]:o}),h.buttonView.bind("ariaLabel").to(c,"value",d,"value",(g,f)=>{const p=f?"paragraph":g;return typeof p=="boolean"?r:a[p]?`${a[p]}, ${r}`:r}),this.listenTo(h,"execute",g=>{const{commandName:f,commandValue:p}=g.source;t.execute(f,p?{value:p}:void 0),t.editing.view.focus()}),h}),t.ui.componentFactory.add("menuBar:heading",s=>{const a=new Ke(s),l=t.commands.get("heading"),c=t.commands.get("paragraph"),d=[l],u=new Qi(s);a.set({class:"ck-heading-dropdown"}),u.set({ariaLabel:e("Heading"),role:"menu"}),a.buttonView.set({label:e("Heading")}),a.panelView.children.add(u);for(const h of i){const g=new Ii(s,a),f=new xt(s);g.children.add(f),u.items.add(g),f.set({isToggleable:!0,label:h.title,role:"menuitemradio",class:h.class}),f.delegate("execute").to(a),f.on("execute",()=>{const p=h.model==="paragraph"?"paragraph":"heading";t.execute(p,{value:h.model}),t.editing.view.focus()}),h.model==="paragraph"?(f.bind("isOn").to(c,"value"),d.push(c)):f.bind("isOn").to(l,"value",p=>p===h.model)}return a.bind("isEnabled").toMany(d,"isEnabled",(...h)=>h.some(g=>g)),a})}}class sI extends C{static get requires(){return[nI,rI]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}const iw=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class aI extends C{constructor(){super(...arguments),m(this,"_bodyPlaceholder",new Map)}static get pluginName(){return"Title"}static get isOfficialPlugin(){return!0}static get requires(){return["Paragraph"]}init(){const t=this.editor,e=t.model;e.schema.register("title",{isBlock:!0,allowIn:"$root"}),e.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),e.schema.extend("$text",{allowIn:"title-content"}),e.schema.addAttributeCheck(i=>{if(i.endsWith("title-content $text"))return!1}),t.editing.mapper.on("modelToViewPosition",nw(t.editing.view)),t.data.mapper.on("modelToViewPosition",nw(t.editing.view)),t.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),t.conversion.for("downcast").add(i=>i.on("insert:title",(o,r,s)=>{s.consumable.consume(r.item,o.name)})),t.data.upcastDispatcher.on("element:h1",Yd,{priority:"high"}),t.data.upcastDispatcher.on("element:h2",Yd,{priority:"high"}),t.data.upcastDispatcher.on("element:h3",Yd,{priority:"high"}),e.document.registerPostFixer(i=>this._fixTitleContent(i)),e.document.registerPostFixer(i=>this._fixTitleElement(i)),e.document.registerPostFixer(i=>this._fixBodyElement(i)),e.document.registerPostFixer(i=>this._fixExtraParagraph(i)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(t={}){const e=t.rootName?t.rootName:void 0,i=this._getTitleElement(e).getChild(0);return this.editor.data.stringify(i,t)}getBody(t={}){const e=this.editor,i=e.data,o=e.model,r=t.rootName?t.rootName:void 0,s=e.model.document.getRoot(r),a=e.editing.view,l=new Dc(a.document),c=o.createRangeIn(s),d=l.createDocumentFragment(),u=o.createPositionAfter(s.getChild(0)),h=o.createRange(u,o.createPositionAt(s,"end")),g=new Map;for(const f of o.markers){const p=h.getIntersection(f.getRange());p&&g.set(f.name,p)}return i.mapper.clearBindings(),i.mapper.bindElements(s,d),i.downcastDispatcher.convert(c,g,l,t),l.remove(l.createRangeOn(d.getChild(0))),e.data.processor.toData(d)}_getTitleElement(t){const e=this.editor.model.document.getRoot(t);for(const i of e.getChildren())if(ow(i))return i}_fixTitleContent(t){let e=!1;for(const i of this.editor.model.document.getRootNames()){const o=this._getTitleElement(i);if(!o||o.maxOffset===1)continue;const r=Array.from(o.getChildren());r.shift();for(const s of r)t.move(t.createRangeOn(s),o,"after"),t.rename(s,"paragraph");e=!0}return e}_fixTitleElement(t){let e=!1;const i=this.editor.model;for(const o of this.editor.model.document.getRoots()){const r=Array.from(o.getChildren()).filter(ow),s=r[0],a=o.getChild(0);if(a.is("element","title"))r.length>1&&(rw(r,t,i),e=!0);else if(s||iw.has(a.name))iw.has(a.name)?lI(a,t,i):t.move(t.createRangeOn(s),o,0),rw(r,t,i),e=!0;else{const l=t.createElement("title");t.insert(l,o),t.insertElement("title-content",l),e=!0}}return e}_fixBodyElement(t){let e=!1;for(const i of this.editor.model.document.getRootNames()){const o=this.editor.model.document.getRoot(i);if(o.childCount<2){const r=t.createElement("paragraph");t.insert(r,o,1),this._bodyPlaceholder.set(i,r),e=!0}}return e}_fixExtraParagraph(t){let e=!1;for(const i of this.editor.model.document.getRootNames()){const o=this.editor.model.document.getRoot(i),r=this._bodyPlaceholder.get(i);dI(r,o)&&(this._bodyPlaceholder.delete(i),t.remove(r),e=!0)}return e}_attachPlaceholders(){const t=this.editor,e=t.t,i=t.editing.view,o=t.sourceElement,r=t.config.get("title.placeholder")||e("Type your title"),s=t.config.get("placeholder")||o&&o.tagName.toLowerCase()==="textarea"&&o.getAttribute("placeholder")||e("Type or paste your content here.");t.editing.downcastDispatcher.on("insert:title-content",(l,c,d)=>{const u=d.mapper.toViewElement(c.item);u.placeholder=r,pc({view:i,element:u,keepOnFocus:!0})});const a=new Map;i.document.registerPostFixer(l=>{let c=!1;for(const d of i.document.roots){if(d.isEmpty)continue;const u=d.getChild(1),h=a.get(d.rootName);u!==h&&(h&&(bc(l,h),l.removeAttribute("data-placeholder",h)),l.setAttribute("data-placeholder",s,u),a.set(d.rootName,u),c=!0),c=zg(u,!0)&&d.childCount===2&&u.name==="p"?!!Ng(l,u)||c:!!bc(l,u)||c}return c})}_attachTabPressHandling(){const t=this.editor,e=t.model;t.keystrokes.set("TAB",(i,o)=>{e.change(r=>{const s=e.document.selection,a=Array.from(s.getSelectedBlocks());if(a.length===1&&a[0].is("element","title-content")){const l=s.getFirstPosition().root.getChild(1);r.setSelection(l,0),o()}})}),t.keystrokes.set("SHIFT + TAB",(i,o)=>{e.change(r=>{const s=e.document.selection;if(!s.isCollapsed)return;const a=_t(s.getSelectedBlocks()),l=s.getFirstPosition(),c=t.model.document.getRoot(l.root.rootName),d=c.getChild(0);a===c.getChild(1)&&l.isAtStart&&(r.setSelection(d.getChild(0),0),o())})})}}function Yd(n,t,e){const i=t.modelCursor,o=t.viewItem;if(!i.isAtStart||!i.parent.is("element","$root")||!e.consumable.consume(o,{name:!0}))return;const r=e.writer,s=r.createElement("title"),a=r.createElement("title-content");r.append(a,s),r.insert(s,i),e.convertChildren(o,a),e.updateConversionResult(s,t)}function nw(n){return(t,e)=>{const i=e.modelPosition.parent;if(!i.is("element","title"))return;const o=i.parent,r=e.mapper.toViewElement(o);e.viewPosition=n.createPositionAt(r,0),t.stop()}}function ow(n){return n.is("element","title")}function lI(n,t,e){const i=t.createElement("title");t.insert(i,n,"before"),t.insert(n,i,0),t.rename(n,"title-content"),e.schema.removeDisallowedAttributes([n],t)}function rw(n,t,e){let i=!1;for(const o of n)o.index!==0&&(cI(o,t,e),i=!0);return i}function cI(n,t,e){const i=n.getChild(0);i.isEmpty?t.remove(n):(t.move(t.createRangeOn(i),n,"before"),t.rename(i,"paragraph"),t.remove(n),e.schema.removeDisallowedAttributes([i],t))}function dI(n,t){return!(!n||!n.is("element","paragraph")||n.childCount)&&!(t.childCount<=2||t.getChild(t.childCount-1)!==n)}class uI extends q{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("highlight"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"highlight")}execute(t={}){const e=this.editor.model,i=e.document.selection,o=t.value;e.change(r=>{if(i.isCollapsed){const s=i.getFirstPosition();if(i.hasAttribute("highlight")){const a=u=>u.item.hasAttribute("highlight")&&u.item.getAttribute("highlight")===this.value,l=s.getLastMatchingPosition(a,{direction:"backward"}),c=s.getLastMatchingPosition(a),d=r.createRange(l,c);o&&this.value!==o?(s.isEqual(c)||r.setAttribute("highlight",o,d),r.setSelectionAttribute("highlight",o)):(s.isEqual(c)||r.removeAttribute("highlight",d),r.removeSelectionAttribute("highlight"))}else o&&r.setSelectionAttribute("highlight",o)}else{const s=e.schema.getValidRanges(i.getRanges(),"highlight");for(const a of s)o?r.setAttribute("highlight",o,a):r.removeAttribute("highlight",a)}})}}class hI extends C{static get pluginName(){return"HighlightEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"highlight"});const e=t.config.get("highlight.options");t.conversion.attributeToElement(function(i){const o={model:{key:"highlight",values:[]},view:{}};for(const r of i)o.model.values.push(r.model),o.view[r.model]={name:"mark",classes:r.class};return o}(e)),t.commands.add("highlight",new uI(t))}}class mI extends C{get localizedOptionTitles(){const t=this.editor.t;return{"Yellow marker":t("Yellow marker"),"Green marker":t("Green marker"),"Pink marker":t("Pink marker"),"Blue marker":t("Blue marker"),"Red pen":t("Red pen"),"Green pen":t("Green pen")}}static get pluginName(){return"HighlightUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.config.get("highlight.options");for(const e of t)this._addHighlighterButton(e);this._addRemoveHighlightButton(),this._addDropdown(t),this._addMenuBarButton(t)}_addRemoveHighlightButton(){const t=this.editor.t,e=this.editor.commands.get("highlight");this._addButton("removeHighlight",t("Remove highlight"),ed,null,i=>{i.bind("isEnabled").to(e,"isEnabled")})}_addHighlighterButton(t){const e=this.editor.commands.get("highlight");this._addButton("highlight:"+t.model,t.title,Ga(t.type),t.model,function(i){i.bind("isEnabled").to(e,"isEnabled"),i.bind("isOn").to(e,"value",o=>o===t.model),i.iconView.fillColor=t.color,i.isToggleable=!0})}_addButton(t,e,i,o,r){const s=this.editor;s.ui.componentFactory.add(t,a=>{const l=new V(a),c=this.localizedOptionTitles[e]?this.localizedOptionTitles[e]:e;return l.set({label:c,icon:i,tooltip:!0}),l.on("execute",()=>{s.execute("highlight",{value:o}),s.editing.view.focus()}),r(l),l})}_addDropdown(t){const e=this.editor,i=e.t,o=e.ui.componentFactory,r=t[0],s=t.reduce((a,l)=>(a[l.model]=l,a),{});o.add("highlight",a=>{const l=e.commands.get("highlight"),c=ce(a,oo),d=c.buttonView;d.set({label:i("Highlight"),tooltip:!0,lastExecuted:r.model,commandValue:r.model,isToggleable:!0}),d.bind("icon").to(l,"value",h=>Ga(u(h,"type"))),d.bind("color").to(l,"value",h=>u(h,"color")),d.bind("commandValue").to(l,"value",h=>u(h,"model")),d.bind("isOn").to(l,"value",h=>!!h),d.delegate("execute").to(c);function u(h,g){const f=h&&h!==d.lastExecuted?h:d.lastExecuted;return s[f][g]}return c.bind("isEnabled").to(l,"isEnabled"),Jr(c,()=>{const h=t.map(g=>{const f=o.create("highlight:"+g.model);return this.listenTo(f,"execute",()=>{c.buttonView.set({lastExecuted:g.model})}),f});return h.push(new ud),h.push(o.create("removeHighlight")),h},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:i("Text highlight toolbar")}),function(h){h.buttonView.actionView.iconView.bind("fillColor").to(h.buttonView,"color")}(c),d.on("execute",()=>{e.execute("highlight",{value:d.commandValue})}),this.listenTo(c,"execute",()=>{e.editing.view.focus()}),c})}_addMenuBarButton(t){const e=this.editor,i=e.t,o=e.commands.get("highlight");e.ui.componentFactory.add("menuBar:highlight",r=>{const s=new Ke(r);s.buttonView.set({label:i("Highlight"),icon:Ga("marker")}),s.bind("isEnabled").to(o),s.buttonView.iconView.fillColor="transparent";const a=new Qi(r);for(const d of t){const u=new Ii(r,s),h=new xt(r);h.set({label:d.title,icon:Ga(d.type),role:"menuitemradio",isToggleable:!0}),h.iconView.fillColor=d.color,h.delegate("execute").to(s),h.bind("isOn").to(o,"value",g=>g===d.model),h.on("execute",()=>{e.execute("highlight",{value:d.model}),e.editing.view.focus()}),u.children.add(h),a.items.add(u)}a.items.add(new ya(r));const l=new Ii(r,s),c=new xt(r);return c.set({label:i("Remove highlight"),icon:ed}),c.delegate("execute").to(s),c.on("execute",()=>{e.execute("highlight",{value:null}),e.editing.view.focus()}),l.children.add(c),a.items.add(l),s.panelView.children.add(a),s})}}function Ga(n){return n==="marker"?G2:oE}class gI extends C{static get requires(){return[hI,mI]}static get pluginName(){return"Highlight"}static get isOfficialPlugin(){return!0}}class fI extends q{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection;this.isEnabled=function(o,r,s){const a=function(l,c){const d=Bd(l,c),u=d.start.parent;return u.isEmpty&&!u.is("element","$root")?u.parent:u}(o,s);return r.checkChild(a,"horizontalLine")}(i,e,t)}execute(){const t=this.editor.model;t.change(e=>{const i=e.createElement("horizontalLine");t.insertObject(i,null,null,{setSelection:"after"})})}}class pI extends C{static get pluginName(){return"HorizontalLineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.t,o=t.conversion;e.register("horizontalLine",{inheritAllFrom:"$blockObject"}),o.for("dataDowncast").elementToElement({model:"horizontalLine",view:(r,{writer:s})=>s.createEmptyElement("hr")}),o.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(r,{writer:s})=>{const a=i("Horizontal line"),l=s.createContainerElement("div",null,s.createEmptyElement("hr"));return s.addClass("ck-horizontal-line",l),s.setCustomProperty("hr",!0,l),function(c,d,u){return d.setCustomProperty("horizontalLine",!0,c),Va(c,d,{label:u})}(l,s,a)}}),o.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),t.commands.add("horizontalLine",new fI(t))}}class bI extends C{static get pluginName(){return"HorizontalLineUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("horizontalLine",()=>{const e=this._createButton(V);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(xt))}_createButton(t){const e=this.editor,i=e.locale,o=e.commands.get("horizontalLine"),r=new t(e.locale),s=i.t;return r.set({label:s("Horizontal line"),icon:D2}),r.bind("isEnabled").to(o,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),r}}class kI extends C{static get requires(){return[pI,bI,Zo]}static get pluginName(){return"HorizontalLine"}static get isOfficialPlugin(){return!0}}function sw(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function aw(n,t){const e=n.plugins.get("ImageUtils"),i=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return r=>e.isInlineImageView(r)?i&&(r.getStyle("display")=="block"||r.findAncestor(e.isBlockImageView)?"imageBlock":"imageInline")!==t?null:o(r):null;function o(r){const s={name:!0};return r.hasAttribute("src")&&(s.attributes=["src"]),s}}function Zd(n,t){const e=_t(t.getSelectedBlocks());return!e||n.isObject(e)||e.isEmpty&&e.name!="listItem"?"imageBlock":"imageInline"}function Ka(n){return n&&n.endsWith("px")?parseInt(n):null}function Ya(n){const t=Ka(n.getStyle("width")),e=Ka(n.getStyle("height"));return!(!t||!e)}const wI=/^(image|image-inline)$/;class ke extends C{constructor(){super(...arguments),m(this,"_domEmitter",new(Se()))}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,i=null,o={}){const r=this.editor,s=r.model,a=s.document.selection,l=lw(r,e||a,i);t={...Object.fromEntries(a.getAttributes()),...t};for(const c in t)s.schema.checkAttribute(l,c)||delete t[c];return s.change(c=>{const{setImageSizes:d=!0}=o,u=c.createElement(l,t);return s.insertObject(u,e,null,{setSelection:"on",findOptimalPosition:e||l=="imageInline"?void 0:"auto"}),u.parent?(d&&this.setImageNaturalSizeAttributes(u),u):null})}setImageNaturalSizeAttributes(t){const e=t.getAttribute("src");e&&(t.getAttribute("width")||t.getAttribute("height")||this.editor.model.change(i=>{const o=new L.window.Image;this._domEmitter.listenTo(o,"load",()=>{t.getAttribute("width")||t.getAttribute("height")||this.editor.model.enqueueChange(i.batch,r=>{r.setAttribute("width",o.naturalWidth,t),r.setAttribute("height",o.naturalHeight,t)}),this._domEmitter.stopListening(o,"load")}),o.src=e}))}getClosestSelectedImageWidget(t){const e=t.getFirstPosition();if(!e)return null;const i=t.getSelectedElement();if(i&&this.isImageWidget(i))return i;let o=e.parent;for(;o;){if(o.is("element")&&this.isImageWidget(o))return o;o=o.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(t){return t.findAncestor({classes:wI})}isImageAllowed(){const t=this.editor.model.document.selection;return function(e,i){if(lw(e,i,null)=="imageBlock"){const o=function(r,s){const a=Bd(r,s),l=a.start.parent;return l.isEmpty&&!l.is("element","$root")?l.parent:l}(i,e.model);if(e.model.schema.checkChild(o,"imageBlock"))return!0}else if(e.model.schema.checkChild(i.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(e){return[...e.focus.getAncestors()].every(i=>!i.is("element","imageBlock"))}(t)}toImageWidget(t,e,i){return e.setCustomProperty("image",!0,t),Va(t,e,{label:()=>{const o=this.findViewImgElement(t).getAttribute("alt");return o?`${o} ${i}`:i}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Kt(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:i}of e.createRangeIn(t))if(this.isInlineImageView(i))return i}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function lw(n,t,e){const i=n.model.schema,o=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?e||(o==="inline"?"imageInline":o!=="auto"?"imageBlock":t.is("selection")?Zd(i,t):i.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const _I=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class vI extends C{constructor(t){super(t),m(this,"_timeoutId"),m(this,"_positionToInsert"),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[Rd,ke,Wd,Di]}static get pluginName(){return"AutoImage"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.document,i=t.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",()=>{const o=e.selection.getFirstRange(),r=Gt.fromPosition(o.start);r.stickiness="toPrevious";const s=Gt.fromPosition(o.end);s.stickiness="toNext",e.once("change:data",()=>{this._embedImageBetweenPositions(r,s),r.detach(),s.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(L.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(t,e){const i=this.editor,o=new Me(t,e),r=o.getWalker({ignoreElementEnd:!0}),s=Object.fromEntries(i.model.document.selection.getAttributes()),a=this.editor.plugins.get("ImageUtils");let l="";for(const c of r)c.item.is("$textProxy")&&(l+=c.item.data);l=l.trim(),l.match(_I)?(this._positionToInsert=Gt.fromPosition(t),this._timeoutId=setTimeout(()=>{if(!i.commands.get("insertImage").isEnabled)return void o.detach();i.model.change(c=>{let d;this._timeoutId=null,c.remove(o),o.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(d=this._positionToInsert.toPosition()),a.insertImage({...s,src:l},d),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get("Delete").requestUndoOnBackspace()},100)):o.detach()}}class yI extends q{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,i=e.plugins.get("ImageUtils"),o=e.model,r=i.getClosestSelectedImageElement(o.document.selection);o.change(s=>{s.setAttribute("alt",t.newValue,r)})}}class CI extends C{static get requires(){return[ke]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new yI(this.editor))}}class AI extends P{constructor(t){super(t),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"labeledInput"),m(this,"backButtonView"),m(this,"saveButtonView"),m(this,"children"),m(this,"_focusables"),m(this,"_focusCycler"),this.focusTracker=new ht,this.keystrokes=new Tt,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new Ia(t,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new Ee,this.keystrokes.set("Esc",(e,i)=>{this.fire("cancel"),i()}),this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),Fo({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const t=this.locale.t,e=new V(this.locale);return e.set({class:"ck-button-back",label:t("Back"),icon:Xn,tooltip:!0}),e.delegate("execute").to(this,"cancel"),e}_createSaveButton(){const t=this.locale.t,e=new V(this.locale);return e.set({label:t("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),e}_createHeaderView(){const t=this.locale.t,e=new to(this.locale,{label:t("Text Alternative")});return e.children.add(this.backButtonView,0),e}_createLabeledInputView(){const t=this.locale.t,e=new Si(this.locale,An);return e.label=t("Text alternative"),e.class="ck-labeled-field-view_full-width",e}}function Qd(n){const t=n.editing.view,e=pe.defaultPositions,i=n.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(t.document.selection)),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.viewportStickyNorth]}}class xI extends C{constructor(){super(...arguments),m(this,"_balloon"),m(this,"_form")}static get requires(){return[Mi]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",i=>{const o=t.commands.get("imageTextAlternative"),r=new V(i);return r.set({label:e("Change image text alternative"),icon:_E,tooltip:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",s=>!!s),this.listenTo(r,"execute",()=>{this._showForm()}),r})}_createForm(){const t=this.editor,e=t.editing.view.document,i=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Wr(AI))(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this.listenTo(t.ui,"update",()=>{i.getClosestSelectedImageWidget(e.selection)?this._isVisible&&function(o){const r=o.plugins.get("ContextualBalloon");if(o.plugins.get("ImageUtils").getClosestSelectedImageWidget(o.editing.view.document.selection)){const s=Qd(o);r.updatePosition(s)}}(t):this._hideForm(!0)}),yn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,e=t.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Qd(t)}),i.fieldView.value=i.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Jd extends C{static get requires(){return[CI,xI]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function cw(n,t){const e=(i,o,r)=>{if(!r.consumable.consume(o.item,i.name))return;const s=r.writer,a=r.mapper.toViewElement(o.item),l=n.findViewImgElement(a);o.attributeNewValue===null?(s.removeAttribute("srcset",l),s.removeAttribute("sizes",l)):o.attributeNewValue&&(s.setAttribute("srcset",o.attributeNewValue,l),s.setAttribute("sizes","100vw",l))};return i=>{i.on(`attribute:srcset:${t}`,e)}}function Za(n,t,e){const i=(o,r,s)=>{if(!s.consumable.consume(r.item,o.name))return;const a=s.writer,l=s.mapper.toViewElement(r.item),c=n.findViewImgElement(l);a.setAttribute(r.attributeKey,r.attributeNewValue||"",c)};return o=>{o.on(`attribute:${e}:${t}`,i)}}class Xd extends mi{observe(t){this.listenTo(t,"load",(e,i)=>{const o=i.target;this.checkShouldIgnoreEventFromTarget(o)||o.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class EI extends q{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||e==="block"&&st("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||e==="inline"&&st("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=Dt(t.source),i=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());e.forEach((s,a)=>{const l=i.getSelectedElement();if(typeof s=="string"&&(s={src:s}),a&&l&&o.isImage(l)){const c=this.editor.model.createPositionAfter(l);o.insertImage({...s,...r},c,t.imageType)}else t.breakBlock?o.insertImage({...s,...r},i.getFirstPosition(),t.imageType):o.insertImage({...s,...r},null,t.imageType)})}}class TI extends q{constructor(t){super(t),this.decorate("cleanupImage")}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(e),this.value=this.isEnabled?e.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement(),i=this.editor.plugins.get("ImageUtils");this.editor.model.change(o=>{o.setAttribute("src",t.source,e),this.cleanupImage(o,e),i.setImageNaturalSizeAttributes(e)})}cleanupImage(t,e){t.removeAttribute("srcset",e),t.removeAttribute("sizes",e),t.removeAttribute("sources",e),t.removeAttribute("width",e),t.removeAttribute("height",e),t.removeAttribute("alt",e)}}class dw extends C{static get requires(){return[ke]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(Xd),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new EI(t),o=new TI(t);t.commands.add("insertImage",i),t.commands.add("replaceImageSource",o),t.commands.add("imageInsert",i)}}class uw extends C{static get requires(){return[ke]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const e=this.editor,i=e.plugins.get("ImageUtils"),o=t==="imageBlock"?"figure":"img";function r(s,a,l,c,d=!1){s.on(`attribute:${a}:${t}`,(u,h,g)=>{if(!g.consumable.consume(h.item,u.name))return;const f=g.writer,p=g.mapper.toViewElement(h.item),b=i.findViewImgElement(p);h.attributeNewValue!==null?f.setAttribute(l,h.attributeNewValue,b):f.removeAttribute(l,b);const k=h.item.getAttribute("width"),w=h.item.getAttribute("height"),_=k&&w;if(_&&d&&f.setAttribute("loading","lazy",b),h.item.hasAttribute("sources"))return;const y=h.item.hasAttribute("resizedWidth");(t!=="imageInline"||y||c)&&_&&f.setStyle("aspect-ratio",`${k}/${w}`,b)})}e.conversion.for("upcast").attributeToAttribute({view:{name:o,styles:{width:/.+/}},model:{key:"width",value:s=>Ya(s)?Ka(s.getStyle("width")):null}}).attributeToAttribute({view:{name:o,key:"width"},model:"width"}).attributeToAttribute({view:{name:o,styles:{height:/.+/}},model:{key:"height",value:s=>Ya(s)?Ka(s.getStyle("height")):null}}).attributeToAttribute({view:{name:o,key:"height"},model:"height"}),e.conversion.for("editingDowncast").add(s=>{r(s,"width","width",!0,!0),r(s,"height","height",!0,!0)}),e.conversion.for("dataDowncast").add(s=>{r(s,"width","width",!1),r(s,"height","height",!1)})}}class hw extends q{constructor(t,e){super(t),m(this,"_modelElementName"),this._modelElementName=e}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(e):this.isEnabled=t.isBlockImage(e)}execute(t={}){const e=this.editor,i=this.editor.model,o=e.plugins.get("ImageUtils"),r=o.getClosestSelectedImageElement(i.document.selection),s=Object.fromEntries(r.getAttributes());return s.src||s.uploadId?i.change(a=>{const{setImageSizes:l=!0}=t,c=Array.from(i.markers).filter(h=>h.getRange().containsItem(r)),d=o.insertImage(s,i.createSelection(r,"on"),this._modelElementName,{setImageSizes:l});if(!d)return null;const u=a.createRangeOn(d);for(const h of c){const g=h.getRange(),f=g.root.rootName!="$graveyard"?g.getJoined(u,!0):u;a.updateMarker(h,{range:f})}return{oldElement:r,newElement:d}}):null}}class mw extends C{static get requires(){return[ke]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const t=this.editor.model.schema;t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["placeholder"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const t=this.editor,e=t.conversion,i=t.plugins.get("ImageUtils");e.for("editingDowncast").add(o=>{o.on("attribute:placeholder",(r,s,a)=>{if(!a.consumable.test(s.item,r.name)||!s.item.is("element","imageBlock")&&!s.item.is("element","imageInline"))return;a.consumable.consume(s.item,r.name);const l=a.writer,c=a.mapper.toViewElement(s.item),d=i.findViewImgElement(c);s.attributeNewValue?(l.addClass("image_placeholder",d),l.setStyle("background-image",`url(${s.attributeNewValue})`,d),l.setCustomProperty("editingPipeline:doNotReuseOnce",!0,d)):(l.removeClass("image_placeholder",d),l.removeStyle("background-image",d))})})}_setupLoadListener(){const t=this.editor,e=t.model,i=t.editing,o=i.view,r=t.plugins.get("ImageUtils");o.addObserver(Xd),this.listenTo(o.document,"imageLoaded",(s,a)=>{const l=o.domConverter.mapDomToView(a.target);if(!l)return;const c=r.getImageWidgetFromImageView(l);if(!c)return;const d=i.mapper.toModelElement(c);d&&d.hasAttribute("placeholder")&&e.enqueueChange({isUndoable:!1},u=>{u.removeAttribute("placeholder",d)})})}}class gw extends C{static get requires(){return[dw,uw,ke,mw,Ie]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new hw(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,i=t.conversion,o=t.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:s})=>sw(s)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:s})=>o.toImageWidget(sw(s),s,e("image widget"))}),i.for("downcast").add(Za(o,"imageBlock","src")).add(Za(o,"imageBlock","alt")).add(cw(o,"imageBlock")),i.for("upcast").elementToElement({view:aw(t,"imageBlock"),model:(r,{writer:s})=>s.createElement("imageBlock",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)}).add(function(r){const s=(a,l,c)=>{if(!c.consumable.test(l.viewItem,{name:!0,classes:"image"}))return;const d=r.findViewImgElement(l.viewItem);if(!d||!c.consumable.test(d,{name:!0}))return;c.consumable.consume(l.viewItem,{name:!0,classes:"image"});const u=_t(c.convertItem(d,l.modelCursor).modelRange.getItems());u?(c.convertChildren(l.viewItem,u),c.updateConversionResult(u,l)):c.consumable.revert(l.viewItem,{name:!0,classes:"image"})};return a=>{a.on("element:figure",s)}}(o))}_setupClipboardIntegration(){const t=this.editor,e=t.model,i=t.editing.view,o=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(s,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(o.isInlineImageView))return;c=a.targetRanges?t.editing.mapper.toModelRange(a.targetRanges[0]):e.document.selection.getFirstRange();const d=e.createSelection(c);if(Zd(e.schema,d)==="imageBlock"){const u=new Ei(i.document),h=l.map(g=>u.createElement("figure",{class:"image"},g));a.content=u.createDocumentFragment(h)}}),this.listenTo(r,"contentInsertion",(s,a)=>{a.method==="paste"&&e.change(l=>{const c=l.createRangeIn(a.content);for(const d of c.getItems())d.is("element","imageBlock")&&o.setImageNaturalSizeAttributes(d)})})}}class SI extends P{constructor(t,e=[]){super(t),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"_focusables"),m(this,"_focusCycler"),m(this,"children"),this.focusTracker=new ht,this.keystrokes=new Tt,this._focusables=new Ee,this.children=this.createCollection(),this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const i of e)this.children.add(i),this._focusables.add(i),i instanceof Zp&&this._focusables.addMany(i.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Fo({view:this});for(const e of this._focusables)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class us extends C{constructor(t){super(t),m(this,"dropdownView"),m(this,"_integrations",new Map),t.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[ke]}init(){const t=this.editor,e=t.model.document.selection,i=t.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(t.model.document,"change",()=>{this.isImageSelected=i.isImage(e.getSelectedElement())});const o=r=>this._createToolbarComponent(r);t.ui.componentFactory.add("insertImage",o),t.ui.componentFactory.add("imageInsert",o),t.ui.componentFactory.add("menuBar:insertImage",r=>this._createMenuBarComponent(r))}registerIntegration({name:t,observable:e,buttonViewCreator:i,formViewCreator:o,menuBarButtonViewCreator:r,requiresForm:s=!1,override:a=!1}){this._integrations.has(t)&&!a&&st("image-insert-integration-exists",{name:t}),this._integrations.set(t,{observable:e,buttonViewCreator:i,menuBarButtonViewCreator:r,formViewCreator:o,requiresForm:s})}_createToolbarComponent(t){const e=this.editor,i=t.t,o=this._prepareIntegrations();if(!o.length)return null;let r;const s=o[0];if(o.length==1){if(!s.requiresForm)return s.buttonViewCreator(!0);r=s.buttonViewCreator(!0)}else{const c=s.buttonViewCreator(!1);r=new oo(t,c),r.tooltip=!0,r.bind("label").to(this,"isImageSelected",d=>i(d?"Replace image":"Insert image"))}const a=this.dropdownView=ce(t,r),l=o.map(({observable:c})=>typeof c=="function"?c():c);return a.bind("isEnabled").toMany(l,"isEnabled",(...c)=>c.some(d=>d)),a.once("change:isOpen",()=>{const c=o.flatMap(({formViewCreator:u})=>u(o.length==1)),d=new SI(e.locale,c);a.panelView.children.add(d)}),a}_createMenuBarComponent(t){const e=t.t,i=this._prepareIntegrations();if(!i.length)return null;const o=i.flatMap(({menuBarButtonViewCreator:a})=>a(i.length==1)),r=new Ke(t),s=new Qi(t);r.panelView.children.add(s),r.buttonView.set({icon:P2,label:e("Image")});for(const a of o){const l=new Ii(t,r);l.children.add(a),s.items.add(l),a.delegate("execute").to(r)}return r}_prepareIntegrations(){const t=this.editor.config.get("image.insert.integrations"),e=[];if(!t.length)return st("image-insert-integrations-not-specified"),e;for(const i of t)this._integrations.has(i)?e.push(this._integrations.get(i)):["upload","assetManager","url"].includes(i)||st("image-insert-unknown-integration",{item:i});return e.length||st("image-insert-integrations-not-registered"),e}}class II extends C{static get requires(){return[gw,Zo,Jd,us]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class MI extends C{static get requires(){return[dw,uw,ke,mw,Ie]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new hw(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,i=t.conversion,o=t.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(r,{writer:s})=>s.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(r,{writer:s})=>o.toImageWidget(function(a){return a.createContainerElement("span",{class:"image-inline"},a.createEmptyElement("img"))}(s),s,e("image widget"))}),i.for("downcast").add(Za(o,"imageInline","src")).add(Za(o,"imageInline","alt")).add(cw(o,"imageInline")),i.for("upcast").elementToElement({view:aw(t,"imageInline"),model:(r,{writer:s})=>s.createElement("imageInline",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,i=t.editing.view,o=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(s,a)=>{const l=Array.from(a.content.getChildren());let c;if(!l.every(o.isBlockImageView))return;c=a.targetRanges?t.editing.mapper.toModelRange(a.targetRanges[0]):e.document.selection.getFirstRange();const d=e.createSelection(c);if(Zd(e.schema,d)==="imageInline"){const u=new Ei(i.document),h=l.map(g=>g.childCount===1?(Array.from(g.getAttributes()).forEach(f=>u.setAttribute(...f,o.findViewImgElement(g))),g.getChild(0)):g);a.content=u.createDocumentFragment(h)}}),this.listenTo(r,"contentInsertion",(s,a)=>{a.method==="paste"&&e.change(l=>{const c=l.createRangeIn(a.content);for(const d of c.getItems())d.is("element","imageInline")&&o.setImageNaturalSizeAttributes(d)})})}}class DI extends C{static get requires(){return[MI,Zo,Jd,us]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class fw extends C{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[ke]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),i=t.getFirstPosition().findAncestor("caption");return i&&e.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&e.isBlockImageView(t.parent)?{name:!0}:null}}class PI extends q{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils"),i=t.plugins.get("ImageUtils");if(!t.plugins.has(gw))return this.isEnabled=!1,void(this.value=!1);const o=t.model.document.selection,r=o.getSelectedElement();if(!r){const s=e.getCaptionFromModelSelection(o);return this.isEnabled=!!s,void(this.value=!!s)}this.isEnabled=i.isImage(r),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(r):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,e)})}_showImageCaption(t,e){const i=this.editor.model.document.selection,o=this.editor.plugins.get("ImageCaptionEditing"),r=this.editor.plugins.get("ImageUtils");let s=i.getSelectedElement();const a=o._getSavedCaption(s);r.isInlineImage(s)&&(this.editor.execute("imageTypeBlock"),s=i.getSelectedElement());const l=a||t.createElement("caption");t.append(l,s),e&&t.setSelection(l,"in")}_hideImageCaption(t){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("ImageCaptionEditing"),r=e.plugins.get("ImageCaptionUtils");let s,a=i.getSelectedElement();a?s=r.getCaptionFromImageModelElement(a):(s=r.getCaptionFromModelSelection(i),a=s.parent),o._saveCaption(a,s),t.setSelection(a,"on"),t.remove(s)}}class LI extends C{constructor(t){super(t),m(this,"_savedCaptionsMap"),this._savedCaptionsMap=new WeakMap}static get requires(){return[ke,fw]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new PI(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,e=t.editing.view,i=t.plugins.get("ImageUtils"),o=t.plugins.get("ImageCaptionUtils"),r=t.t;t.conversion.for("upcast").elementToElement({view:s=>o.matchImageCaptionViewElement(s),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(s,{writer:a})=>i.isBlockImage(s.parent)?a.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(s,{writer:a})=>{if(!i.isBlockImage(s.parent))return null;const l=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,l),l.placeholder=r("Enter image caption"),pc({view:e,element:l,keepOnFocus:!0});const c=s.parent.getAttribute("alt");return mk(l,a,{label:c?r("Caption for image: %0",[c]):r("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),i=t.plugins.get("ImageCaptionUtils"),o=t.commands.get("imageTypeInline"),r=t.commands.get("imageTypeBlock"),s=a=>{if(!a.return)return;const{oldElement:l,newElement:c}=a.return;if(!l)return;if(e.isBlockImage(l)){const u=i.getCaptionFromImageModelElement(l);if(u)return void this._saveCaption(c,u)}const d=this._getSavedCaption(l);d&&this._saveCaption(c,d)};o&&this.listenTo(o,"execute",s,{priority:"low"}),r&&this.listenTo(r,"execute",s,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?Lt.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}_registerCaptionReconversion(){const t=this.editor,e=t.model,i=t.plugins.get("ImageUtils"),o=t.plugins.get("ImageCaptionUtils");e.document.on("change:data",()=>{const r=e.document.differ.getChanges();for(const s of r){if(s.attributeKey!=="alt")continue;const a=s.range.start.nodeAfter;if(i.isBlockImage(a)){const l=o.getCaptionFromImageModelElement(a);if(!l)return;t.editing.reconvertItem(l)}}})}}class BI extends C{static get requires(){return[fw]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=t.plugins.get("ImageCaptionUtils"),o=t.t;t.ui.componentFactory.add("toggleImageCaption",r=>{const s=t.commands.get("toggleImageCaption"),a=new V(r);return a.set({icon:y2,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(s,"value","isEnabled"),a.bind("label").to(s,"value",l=>o(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=i.getCaptionFromModelSelection(t.model.document.selection);if(l){const c=t.editing.mapper.toViewElement(l);e.scrollToTheSelection(),e.change(d=>{d.addClass("image__caption_highlighted",c)})}t.editing.view.focus()}),a})}}class NI extends C{static get requires(){return[LI,BI]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function pw(n){const t=n.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function zI(n){return new Promise((t,e)=>{const i=n.getAttribute("src");fetch(i).then(o=>o.blob()).then(o=>{const r=bw(o,i),s=r.replace("image/",""),a=new File([o],`image.${s}`,{type:r});t(a)}).catch(o=>o&&o.name==="TypeError"?function(r){return function(s){return new Promise((a,l)=>{const c=L.document.createElement("img");c.addEventListener("load",()=>{const d=L.document.createElement("canvas");d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0),d.toBlob(u=>u?a(u):l())}),c.addEventListener("error",()=>l()),c.src=s})}(r).then(s=>{const a=bw(s,r),l=a.replace("image/","");return new File([s],`image.${l}`,{type:a})})}(i).then(t).catch(e):e(o))})}function bw(n,t){return n.type?n.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class OI extends C{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),t.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),t.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>t.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createButton(t){const e=this.editor,i=e.locale,o=e.commands.get("uploadImage"),r=e.config.get("image.upload.types"),s=pw(r),a=new t(e.locale),l=i.t;return a.set({acceptedType:r.map(c=>`image/${c}`).join(","),allowMultipleFiles:!0,label:l("Upload from computer"),icon:L2}),a.bind("isEnabled").to(o),a.on("done",(c,d)=>{const u=Array.from(d).filter(h=>s.test(h.type));u.length&&(e.execute("uploadImage",{file:u}),e.editing.view.focus())}),a}_createToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),i=this.editor.commands.get("uploadImage"),o=this._createButton(Kp);return o.tooltip=!0,o.bind("label").to(e,"isImageSelected",i,"isAccessAllowed",(r,s)=>t(s?r?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),o}_createDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),i=this._createButton(Kp);return i.withText=!0,i.bind("label").to(e,"isImageSelected",o=>t(o?"Replace from computer":"Upload from computer")),i.on("execute",()=>{e.dropdownView.isOpen=!1}),i}_createMenuBarButton(t){const e=this.editor.locale.t,i=this._createButton(Ub);switch(i.withText=!0,t){case"standalone":i.label=e("Image from computer");break;case"insertOnly":i.label=e("Image");break;case"insertNested":i.label=e("From computer")}return i}}class RI extends C{constructor(t){super(t),m(this,"placeholder"),m(this,"uploadStatusChange",(e,i,o)=>{const r=this.editor,s=i.item,a=s.getAttribute("uploadId");if(!o.consumable.consume(i.item,e.name))return;const l=r.plugins.get("ImageUtils"),c=r.plugins.get(vn),d=a?i.attributeNewValue:null,u=this.placeholder,h=r.editing.mapper.toViewElement(s),g=o.writer;if(d=="reading")return kw(h,g),void ww(l,u,h,g);if(d=="uploading"){const f=c.loaders.get(a);return kw(h,g),void(f?(_w(h,g),function(p,b,k,w){const _=function(y){const A=y.createUIElement("div",{class:"ck-progress-bar"});return y.setCustomProperty("progressBar",!0,A),A}(b);b.insert(b.createPositionAt(p,"end"),_),k.on("change:uploadedPercent",(y,A,x)=>{w.change(I=>{I.setStyle("width",x+"%",_)})})}(h,g,f,r.editing.view),function(p,b,k,w){if(w.data){const _=p.findViewImgElement(b);k.setAttribute("src",w.data,_)}}(l,h,g,f)):ww(l,u,h,g))}d=="complete"&&c.loaders.get(a)&&function(f,p,b){const k=p.createUIElement("div",{class:"ck-image-upload-complete-icon"});p.insert(p.createPositionAt(f,"end"),k),setTimeout(()=>{b.change(w=>w.remove(w.createRangeOn(k)))},3e3)}(h,g,r.editing.view),function(f,p){yw(f,p,"progressBar")}(h,g),_w(h,g),function(f,p){p.removeClass("ck-appear",f)}(h,g)}),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function kw(n,t){n.hasClass("ck-appear")||t.addClass("ck-appear",n)}function ww(n,t,e,i){e.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",e);const o=n.findViewImgElement(e);o.getAttribute("src")!==t&&i.setAttribute("src",t,o),vw(e,"placeholder")||i.insert(i.createPositionAfter(o),function(r){const s=r.createUIElement("div",{class:"ck-upload-placeholder-loader"});return r.setCustomProperty("placeholder",!0,s),s}(i))}function _w(n,t){n.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",n),yw(n,t,"placeholder")}function vw(n,t){for(const e of n.getChildren())if(e.getCustomProperty(t))return e}function yw(n,t,e){const i=vw(n,e);i&&t.remove(t.createRangeOn(i))}class VI extends q{constructor(t){super(t),this.set("isAccessAllowed",!0)}refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),i=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(i)}execute(t){const e=Dt(t.file),i=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());e.forEach((s,a)=>{const l=i.getSelectedElement();if(a&&l&&o.isImage(l)){const c=this.editor.model.createPositionAfter(l);this._uploadImage(s,r,c)}else this._uploadImage(s,r)})}_uploadImage(t,e,i){const o=this.editor,r=o.plugins.get(vn).createLoader(t),s=o.plugins.get("ImageUtils");r&&s.insertImage({...e,uploadId:r.id},i)}}class FI extends C{constructor(t){super(t),m(this,"_uploadImageElements"),m(this,"_uploadedImages",new Map),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[vn,Rb,Ie,ke]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.document,i=t.conversion,o=t.plugins.get(vn),r=t.plugins.get("ImageUtils"),s=t.plugins.get("ClipboardPipeline"),a=pw(t.config.get("image.upload.types")),l=new VI(t);t.commands.add("uploadImage",l),t.commands.add("imageUpload",l),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(c=>c.on("element:img",(d,u,h)=>{if(!h.consumable.test(u.viewItem,{attributes:["data-ck-upload-id"]}))return;const g=u.viewItem.getAttribute("data-ck-upload-id");if(!g)return;const[f]=Array.from(u.modelRange.getItems({shallow:!0})),p=o.loaders.get(g);f&&(h.writer.setAttribute("uploadId",g,f),h.consumable.consume(u.viewItem,{attributes:["data-ck-upload-id"]}),p&&p.data&&h.writer.setAttribute("uploadStatus",p.status,f))},{priority:"low"})),this.listenTo(t.editing.view.document,"clipboardInput",(c,d)=>{if(u=d.dataTransfer,Array.from(u.types).includes("text/html")&&u.getData("text/html")!=="")return;var u;const h=Array.from(d.dataTransfer.files).filter(g=>!!g&&a.test(g.type));if(h.length&&(c.stop(),t.model.change(g=>{d.targetRanges&&g.setSelection(d.targetRanges.map(f=>t.editing.mapper.toModelRange(f))),t.execute("uploadImage",{file:h})}),!t.commands.get("uploadImage").isAccessAllowed)){const g=t.plugins.get("Notification"),f=t.locale.t;g.showWarning(f("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(s,"inputTransformation",(c,d)=>{const u=Array.from(t.editing.view.createRangeIn(d.content)).map(g=>g.item).filter(g=>function(f,p){return!(!f.isInlineImageView(p)||!p.getAttribute("src")||!p.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!p.getAttribute("src").match(/^blob:/g))}(r,g)&&!g.getAttribute("uploadProcessed")).map(g=>({promise:zI(g),imageElement:g}));if(!u.length)return;const h=new Ei(t.editing.view.document);for(const g of u){h.setAttribute("uploadProcessed",!0,g.imageElement);const f=o.createLoader(g.promise);f&&(h.setAttribute("src","",g.imageElement),h.setAttribute("uploadId",f.id,g.imageElement))}}),t.editing.view.document.on("dragover",(c,d)=>{d.preventDefault()}),e.on("change",()=>{const c=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),d=new Set;for(const u of c)if(u.type=="insert"&&u.name!="$text"){const h=u.position.nodeAfter,g=u.position.root.rootName=="$graveyard";for(const f of jI(t,h)){const p=f.getAttribute("uploadId");if(!p)continue;const b=o.loaders.get(p);b?g?d.has(p)||Array.from(this._uploadImageElements.get(p)).every(k=>k.root.rootName=="$graveyard")&&b.abort():(d.add(p),this._uploadImageElements.has(p)?this._uploadImageElements.get(p).add(f):this._uploadImageElements.set(p,new Set([f])),b.status=="idle"&&this._readAndUpload(b)):!g&&this._uploadedImages.has(p)&&t.model.enqueueChange({isUndoable:!1},k=>{k.setAttribute("uploadStatus","complete",f),this.fire("uploadComplete",{data:this._uploadedImages.get(p),imageElement:f})})}}}),this.on("uploadComplete",(c,{imageElement:d,data:u})=>{const h=u.urls?u.urls:u;this.editor.model.change(g=>{g.setAttribute("src",h.default,d),this._parseAndSetSrcsetAttributeOnImage(h,d,g),r.setImageNaturalSizeAttributes(d)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(t){const e=this.editor,i=e.model,o=e.locale.t,r=e.plugins.get(vn),s=e.plugins.get(Rb),a=e.plugins.get("ImageUtils"),l=this._uploadImageElements;return i.enqueueChange({isUndoable:!1},d=>{const u=l.get(t.id);for(const h of u)d.setAttribute("uploadStatus","reading",h)}),t.read().then(()=>{const d=t.upload();e.ui&&e.ui.ariaLiveAnnouncer.announce(o("Uploading image"));for(const u of l.get(t.id)){if(j.isSafari){const h=e.editing.mapper.toViewElement(u),g=a.findViewImgElement(h);e.editing.view.once("render",()=>{if(!g.parent)return;const f=e.editing.view.domConverter.mapViewToDom(g.parent);if(!f)return;const p=f.style.display;f.style.display="none",f._ckHack=f.offsetHeight,f.style.display=p})}i.enqueueChange({isUndoable:!1},h=>{h.setAttribute("uploadStatus","uploading",u)})}return d}).then(d=>{i.enqueueChange({isUndoable:!1},u=>{for(const h of l.get(t.id))u.setAttribute("uploadStatus","complete",h),this.fire("uploadComplete",{data:d,imageElement:h});e.ui&&e.ui.ariaLiveAnnouncer.announce(o("Image upload complete")),this._uploadedImages.set(t.id,d)}),c()}).catch(d=>{if(e.ui&&e.ui.ariaLiveAnnouncer.announce(o("Error during image upload")),t.status!=="error"&&t.status!=="aborted")throw d;t.status=="error"&&d&&s.showWarning(d,{title:o("Upload failed"),namespace:"upload"}),i.enqueueChange({isUndoable:!1},u=>{for(const h of l.get(t.id))h.root.rootName!=="$graveyard"&&u.remove(h)}),c()});function c(){i.enqueueChange({isUndoable:!1},d=>{for(const u of l.get(t.id))d.removeAttribute("uploadId",u),d.removeAttribute("uploadStatus",u);l.delete(t.id)}),r.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,i){let o=0;const r=Object.keys(t).filter(s=>{const a=parseInt(s,10);if(!isNaN(a))return o=Math.max(o,a),!0}).map(s=>`${t[s]} ${s}w`).join(", ");if(r!=""){const s={srcset:r};e.hasAttribute("width")||e.hasAttribute("height")||(s.width=o),i.setAttributes(s,e)}}_registerConverters(t){const{conversion:e,plugins:i}=this.editor,o=i.get(vn),r=i.get(ke);e.for("dataDowncast").add(s=>{s.on(`attribute:uploadId:${t}`,(a,l,c)=>{if(!c.consumable.test(l.item,a.name))return;const d=o.loaders.get(l.attributeNewValue);if(!d||!d.data)return null;const u=c.mapper.toViewElement(l.item),h=r.findViewImgElement(u);h&&(c.consumable.consume(l.item,a.name),c.writer.setAttribute("data-ck-upload-id",d.id,h))})})}}function jI(n,t){const e=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(t)).filter(i=>e.isImage(i.item)).map(i=>i.item)}class Cw extends C{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[FI,OI,RI]}}class HI extends P{constructor(t){super(t),m(this,"urlInputView"),m(this,"keystrokes"),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new Tt,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-url"],tabindex:"-1"},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),Fo({view:this}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const t=this.locale,e=t.t,i=new Si(t,An);return i.bind("label").to(this,"isImageSelected",o=>e(o?"Update image URL":"Insert image via URL")),i.bind("isEnabled").to(this),i.fieldView.inputMode="url",i.fieldView.placeholder="https://example.com/image.png",i.fieldView.bind("value").to(this,"imageURLInputValue",o=>o||""),i.fieldView.on("input",()=>{this.imageURLInputValue=i.fieldView.element.value.trim()}),i}focus(){this.urlInputView.focus()}}class UI extends C{constructor(){super(...arguments),m(this,"_imageInsertUI"),m(this,"_formView")}static get pluginName(){return"ImageInsertViaUrlUI"}static get isOfficialPlugin(){return!0}static get requires(){return[us,Kr]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",()=>this._createToolbarButton()),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",()=>this._createMenuBarButton("standalone"))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:t=>this._createMenuBarButton(t?"insertOnly":"insertNested")})}_createInsertUrlButton(t){const e=new t(this.editor.locale);return e.icon=B2,e.on("execute",()=>{this._showModal()}),e}_createToolbarButton(){const t=this.editor.locale.t,e=this._createInsertUrlButton(V);return e.tooltip=!0,e.bind("label").to(this._imageInsertUI,"isImageSelected",i=>t(i?"Update image URL":"Insert image via URL")),e}_createDropdownButton(){const t=this.editor.locale.t,e=this._createInsertUrlButton(V);return e.withText=!0,e.bind("label").to(this._imageInsertUI,"isImageSelected",i=>t(i?"Update image URL":"Insert via URL")),e}_createMenuBarButton(t){const e=this.editor.locale.t,i=this._createInsertUrlButton(xt);switch(i.withText=!0,t){case"standalone":i.label=e("Image via URL");break;case"insertOnly":i.label=e("Image");break;case"insertNested":i.label=e("Via URL")}return i}_createInsertUrlView(){const t=this.editor,e=t.locale,i=t.commands.get("replaceImageSource"),o=t.commands.get("insertImage"),r=new HI(e);return r.bind("isImageSelected").to(this._imageInsertUI),r.bind("isEnabled").toMany([o,i],"isEnabled",(...s)=>s.some(a=>a)),r}_showModal(){const t=this.editor,e=t.locale.t,i=t.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",()=>this._handleSave()));const o=t.commands.get("replaceImageSource");this._formView.imageURLInputValue=o.value||"",i.show({id:"insertImageViaUrl",title:e("Image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:e("Cancel"),withText:!0,onExecute:()=>i.hide()},{label:this._imageInsertUI.isImageSelected?e("Save"):e("Insert"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}class Aw extends C{static get pluginName(){return"ImageInsertViaUrl"}static get isOfficialPlugin(){return!0}static get requires(){return[UI,us]}}class $I extends C{static get pluginName(){return"ImageInsert"}static get isOfficialPlugin(){return!0}static get requires(){return[Cw,Aw,us]}}class qI extends q{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!e,e&&e.hasAttribute("resizedWidth")?this.value={width:e.getAttribute("resizedWidth"),height:null}:this.value=null}execute(t){const e=this.editor,i=e.model,o=e.plugins.get("ImageUtils"),r=o.getClosestSelectedImageElement(i.document.selection);this.value={width:t.width,height:null},r&&i.change(s=>{s.setAttribute("resizedWidth",t.width,r),s.removeAttribute("resizedHeight",r),o.setImageNaturalSizeAttributes(r)})}}class xw extends C{static get requires(){return[ke]}static get pluginName(){return"ImageResizeEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,e=new qI(t);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",e),t.commands.add("imageResize",e)}afterInit(){this._registerSchema()}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(t){const e=this.editor,i=e.plugins.get("ImageUtils");e.conversion.for("downcast").add(o=>o.on(`attribute:resizedWidth:${t}`,(r,s,a)=>{if(!a.consumable.consume(s.item,r.name))return;const l=a.writer,c=a.mapper.toViewElement(s.item);s.attributeNewValue!==null?(l.setStyle("width",s.attributeNewValue,c),l.addClass("image_resized",c)):(l.removeStyle("width",c),l.removeClass("image_resized",c))})),e.conversion.for("dataDowncast").attributeToAttribute({model:{name:t,key:"resizedHeight"},view:o=>({key:"style",value:{height:o}})}),e.conversion.for("editingDowncast").add(o=>o.on(`attribute:resizedHeight:${t}`,(r,s,a)=>{if(!a.consumable.consume(s.item,r.name))return;const l=a.writer,c=a.mapper.toViewElement(s.item),d=t==="imageInline"?i.findViewImgElement(c):c;s.attributeNewValue!==null?l.setStyle("height",s.attributeNewValue,d):l.removeStyle("height",d)})),e.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:o=>Ya(o)?null:o.getStyle("width")}}),e.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:o=>Ya(o)?null:o.getStyle("height")}})}}const tu={small:eE,medium:tE,large:X2,custom:Q2,original:J2};class WI extends C{constructor(t){super(t),m(this,"_resizeUnit"),this._resizeUnit=t.config.get("image.resizeUnit")}static get requires(){return[xw]}static get pluginName(){return"ImageResizeButtons"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.config.get("image.resizeOptions"),i=t.commands.get("resizeImage");this.bind("isEnabled").to(i);for(const o of e)this._registerImageResizeButton(o);this._registerImageResizeDropdown(e)}_registerImageResizeButton(t){const e=this.editor,{name:i,value:o,icon:r}=t;e.ui.componentFactory.add(i,s=>{const a=new V(s),l=e.commands.get("resizeImage"),c=this._getOptionLabelValue(t,!0);if(!tu[r])throw new v("imageresizebuttons-missing-icon",e,t);if(a.set({label:c,icon:tu[r],tooltip:c,isToggleable:!0}),a.bind("isEnabled").to(this),e.plugins.has("ImageCustomResizeUI")&&hs(t)){const d=e.plugins.get("ImageCustomResizeUI");this.listenTo(a,"execute",()=>{d._showForm(this._resizeUnit)})}else{const d=o?o+this._resizeUnit:null;a.bind("isOn").to(l,"value",l,"isEnabled",eu(d)),this.listenTo(a,"execute",()=>{e.execute("resizeImage",{width:d})})}return a})}_registerImageResizeDropdown(t){const e=this.editor,i=e.t,o=t.find(s=>!s.value),r=s=>{const a=e.commands.get("resizeImage"),l=ce(s,ab),c=l.buttonView,d=i("Resize image");return c.set({tooltip:d,commandValue:o.value,icon:tu.medium,isToggleable:!0,label:this._getOptionLabelValue(o),withText:!0,class:"ck-resize-image-button",ariaLabel:d,ariaLabelledBy:void 0}),c.bind("label").to(a,"value",u=>u&&u.width?u.width:this._getOptionLabelValue(o)),l.bind("isEnabled").to(this),Cn(l,()=>this._getResizeDropdownListItemDefinitions(t,a),{ariaLabel:i("Image resize list"),role:"menu"}),this.listenTo(l,"execute",u=>{"onClick"in u.source?u.source.onClick():(e.execute(u.source.commandName,{width:u.source.commandValue}),e.editing.view.focus())}),l};e.ui.componentFactory.add("resizeImage",r),e.ui.componentFactory.add("imageResize",r)}_getOptionLabelValue(t,e=!1){const i=this.editor.t;return t.label?t.label:e?hs(t)?i("Custom image size"):t.value?i("Resize image to %0",t.value+this._resizeUnit):i("Resize image to the original size"):hs(t)?i("Custom"):t.value?t.value+this._resizeUnit:i("Original")}_getResizeDropdownListItemDefinitions(t,e){const{editor:i}=this,o=new ie,r=t.map(s=>hs(s)?{...s,valueWithUnits:"custom"}:s.value?{...s,valueWithUnits:`${s.value}${this._resizeUnit}`}:{...s,valueWithUnits:null});for(const s of r){let a=null;if(i.plugins.has("ImageCustomResizeUI")&&hs(s)){const l=i.plugins.get("ImageCustomResizeUI");a={type:"button",model:new Zi({label:this._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{l._showForm(this._resizeUnit)}})};const c=Object.values(r).map(d=>d.valueWithUnits);a.model.bind("isOn").to(e,"value",e,"isEnabled",GI(c))}else a={type:"button",model:new Zi({commandName:"resizeImage",commandValue:s.valueWithUnits,label:this._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null})},a.model.bind("isOn").to(e,"value",e,"isEnabled",eu(s.valueWithUnits));a.model.bind("isEnabled").to(e,"isEnabled"),o.add(a)}return o}}function hs(n){return n.value==="custom"}function eu(n){return(t,e)=>!(t===void 0||!e)&&(n===null&&t===n||t!==null&&t.width===n)}function GI(n){return(t,e)=>!n.some(i=>eu(i)(t,e))}const iu="image_resized";class KI extends C{static get requires(){return[zd,ke]}static get pluginName(){return"ImageResizeHandles"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,e=t.editing.view,i=t.plugins.get("ImageUtils");e.addObserver(Xd),this.listenTo(e.document,"imageLoaded",(o,r)=>{if(!r.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const s=t.editing.view.domConverter,a=s.domToView(r.target),l=i.getImageWidgetFromImageView(a);let c=this.editor.plugins.get(zd).getResizerByViewElement(l);if(c)return void c.redraw();const d=t.editing.mapper,u=d.toModelElement(l);c=t.plugins.get(zd).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:u,viewElement:l,editor:t,getHandleHost:h=>h.querySelector("img"),getResizeHost:()=>s.mapViewToDom(d.toViewElement(u)),isCentered:()=>u.getAttribute("imageStyle")=="alignCenter",onCommit(h){e.change(g=>{g.removeClass(iu,l)}),t.execute("resizeImage",{width:h})}}),c.on("updateSize",()=>{l.hasClass(iu)||e.change(g=>{g.addClass(iu,l)});const h=u.name==="imageInline"?a:l;h.getStyle("height")&&e.change(g=>{g.removeStyle("height",h)})}),c.bind("isEnabled").to(this)})}}function Ew(n){if(!n)return null;const[,t,e]=n.trim().match(/([.,\d]+)(%|px)$/)||[],i=Number.parseFloat(t);return Number.isNaN(i)?null:{value:i,unit:e}}function Tw(n,t,e){return e==="px"?{value:t.value,unit:"px"}:{value:t.value/n*100,unit:"%"}}function Sw(n){const{editing:t}=n,e=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);if(!e)return null;const i=t.mapper.toViewElement(e);return{model:e,view:i,dom:t.view.domConverter.mapViewToDom(i)}}class YI extends P{constructor(t,e,i){super(t),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"unit"),m(this,"backButtonView"),m(this,"saveButtonView"),m(this,"labeledInput"),m(this,"children"),m(this,"_focusables"),m(this,"_focusCycler"),m(this,"_validators"),this.focusTracker=new ht,this.keystrokes=new Tt,this.unit=e,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new Ia(t,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new Ee,this._validators=i,this.keystrokes.set("Esc",(o,r)=>{this.fire("cancel"),r()}),this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),Fo({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const t=this.locale.t,e=new V(this.locale);return e.set({class:"ck-button-back",label:t("Back"),icon:Xn,tooltip:!0}),e.delegate("execute").to(this,"cancel"),e}_createSaveButton(){const t=this.locale.t,e=new V(this.locale);return e.set({label:t("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),e}_createHeaderView(){const t=this.locale.t,e=new to(this.locale,{label:t("Image Resize")});return e.children.add(this.backButtonView,0),e}_createLabeledInputView(){const t=this.locale.t,e=new Si(this.locale,fb);return e.label=t("Resize image (in %0)",this.unit),e.class="ck-labeled-field-view_full-width",e.fieldView.set({step:.1}),e}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.labeledInput.errorText=e,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:t}=this.labeledInput.fieldView;return t?t.value:null}get parsedSize(){const{rawSize:t}=this;if(t===null)return null;const e=Number.parseFloat(t);return Number.isNaN(e)?null:e}get sizeWithUnits(){const{parsedSize:t,unit:e}=this;return t===null?null:`${t}${e}`}}class ZI extends C{constructor(){super(...arguments),m(this,"_balloon"),m(this,"_form")}static get requires(){return[Mi]}static get pluginName(){return"ImageCustomResizeUI"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(t){const e=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Wr(YI))(e.locale,t,function(i){const o=i.t;return[r=>r.rawSize.trim()===""?o("The value must not be empty."):r.parsedSize===null?o("The value should be a plain number."):void 0]}(e)),this._form.render(),this.listenTo(this._form,"submit",()=>{this._form.isValid()&&(e.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))}),this.listenTo(this._form.labeledInput,"change:errorText",()=>{e.ui.update()}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),yn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(t){if(this._isVisible)return;this._form||this._createForm(t);const e=this.editor,i=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:Qd(e)});const o=function(a,l){const c=Sw(a);if(!c)return null;const d=Ew(c.model.getAttribute("resizedWidth")||null);return d?d.unit===l?d:Tw(Nd(c.dom),{value:new K(c.dom).width},l):null}(e,t),r=o?o.value.toFixed(1):"",s=function(a,l){const c=Sw(a);if(!c)return null;const d=Nd(c.dom),u=Ew(window.getComputedStyle(c.dom).minWidth)||{value:1};return{unit:l,lower:Math.max(.1,Tw(d,u,l).value),upper:l==="px"?d:100}}(e,t);i.fieldView.value=i.fieldView.element.value=r,s&&Object.assign(i.fieldView,{min:s.lower.toFixed(1),max:Math.ceil(s.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class QI extends C{static get requires(){return[xw,KI,ZI,WI]}static get pluginName(){return"ImageResize"}static get isOfficialPlugin(){return!0}}class JI extends q{constructor(t,e){super(t),m(this,"_defaultStyles"),m(this,"_styles"),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map(i=>{if(i.isDefault)for(const o of i.modelElements)this._defaultStyles[o]=i.name;return[i.name,i]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const e=this.editor,i=e.model,o=e.plugins.get("ImageUtils");i.change(r=>{const s=t.value,{setImageSizes:a=!0}=t;let l=o.getClosestSelectedImageElement(i.document.selection);s&&this.shouldConvertImageType(s,l)&&(this.editor.execute(o.isBlockImage(l)?"imageTypeInline":"imageTypeBlock",{setImageSizes:a}),l=o.getClosestSelectedImageElement(i.document.selection)),!s||this._styles.get(s).isDefault?r.removeAttribute("imageStyle",l):r.setAttribute("imageStyle",s,l),a&&o.setImageNaturalSizeAttributes(l)})}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}const Qa={get inline(){return{name:"inline",title:"In line",icon:Lp,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Pp,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Bp,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:nd,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:od,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Np,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:nd,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:od,modelElements:["imageBlock"],className:"image-style-side"}}},Iw={full:Z2,left:Bp,right:Np,center:nd,inlineLeft:Pp,inlineRight:od,inline:Lp},Mw=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Dw(n){st("image-style-configuration-definition-invalid",n)}var nu={normalizeStyles:function(n){return(n.configuredStyles.options||[]).map(t=>function(e){return e=typeof e=="string"?Qa[e]?{...Qa[e]}:{name:e}:function(i,o){const r={...o};for(const s in i)Object.prototype.hasOwnProperty.call(o,s)||(r[s]=i[s]);return r}(Qa[e.name],e),typeof e.icon=="string"&&(e.icon=Iw[e.icon]||e.icon),e}(t)).filter(t=>function(e,{isBlockPluginLoaded:i,isInlinePluginLoaded:o}){const{modelElements:r,name:s}=e;if(!(r&&r.length&&s))return Dw({style:e}),!1;{const a=[i?"imageBlock":null,o?"imageInline":null];if(!r.some(l=>a.includes(l)))return st("image-style-missing-dependency",{style:e,missingPlugins:r.map(l=>l==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(t,n))},getDefaultStylesConfiguration:function(n,t){return n&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...Mw]:[]},warnInvalidStyle:Dw,DEFAULT_OPTIONS:Qa,DEFAULT_ICONS:Iw,DEFAULT_DROPDOWN_DEFINITIONS:Mw};function Pw(n,t){for(const e of t)if(e.name===n)return e}class Lw extends C{constructor(){super(...arguments),m(this,"normalizedStyles")}static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[ke]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=nu,i=this.editor,o=i.plugins.has("ImageBlockEditing"),r=i.plugins.has("ImageInlineEditing");i.config.define("image.styles",e(o,r)),this.normalizedStyles=t({configuredStyles:i.config.get("image.styles"),isBlockPluginLoaded:o,isInlinePluginLoaded:r}),this._setupConversion(o,r),this._setupPostFixer(),i.commands.add("imageStyle",new JI(i,this.normalizedStyles))}_setupConversion(t,e){const i=this.editor,o=i.model.schema,r=(s=this.normalizedStyles,(l,c,d)=>{if(!d.consumable.consume(c.item,l.name))return;const u=Pw(c.attributeNewValue,s),h=Pw(c.attributeOldValue,s),g=d.mapper.toViewElement(c.item),f=d.writer;h&&f.removeClass(h.className,g),u&&f.addClass(u.className,g)});var s;const a=function(l){const c={imageInline:l.filter(d=>!d.isDefault&&d.modelElements.includes("imageInline")),imageBlock:l.filter(d=>!d.isDefault&&d.modelElements.includes("imageBlock"))};return(d,u,h)=>{if(!u.modelRange)return;const g=u.viewItem,f=_t(u.modelRange.getItems());if(f&&h.schema.checkAttribute(f,"imageStyle"))for(const p of c[f.name])h.consumable.consume(g,{classes:p.className})&&h.writer.setAttribute("imageStyle",p.name,f)}}(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",r),i.data.downcastDispatcher.on("attribute:imageStyle",r),t&&(o.extend("imageBlock",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:figure",a,{priority:"low"})),e&&(o.extend("imageInline",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:img",a,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,i=t.plugins.get(ke),o=new Map(this.normalizedStyles.map(r=>[r.name,r]));e.registerPostFixer(r=>{let s=!1;for(const a of e.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let l=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(l&&l.is("element","paragraph")&&l.childCount>0&&(l=l.getChild(0)),!i.isImage(l))continue;const c=l.getAttribute("imageStyle");if(!c)continue;const d=o.get(c);d&&d.modelElements.includes(l.name)||(r.removeAttribute("imageStyle",l),s=!0)}return s})}}class XI extends C{static get requires(){return[Lw]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],i=Bw(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const r of i)this._createButton(r);const o=Bw([...e.filter(ci),...nu.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const r of o)this._createDropdown(r,i)}_createDropdown(t,e){const i=this.editor.ui.componentFactory;i.add(t.name,o=>{let r;const{defaultItem:s,items:a,title:l}=t,c=a.filter(g=>e.find(({name:f})=>Nw(f)===g)).map(g=>{const f=i.create(g);return g===s&&(r=f),f});a.length!==c.length&&nu.warnInvalidStyle({dropdown:t});const d=ce(o,oo),u=d.buttonView,h=u.arrowView;return Jr(d,c,{enableActiveItemFocusOnDropdownOpen:!0}),u.set({label:zw(l,r.label),class:null,tooltip:!0}),h.unbind("label"),h.set({label:l}),u.bind("icon").toMany(c,"isOn",(...g)=>{const f=g.findIndex(To);return f<0?r.icon:c[f].icon}),u.bind("label").toMany(c,"isOn",(...g)=>{const f=g.findIndex(To);return zw(l,f<0?r.label:c[f].label)}),u.bind("isOn").toMany(c,"isOn",(...g)=>g.some(To)),u.bind("class").toMany(c,"isOn",(...g)=>g.some(To)?"ck-splitbutton_flatten":void 0),u.on("execute",()=>{c.some(({isOn:g})=>g)?d.isOpen=!d.isOpen:r.fire("execute")}),d.bind("isEnabled").toMany(c,"isEnabled",(...g)=>g.some(To)),this.listenTo(d,"execute",()=>{this.editor.editing.view.focus()}),d})}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(Nw(e),i=>{const o=this.editor.commands.get("imageStyle"),r=new V(i);return r.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",s=>s===e),r.on("execute",this._executeCommand.bind(this,e)),r})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function Bw(n,t){for(const e of n)t[e.title]&&(e.title=t[e.title]);return n}function Nw(n){return`imageStyle:${n}`}function zw(n,t){return(n?n+": ":"")+t}class tM extends C{static get requires(){return[Lw,XI]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class eM extends C{static get requires(){return[Fa,ke]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,i=t.plugins.get(Fa),o=t.plugins.get("ImageUtils");var r;i.register("image",{ariaLabel:e("Image toolbar"),items:(r=t.config.get("image.toolbar")||[],r.map(s=>ci(s)?s.name:s)),getRelatedElement:s=>o.getClosestSelectedImageWidget(s)})}}class iM extends C{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("indent",new Dg(t)),t.commands.add("outdent",new Dg(t))}}class nM extends C{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,i=t.t,o=e.uiLanguageDirection=="ltr"?Ip:zp,r=e.uiLanguageDirection=="ltr"?zp:Ip;this._defineButton("indent",i("Increase indent"),o),this._defineButton("outdent",i("Decrease indent"),r)}_defineButton(t,e,i){const o=this.editor;o.ui.componentFactory.add(t,()=>{const r=this._createButton(V,t,e,i);return r.set({tooltip:!0}),r}),o.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(xt,t,e,i))}_createButton(t,e,i,o){const r=this.editor,s=r.commands.get(e),a=new t(r.locale);return a.set({label:i,icon:o}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>{r.execute(e),r.editing.view.focus()}),a}}class oM extends C{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[iM,nM]}}class Ja extends q{constructor(t,e){super(t),m(this,"_indentBehavior"),this._indentBehavior=e}refresh(){const t=_t(this.editor.model.document.selection.getSelectedBlocks());t&&this._isIndentationChangeAllowed(t)?this.isEnabled=this._indentBehavior.checkEnabled(t.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const t=this.editor.model,e=this._getBlocksToChange();t.change(i=>{for(const o of e){const r=o.getAttribute("blockIndent"),s=this._indentBehavior.getNextIndent(r);s?i.setAttribute("blockIndent",s,o):i.removeAttribute("blockIndent",o)}})}_getBlocksToChange(){const t=this.editor.model.document.selection;return Array.from(t.getSelectedBlocks()).filter(e=>this._isIndentationChangeAllowed(e))}_isIndentationChangeAllowed(t){const e=this.editor;return e.model.schema.checkAttribute(t,"blockIndent")?!e.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!e.plugins.get("ListUtils").isListItemBlock(t):!1}}class Ow{constructor(t){m(this,"isForward"),m(this,"offset"),m(this,"unit"),this.isForward=t.direction==="forward",this.offset=t.offset,this.unit=t.unit}checkEnabled(t){const e=parseFloat(t||"0");return this.isForward||e>0}getNextIndent(t){const e=parseFloat(t||"0");if(!(!t||t.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const i=e+(this.isForward?this.offset:-this.offset);return i>0?i+this.unit:void 0}}class Rw{constructor(t){m(this,"isForward"),m(this,"classes"),this.isForward=t.direction==="forward",this.classes=t.classes}checkEnabled(t){const e=this.classes.indexOf(t);return this.isForward?e<this.classes.length-1:e>=0}getNextIndent(t){const e=this.classes.indexOf(t),i=this.isForward?1:-1;return this.classes[e+i]}}const rM=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class sM extends C{constructor(t){super(t),t.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.config.get("indentBlock");e.classes&&e.classes.length?(this._setupConversionUsingClasses(e.classes),t.commands.add("indentBlock",new Ja(t,new Rw({direction:"forward",classes:e.classes}))),t.commands.add("outdentBlock",new Ja(t,new Rw({direction:"backward",classes:e.classes})))):(t.data.addStyleProcessorRules(Yx),this._setupConversionUsingOffset(),t.commands.add("indentBlock",new Ja(t,new Ow({direction:"forward",offset:e.offset,unit:e.unit}))),t.commands.add("outdentBlock",new Ja(t,new Ow({direction:"backward",offset:e.offset,unit:e.unit}))))}afterInit(){const t=this.editor,e=t.model.schema,i=t.commands.get("indent"),o=t.commands.get("outdent"),r=t.config.get("heading.options");(r&&r.map(s=>s.model)||rM).forEach(s=>{e.isRegistered(s)&&e.extend(s,{allowAttributes:"blockIndent"})}),e.setAttributeProperties("blockIndent",{isFormatting:!0}),i.registerChildCommand(t.commands.get("indentBlock")),o.registerChildCommand(t.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const t=this.editor.conversion,e=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:{[e]:/[\s\S]+/}},model:{key:"blockIndent",value:i=>{if(!i.is("element","li"))return i.getStyle(e)}}}),t.for("downcast").attributeToAttribute({model:"blockIndent",view:i=>({key:"style",value:{[e]:i}})})}_setupConversionUsingClasses(t){const e={model:{key:"blockIndent",values:[]},view:{}};for(const i of t)e.model.values.push(i),e.view[i]={key:"class",value:[i]};this.editor.conversion.attributeToAttribute(e)}}class aM{constructor(){m(this,"_definitions",new Set)}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,i,o)=>{if(!o.consumable.test(i.item,"attribute:linkHref")||!i.item.is("selection")&&!o.schema.isInline(i.item))return;const r=o.writer,s=r.document.selection;for(const a of this._definitions){const l=r.createAttributeElement("a",a.attributes,{priority:5});a.classes&&r.addClass(a.classes,l);for(const c in a.styles)r.setStyle(c,a.styles[c],l);r.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?r.wrap(s.getFirstRange(),l):r.wrap(o.mapper.toViewRange(i.range),l):r.unwrap(o.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,i,{writer:o,mapper:r})=>{const s=r.toViewElement(i.item),a=Array.from(s.getChildren()).find(l=>l.is("element","a"));if(a)for(const l of this._definitions){const c=hi(l.attributes);if(l.callback(i.attributeNewValue)){for(const[d,u]of c)d==="class"?o.addClass(u,a):o.setAttribute(d,u,a);l.classes&&o.addClass(l.classes,a);for(const d in l.styles)o.setStyle(d,l.styles[d],a)}else{for(const[d,u]of c)d==="class"?o.removeClass(u,a):o.removeAttribute(d,a);l.classes&&o.removeClass(l.classes,a);for(const d in l.styles)o.removeStyle(d,a)}}})}}}const lM=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,cM=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,dM=/^((\w+:(\/{2,})?)|(\W))/i,uM=["https?","ftps?","mailto"],ms="Ctrl+K";function Vw(n,{writer:t}){const e=t.createAttributeElement("a",{href:n},{priority:5});return t.setCustomProperty("link",!0,e),e}function Fw(n,t=uM){const e=String(n),i=t.join("|");return function(o,r){return!!o.replace(lM,"").match(r)}(e,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",i)}`,"i"))?e:"#"}function ou(n,t){return!!n&&t.checkAttribute(n.name,"linkHref")}function ru(n,t){const e=(i=n,cM.test(i)?"mailto:":t);var i;const o=!!e&&!jw(n);return n&&o?e+n:n}function jw(n){return dM.test(n)}function su(n){let t="";for(const e of n.getItems()){if(!e.is("$text")&&!e.is("$textProxy"))return;t+=e.data}return t}class hM extends q{constructor(){super(...arguments),m(this,"manualDecorators",new ie),m(this,"automaticDecorators",new aM)}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,i=e.getSelectedElement()||_t(e.getSelectedBlocks());ou(i,t.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(i,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const o of this.manualDecorators)o.value=this._getDecoratorStateFromModel(o.id)}execute(t,e={},i){const o=this.editor.model,r=o.document.selection,s=[],a=[];for(const l in e)e[l]?s.push(l):a.push(l);o.change(l=>{const c=h=>{l.setAttribute("linkHref",t,h),s.forEach(g=>l.setAttribute(g,!0,h)),a.forEach(g=>l.removeAttribute(g,h))},d=(h,g)=>{const f=su(h);if(!f)return h;let p=i;if(p||(p=g&&g==f?t:f),p!=f){const b=function(w,_){const y=xo(w,_),A={equal:0,insert:0,delete:0},x=[];let I="",z="";for(const Y of[...y,null])Y=="insert"?z+=_[A.equal+A.insert]:Y=="delete"?I+=w[A.equal+A.delete]:(I.length||z.length)&&(x.push({offset:A.equal,actual:I,expected:z}),I="",z=""),Y&&A[Y]++;return x}(f,p);let k=0;for(const{offset:w,actual:_,expected:y}of b){const A=w+k,x=l.createRange(h.start.getShiftedBy(A),h.start.getShiftedBy(A+_.length)),I=mM(x,h).getAttributes(),z=Array.from(I).filter(([Vt])=>o.schema.getAttributeProperties(Vt).isFormatting),Y=l.createText(y,z);c(Y),o.insertContent(Y,x),k+=y.length}return l.createRange(h.start,h.start.getShiftedBy(p.length))}},u=h=>{const{plugins:g}=this.editor;if(l.setSelection(h.end),g.has("TwoStepCaretMovement"))g.get("TwoStepCaretMovement")._handleForwardMovement();else for(const f of["linkHref",...s,...a])l.removeSelectionAttribute(f)};if(r.isCollapsed){const h=r.getFirstPosition();if(r.hasAttribute("linkHref")){const g=r.getAttribute("linkHref"),f=Ba(h,"linkHref",g,o),p=d(f,g);c(p||f),p&&u(p)}else if(t!==""){const g=hi(r.getAttributes());g.set("linkHref",t),s.forEach(f=>{g.set(f,!0)}),u(o.insertContent(l.createText(i||t,g),h))}}else{const h=Array.from(r.getRanges()),g=o.schema.getValidRanges(h,"linkHref"),f=[];for(const k of r.getSelectedBlocks())o.schema.checkAttribute(k,"linkHref")&&f.push(l.createRangeOn(k));const p=f.slice();for(const k of g)this._isRangeToUpdate(k,f)&&p.push(k);const b=h.map(k=>({start:Gt.fromPosition(k.start,"toPrevious"),end:Gt.fromPosition(k.end,"toNext")}));for(let k of p)k=d(k,(k.start.textNode||k.start.nodeAfter).getAttribute("linkHref"))||k,c(k);l.setSelection(b.map(k=>{const w=k.start.toPosition(),_=k.end.toPosition();return k.start.detach(),k.end.detach(),o.createRange(w,_)}))}})}_getDecoratorStateFromModel(t){const e=this.editor.model,i=e.document.selection,o=i.getSelectedElement();return ou(o,e.schema)?o.getAttribute(t):i.getAttribute(t)}_isRangeToUpdate(t,e){for(const i of e)if(i.containsRange(t))return!1;return!0}}function mM(n,t){if(!n.isCollapsed)return _t(n.getItems());const e=n.start;return e.textNode?e.textNode:!e.nodeBefore||e.isEqual(t.start)?e.nodeAfter:e.nodeBefore}class gM extends q{refresh(){const t=this.editor.model,e=t.document.selection,i=e.getSelectedElement();ou(i,t.schema)?this.isEnabled=t.schema.checkAttribute(i,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,i=e.document.selection,o=t.commands.get("link");e.change(r=>{const s=i.isCollapsed?[Ba(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),e)]:e.schema.getValidRanges(i.getRanges(),"linkHref");for(const a of s)if(r.removeAttribute("linkHref",a),o)for(const l of o.manualDecorators)r.removeAttribute(l.id,a)})}}class fM extends wt(){constructor({id:t,label:e,attributes:i,classes:o,styles:r,defaultValue:s}){super(),m(this,"id"),m(this,"defaultValue"),m(this,"label"),m(this,"attributes"),m(this,"classes"),m(this,"styles"),this.id=t,this.set("value",void 0),this.defaultValue=s,this.label=e,this.attributes=i,this.classes=o,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const Hw="automatic",pM=/^(https?:)?\/\//;class Jo extends C{constructor(t){super(t),m(this,"_linkOpeners",[]),t.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1,toolbar:["linkPreview","|","editLink","linkProperties","unlink"]})}static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Pa,Gb,Ie]}init(){const t=this.editor,e=this.editor.config.get("link.allowedProtocols");t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Vw}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,r)=>Vw(Fw(o,e),r)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),t.commands.add("link",new hM(t)),t.commands.add("unlink",new gM(t));const i=function(o,r){const s={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return r.forEach(a=>("label"in a&&s[a.label]&&(a.label=s[a.label]),a)),r}(t.t,function(o){const r=[];if(o)for(const[a,l]of Object.entries(o)){const c=Object.assign({},l,{id:`link${s=a,function(d){return d.substring(0,1).toUpperCase()+d.substring(1)}(ic(s))}`});r.push(c)}var s;return r}(t.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(o=>o.mode===Hw)),this._enableManualDecorators(i.filter(o=>o.mode==="manual")),t.plugins.get(Pa).registerAttribute("linkHref"),ik(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_registerLinkOpener(t){this._linkOpeners.push(t)}_enableAutomaticDecorators(t){const e=this.editor,i=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:Hw,callback:o=>!!o&&pM.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(t),i.length&&e.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,i=e.commands.get("link").manualDecorators;t.forEach(o=>{e.model.schema.extend("$text",{allowAttributes:o.id});const r=new fM(o);i.add(r),e.conversion.for("downcast").attributeToElement({model:r.id,view:(s,{writer:a,schema:l},{item:c})=>{if((c.is("selection")||l.isInline(c))&&s){const d=a.createAttributeElement("a",r.attributes,{priority:5});r.classes&&a.addClass(r.classes,d);for(const u in r.styles)a.setStyle(u,r.styles[u],d);return a.setCustomProperty("link",!0,d),d}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...r._createPattern()},model:{key:r.id}})})}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document,i=o=>{this._linkOpeners.some(r=>r(o))||function(r){window.open(r,"_blank","noopener")}(o)};this.listenTo(e,"click",(o,r)=>{if(!(j.isMac?r.domEvent.metaKey:r.domEvent.ctrlKey))return;let s=r.domTarget;if(s.tagName.toLowerCase()!="a"&&(s=s.closest("a")),!s)return;const a=s.getAttribute("href");a&&(o.stop(),r.preventDefault(),i(a))},{context:"$capture"}),this.listenTo(e,"keydown",(o,r)=>{const s=t.commands.get("link").value;s&&r.keyCode===it.enter&&r.altKey&&(o.stop(),i(s))})}_enableSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(e,"change:attribute",(i,{attributeKeys:o})=>{o.includes("linkHref")&&!e.hasAttribute("linkHref")&&t.change(r=>{var s;(function(a,l){a.removeSelectionAttribute("linkHref");for(const c of l)a.removeSelectionAttribute(c)})(r,(s=t.schema,s.getDefinition("$text").allowAttributes.filter(a=>a.startsWith("link"))))})})}_enableClipboardIntegration(){const t=this.editor,e=t.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(o,r)=>{e.change(s=>{const a=s.createRangeIn(r.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=ru(l.getAttribute("linkHref"),i);s.setAttribute("linkHref",c,l)}})})}}class bM extends V{constructor(t){super(t);const e=this.bindTemplate;this.set({href:void 0,withText:!0}),this.extendTemplate({attributes:{class:["ck-link-toolbar__preview"],href:e.to("href"),target:"_blank",rel:"noopener noreferrer"},on:{click:e.to(i=>{if(this.href){const o=()=>i.preventDefault();this.fire("navigate",this.href,o)}})}}),this.template.tag="a"}}class kM extends P{constructor(t,e){super(t),m(this,"focusTracker",new ht),m(this,"keystrokes",new Tt),m(this,"backButtonView"),m(this,"saveButtonView"),m(this,"displayedTextInputView"),m(this,"urlInputView"),m(this,"children"),m(this,"providersListChildren"),m(this,"_validators"),m(this,"_focusables",new Ee),m(this,"_focusCycler"),this._validators=e,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.displayedTextInputView=this._createDisplayedTextInput(),this.urlInputView=this._createUrlInput(),this.providersListChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView()]),this._createFormChildren(),this.listenTo(this.providersListChildren,"add",()=>{this.stopListening(this.providersListChildren,"add"),this.children.add(this._createProvidersListView())}),this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-link-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),Fo({view:this}),[this.urlInputView,this.saveButtonView,...this.providersListChildren,this.backButtonView,this.displayedTextInputView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createBackButton(){const t=this.locale.t,e=new V(this.locale);return e.set({class:"ck-button-back",label:t("Back"),icon:Xn,tooltip:!0}),e.delegate("execute").to(this,"cancel"),e}_createSaveButton(){const t=this.locale.t,e=new V(this.locale);return e.set({label:t("Insert"),tooltip:!1,withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),e}_createHeaderView(){const t=this.locale.t,e=new to(this.locale,{label:t("Link")});return e.children.add(this.backButtonView,0),e}_createProvidersListView(){const t=new io(this.locale);return t.extendTemplate({attributes:{class:["ck-link-form__providers-list"]}}),t.items.bindTo(this.providersListChildren).using(e=>{const i=new ii(this.locale);return i.children.add(e),i}),t}_createDisplayedTextInput(){const t=this.locale.t,e=new Si(this.locale,An);return e.label=t("Displayed text"),e.class="ck-labeled-field-view_full-width",e}_createUrlInput(){const t=this.locale.t,e=new Si(this.locale,An);return e.fieldView.inputMode="url",e.label=t("Link URL"),e.class="ck-labeled-field-view_full-width",e}_createFormChildren(){this.children.add(new Ia(this.locale,{children:[this.displayedTextInputView],class:["ck-form__row_large-top-padding"]})),this.children.add(new Ia(this.locale,{children:[this.urlInputView,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding","ck-form__row_large-bottom-padding"]}))}get url(){const{element:t}=this.urlInputView.fieldView;return t?t.value.trim():null}}class wM extends P{constructor(t){super(t),m(this,"focusTracker",new ht),m(this,"keystrokes",new Tt),m(this,"backButtonView"),m(this,"listView"),m(this,"listChildren"),m(this,"emptyListInformation"),m(this,"children"),m(this,"_focusables",new Ee),m(this,"_focusCycler"),this.listChildren=this.createCollection(),this.backButtonView=this._createBackButton(),this.listView=this._createListView(),this.emptyListInformation=this._createEmptyLinksListItemView(),this.children=this.createCollection([this._createHeaderView(),this.emptyListInformation]),this.set("title",""),this.set("emptyListPlaceholder",""),this.set("hasItems",!1),this.listenTo(this.listChildren,"change",()=>{this.hasItems=this.listChildren.length>0}),this.on("change:hasItems",(e,i,o)=>{o?(this.children.remove(this.emptyListInformation),this.children.add(this.listView)):(this.children.remove(this.listView),this.children.add(this.emptyListInformation))}),this.keystrokes.set("Esc",(e,i)=>{this.fire("cancel"),i()}),this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-providers"],tabindex:"-1"},children:this.children})}render(){super.render(),[this.listView,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createListView(){const t=new io(this.locale);return t.extendTemplate({attributes:{class:["ck-link-providers__list"]}}),t.items.bindTo(this.listChildren).using(e=>{const i=new ii(this.locale);return i.children.add(e),i}),t}_createBackButton(){const t=this.locale.t,e=new V(this.locale);return e.set({class:"ck-button-back",label:t("Back"),icon:Xn,tooltip:!0}),e.delegate("execute").to(this,"cancel"),e}_createHeaderView(){const t=new to(this.locale);return t.bind("label").to(this,"title"),t.children.add(this.backButtonView,0),t}_createEmptyLinksListItemView(){const t=new P(this.locale);return t.setTemplate({tag:"p",attributes:{class:["ck","ck-link__empty-list-info"]},children:[{text:this.bindTemplate.to("emptyListPlaceholder")}]}),t}}class _M extends P{constructor(t){super(t),m(this,"focusTracker",new ht),m(this,"keystrokes",new Tt),m(this,"backButtonView"),m(this,"children"),m(this,"listChildren"),m(this,"_focusables",new Ee),m(this,"_focusCycler"),this.backButtonView=this._createBackButton(),this.listChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView(),this._createListView()]),this._focusCycler=new re({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-properties"],tabindex:"-1"},children:this.children}),this.keystrokes.set("Esc",(e,i)=>{this.fire("back"),i()})}render(){super.render(),[...this.listChildren,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const t=this.locale.t,e=new V(this.locale);return e.set({class:"ck-button-back",label:t("Back"),icon:Xn,tooltip:!0}),e.delegate("execute").to(this,"back"),e}_createHeaderView(){const t=this.locale.t,e=new to(this.locale,{label:t("Link properties")});return e.children.add(this.backButtonView,0),e}_createListView(){const t=new io(this.locale);return t.extendTemplate({attributes:{class:["ck-link__list"]}}),t.items.bindTo(this.listChildren).using(e=>{const i=new ii(this.locale);return i.children.add(e),i}),t}}class vM extends V{constructor(t){super(t),m(this,"arrowView"),this.set({withText:!0}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-link__button"]}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Ti;return t.content=Dp,t}}const Li="link-ui";class Uw extends C{constructor(){super(...arguments),m(this,"toolbarView",null),m(this,"formView",null),m(this,"linkProviderItemsView",null),m(this,"propertiesView",null),m(this,"_balloon"),m(this,"_linksProviders",new ie)}static get requires(){return[Mi,Jo]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;this.set("selectedLinkableText",void 0),t.editing.view.addObserver(yx),this._balloon=t.plugins.get(Mi),this._registerComponents(),this._registerEditingOpeners(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:Li,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Li,view:(i,{writer:o})=>{if(!i.markerRange.isCollapsed)return null;const r=o.createUIElement("span");return o.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],r),r}}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Create link"),keystroke:ms},{label:e("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.propertiesView&&this.propertiesView.destroy(),this.formView&&this.formView.destroy(),this.toolbarView&&this.toolbarView.destroy(),this.linkProviderItemsView&&this.linkProviderItemsView.destroy()}registerLinksListProvider(t){const e=this._linksProviders.filter(i=>(i.order||0)<=(t.order||0)).length;this._linksProviders.add(t,e)}_createViews(){const t=this.editor.commands.get("link");this.toolbarView=this._createToolbarView(),this.formView=this._createFormView(),t.manualDecorators.length&&(this.propertiesView=this._createPropertiesView()),this._enableUserBalloonInteractions()}_createToolbarView(){const t=this.editor,e=new Qr(t.locale),i=t.commands.get("link");e.class="ck-link-toolbar";let o=t.config.get("link.toolbar");return i.manualDecorators.length||(o=o.filter(r=>r!=="linkProperties")),e.fillFromConfig(o,t.ui.componentFactory),e.keystrokes.set("Esc",(r,s)=>{this._hideUI(),s()}),e.keystrokes.set(ms,(r,s)=>{this._addFormView(),s()}),t.ui.addToolbar(e,{isContextual:!0,beforeFocus:()=>{this._getSelectedLinkElement()&&!this._isToolbarVisible&&this._showUI(!0)},afterBlur:()=>{this._hideUI(!1)}}),e}_createFormView(){const t=this.editor,e=t.locale.t,i=t.commands.get("link"),o=t.config.get("link.defaultProtocol"),r=new(Wr(kM))(t.locale,function(s){const a=s.t,l=s.config.get("link.allowCreatingEmptyLinks");return[c=>{if(!l&&!c.url.length)return a("Link URL must not be empty.")}]}(t));return r.displayedTextInputView.bind("isEnabled").to(this,"selectedLinkableText",s=>s!==void 0),r.urlInputView.bind("isEnabled").to(i,"isEnabled"),r.saveButtonView.bind("isEnabled").to(i,"isEnabled"),r.saveButtonView.bind("label").to(i,"value",s=>e(s?"Update":"Insert")),this.listenTo(r,"submit",()=>{if(r.isValid()){const s=ru(r.urlInputView.fieldView.element.value,o),a=r.displayedTextInputView.fieldView.element.value;t.execute("link",s,this._getDecoratorSwitchesState(),a!==this.selectedLinkableText?a:void 0),this._closeFormView()}}),this.listenTo(r.urlInputView,"change:errorText",()=>{t.ui.update()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(s,a)=>{this._closeFormView(),a()}),r.providersListChildren.bindTo(this._linksProviders).using(s=>this._createLinksListProviderButton(s)),r}_createLinkProviderListView(t){return t.getListItems().map(({href:e,label:i,icon:o})=>{const r=new V;return r.set({label:i,icon:o,tooltip:!1,withText:!0}),r.on("execute",()=>{this.formView.resetFormStatus(),this.formView.urlInputView.fieldView.value=e,this.editor.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),r})}_createLinkProviderItemsView(t){const e=this.editor,i=e.locale.t,o=new wM(e.locale),{emptyListPlaceholder:r,label:s}=t;return o.emptyListPlaceholder=r||i("No links available"),o.title=s,this.listenTo(o,"cancel",()=>{e.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),o}_createPropertiesView(){const t=this.editor,e=this.editor.commands.get("link"),i=new(Wr(_M))(t.locale);return this.listenTo(i,"back",()=>{t.editing.view.focus(),this._removePropertiesView()}),i.listChildren.bindTo(e.manualDecorators).using(o=>{const r=new Yr(t.locale);return r.set({label:o.label,withText:!0}),r.bind("isOn").toMany([o,e],"value",(s,a)=>a===void 0&&s===void 0?!!o.defaultValue:!!s),r.on("execute",()=>{o.set("value",!r.isOn),t.execute("link",e.value,this._getDecoratorSwitchesState())}),r}),i}_getDecoratorSwitchesState(){const t=this.editor.commands.get("link");return Array.from(t.manualDecorators).reduce((e,i)=>{const o=t.value===void 0&&i.value===void 0?i.defaultValue:i.value;return{...e,[i.id]:!!o}},{})}_registerEditingOpeners(){this.editor.plugins.get(Jo)._registerLinkOpener(t=>{const e=this._getLinkProviderLinkByHref(t);if(!e)return!1;const{item:i,provider:o}=e;return!!o.navigate&&o.navigate(i)})}_registerComponents(){const t=this.editor;t.ui.componentFactory.add("link",()=>{const e=this._createButton(V);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:link",()=>{const e=this._createButton(xt);return e.set({role:"menuitemcheckbox"}),e}),t.ui.componentFactory.add("linkPreview",e=>{const i=new bM(e),o=t.config.get("link.allowedProtocols"),r=t.commands.get("link"),s=e.t;i.bind("isEnabled").to(r,"value",l=>!!l),i.bind("href").to(r,"value",l=>l&&Fw(l,o));const a=l=>{if(!l)return i.label=void 0,i.icon=void 0,void(i.tooltip=s("Open link in new tab"));const c=this._getLinkProviderLinkByHref(l);if(c){const{label:d,tooltip:u,icon:h}=c.item;i.label=d,i.tooltip=u||!1,i.icon=h}else i.label=l,i.icon=void 0,i.tooltip=s("Open link in new tab")};return a(r.value),this.listenTo(r,"change:value",(l,c,d)=>{a(d)}),this.listenTo(i,"navigate",(l,c,d)=>{const u=this._getLinkProviderLinkByHref(c);if(!u)return;const{provider:h,item:g}=u,{navigate:f}=h;f&&f(g)&&(l.stop(),d())}),i}),t.ui.componentFactory.add("unlink",e=>{const i=t.commands.get("unlink"),o=new V(e),r=e.t;return o.set({label:r("Unlink"),icon:AE,tooltip:!0}),o.bind("isEnabled").to(i),this.listenTo(o,"execute",()=>{t.execute("unlink"),this._hideUI()}),o}),t.ui.componentFactory.add("editLink",e=>{const i=t.commands.get("link"),o=new V(e),r=e.t;return o.set({label:r("Edit link"),icon:nE,tooltip:!0}),o.bind("isEnabled").to(i),this.listenTo(o,"execute",()=>{this._addFormView()}),o}),t.ui.componentFactory.add("linkProperties",e=>{const i=t.commands.get("link"),o=new V(e),r=e.t;return o.set({label:r("Link properties"),icon:hE,tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled",i,"value",i,"manualDecorators",(s,a,l)=>s&&!!a&&l.length>0),this.listenTo(o,"execute",()=>{this._addPropertiesView()}),o})}_createLinksListProviderButton(t){const e=this.editor.locale,i=new vM(e);return i.set({label:t.label}),this.listenTo(i,"execute",()=>{this._showLinksProviderView(t)}),i}_createButton(t){const e=this.editor,i=e.locale,o=e.commands.get("link"),r=new t(e.locale),s=i.t;return r.set({label:s("Link"),icon:Mp,keystroke:ms,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",a=>!!a),this.listenTo(r,"execute",()=>{e.editing.view.scrollToTheSelection(),this._showUI(!0),this._getSelectedLinkElement()&&this._addFormView()}),r}_enableBalloonActivators(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),t.keystrokes.set(ms,(i,o)=>{o(),t.commands.get("link").isEnabled&&(t.editing.view.scrollToTheSelection(),this._showUI(!0))})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(t,e)=>{this._isToolbarVisible&&!this.toolbarView.focusTracker.isFocused&&(this.toolbarView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),yn({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>{this._hideUI(!1)}})}_addToolbarView(){this.toolbarView||this._createViews(),this._isToolbarInPanel||this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this.formView.backButtonView.isVisible=t.isEnabled&&!!t.value,this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.selectedLinkableText=this._getSelectedLinkableText(),this.formView.displayedTextInputView.fieldView.value=this.selectedLinkableText||"",this.formView.urlInputView.fieldView.value=t.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_addPropertiesView(){this.propertiesView||this._createViews(),this._arePropertiesInPanel||(this.propertiesView.disableCssTransitions(),this._balloon.add({view:this.propertiesView,position:this._getBalloonPositionData()}),this.propertiesView.enableCssTransitions(),this.propertiesView.focus())}_showLinksProviderView(t){this.linkProviderItemsView&&this._removeLinksProviderView(),this.linkProviderItemsView=this._createLinkProviderItemsView(t),this._addLinkProviderItemsView(t)}_addLinkProviderItemsView(t){this.linkProviderItemsView.listChildren.clear(),this.linkProviderItemsView.listChildren.addMany(this._createLinkProviderListView(t)),this._balloon.add({view:this.linkProviderItemsView,position:this._getBalloonPositionData()}),this.linkProviderItemsView.focus()}_closeFormView(){const t=this.editor.commands.get("link");this.selectedLinkableText=void 0,t.value!==void 0?this._removeFormView():this._hideUI()}_removePropertiesView(){this._arePropertiesInPanel&&this._balloon.remove(this.propertiesView)}_removeLinksProviderView(){this._isLinksListInPanel&&this._balloon.remove(this.linkProviderItemsView)}_removeFormView(t=!0){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.displayedTextInputView.fieldView.reset(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),t&&this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._isToolbarVisible?this._addFormView():this._addToolbarView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addToolbarView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(t=!0){const e=this.editor;this._isUIInPanel&&(this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t&&e.editing.view.focus(),this._removeLinksProviderView(),this._removePropertiesView(),this._removeFormView(t),this._isToolbarInPanel&&this._balloon.remove(this.toolbarView),this._hideFakeVisualSelection())}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let i=this._getSelectedLinkElement(),o=s();const r=()=>{const a=this._getSelectedLinkElement(),l=s();i&&!a||!i&&l!==o?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=a,o=l};function s(){return e.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(t.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _arePropertiesInPanel(){return!!this.propertiesView&&this._balloon.hasView(this.propertiesView)}get _isLinksListInPanel(){return!!this.linkProviderItemsView&&this._balloon.hasView(this.linkProviderItemsView)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _isToolbarInPanel(){return!!this.toolbarView&&this._balloon.hasView(this.toolbarView)}get _isPropertiesVisible(){return!!this.propertiesView&&this._balloon.visibleView===this.propertiesView}get _isFormVisible(){return!!this.formView&&this._balloon.visibleView==this.formView}get _isToolbarVisible(){return!!this.toolbarView&&this._balloon.visibleView===this.toolbarView}get _isUIInPanel(){return this._arePropertiesInPanel||this._isLinksListInPanel||this._isFormInPanel||this._isToolbarInPanel}get _isUIVisible(){return this._isPropertiesVisible||this._isLinksListInPanel||this._isFormVisible||this._isToolbarVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document;if(this.editor.model.markers.has(Li)){const i=this.editor.editing.mapper.markerNameToElements(Li);if(i){const o=Array.from(i),r=t.createRange(t.createPositionBefore(o[0]),t.createPositionAfter(o[o.length-1]));return{target:t.domConverter.viewRangeToDom(r)}}}return{target:()=>{const i=this._getSelectedLinkElement();return i?t.domConverter.mapViewToDom(i):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,i=e.getSelectedElement();if(e.isCollapsed||i&&Kt(i))return au(e.getFirstPosition());{const o=e.getFirstRange().getTrimmed(),r=au(o.start),s=au(o.end);return r&&r==s&&t.createRangeIn(r).getTrimmed().isEqual(o)?r:null}}_getSelectedLinkableText(){const t=this.editor.model,e=this.editor.editing,i=this._getSelectedLinkElement();if(!i)return su(t.document.selection.getFirstRange());const o=e.view.createRangeOn(i);return su(e.mapper.toModelRange(o))}_getLinkProviderLinkByHref(t){if(!t)return null;for(const e of this._linksProviders){const i=e.getItem?e.getItem(t):e.getListItems().find(o=>o.href===t);if(i)return{provider:e,item:i}}return null}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{const i=t.document.selection.getFirstRange();if(t.markers.has(Li))e.updateMarker(Li,{range:i});else if(i.start.isAtEnd){const o=i.start.getLastMatchingPosition(({item:r})=>!t.schema.isContent(r),{boundaries:i});e.addMarker(Li,{usingOperation:!1,affectsData:!1,range:e.createRange(o,i.end)})}else e.addMarker(Li,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Li)&&t.change(e=>{e.removeMarker(Li)})}}function au(n){return n.getAncestors().find(t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e})||null}const $w=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63}))|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class qw extends C{static get requires(){return[Di,Jo]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?Ba(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const i=this.editor.model,o=i.document.selection,r=o.getFirstPosition(),s=o.getLastPosition();let a=e.getJoined(this._expandLinkRange(i,r)||e);a&&(a=a.getJoined(this._expandLinkRange(i,s)||e)),a&&(a.start.isBefore(r)||a.end.isAfter(s))&&t.setSelection(a)}_enablePasteLinking(){const t=this.editor,e=t.model,i=e.document.selection,o=t.plugins.get("ClipboardPipeline"),r=t.commands.get("link");o.on("inputTransformation",(s,a)=>{if(!this.isEnabled||!r.isEnabled||i.isCollapsed||a.method!=="paste"||i.rangeCount>1)return;const l=i.getFirstRange(),c=a.dataTransfer.getData("text/plain");if(!c)return;const d=c.match($w);d&&d[2]===c&&(e.change(u=>{this._selectEntireLinks(u,l),r.execute(c)}),s.stop())},{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new Xb(t.model,i=>{let o=i;if(!function(s){return s.length>4&&s[s.length-1]===" "&&s[s.length-2]!==" "}(o))return;o=o.slice(0,-1),"!.:,;?".includes(o[o.length-1])&&(o=o.slice(0,-1));const r=Ww(o);return r?{url:r,removedTrailingCharacters:i.length-o.length}:void 0});e.on("matched:data",(i,o)=>{const{batch:r,range:s,url:a,removedTrailingCharacters:l}=o;if(!r.isTyping)return;const c=s.end.getShiftedBy(-l),d=c.getShiftedBy(-a.length),u=t.model.createRange(d,c);this._applyAutoLink(a,u)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("enter");i&&i.on("execute",()=>{const o=e.document.selection.getFirstPosition();if(!o.parent.previousSibling)return;const r=e.createRangeIn(o.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("shiftEnter");i&&i.on("execute",()=>{const o=e.document.selection.getFirstPosition(),r=e.createRange(e.createPositionAt(o.parent,0),o.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:i,range:o}=Jb(t,e),r=Ww(i);if(r){const s=e.createRange(o.end.getShiftedBy(-r.length),o.end);this._applyAutoLink(r,s)}}_applyAutoLink(t,e){const i=this.editor.model,o=ru(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(r,s){return s.schema.checkAttributeInSelection(s.createSelection(r),"linkHref")}(e,i)&&jw(o)&&!function(r){const s=r.start.nodeAfter;return!!s&&s.hasAttribute("linkHref")}(e)&&this._persistAutoLink(o,e)}_persistAutoLink(t,e){const i=this.editor.model,o=this.editor.plugins.get("Delete");i.enqueueChange(r=>{r.setAttribute("linkHref",t,e),i.enqueueChange(()=>{o.requestUndoOnBackspace()})})}}function Ww(n){const t=$w.exec(n);return t?t[2]:null}class yM extends C{static get requires(){return[Jo,Uw,qw]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}class CM extends C{static get requires(){return["ImageEditing","ImageUtils",Jo]}static get pluginName(){return"LinkImageEditing"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.model.schema;t.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["linkHref"]}),t.conversion.for("upcast").add(function(i){const o=i.plugins.has("ImageInlineEditing"),r=i.plugins.get("ImageUtils");return s=>{s.on("element:a",(a,l,c)=>{const d=l.viewItem,u=r.findViewImgElement(d);if(!u)return;const h=u.findAncestor(b=>r.isBlockImageView(b));if(o&&!h)return;const g={attributes:["href"]};if(!c.consumable.consume(d,g))return;const f=d.getAttribute("href");if(!f)return;let p=l.modelCursor.parent;if(!p.is("element","imageBlock")){const b=c.convertItem(u,l.modelCursor);l.modelRange=b.modelRange,l.modelCursor=b.modelCursor,p=l.modelCursor.nodeBefore}p&&p.is("element","imageBlock")&&c.writer.setAttribute("linkHref",f,p)},{priority:"high"})}}(t)),t.conversion.for("downcast").add(function(i){const o=i.plugins.get("ImageUtils");return r=>{r.on("attribute:linkHref:imageBlock",(s,a,l)=>{if(!l.consumable.consume(a.item,s.name))return;const c=l.mapper.toViewElement(a.item),d=l.writer,u=Array.from(c.getChildren()).find(f=>f.is("element","a")),h=o.findViewImgElement(c),g=h.parent.is("element","picture")?h.parent:h;if(u)a.attributeNewValue?d.setAttribute("href",a.attributeNewValue,u):(d.move(d.createRangeOn(g),d.createPositionAt(c,0)),d.remove(u));else{const f=d.createContainerElement("a",{href:a.attributeNewValue});d.insert(d.createPositionAt(c,0),f),d.move(d.createRangeOn(g),d.createPositionAt(f,0))}},{priority:"high"})}}(t)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const t=this.editor,e=t.commands.get("link").automaticDecorators;e.length&&t.conversion.for("downcast").add(e.getDispatcherForLinkedImage())}_enableManualDecorators(){const t=this.editor,e=t.commands.get("link");for(const i of e.manualDecorators)t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:i.id}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:i.id}),t.conversion.for("downcast").add(AM(i)),t.conversion.for("upcast").add(xM(t,i))}}function AM(n){return t=>{t.on(`attribute:${n.id}:imageBlock`,(e,i,o)=>{const r=o.mapper.toViewElement(i.item),s=Array.from(r.getChildren()).find(a=>a.is("element","a"));if(s)if(n.value!==void 0){for(const[a,l]of hi(n.attributes))o.writer.setAttribute(a,l,s);n.classes&&o.writer.addClass(n.classes,s);for(const a in n.styles)o.writer.setStyle(a,n.styles[a],s)}else{for(const a in n.attributes)o.writer.removeAttribute(a,s);n.classes&&o.writer.removeClass(n.classes,s);for(const a in n.styles)o.writer.removeStyle(a,s)}})}}function xM(n,t){const e=n.plugins.has("ImageInlineEditing"),i=n.plugins.get("ImageUtils");return o=>{o.on("element:a",(r,s,a)=>{const l=s.viewItem,c=i.findViewImgElement(l);if(!c)return;const d=c.findAncestor(g=>i.isBlockImageView(g));if(e&&!d)return;const u=new qe(t._createPattern()).match(l);if(!u||!a.consumable.consume(l,u.match))return;const h=s.modelCursor.nodeBefore||s.modelCursor.parent;a.writer.setAttribute(t.id,!0,h)},{priority:"high"})}}class EM extends C{static get requires(){return[Jo,Uw,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(i,o)=>{this._isSelectedLinkedImage(t.model.document.selection)&&(o.preventDefault(),i.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("linkImage",i=>{const o=new V(i),r=t.plugins.get("LinkUI"),s=t.commands.get("link");return o.set({isEnabled:!0,label:e("Link image"),icon:Mp,keystroke:ms,tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(s,"isEnabled"),o.bind("isOn").to(s,"value",a=>!!a),this.listenTo(o,"execute",()=>{this._isSelectedLinkedImage(t.model.document.selection)?r._addToolbarView():r._showUI(!0)}),o})}_isSelectedLinkedImage(t){const e=t.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(e)&&e.hasAttribute("linkHref")}}class TM extends C{static get requires(){return[CM,EM]}static get pluginName(){return"LinkImage"}static get isOfficialPlugin(){return!0}}class oi{constructor(t,e){m(this,"_startElement"),m(this,"_referenceIndent"),m(this,"_isForward"),m(this,"_includeSelf"),m(this,"_sameAttributes"),m(this,"_sameIndent"),m(this,"_lowerIndent"),m(this,"_higherIndent"),this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=Dt(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){return _t(new this(t,e)[Symbol.iterator]())}*[Symbol.iterator](){const t=[];for(const{node:e}of new gs(this._getStartNode(),this._isForward?"forward":"backward")){const i=e.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some(o=>e.getAttribute(o)!==this._startElement.getAttribute(o)))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class gs{constructor(t,e="forward"){m(this,"_node"),m(this,"_isForward"),m(this,"_previousNodesByIndent",[]),m(this,"_previous",null),m(this,"_previousNodeIndent",null),this._node=t,this._isForward=e==="forward"}[Symbol.iterator](){return this}next(){if(!St(this._node))return{done:!0,value:void 0};const t=this._node.getAttribute("listIndent");let e=null;if(this._previous){const o=this._previousNodeIndent;t>o?this._previousNodesByIndent[o]=this._previous:t<o?(e=this._previousNodesByIndent[t]||null,this._previousNodesByIndent.length=t):e=this._previous}const i={node:this._node,previous:this._previous,previousNodeInList:e};return this._previous=this._node,this._previousNodeIndent=t,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:i,done:!1}}}class SM{constructor(t){m(this,"_listHead"),this._listHead=t}[Symbol.iterator](){return new gs(this._listHead)}}class Xo{static next(){return Ae()}}function St(n){return!!n&&n.is("element")&&n.hasAttribute("listItemId")}function tr(n,t={}){return[...Mn(n,{...t,direction:"backward"}),...Mn(n,{...t,direction:"forward"})]}function Mn(n,t={}){const e=t.direction=="forward",i=Array.from(new oi(n,{...t,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?i:i.reverse()}function Gw(n,t){const e=new oi(n,{sameIndent:!0,sameAttributes:"listType",...t}),i=new oi(n,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(e).reverse(),...i]}function en(n){return!oi.first(n,{sameIndent:!0,sameAttributes:"listItemId"})}function Kw(n){return!oi.first(n,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function fs(n,t={}){n=Dt(n);const e=t.withNested!==!1,i=new Set;for(const o of n)for(const r of tr(o,{higherIndent:e}))i.add(r);return uo(i)}function Xa(n){n=Dt(n);const t=new Set;for(const e of n)for(const i of Gw(e))t.add(i);return uo(t)}function lu(n,t){const e=Mn(n,{direction:"forward"}),i=Xo.next();for(const o of e)t.setAttribute("listItemId",i,o);return e}function cu(n,t,e){const i={};for(const[r,s]of t.getAttributes())r.startsWith("list")&&(i[r]=s);const o=Mn(n,{direction:"forward"});for(const r of o)e.setAttributes(i,r);return o}function du(n,t,{expand:e,indentBy:i=1}={}){n=Dt(n);const o=e?fs(n):n;for(const r of o){const s=r.getAttribute("listIndent")+i;s<0?tl(r,t):t.setAttribute("listIndent",s,r)}return o}function tl(n,t){n=Dt(n);for(const e of n)e.is("element","listItem")&&t.rename(e,"paragraph");for(const e of n)for(const i of e.getAttributeKeys())i.startsWith("list")&&t.removeAttribute(i,e);return n}function ps(n){if(!n.length)return!1;const t=n[0].getAttribute("listItemId");return!!t&&!n.some(e=>e.getAttribute("listItemId")!=t)}function uo(n){return Array.from(n).filter(t=>t.root.rootName!=="$graveyard").sort((t,e)=>t.index-e.index)}function bs(n){const t=n.document.selection.getSelectedElement();return t&&n.schema.isObject(t)&&n.schema.isBlock(t)?t:null}function uu(n,t){return t.checkChild(n.parent,"listItem")&&t.checkChild(n,"$text")&&!t.isObject(n)}function el(n){return n=="numbered"||n=="customNumbered"}function IM(n,t,e){return Mn(t,{direction:"forward"}).pop().index>n.index?cu(n,t,e):[]}class Yw extends q{constructor(t,e){super(t),m(this,"_direction"),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=Zw(t.document.selection);t.change(i=>{const o=[];ps(e)&&!en(e[0])?(this._direction=="forward"&&o.push(...du(e,i)),o.push(...lu(e[0],i))):this._direction=="forward"?o.push(...du(e,i,{expand:!0})):o.push(...function(r,s){const a=fs(r=Dt(r)),l=new Set,c=Math.min(...a.map(u=>u.getAttribute("listIndent"))),d=new Map;for(const u of a)d.set(u,oi.first(u,{lowerIndent:!0}));for(const u of a){if(l.has(u))continue;l.add(u);const h=u.getAttribute("listIndent")-1;if(h<0)tl(u,s);else{if(u.getAttribute("listIndent")==c){const g=IM(u,d.get(u),s);for(const f of g)l.add(f);if(g.length)continue}s.setAttribute("listIndent",h,u)}}return uo(l)}(e,i));for(const r of o){if(!r.hasAttribute("listType"))continue;const s=oi.first(r,{sameIndent:!0});s&&i.setAttribute("listType",s.getAttribute("listType"),r)}this._fireAfterExecute(o)})}_fireAfterExecute(t){this.fire("afterExecute",uo(new Set(t)))}_checkEnabled(){let t=Zw(this.editor.model.document.selection),e=t[0];if(!e)return!1;if(this._direction=="backward"||ps(t)&&!en(t[0]))return!0;t=fs(t),e=t[0];const i=oi.first(e,{sameIndent:!0});return!!i&&i.getAttribute("listType")==e.getAttribute("listType")}}function Zw(n){const t=Array.from(n.getSelectedBlocks()),e=t.findIndex(i=>!St(i));return e!=-1&&(t.length=e),t}class ks extends q{constructor(t,e,i={}){super(t),m(this,"type"),m(this,"_listWalkerOptions"),this.type=e,this._listWalkerOptions=i.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.document,o=bs(e),r=Array.from(i.selection.getSelectedBlocks()).filter(a=>e.schema.checkAttribute(a,"listType")||uu(a,e.schema)),s=t.forceValue!==void 0?!t.forceValue:this.value;e.change(a=>{if(s){const l=r[r.length-1],c=Mn(l,{direction:"forward"}),d=[];c.length>1&&d.push(...lu(c[1],a)),d.push(...tl(r,a)),d.push(...function(u,h){const g=[];let f=Number.POSITIVE_INFINITY;for(const{node:p}of new gs(u.nextSibling)){const b=p.getAttribute("listIndent");if(b==0)break;b<f&&(f=b);const k=b-f;h.setAttribute("listIndent",k,p),g.push(p)}return g}(l,a)),this._fireAfterExecute(d)}else if((o||i.selection.isCollapsed)&&St(r[0])){const l=Gw(o||r[0],this._listWalkerOptions);for(const c of l)a.setAttributes({...t.additionalAttributes,listType:this.type},c);this._fireAfterExecute(l)}else{const l=[];for(const c of r)if(c.hasAttribute("listType"))for(const d of fs(c,{withNested:!1}))d.getAttribute("listType")!=this.type&&(a.setAttributes({...t.additionalAttributes,listType:this.type},d),l.push(d));else!c.is("element","listItem")&&uu(c,e.schema)&&a.rename(c,"listItem"),a.setAttributes({...t.additionalAttributes,listIndent:0,listItemId:Xo.next(),listType:this.type},c),l.push(c);this._fireAfterExecute(l)}})}_fireAfterExecute(t){this.fire("afterExecute",uo(new Set(t)))}_getValue(){const t=this.editor.model.document.selection,e=Array.from(t.getSelectedBlocks());if(!e.length)return!1;for(const i of e)if(i.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const t=this.editor.model,e=t.schema,i=t.document.selection,o=Array.from(i.getSelectedBlocks());if(!o.length)return!1;if(this.value)return!0;for(const r of o)if(e.checkAttribute(r,"listType")||uu(r,e))return!0;return!1}}class Qw extends q{constructor(t,e){super(t),m(this,"_direction"),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:t=!1}={}){const e=this.editor.model,i=e.document.selection,o=[];e.change(r=>{const{firstElement:s,lastElement:a}=this._getMergeSubjectElements(i,t),l=s.getAttribute("listIndent")||0,c=a.getAttribute("listIndent"),d=a.getAttribute("listItemId");if(l!=c){const h=(u=a,Array.from(new oi(u,{direction:"forward",higherIndent:!0})));o.push(...du([a,...h],r,{indentBy:l-c,expand:l<c}))}var u;if(t){let h=i;i.isCollapsed&&(h=r.createSelection(r.createRange(r.createPositionAt(s,"end"),r.createPositionAt(a,0)))),e.deleteContent(h,{doNotResetEntireContent:i.isCollapsed});const g=h.getLastPosition().parent,f=g.nextSibling;o.push(g),f&&f!==a&&f.getAttribute("listItemId")==d&&o.push(...cu(f,g,r))}else o.push(...cu(a,s,r));this._fireAfterExecute(o)})}_fireAfterExecute(t){this.fire("afterExecute",uo(new Set(t)))}_checkEnabled(){const t=this.editor.model,e=t.document.selection,i=bs(t);if(e.isCollapsed||i){const o=i||e.getFirstPosition().parent;if(!St(o))return!1;const r=this._direction=="backward"?o.previousSibling:o.nextSibling;if(!r||ps([o,r]))return!1}else{const o=e.getLastPosition(),r=e.getFirstPosition();if(o.parent===r.parent||!St(o.parent))return!1}return!0}_getMergeSubjectElements(t,e){const i=bs(this.editor.model);let o,r;if(t.isCollapsed||i){const s=i||t.getFirstPosition().parent,a=en(s);this._direction=="backward"?(r=s,o=a&&!e?oi.first(s,{sameIndent:!0,lowerIndent:!0}):s.previousSibling):(o=s,r=s.nextSibling)}else o=t.getFirstPosition().parent,r=t.getLastPosition().parent;return{firstElement:o,lastElement:r}}}class Jw extends q{constructor(t,e){super(t),m(this,"_direction"),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(t=>{const e=lu(this._getStartBlock(),t);this._fireAfterExecute(e)})}_fireAfterExecute(t){this.fire("afterExecute",uo(new Set(t)))}_checkEnabled(){const t=this.editor.model.document.selection,e=this._getStartBlock();return t.isCollapsed&&St(e)&&!en(e)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?t:t.nextSibling}}class MM extends C{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(t){return Xa(t)}isFirstBlockOfListItem(t){return en(t)}isListItemBlock(t){return St(t)}expandListBlocksToCompleteItems(t,e={}){return fs(t,e)}isNumberedListType(t){return el(t)}}function DM(n){return n.is("element","ol")||n.is("element","ul")}function hu(n){return n.is("element","li")}function PM(n,t,e,i=t_(e,t)){return n.createAttributeElement(Xw(e),null,{priority:2*t/100-100,id:i})}function LM(n,t,e){return n.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:e})}function Xw(n){return n=="numbered"||n=="customNumbered"?"ol":"ul"}function t_(n,t){return`list-${n}-${t}`}function pi(n,t,e){const i=n.nodeBefore;if(St(i)){let o=i;for(const{node:r}of new gs(o,"backward"))if(o=r,e.has(o)||(e.add(o),t.has(i)))return;t.add(o)}else{const o=n.nodeAfter;St(o)&&t.add(o)}}function BM(){return(n,t,e)=>{const{writer:i,schema:o}=e;if(!t.modelRange)return;const r=Array.from(t.modelRange.getItems({shallow:!0})).filter(u=>o.checkAttribute(u,"listItemId"));if(!r.length)return;const s=Xo.next(),a=function(u){let h=0,g=u.parent;for(;g;){if(hu(g))h++;else{const f=g.previousSibling;f&&hu(f)&&h++}g=g.parent}return h}(t.viewItem);let l=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const c=r[0].getAttribute("listType");c&&(l=c);const d={listItemId:s,listIndent:a,listType:l};for(const u of r)u.hasAttribute("listItemId")||i.setAttributes(d,u);r.length>1&&r[1].getAttribute("listItemId")!=d.listItemId&&e.keepEmptyElement(r[0])}}function e_(n,t,e,{dataPipeline:i}={}){const o=function(r){return(s,a)=>{const l=[];for(const c of r)s.hasAttribute(c)&&l.push(`attribute:${c}`);return!!l.every(c=>a.test(s,c)!==!1)&&(l.forEach(c=>a.consume(s,c)),!0)}}(n);return(r,s,a)=>{const{writer:l,mapper:c,consumable:d}=a,u=s.item;if(!n.includes(s.attributeKey)||!o(u,d))return;const h=function(f,p,b){const k=b.createRangeOn(f);return p.toViewRange(k).getTrimmed().end.nodeBefore}(u,c,e);n_(h,l,c),function(f,p){let b=f.parent;for(;b.is("attributeElement")&&["ul","ol","li"].includes(b.name);){const k=b.parent;p.unwrap(p.createRangeOn(f),b),b=k}}(h,l);const g=function(f,p,b,k,{dataPipeline:w}){let _=k.createRangeOn(p);if(!en(f))return _;for(const y of b){if(y.scope!="itemMarker")continue;const A=y.createElement(k,f,{dataPipeline:w});if(!A||(k.setCustomProperty("listItemMarker",!0,A),y.canInjectMarkerIntoElement&&y.canInjectMarkerIntoElement(f)?k.insert(k.createPositionAt(p,0),A):(k.insert(_.start,A),_=k.createRange(k.createPositionBefore(A),k.createPositionAfter(p))),!y.createWrapperElement||!y.canWrapElement))continue;const x=y.createWrapperElement(k,f,{dataPipeline:w});k.setCustomProperty("listItemWrapper",!0,x),y.canWrapElement(f)?_=k.wrap(_,x):(_=k.wrap(k.createRangeOn(A),x),_=k.createRange(_.start,k.createPositionAfter(p)))}return _}(u,h,t,l,{dataPipeline:i});(function(f,p,b,k){if(!f.hasAttribute("listIndent"))return;const w=f.getAttribute("listIndent");let _=f;for(let y=w;y>=0;y--){const A=LM(k,y,_.getAttribute("listItemId")),x=PM(k,y,_.getAttribute("listType"));for(const I of b)I.scope!="list"&&I.scope!="item"||!_.hasAttribute(I.attributeName)||I.setAttributeOnDowncast(k,_.getAttribute(I.attributeName),I.scope=="list"?x:A);if(p=k.wrap(p,A),p=k.wrap(p,x),y==0||(_=oi.first(_,{lowerIndent:!0}),!_))break}})(u,g,t,l)}}function i_(n,{dataPipeline:t}={}){return(e,{writer:i})=>{if(!o_(e,n))return null;if(!t)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const o=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,o),o}}function n_(n,t,e){for(;n.parent.is("attributeElement")&&n.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(n),n.parent);const i=[];o(t.createPositionBefore(n).getWalker({direction:"backward"})),o(t.createRangeIn(n).getWalker());for(const r of i)t.remove(r);function o(r){for(const{item:s}of r){if(s.is("element")&&e.toModelElement(s))break;s.is("element")&&s.getCustomProperty("listItemMarker")&&i.push(s)}}}function o_(n,t,e=tr(n)){if(!St(n))return!1;for(const i of n.getAttributeKeys())if(!i.startsWith("selection:")&&i!="htmlEmptyBlock"&&!t.includes(i))return!1;return e.length<2}const il=["listType","listIndent","listItemId"];class ws extends C{constructor(t){super(t),m(this,"_downcastStrategies",[]),t.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[za,Di,MM,Ie]}init(){const t=this.editor,e=t.model,i=t.config.get("list.multiBlock");if(t.plugins.has("LegacyListEditing"))throw new v("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});e.schema.register("$listItem",{allowAttributes:il}),i?(e.schema.extend("$container",{allowAttributesOf:"$listItem"}),e.schema.extend("$block",{allowAttributesOf:"$listItem"}),e.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):e.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const o of il)e.schema.setAttributeProperties(o,{copyOnReplace:!0});t.commands.add("numberedList",new ks(t,"numbered")),t.commands.add("bulletedList",new ks(t,"bulleted")),t.commands.add("customNumberedList",new ks(t,"customNumbered",{multiLevel:!0})),t.commands.add("customBulletedList",new ks(t,"customBulleted",{multiLevel:!0})),t.commands.add("indentList",new Yw(t,"forward")),t.commands.add("outdentList",new Yw(t,"backward")),t.commands.add("splitListItemBefore",new Jw(t,"before")),t.commands.add("splitListItemAfter",new Jw(t,"after")),i&&(t.commands.add("mergeListItemBackward",new Qw(t,"backward")),t.commands.add("mergeListItemForward",new Qw(t,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const t=this.editor.commands,e=t.get("indent"),i=t.get("outdent");e&&e.registerChildCommand(t.get("indentList"),{priority:"high"}),i&&i.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(t){this._downcastStrategies.push(t)}getListAttributeNames(){return[...il,...this._downcastStrategies.map(t=>t.attributeName)]}_setupDeleteIntegration(){const t=this.editor,e=t.commands.get("mergeListItemBackward"),i=t.commands.get("mergeListItemForward");this.listenTo(t.editing.view.document,"delete",(o,r)=>{const s=t.model.document.selection;bs(t.model)||t.model.change(()=>{const a=s.getFirstPosition();if(s.isCollapsed&&r.direction=="backward"){if(!a.isAtStart)return;const l=a.parent;if(!St(l))return;if(oi.first(l,{sameAttributes:"listType",sameIndent:!0})||l.getAttribute("listIndent")!==0){if(!e||!e.isEnabled)return;e.execute({shouldMergeOnBlocksContentLevel:r_(t.model,"backward")})}else Kw(l)||t.execute("splitListItemAfter"),t.execute("outdentList");r.preventDefault(),o.stop()}else{if(s.isCollapsed&&!s.getLastPosition().isAtEnd||!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:r_(t.model,"forward")}),r.preventDefault(),o.stop()}})},{context:"li"})}_setupEnterIntegration(){const t=this.editor,e=t.model,i=t.commands,o=i.get("enter");this.listenTo(t.editing.view.document,"enter",(r,s)=>{const a=e.document,l=a.selection.getFirstPosition().parent;if(a.selection.isCollapsed&&St(l)&&l.isEmpty&&!s.isSoft){const c=en(l),d=Kw(l);c&&d?(t.execute("outdentList"),s.preventDefault(),r.stop()):c&&!d?(t.execute("splitListItemAfter"),s.preventDefault(),r.stop()):d&&(t.execute("splitListItemBefore"),s.preventDefault(),r.stop())}},{context:"li"}),this.listenTo(o,"afterExecute",()=>{const r=i.get("splitListItemBefore");r.refresh(),r.isEnabled&&tr(t.model.document.selection.getLastPosition().parent).length===2&&r.execute()})}_setupTabIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"tab",(e,i)=>{const o=i.shiftKey?"outdentList":"indentList";this.editor.commands.get(o).isEnabled&&(t.execute(o),i.stopPropagation(),i.preventDefault(),e.stop())},{context:"li"})}_setupConversion(){const t=this.editor,e=t.model,i=this.getListAttributeNames(),o=t.config.get("list.multiBlock"),r=o?"paragraph":"listItem";t.conversion.for("upcast").elementToElement({view:"li",model:(c,{writer:d})=>d.createElement(r,{listType:""})}).elementToElement({view:"p",model:(c,{writer:d})=>c.parent&&c.parent.is("element","li")?d.createElement(r,{listType:""}):null,converterPriority:"high"}).add(c=>{c.on("element:li",BM())}),o||t.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),t.conversion.for("editingDowncast").elementToElement({model:r,view:i_(i),converterPriority:"high"}).add(c=>{var d;c.on("attribute",e_(i,this._downcastStrategies,e)),c.on("remove",(d=e.schema,(u,h,g)=>{const{writer:f,mapper:p}=g,b=u.name.split(":")[1];if(!d.checkAttribute(b,"listItemId"))return;const k=p.toViewPosition(h.position),w=h.position.getShiftedBy(h.length),_=p.toViewPosition(w,{isPhantom:!0}),y=f.createRange(k,_).getTrimmed().end.nodeBefore;y&&n_(y,f,p)}))}),t.conversion.for("dataDowncast").elementToElement({model:r,view:i_(i,{dataPipeline:!0}),converterPriority:"high"}).add(c=>{c.on("attribute",e_(i,this._downcastStrategies,e,{dataPipeline:!0}))});const s=(a=this._downcastStrategies,l=t.editing.view,(c,d)=>{if(d.modelPosition.offset>0)return;const u=d.modelPosition.parent;if(!St(u)||!a.some(b=>b.scope=="itemMarker"&&b.canInjectMarkerIntoElement&&b.canInjectMarkerIntoElement(u)))return;const h=d.mapper.toViewElement(u),g=l.createRangeIn(h),f=g.getWalker();let p=g.start;for(const{item:b}of f){if(b.is("element")&&d.mapper.toModelElement(b)||b.is("$textProxy"))break;b.is("element")&&b.getCustomProperty("listItemMarker")&&(p=l.createPositionAfter(b),f.skip(({previousPosition:k})=>!k.isEqual(p)))}d.viewPosition=p});var a,l;t.editing.mapper.on("modelToViewPosition",s),t.data.mapper.on("modelToViewPosition",s),this.listenTo(e.document,"change:data",function(c,d,u,h){return()=>{const b=c.document.differ.getChanges(),k=[],w=new Set,_=new Set,y=new Set;for(const A of b)if(A.type=="insert"&&A.name!="$text")pi(A.position,w,y),A.attributes.has("listItemId")?_.add(A.position.nodeAfter):pi(A.position.getShiftedBy(A.length),w,y);else if(A.type=="remove"&&A.attributes.has("listItemId"))pi(A.position,w,y);else if(A.type=="attribute"){const x=A.range.start.nodeAfter;u.includes(A.attributeKey)?(pi(A.range.start,w,y),A.attributeNewValue===null?(pi(A.range.start.getShiftedBy(1),w,y),f(x)&&k.push(x)):_.add(x)):St(x)&&f(x)&&k.push(x)}for(const A of w.values())k.push(...g(A,_));for(const A of new Set(k))d.reconvertItem(A)};function g(b,k){const w=[],_=new Set,y=[];for(const{node:A,previous:x}of new gs(b)){if(_.has(A))continue;const I=A.getAttribute("listIndent");x&&I<x.getAttribute("listIndent")&&(y.length=I+1),y[I]=Object.fromEntries(Array.from(A.getAttributes()).filter(([Y])=>u.includes(Y)));const z=Mn(A,{direction:"forward"});for(const Y of z)_.add(Y),(f(Y,z)||p(Y,y,k))&&w.push(Y)}return w}function f(b,k){const w=d.mapper.toViewElement(b);if(!w)return!1;if(h.fire("checkElement",{modelElement:b,viewElement:w}))return!0;if(!b.is("element","paragraph")&&!b.is("element","listItem"))return!1;const _=o_(b,u,k);return!(!_||!w.is("element","p"))||!(_||!w.is("element","span"))}function p(b,k,w){if(w.has(b))return!1;const _=d.mapper.toViewElement(b);let y=k.length-1;for(let A=_.parent;!A.is("editableElement");A=A.parent){const x=hu(A),I=DM(A);if(!I&&!x)continue;const z="checkAttributes:"+(x?"item":"list");if(h.fire(z,{viewElement:A,modelAttributes:k[y]}))break;if(I&&(y--,y<0))return!1}return!0}}(e,t.editing,i,this),{priority:"high"}),this.on("checkAttributes:item",(c,{viewElement:d,modelAttributes:u})=>{d.id!=u.listItemId&&(c.return=!0,c.stop())}),this.on("checkAttributes:list",(c,{viewElement:d,modelAttributes:u})=>{d.name==Xw(u.listType)&&d.id==t_(u.listType,u.listIndent)||(c.return=!0,c.stop())})}_setupModelPostFixing(){const t=this.editor.model,e=this.getListAttributeNames();t.document.registerPostFixer(i=>function(o,r,s,a){const l=o.document.differ.getChanges(),c=new Set,d=new Set,u=a.editor.config.get("list.multiBlock");let h=!1;for(const f of l){if(f.type=="insert"&&f.name!="$text"){const p=f.position.nodeAfter;if(!o.schema.checkAttribute(p,"listItemId"))for(const b of Array.from(p.getAttributeKeys()))s.includes(b)&&(r.removeAttribute(b,p),h=!0);pi(f.position,d,c),f.attributes.has("listItemId")||pi(f.position.getShiftedBy(f.length),d,c);for(const{item:b,previousPosition:k}of o.createRangeIn(p))St(b)&&pi(k,d,c)}else f.type=="remove"?pi(f.position,d,c):f.type=="attribute"&&s.includes(f.attributeKey)&&(pi(f.range.start,d,c),f.attributeNewValue===null&&pi(f.range.start.getShiftedBy(1),d,c));if(!u&&f.type=="attribute"&&il.includes(f.attributeKey)){const p=f.range.start.nodeAfter;f.attributeNewValue===null&&p&&p.is("element","listItem")?(r.rename(p,"paragraph"),h=!0):f.attributeOldValue===null&&p&&p.is("element")&&p.name!="listItem"&&(r.rename(p,"listItem"),h=!0)}}const g=new Set;for(const f of d.values())h=a.fire("postFixer",{listNodes:new SM(f),listHead:f,writer:r,seenIds:g})||h;return h}(t,i,e,this)),this.on("postFixer",(i,{listNodes:o,writer:r})=>{i.return=function(s,a){let l=0,c=-1,d=null,u=!1;for(const{node:h}of s){const g=h.getAttribute("listIndent");if(g>l){let f;d===null?(d=g-l,f=l):(d>g&&(d=g),f=g-d),f>c+1&&(f=c+1),a.setAttribute("listIndent",f,h),u=!0,c=f}else d=null,l=g+1,c=g}return u}(o,r)||i.return},{priority:"high"}),this.on("postFixer",(i,{listNodes:o,writer:r,seenIds:s})=>{i.return=function(a,l,c){const d=new Set;let u=!1;for(const{node:h}of a){if(d.has(h))continue;let g=h.getAttribute("listType"),f=h.getAttribute("listItemId");if(l.has(f)&&(f=Xo.next()),l.add(f),h.is("element","listItem"))h.getAttribute("listItemId")!=f&&(c.setAttribute("listItemId",f,h),u=!0);else for(const p of Mn(h,{direction:"forward"}))d.add(p),p.getAttribute("listType")!=g&&(f=Xo.next(),g=p.getAttribute("listType")),p.getAttribute("listItemId")!=f&&(c.setAttribute("listItemId",f,p),u=!0)}return u}(o,s,r)||i.return},{priority:"high"})}_setupClipboardIntegration(){const t=this.editor.model,e=this.editor.plugins.get("ClipboardPipeline");this.listenTo(t,"insertContent",function(i){return(o,[r,s])=>{const a=r.is("documentFragment")?Array.from(r.getChildren()):[r];if(!a.length)return;const l=(s?i.createSelection(s):i.document.selection).getFirstPosition();let c;if(St(l.parent))c=l.parent;else{if(!St(l.nodeBefore)||!St(l.nodeAfter))return;c=l.nodeBefore}i.change(d=>{const u=c.getAttribute("listType"),h=c.getAttribute("listIndent"),g=a[0].getAttribute("listIndent")||0,f=Math.max(h-g,0);for(const p of a){const b=St(p);c.is("element","listItem")&&p.is("element","paragraph")&&d.rename(p,"listItem"),d.setAttributes({listIndent:(b?p.getAttribute("listIndent"):0)+f,listItemId:b?p.getAttribute("listItemId"):Xo.next(),listType:u},p)}})}}(t),{priority:"high"}),this.listenTo(e,"outputTransformation",(i,o)=>{t.change(r=>{const s=Array.from(o.content.getChildren()),a=s[s.length-1];if(s.length>1&&a.is("element")&&a.isEmpty&&s.slice(0,-1).every(St)&&r.remove(a),o.method=="copy"||o.method=="cut"){const l=Array.from(o.content.getChildren());ps(l)&&tl(l,r)}})})}_setupAccessibilityIntegration(){const t=this.editor,e=t.t;t.accessibility.addKeystrokeInfoGroup({id:"list",label:e("Keystrokes that can be used in a list"),keystrokes:[{label:e("Increase list item indent"),keystroke:"Tab"},{label:e("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function r_(n,t){const e=n.document.selection;if(!e.isCollapsed)return!bs(n);if(t==="forward")return!0;const i=e.getFirstPosition().parent,o=i.previousSibling;return!n.schema.isObject(o)&&(!!o.isEmpty||ps([i,o]))}function mu(n,t,e,i){n.ui.componentFactory.add(t,()=>{const o=s_(V,n,t,e,i);return o.set({tooltip:!0,isToggleable:!0}),o}),n.ui.componentFactory.add(`menuBar:${t}`,()=>{const o=s_(xt,n,t,e,i);return o.set({role:"menuitemcheckbox",isToggleable:!0}),o})}function s_(n,t,e,i,o){const r=t.commands.get(e),s=new n(t.locale);return s.set({label:i,icon:o}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.on("execute",()=>{t.execute(e),t.editing.view.focus()}),s}class NM extends C{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||mu(this.editor,"numberedList",t("Numbered List"),id),this.editor.ui.componentFactory.has("bulletedList")||mu(this.editor,"bulletedList",t("Bulleted List"),Xc)}}class zM extends C{static get requires(){return[ws,NM]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}class OM extends q{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute({startIndex:t=1}={}){const e=this.editor.model,i=e.document;let o=Array.from(i.selection.getSelectedBlocks()).filter(r=>St(r)&&el(r.getAttribute("listType")));o=Xa(o),e.change(r=>{for(const s of o)r.setAttribute("listStart",t>=0?t:1,s)})}_getValue(){const t=_t(this.editor.model.document.selection.getSelectedBlocks());return t&&St(t)&&el(t.getAttribute("listType"))?t.getAttribute("listStart"):null}}const a_={},l_={},c_={},d_=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:t,listType:e}of d_)a_[n]=e,l_[n]=t,t&&(c_[t]=n);function u_(){return d_.map(n=>n.listStyle)}function gu(n){return a_[n]||null}function h_(n){return c_[n]||null}function fu(n){return l_[n]||null}function RM(n){switch(n){case"lower-alpha":return"lower-latin";case"upper-alpha":return"upper-latin";default:return n}}class VM extends q{constructor(t,e,i){super(t),m(this,"defaultType"),m(this,"_supportedTypes"),this.defaultType=e,this._supportedTypes=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.document;e.change(o=>{this._tryToConvertItemsToList(t);let r=Array.from(i.selection.getSelectedBlocks()).filter(s=>s.hasAttribute("listType"));if(r.length){r=Xa(r);for(const s of r)o.setAttribute("listStyle",t.type||this.defaultType,s)}})}isStyleTypeSupported(t){return!this._supportedTypes||this._supportedTypes.includes(t)}_getValue(){const t=_t(this.editor.model.document.selection.getSelectedBlocks());return St(t)?t.getAttribute("listStyle"):null}_checkEnabled(){const t=this.editor,e=t.commands.get("numberedList"),i=t.commands.get("bulletedList");return e.isEnabled||i.isEnabled}_tryToConvertItemsToList(t){if(!t.type)return;const e=gu(t.type);if(!e)return;const i=this.editor,o=`${e}List`;i.commands.get(o).value||i.execute(o)}}class FM extends q{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute(t={}){const e=this.editor.model,i=e.document;let o=Array.from(i.selection.getSelectedBlocks()).filter(r=>St(r)&&r.getAttribute("listType")=="numbered");o=Xa(o),e.change(r=>{for(const s of o)r.setAttribute("listReversed",!!t.reversed,s)})}_getValue(){const t=_t(this.editor.model.document.selection.getSelectedBlocks());return St(t)&&t.getAttribute("listType")=="numbered"?t.getAttribute("listReversed"):null}}function m_(n){return(t,e,i)=>{const{writer:o,schema:r,consumable:s}=i;if(s.test(e.viewItem,n.viewConsumables)===!1)return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor));let a=!1;for(const l of e.modelRange.getItems({shallow:!0}))r.checkAttribute(l,n.attributeName)&&n.appliesToListItem(l)&&(l.hasAttribute(n.attributeName)||(o.setAttribute(n.attributeName,n.getAttributeOnUpcast(e.viewItem),l),a=!0));a&&s.consume(e.viewItem,n.viewConsumables)}}class jM extends C{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return u_()}getListTypeFromListStyleType(t){return gu(t)}getListStyleTypeFromTypeAttribute(t){return h_(t)}getTypeAttributeFromListStyleType(t){return fu(t)}}function g_(n){const{startIndex:t,reversed:e,styles:i}=n;return{styles:HM(i),startIndex:t||!1,reversed:e||!1}}function HM(n){const t={listTypes:["bulleted","numbered"],useAttribute:!1};return n===!0||(n?Array.isArray(n)||typeof n=="string"?t.listTypes=Dt(n):(t.listTypes=n.listTypes?Dt(n.listTypes):t.listTypes,t.useAttribute=!!n.useAttribute,n.listStyleTypes&&(t.listStyleTypes=n.listStyleTypes)):t.listTypes=[]),t}const _s="default";class UM extends C{static get requires(){return[ws,jM]}static get pluginName(){return"ListPropertiesEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const t=this.editor,e=t.model,i=t.plugins.get(ws),o=function(r){const s=[],a=g_(r);if(r.styles){const l=a.styles.useAttribute;s.push({attributeName:"listStyle",defaultValue:_s,viewConsumables:{styles:"list-style-type"},addCommand(c){let d=u_();l&&(d=d.filter(u=>!!fu(u))),c.commands.add("listStyle",new VM(c,_s,d))},appliesToListItem:c=>c.getAttribute("listType")=="numbered"||c.getAttribute("listType")=="bulleted",hasValidAttribute(c){if(!this.appliesToListItem(c))return!c.hasAttribute("listStyle");if(!c.hasAttribute("listStyle"))return!1;const d=c.getAttribute("listStyle");return d==_s||gu(d)==c.getAttribute("listType")},setAttributeOnDowncast(c,d,u){if(d&&d!==_s){if(!l)return void c.setStyle("list-style-type",d,u);{const h=fu(d);if(h)return void c.setAttribute("type",h,u)}}c.removeStyle("list-style-type",u),c.removeAttribute("type",u)},getAttributeOnUpcast(c){const d=c.getStyle("list-style-type");if(d)return RM(d);const u=c.getAttribute("type");return u?h_(u):_s}})}return r.reversed&&s.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(l){l.commands.add("listReversed",new FM(l))},appliesToListItem:l=>l.getAttribute("listType")=="numbered",hasValidAttribute(l){return this.appliesToListItem(l)==l.hasAttribute("listReversed")},setAttributeOnDowncast(l,c,d){c?l.setAttribute("reversed","reversed",d):l.removeAttribute("reversed",d)},getAttributeOnUpcast:l=>l.hasAttribute("reversed")}),r.startIndex&&s.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(l){l.commands.add("listStart",new OM(l))},appliesToListItem:l=>el(l.getAttribute("listType")),hasValidAttribute(l){return this.appliesToListItem(l)==l.hasAttribute("listStart")},setAttributeOnDowncast(l,c,d){c==0||c>1?l.setAttribute("start",c,d):l.removeAttribute("start",d)},getAttributeOnUpcast(l){const c=l.getAttribute("start");return c>=0?c:1}}),s}(t.config.get("list.properties"));for(const r of o)r.addCommand(t),e.schema.extend("$listItem",{allowAttributes:r.attributeName}),i.registerDowncastStrategy({scope:"list",attributeName:r.attributeName,setAttributeOnDowncast(s,a,l){r.setAttributeOnDowncast(s,a,l)}});t.conversion.for("upcast").add(r=>{for(const s of o)r.on("element:ol",m_(s)),r.on("element:ul",m_(s))}),i.on("checkAttributes:list",(r,{viewElement:s,modelAttributes:a})=>{for(const l of o)l.getAttributeOnUpcast(s)!=a[l.attributeName]&&(r.return=!0,r.stop())}),this.listenTo(t.commands.get("indentList"),"afterExecute",(r,s)=>{e.change(a=>{for(const l of s)for(const c of o)c.appliesToListItem(l)&&a.setAttribute(c.attributeName,c.defaultValue,l)})}),i.on("postFixer",(r,{listNodes:s,writer:a})=>{for(const{node:l}of s)for(const c of o)c.hasValidAttribute(l)||(c.appliesToListItem(l)?a.setAttribute(c.attributeName,c.defaultValue,l):a.removeAttribute(c.attributeName,l),r.return=!0)}),i.on("postFixer",(r,{listNodes:s,writer:a})=>{for(const{node:l,previousNodeInList:c}of s)if(c&&c.getAttribute("listType")==l.getAttribute("listType"))for(const d of o){const{attributeName:u}=d;if(!d.appliesToListItem(l))continue;const h=c.getAttribute(u);l.getAttribute(u)!=h&&(a.setAttribute(u,h,l),r.return=!0)}})}}class f_ extends P{constructor(t,{enabledProperties:e,styleButtonViews:i,styleGridAriaLabel:o}){super(t),m(this,"children"),m(this,"stylesView",null),m(this,"additionalPropertiesCollapsibleView",null),m(this,"startIndexFieldView",null),m(this,"reversedSwitchButtonView",null),m(this,"focusTracker",new ht),m(this,"keystrokes",new Tt),m(this,"focusables",new Ee),m(this,"focusCycler");const r=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new re({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i&&i.length?(this.stylesView=this._createStylesView(i,o),this.children.add(this.stylesView)):r.push("ck-list-properties_without-styles"),(e.startIndex||e.reversed)&&(this._addNumberedListPropertyViews(e),r.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:r},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const t of this.stylesView.children)this.stylesView.focusTracker.add(t.element);Gr({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>L.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(t,e){const i=new P(this.locale);return i.children=i.createCollection(),i.children.addMany(t),i.setTemplate({tag:"div",attributes:{"aria-label":e,class:["ck","ck-list-styles-list"]},children:i.children}),i.children.delegate("execute").to(this),i.focus=function(){for(const o of this.children)if(o instanceof V&&o.isOn)return void o.focus();this.children.first.focus()},i.focusTracker=new ht,i.keystrokes=new Tt,i.render(),i.keystrokes.listenTo(i.element),i}_addNumberedListPropertyViews(t){const e=this.locale.t,i=[];t.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),i.push(this.startIndexFieldView)),t.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),i.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new Zp(this.locale,i),this.additionalPropertiesCollapsibleView.set({label:e("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(i,"isEnabled",(...o)=>o.some(r=>r)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(o,r,s)=>{s||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(i)}_createStartIndexField(){const t=this.locale.t,e=new Si(this.locale,fb);return e.set({label:t("Start at"),class:"ck-numbered-list-properties__start-index"}),e.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),e.fieldView.on("input",()=>{const i=e.fieldView.element,o=i.valueAsNumber;Number.isNaN(o)?e.errorText=t("Invalid start index value."):i.checkValidity()?this.fire("listStart",{startIndex:o}):e.errorText=t("Start index must be greater than 0.")}),e}_createReversedSwitchButton(){const t=this.locale.t,e=new Yr(this.locale);return e.set({withText:!0,label:t("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),e.delegate("execute").to(this,"listReversed"),e}}class $M extends C{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=t.config.get("list.properties"),o=g_(i),r=o.styles.listTypes;if(r.includes("bulleted")){const s=[{label:e("Toggle the disc list style"),tooltip:e("Disc"),type:"disc",icon:F2},{label:e("Toggle the circle list style"),tooltip:e("Circle"),type:"circle",icon:O2},{label:e("Toggle the square list style"),tooltip:e("Square"),type:"square",icon:U2}],a=e("Bulleted List"),l=e("Bulleted list styles toolbar"),c="bulletedList";t.ui.componentFactory.add(c,p_({editor:t,normalizedConfig:o,parentCommandName:c,buttonLabel:a,buttonIcon:Xc,styleGridAriaLabel:l,styleDefinitions:s})),t.ui.componentFactory.add(`menuBar:${c}`,k_({editor:t,normalizedConfig:o,parentCommandName:c,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:s}))}if(r.includes("numbered")||i.startIndex||i.reversed){const s=[{label:e("Toggle the decimal list style"),tooltip:e("Decimal"),type:"decimal",icon:V2},{label:e("Toggle the decimal with leading zero list style"),tooltip:e("Decimal with leading zero"),type:"decimal-leading-zero",icon:R2},{label:e("Toggle the lower\u2013roman list style"),tooltip:e("Lower\u2013roman"),type:"lower-roman",icon:H2},{label:e("Toggle the upper\u2013roman list style"),tooltip:e("Upper-roman"),type:"upper-roman",icon:q2},{label:e("Toggle the lower\u2013latin list style"),tooltip:e("Lower-latin"),type:"lower-latin",icon:j2},{label:e("Toggle the upper\u2013latin list style"),tooltip:e("Upper-latin"),type:"upper-latin",icon:$2}],a=e("Numbered List"),l=e("Numbered list styles toolbar"),c="numberedList";t.ui.componentFactory.add(c,p_({editor:t,normalizedConfig:o,parentCommandName:c,buttonLabel:a,buttonIcon:id,styleGridAriaLabel:l,styleDefinitions:s})),r.includes("numbered")&&t.ui.componentFactory.add(`menuBar:${c}`,k_({editor:t,normalizedConfig:o,parentCommandName:c,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:s}))}}}function p_({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,buttonIcon:o,styleGridAriaLabel:r,styleDefinitions:s}){const a=n.commands.get(e);return l=>{const c=ce(l,oo),d=c.buttonView;return c.bind("isEnabled").to(a),c.class="ck-list-styles-dropdown",d.on("execute",()=>{n.execute(e),n.editing.view.focus()}),d.set({label:i,icon:o,tooltip:!0,isToggleable:!0}),d.bind("isOn").to(a,"value",u=>!!u),c.once("change:isOpen",()=>{const u=function({editor:h,normalizedConfig:g,dropdownView:f,parentCommandName:p,styleDefinitions:b,styleGridAriaLabel:k}){const w=h.locale,_={...g,...p!="numberedList"?{startIndex:!1,reversed:!1}:null},y=p.replace("List","");let A=null;if(g.styles.listTypes.includes(y)){const I=h.commands.get("listStyle"),z=b_({editor:h,parentCommandName:p,listStyleCommand:I}),Y=g.styles.listStyleTypes;let Vt=b;if(Y){const ct=Y[y];ct&&(Vt=b.filter(ee=>ct.includes(ee.type)))}const we=w_(I);A=Vt.filter(we).map(z)}const x=new f_(w,{styleGridAriaLabel:k,enabledProperties:_,styleButtonViews:A});if(g.styles.listTypes.includes(y)&&xa(f,()=>x.stylesView.children.find(I=>I.isOn)),_.startIndex){const I=h.commands.get("listStart");x.startIndexFieldView.bind("isEnabled").to(I),x.startIndexFieldView.fieldView.bind("value").to(I),x.on("listStart",(z,Y)=>h.execute("listStart",Y))}if(_.reversed){const I=h.commands.get("listReversed");x.reversedSwitchButtonView.bind("isEnabled").to(I),x.reversedSwitchButtonView.bind("isOn").to(I,"value",z=>!!z),x.on("listReversed",()=>{const z=I.value;h.execute("listReversed",{reversed:!z})})}return x.delegate("execute").to(f),x}({editor:n,normalizedConfig:t,dropdownView:c,parentCommandName:e,styleGridAriaLabel:r,styleDefinitions:s});c.panelView.children.add(u)}),c.on("execute",()=>{n.editing.view.focus()}),c}}function b_({editor:n,listStyleCommand:t,parentCommandName:e}){const i=n.locale,o=n.commands.get(e);return({label:r,type:s,icon:a,tooltip:l})=>{const c=new V(i);return c.set({label:r,icon:a,tooltip:l}),c.bind("isOn").to(t,"value",d=>d===s),c.on("execute",()=>{o.value?t.value===s?n.execute(e):t.value!==s&&n.execute("listStyle",{type:s}):n.model.change(()=>{n.execute("listStyle",{type:s})})}),c}}function k_({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,styleGridAriaLabel:o,styleDefinitions:r}){return s=>{const a=new Ke(s),l=n.commands.get(e),c=n.commands.get("listStyle"),d=w_(c),u=b_({editor:n,parentCommandName:e,listStyleCommand:c}),h=t.styles.listStyleTypes;let g=r;if(h){const b=h[l.type];b&&(g=r.filter(k=>b.includes(k.type)))}const f=g.filter(d).map(u),p=new f_(s,{styleGridAriaLabel:o,enabledProperties:{...t,startIndex:!1,reversed:!1},styleButtonViews:f});return p.delegate("execute").to(a),a.buttonView.set({label:i,icon:e==="bulletedList"?Xc:id}),a.panelView.children.add(p),a.bind("isEnabled").to(l,"isEnabled"),a.on("execute",()=>{n.editing.view.focus()}),a}}function w_(n){return typeof n.isStyleTypeSupported=="function"?t=>n.isStyleTypeSupported(t.type):()=>!0}class qM extends C{static get requires(){return[UM,$M]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}class WM extends q{constructor(t){super(t),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const t=this._getSelectedItems();this.value=this._getValue(t),this.isEnabled=!!t.length}execute(t={}){this.editor.model.change(e=>{const i=this._getSelectedItems(),o=t.forceValue===void 0?!this._getValue(i):t.forceValue;for(const r of i)o?e.setAttribute("todoListChecked",!0,r):e.removeAttribute("todoListChecked",r)})}_getValue(t){return t.every(e=>e.getAttribute("todoListChecked"))}_getSelectedItems(){const t=this.editor.model,e=t.schema,i=t.document.selection.getFirstRange(),o=i.start.parent,r=[];e.checkAttribute(o,"todoListChecked")&&r.push(...tr(o));for(const s of i.getItems({shallow:!0}))e.checkAttribute(s,"todoListChecked")&&!r.includes(s)&&r.push(...tr(s));return r}}class GM extends Ai{constructor(){super(...arguments),m(this,"domEventType",["change"])}onDomEvent(t){if(t.target){const e=this.view.domConverter.mapDomToView(t.target);e&&e.is("element","input")&&e.getAttribute("type")=="checkbox"&&e.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",t)}}}const KM=Tr("Ctrl+Enter");class YM extends C{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[ws]}init(){const t=this.editor,e=t.model,i=t.editing,o=t.plugins.get(ws),r=t.config.get("list.multiBlock")?"paragraph":"listItem";t.commands.add("todoList",new ks(t,"todo")),t.commands.add("checkTodoList",new WM(t)),i.view.addObserver(GM),e.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),e.schema.addAttributeCheck(s=>{const a=s.last;if(!a.getAttribute("listItemId")||a.getAttribute("listType")!="todo")return!1},"todoListChecked"),t.conversion.for("upcast").add(s=>{s.on("element:input",(a,l,c)=>{const d=l.modelCursor,u=d.parent,h=l.viewItem;if(!c.consumable.test(h,{name:!0})||h.getAttribute("type")!="checkbox"||!d.isAtStart||!u.hasAttribute("listType"))return;c.consumable.consume(h,{name:!0});const g=c.writer;g.setAttribute("listType","todo",u),l.viewItem.hasAttribute("checked")&&g.setAttribute("todoListChecked",!0,u),l.modelRange=g.createRange(d)}),s.on("element:li",(a,l,c)=>{const{writer:d,schema:u}=c;if(!l.modelRange)return;const h=Array.from(l.modelRange.getItems({shallow:!0})).filter(g=>g.getAttribute("listType")==="todo"&&u.checkAttribute(g,"listItemId")).reduce((g,f)=>{const p=f.getAttribute("listItemId");return g.has(p)||g.set(p,tr(f)),g},new Map);for(const[,g]of h.entries())if(g.some(f=>f.getAttribute("todoListChecked")))for(const f of g)d.setAttribute("todoListChecked",!0,f)},{priority:"low"}),s.on("element:label",pu({name:"label",classes:"todo-list__label"})),s.on("element:label",pu({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),s.on("element:span",pu({name:"span",classes:"todo-list__label__description"})),s.on("element:ul",function(a){const l=new qe(a);return(c,d,u)=>{const h=l.match(d.viewItem);if(!h)return;const g=h.match;g.name=!1,u.consumable.consume(d.viewItem,g)}}({name:"ul",classes:"todo-list"}))}),t.conversion.for("downcast").elementToElement({model:r,view:(s,{writer:a})=>{if(nl(s,o.getListAttributeNames()))return a.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),o.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(s,a,l){a=="todo"?s.addClass("todo-list",l):s.removeClass("todo-list",l)}}),o.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(s,a,{dataPipeline:l}){if(a.getAttribute("listType")!="todo")return null;const c=s.createUIElement("input",{type:"checkbox",...a.getAttribute("todoListChecked")?{checked:"checked"}:null,...l?{disabled:"disabled"}:{tabindex:"-1"}});if(l)return c;const d=s.createContainerElement("span",{contenteditable:"false"},c);return d.getFillerOffset=()=>null,d},canWrapElement:s=>nl(s,o.getListAttributeNames()),createWrapperElement(s,a,{dataPipeline:l}){const c=["todo-list__label"];return nl(a,o.getListAttributeNames())||c.push("todo-list__label_without-description"),s.createAttributeElement(l?"label":"span",{class:c.join(" ")})}}),o.on("checkElement",(s,{modelElement:a,viewElement:l})=>{const c=nl(a,o.getListAttributeNames());l.hasClass("todo-list__label__description")!=c&&(s.return=!0,s.stop())}),o.on("checkElement",(s,{modelElement:a,viewElement:l})=>{const c=a.getAttribute("listType")=="todo"&&en(a);let d=!1;const u=t.editing.view.createPositionBefore(l).getWalker({direction:"backward"});for(const{item:h}of u){if(h.is("element")&&t.editing.mapper.toModelElement(h))break;h.is("element","input")&&h.getAttribute("type")=="checkbox"&&(d=!0)}d!=c&&(s.return=!0,s.stop())}),o.on("postFixer",(s,{listNodes:a,writer:l})=>{for(const{node:c,previousNodeInList:d}of a){if(!d||d.getAttribute("listItemId")!=c.getAttribute("listItemId"))continue;const u=d.hasAttribute("todoListChecked"),h=c.hasAttribute("todoListChecked");h&&!u?(l.removeAttribute("todoListChecked",c),s.return=!0):!h&&u&&(l.setAttribute("todoListChecked",!0,c),s.return=!0)}}),e.document.registerPostFixer(s=>{const a=e.document.differ.getChanges();let l=!1;for(const c of a)if(c.type=="attribute"&&c.attributeKey=="listType"){const d=c.range.start.nodeAfter;c.attributeOldValue=="todo"&&d.hasAttribute("todoListChecked")&&(s.removeAttribute("todoListChecked",d),l=!0)}else if(c.type=="insert"&&c.name!="$text")for(const{item:d}of s.createRangeOn(c.position.nodeAfter))d.is("element")&&d.getAttribute("listType")!="todo"&&d.hasAttribute("todoListChecked")&&(s.removeAttribute("todoListChecked",d),l=!0);return l}),this.listenTo(i.view.document,"keydown",(s,a)=>{qn(a)===KM&&(t.execute("checkTodoList"),s.stop())},{priority:"high"}),this.listenTo(i.view.document,"todoCheckboxChange",(s,a)=>{const l=a.target;if(!l||!l.is("element","input"))return;const c=i.view.createPositionAfter(l),d=i.mapper.toModelPosition(c).parent;d&&St(d)&&d.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(d)}),this.listenTo(i.view.document,"arrowKey",function(s,a){return(l,c)=>{const d=na(c.keyCode,a.contentLanguageDirection),u=s.schema,h=s.document.selection;if(!h.isCollapsed)return;const g=h.getFirstPosition(),f=g.parent;if(d=="right"&&g.isAtEnd){const p=u.getNearestSelectionRange(s.createPositionAfter(f),"forward");if(!p)return;const b=p.start.parent;b&&St(b)&&b.getAttribute("listType")=="todo"&&(s.change(k=>k.setSelection(p)),c.preventDefault(),c.stopPropagation(),l.stop())}else if(d=="left"&&g.isAtStart&&St(f)&&f.getAttribute("listType")=="todo"){const p=u.getNearestSelectionRange(s.createPositionBefore(f),"backward");if(!p)return;s.change(b=>b.setSelection(p)),c.preventDefault(),c.stopPropagation(),l.stop()}}}(e,t.locale),{context:"$text"}),this.listenTo(i.mapper,"viewToModelPosition",(s,a)=>{const l=a.viewPosition.parent,c=l.is("attributeElement","li")&&a.viewPosition.offset==0,d=__(l)&&a.viewPosition.offset<=1,u=l.is("element","span")&&l.getAttribute("contenteditable")=="false"&&__(l.parent);if(!c&&!d&&!u)return;const h=a.modelPosition.nodeAfter;h&&h.getAttribute("listType")=="todo"&&(a.modelPosition=e.createPositionAt(h,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(t){const e=this.editor,i=e.model,o=Array.from(i.document.selection.getRanges());i.change(r=>{r.setSelection(t,"end"),e.execute("checkTodoList"),r.setSelection(o)})}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor;let o=null;e&&t.document.selection.on("change:range",()=>{const r=t.document.selection.focus.parent,s=v_(o),a=v_(r);s&&!a?e.ariaLiveAnnouncer.announce(i("Leaving a to-do list")):!s&&a&&e.ariaLiveAnnouncer.announce(i("Entering a to-do list")),o=r})}}function pu(n){const t=new qe(n);return(e,i,o)=>{const r=t.match(i.viewItem);r&&o.consumable.consume(i.viewItem,r.match)&&Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor))}}function nl(n,t){return(n.is("element","paragraph")||n.is("element","listItem"))&&n.getAttribute("listType")=="todo"&&en(n)&&function(e,i){for(const o of e.getAttributeKeys())if(!o.startsWith("selection:")&&!i.includes(o))return!1;return!0}(n,t)}function __(n){return!!n&&n.is("attributeElement")&&n.hasClass("todo-list__label")}function v_(n){return!!n&&!(!n.is("element","paragraph")&&!n.is("element","listItem"))&&n.getAttribute("listType")=="todo"}class ZM extends C{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;mu(this.editor,"todoList",t("To-do List"),yE)}}class QM extends C{static get requires(){return[YM,ZM]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}Tr("Ctrl+Enter");function JM(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let er={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const XM=/[&<>"']/,tD=/[&<>"']/g,eD=/[<>"']|&(?!#?\w+;)/,iD=/[<>"']|&(?!#?\w+;)/g,nD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y_=n=>nD[n];function de(n,t){if(t){if(XM.test(n))return n.replace(tD,y_)}else if(eD.test(n))return n.replace(iD,y_);return n}const oD=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function C_(n){return n.replace(oD,(t,e)=>(e=e.toLowerCase())==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const rD=/(^|[^\[])\^/g;function Pt(n,t){n=n.source||n,t=t||"";const e={replace:(i,o)=>(o=(o=o.source||o).replace(rD,"$1"),n=n.replace(i,o),e),getRegex:()=>new RegExp(n,t)};return e}const sD=/[^\w:]/g,aD=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function A_(n,t,e){if(n){let i;try{i=decodeURIComponent(C_(e)).replace(sD,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}t&&!aD.test(e)&&(e=function(i,o){ol[" "+i]||(lD.test(i)?ol[" "+i]=i+"/":ol[" "+i]=sl(i,"/",!0)),i=ol[" "+i];const r=i.indexOf(":")===-1;return o.substring(0,2)==="//"?r?o:i.replace(cD,"$1")+o:o.charAt(0)==="/"?r?o:i.replace(dD,"$1")+o:i+o}(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const ol={},lD=/^[^:]+:\/*[^/]*$/,cD=/^([^:]+:)[\s\S]*$/,dD=/^([^:]+:\/*[^/]*)[\s\S]*$/,rl={exec:function(){}};function bi(n){let t,e,i=1;for(;i<arguments.length;i++)for(e in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}function x_(n,t){const e=n.replace(/\|/g,(o,r,s)=>{let a=!1,l=r;for(;--l>=0&&s[l]==="\\";)a=!a;return a?"|":" |"}).split(/ \|/);let i=0;if(e[0].trim()||e.shift(),e.length>0&&!e[e.length-1].trim()&&e.pop(),e.length>t)e.splice(t);else for(;e.length<t;)e.push("");for(;i<e.length;i++)e[i]=e[i].trim().replace(/\\\|/g,"|");return e}function sl(n,t,e){const i=n.length;if(i===0)return"";let o=0;for(;o<i;){const r=n.charAt(i-o-1);if(r!==t||e){if(r===t||!e)break;o++}else o++}return n.substr(0,i-o)}function E_(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T_(n,t){if(t<1)return"";let e="";for(;t>1;)1&t&&(e+=n),t>>=1,n+=n;return e+n}function S_(n,t,e,i){const o=t.href,r=t.title?de(t.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:e,href:o,title:r,text:s,tokens:i.inlineTokens(s,[])};return i.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:r,text:de(s)}}class bu{constructor(t){this.options=t||er}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const i=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?i:sl(i,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const i=e[0],o=function(r,s){const a=r.match(/^(\s+)(?:```)/);if(a===null)return s;const l=a[1];return s.split(`
`).map(c=>{const d=c.match(/^\s+/);if(d===null)return c;const[u]=d;return u.length>=l.length?c.slice(l.length):c}).join(`
`)}(i,e[3]||"");return{type:"code",raw:i,lang:e[2]?e[2].trim():e[2],text:o}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let i=e[2].trim();if(/#$/.test(i)){const r=sl(i,"#");this.options.pedantic?i=r.trim():r&&!/ $/.test(r)||(i=r.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:i,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const i=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i,o,r,s,a,l,c,d,u,h,g,f,p=e[1].trim();const b=p.length>1,k={type:"list",raw:"",ordered:b,start:b?+p.slice(0,-1):"",loose:!1,items:[]};p=b?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=b?p:"[*+-]");const w=new RegExp(`^( {0,3}${p})((?: [^\\n]*)?(?:\\n|$))`);for(;t&&(f=!1,e=w.exec(t))&&!this.rules.block.hr.test(t);){if(i=e[0],t=t.substring(i.length),d=e[2].split(`
`,1)[0],u=t.split(`
`,1)[0],this.options.pedantic?(s=2,g=d.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,g=d.slice(s),s+=e[1].length),l=!1,!d&&/^ *$/.test(u)&&(i+=u+`
`,t=t.substring(u.length+1),f=!0),!f){const y=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;t&&(h=t.split(`
`,1)[0],d=h,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!y.test(d));){if(d.search(/[^ ]/)>=s||!d.trim())g+=`
`+d.slice(s);else{if(l)break;g+=`
`+d}l||d.trim()||(l=!0),i+=h+`
`,t=t.substring(h.length+1)}}k.loose||(c?k.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g),o&&(r=o[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:i,task:!!o,checked:r,loose:!1,text:g}),k.raw+=i}k.items[k.items.length-1].raw=i.trimRight(),k.items[k.items.length-1].text=g.trimRight(),k.raw=k.raw.trimRight();const _=k.items.length;for(a=0;a<_;a++){this.lexer.state.top=!1,k.items[a].tokens=this.lexer.blockTokens(k.items[a].text,[]);const y=k.items[a].tokens.filter(x=>x.type==="space"),A=y.every(x=>{const I=x.raw.split("");let z=0;for(const Y of I)if(Y===`
`&&(z+=1),z>1)return!0;return!1});!k.loose&&y.length&&A&&(k.loose=!0,k.items[a].loose=!0)}return k}}html(t){const e=this.rules.block.html.exec(t);if(e){const i={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(e[0]):de(e[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(t){const e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(t){const e=this.rules.block.table.exec(t);if(e){const i={type:"table",header:x_(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=e[0];let o,r,s,a,l=i.align.length;for(o=0;o<l;o++)/^ *-+: *$/.test(i.align[o])?i.align[o]="right":/^ *:-+: *$/.test(i.align[o])?i.align[o]="center":/^ *:-+ *$/.test(i.align[o])?i.align[o]="left":i.align[o]=null;for(l=i.rows.length,o=0;o<l;o++)i.rows[o]=x_(i.rows[o],i.header.length).map(c=>({text:c}));for(l=i.header.length,r=0;r<l;r++)i.header[r].tokens=[],this.lexer.inlineTokens(i.header[r].text,i.header[r].tokens);for(l=i.rows.length,r=0;r<l;r++)for(a=i.rows[r],s=0;s<a.length;s++)a[s].tokens=[],this.lexer.inlineTokens(a[s].text,a[s].tokens);return i}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e){const i={type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const i={type:"paragraph",raw:e[0],text:e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(t){const e=this.rules.block.text.exec(t);if(e){const i={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:de(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):de(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const i=e[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=sl(i.slice(0,-1),"\\");if((i.length-s.length)%2==0)return}else{const s=function(a,l){if(a.indexOf(l[1])===-1)return-1;const c=a.length;let d=0,u=0;for(;u<c;u++)if(a[u]==="\\")u++;else if(a[u]===l[0])d++;else if(a[u]===l[1]&&(d--,d<0))return u;return-1}(e[2],"()");if(s>-1){const a=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let o=e[2],r="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],r=s[3])}else r=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(i)?o.slice(1):o.slice(1,-1)),S_(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let o=(i[2]||i[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return S_(i,o,i[0],this.lexer)}}emStrong(t,e,i=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!o||o[3]&&i.match(/[\p{L}\p{N}]/u))return;const r=o[1]||o[2]||"";if(!r||r&&(i===""||this.rules.inline.punctuation.exec(i))){const s=o[0].length-1;let a,l,c=s,d=0;const u=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+s);(o=u.exec(e))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=a.length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){d+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+d),Math.min(s,l)%2){const g=t.slice(1,s+o.index+l);return{type:"em",raw:t.slice(0,s+o.index+l+1),text:g,tokens:this.lexer.inlineTokens(g,[])}}const h=t.slice(2,s+o.index+l-1);return{type:"strong",raw:t.slice(0,s+o.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let i=e[2].replace(/\n/g," ");const o=/[^ ]/.test(i),r=/^ /.test(i)&&/ $/.test(i);return o&&r&&(i=i.substring(1,i.length-1)),i=de(i,!0),{type:"codespan",raw:e[0],text:i}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(t,e){const i=this.rules.inline.autolink.exec(t);if(i){let o,r;return i[2]==="@"?(o=de(this.options.mangle?e(i[1]):i[1]),r="mailto:"+o):(o=de(i[1]),r=o),{type:"link",raw:i[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}url(t,e){let i;if(i=this.rules.inline.url.exec(t)){let o,r;if(i[2]==="@")o=de(this.options.mangle?e(i[0]):i[0]),r="mailto:"+o;else{let s;do s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(s!==i[0]);o=de(i[0]),r=i[1]==="www."?"http://"+o:o}return{type:"link",raw:i[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t,e){const i=this.rules.inline.text.exec(t);if(i){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):de(i[0]):i[0]:de(this.options.smartypants?e(i[0]):i[0]),{type:"text",raw:i[0],text:o}}}}const Q={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:rl,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Q.def=Pt(Q.def).replace("label",Q._label).replace("title",Q._title).getRegex(),Q.bullet=/(?:[*+-]|\d{1,9}[.)])/,Q.listItemStart=Pt(/^( *)(bull) */).replace("bull",Q.bullet).getRegex(),Q.list=Pt(Q.list).replace(/bull/g,Q.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Q.def.source+")").getRegex(),Q._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Q._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Q.html=Pt(Q.html,"i").replace("comment",Q._comment).replace("tag",Q._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Q.paragraph=Pt(Q._paragraph).replace("hr",Q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q._tag).getRegex(),Q.blockquote=Pt(Q.blockquote).replace("paragraph",Q.paragraph).getRegex(),Q.normal=bi({},Q),Q.gfm=bi({},Q.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Q.gfm.table=Pt(Q.gfm.table).replace("hr",Q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q._tag).getRegex(),Q.gfm.paragraph=Pt(Q._paragraph).replace("hr",Q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Q.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q._tag).getRegex(),Q.pedantic=bi({},Q.normal,{html:Pt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Q._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rl,paragraph:Pt(Q.normal._paragraph).replace("hr",Q.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Q.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const F={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:rl,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:rl,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function uD(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function I_(n){let t,e,i="";const o=n.length;for(t=0;t<o;t++)e=n.charCodeAt(t),Math.random()>.5&&(e="x"+e.toString(16)),i+="&#"+e+";";return i}F._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",F.punctuation=Pt(F.punctuation).replace(/punctuation/g,F._punctuation).getRegex(),F.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,F.escapedEmSt=/\\\*|\\_/g,F._comment=Pt(Q._comment).replace("(?:-->|$)","-->").getRegex(),F.emStrong.lDelim=Pt(F.emStrong.lDelim).replace(/punct/g,F._punctuation).getRegex(),F.emStrong.rDelimAst=Pt(F.emStrong.rDelimAst,"g").replace(/punct/g,F._punctuation).getRegex(),F.emStrong.rDelimUnd=Pt(F.emStrong.rDelimUnd,"g").replace(/punct/g,F._punctuation).getRegex(),F._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,F._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,F._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,F.autolink=Pt(F.autolink).replace("scheme",F._scheme).replace("email",F._email).getRegex(),F._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,F.tag=Pt(F.tag).replace("comment",F._comment).replace("attribute",F._attribute).getRegex(),F._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,F._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,F._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,F.link=Pt(F.link).replace("label",F._label).replace("href",F._href).replace("title",F._title).getRegex(),F.reflink=Pt(F.reflink).replace("label",F._label).replace("ref",Q._label).getRegex(),F.nolink=Pt(F.nolink).replace("ref",Q._label).getRegex(),F.reflinkSearch=Pt(F.reflinkSearch,"g").replace("reflink",F.reflink).replace("nolink",F.nolink).getRegex(),F.normal=bi({},F),F.pedantic=bi({},F.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Pt(/^!?\[(label)\]\((.*?)\)/).replace("label",F._label).getRegex(),reflink:Pt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",F._label).getRegex()}),F.gfm=bi({},F.normal,{escape:Pt(F.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),F.gfm.url=Pt(F.gfm.url,"i").replace("email",F.gfm._extended_email).getRegex(),F.breaks=bi({},F.gfm,{br:Pt(F.br).replace("{2,}","*").getRegex(),text:Pt(F.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class rn{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||er,this.options.tokenizer=this.options.tokenizer||new bu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:Q.normal,inline:F.normal};this.options.pedantic?(e.block=Q.pedantic,e.inline=F.pedantic):this.options.gfm&&(e.block=Q.gfm,this.options.breaks?e.inline=F.breaks:e.inline=F.gfm),this.tokenizer.rules=e}static get rules(){return{block:Q,inline:F}}static lex(t,e){return new rn(e).lex(t)}static lexInline(t,e){return new rn(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let i,o,r,s;for(this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(i=a.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0))))if(i=this.tokenizer.space(t))t=t.substring(i.raw.length),i.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(i);else if(i=this.tokenizer.code(t))t=t.substring(i.raw.length),o=e[e.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?e.push(i):(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(i=this.tokenizer.fences(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.heading(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.hr(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.blockquote(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.list(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.html(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.def(t))t=t.substring(i.raw.length),o=e[e.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(o.raw+=`
`+i.raw,o.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(i=this.tokenizer.table(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.lheading(t))t=t.substring(i.raw.length),e.push(i);else{if(r=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(function(d){c=d.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(r=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r)))o=e[e.length-1],s&&o.type==="paragraph"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(i),s=r.length!==t.length,t=t.substring(i.raw.length);else if(i=this.tokenizer.text(t))t=t.substring(i.raw.length),o=e[e.length-1],o&&o.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(i);else if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(t,e){this.inlineQueue.push({src:t,tokens:e})}inlineTokens(t,e=[]){let i,o,r,s,a,l,c=t;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)d.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+T_("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,s.index)+"["+T_("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(i=d.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0))))if(i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t))t=t.substring(i.raw.length),o=e[e.length-1],o&&i.type==="text"&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),o=e[e.length-1],o&&i.type==="text"&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(i=this.tokenizer.emStrong(t,c,l))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.autolink(t,I_))t=t.substring(i.raw.length),e.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(t,I_))){if(r=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const u=t.slice(1);let h;this.options.extensions.startInline.forEach(function(g){h=g.call({lexer:this},u),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(r=t.substring(0,d+1))}if(i=this.tokenizer.inlineText(r,uD))t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(l=i.raw.slice(-1)),a=!0,o=e[e.length-1],o&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else t=t.substring(i.raw.length),e.push(i);return e}}class ku{constructor(t){this.options=t||er}code(t,e,i){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(t,o);r!=null&&r!==t&&(i=!0,t=r)}return t=t.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+de(o,!0)+'">'+(i?t:de(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:de(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
`+t+`</blockquote>
`}html(t){return t}heading(t,e,i,o){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+o.slug(i)+'">'+t+"</h"+e+`>
`:"<h"+e+">"+t+"</h"+e+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,e,i){const o=e?"ol":"ul";return"<"+o+(e&&i!==1?' start="'+i+'"':"")+`>
`+t+"</"+o+`>
`}listitem(t){return"<li>"+t+`</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return"<p>"+t+`</p>
`}table(t,e){return e&&(e="<tbody>"+e+"</tbody>"),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
`+t+`</tr>
`}tablecell(t,e){const i=e.header?"th":"td";return(e.align?"<"+i+' align="'+e.align+'">':"<"+i+">")+t+"</"+i+`>
`}strong(t){return"<strong>"+t+"</strong>"}em(t){return"<em>"+t+"</em>"}codespan(t){return"<code>"+t+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return"<del>"+t+"</del>"}link(t,e,i){if((t=A_(this.options.sanitize,this.options.baseUrl,t))===null)return i;let o='<a href="'+de(t)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+i+"</a>",o}image(t,e,i){if((t=A_(this.options.sanitize,this.options.baseUrl,t))===null)return i;let o='<img src="'+t+'" alt="'+i+'"';return e&&(o+=' title="'+e+'"'),o+=this.options.xhtml?"/>":">",o}text(t){return t}}class M_{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,i){return""+i}image(t,e,i){return""+i}br(){return""}}class D_{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let i=t,o=0;if(this.seen.hasOwnProperty(i)){o=this.seen[t];do o++,i=t+"-"+o;while(this.seen.hasOwnProperty(i))}return e||(this.seen[t]=o,this.seen[i]=0),i}slug(t,e={}){const i=this.serialize(t);return this.getNextSafeSlug(i,e.dryrun)}}class sn{constructor(t){this.options=t||er,this.options.renderer=this.options.renderer||new ku,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new M_,this.slugger=new D_}static parse(t,e){return new sn(e).parse(t)}static parseInline(t,e){return new sn(e).parseInline(t)}parse(t,e=!0){let i,o,r,s,a,l,c,d,u,h,g,f,p,b,k,w,_,y,A,x="";const I=t.length;for(i=0;i<I;i++)if(h=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(A=this.options.extensions.renderers[h.type].call({parser:this},h),A!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))x+=A||"";else switch(h.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(h.tokens),h.depth,C_(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(d="",c="",s=h.header.length,o=0;o<s;o++)c+=this.renderer.tablecell(this.parseInline(h.header[o].tokens),{header:!0,align:h.align[o]});for(d+=this.renderer.tablerow(c),u="",s=h.rows.length,o=0;o<s;o++){for(l=h.rows[o],c="",a=l.length,r=0;r<a;r++)c+=this.renderer.tablecell(this.parseInline(l[r].tokens),{header:!1,align:h.align[r]});u+=this.renderer.tablerow(c)}x+=this.renderer.table(d,u);continue;case"blockquote":u=this.parse(h.tokens),x+=this.renderer.blockquote(u);continue;case"list":for(g=h.ordered,f=h.start,p=h.loose,s=h.items.length,u="",o=0;o<s;o++)k=h.items[o],w=k.checked,_=k.task,b="",k.task&&(y=this.renderer.checkbox(w),p?k.tokens.length>0&&k.tokens[0].type==="paragraph"?(k.tokens[0].text=y+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&k.tokens[0].tokens[0].type==="text"&&(k.tokens[0].tokens[0].text=y+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:y}):b+=y),b+=this.parse(k.tokens,p),u+=this.renderer.listitem(b,_,w);x+=this.renderer.list(u,g,f);continue;case"html":x+=this.renderer.html(h.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;i+1<I&&t[i+1].type==="text";)h=t[++i],u+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);x+=e?this.renderer.paragraph(u):u;continue;default:{const z='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(z);throw new Error(z)}}return x}parseInline(t,e){e=e||this.renderer;let i,o,r,s="";const a=t.length;for(i=0;i<a;i++)if(o=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(r=this.options.extensions.renderers[o.type].call({parser:this},o),r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))s+=r||"";else switch(o.type){case"escape":case"text":s+=e.text(o.text);break;case"html":s+=e.html(o.text);break;case"link":s+=e.link(o.href,o.title,this.parseInline(o.tokens,e));break;case"image":s+=e.image(o.href,o.title,o.text);break;case"strong":s+=e.strong(this.parseInline(o.tokens,e));break;case"em":s+=e.em(this.parseInline(o.tokens,e));break;case"codespan":s+=e.codespan(o.text);break;case"br":s+=e.br();break;case"del":s+=e.del(this.parseInline(o.tokens,e));break;default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(l);throw new Error(l)}}return s}}function X(n,t,e){if(n==null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof t=="function"&&(e=t,t=null),E_(t=bi({},X.defaults,t||{})),e){const i=t.highlight;let o;try{o=rn.lex(n,t)}catch(a){return e(a)}const r=function(a){let l;if(!a)try{t.walkTokens&&X.walkTokens(o,t.walkTokens),l=sn.parse(o,t)}catch(c){a=c}return t.highlight=i,a?e(a):e(null,l)};if(!i||i.length<3||(delete t.highlight,!o.length))return r();let s=0;return X.walkTokens(o,function(a){a.type==="code"&&(s++,setTimeout(()=>{i(a.text,a.lang,function(l,c){if(l)return r(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),s--,s===0&&r()})},0))}),void(s===0&&r())}try{const i=rn.lex(n,t);return t.walkTokens&&X.walkTokens(i,t.walkTokens),sn.parse(i,t)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+de(i.message+"",!0)+"</pre>";throw i}}X.options=X.setOptions=function(n){var t;return bi(X.defaults,n),t=X.defaults,er=t,X},X.getDefaults=JM,X.defaults=er,X.use=function(...n){const t=bi({},...n),e=X.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(o=>{if(o.extensions&&(i=!0,o.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const s=e.renderers?e.renderers[r.name]:null;e.renderers[r.name]=s?function(...a){let l=r.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[r.level]?e[r.level].unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}r.childTokens&&(e.childTokens[r.name]=r.childTokens)})),o.renderer){const r=X.defaults.renderer||new ku;for(const s in o.renderer){const a=r[s];r[s]=(...l)=>{let c=o.renderer[s].apply(r,l);return c===!1&&(c=a.apply(r,l)),c}}t.renderer=r}if(o.tokenizer){const r=X.defaults.tokenizer||new bu;for(const s in o.tokenizer){const a=r[s];r[s]=(...l)=>{let c=o.tokenizer[s].apply(r,l);return c===!1&&(c=a.apply(r,l)),c}}t.tokenizer=r}if(o.walkTokens){const r=X.defaults.walkTokens;t.walkTokens=function(s){o.walkTokens.call(this,s),r&&r.call(this,s)}}i&&(t.extensions=e),X.setOptions(t)})},X.walkTokens=function(n,t){for(const e of n)switch(t.call(X,e),e.type){case"table":for(const i of e.header)X.walkTokens(i.tokens,t);for(const i of e.rows)for(const o of i)X.walkTokens(o.tokens,t);break;case"list":X.walkTokens(e.items,t);break;default:X.defaults.extensions&&X.defaults.extensions.childTokens&&X.defaults.extensions.childTokens[e.type]?X.defaults.extensions.childTokens[e.type].forEach(function(i){X.walkTokens(e[i],t)}):e.tokens&&X.walkTokens(e.tokens,t)}},X.parseInline=function(n,t){if(n==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");E_(t=bi({},X.defaults,t||{}));try{const e=rn.lexInline(n,t);return t.walkTokens&&X.walkTokens(e,t.walkTokens),sn.parseInline(e,t)}catch(e){if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}},X.Parser=sn,X.parser=sn.parse,X.Renderer=ku,X.TextRenderer=M_,X.Lexer=rn,X.lexer=rn.lex,X.Tokenizer=bu,X.Slugger=D_,X.parse=X,X.options,X.setOptions,X.use,X.walkTokens,X.parseInline,sn.parse,rn.lex;class hD{constructor(){m(this,"_parser"),m(this,"_options",{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1}),X.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...t){return Object.getPrototypeOf(this).checkbox.call(this,...t).trimRight()},code(...t){return Object.getPrototypeOf(this).code.call(this,...t).replace(`
</code>`,"</code>")}}}),this._parser=X}parse(t){return this._parser.parse(t,this._options)}}function wu(n,t){return Array(t+1).join(n)}var mD=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function _u(n){return vu(n,mD)}var P_=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function L_(n){return vu(n,P_)}var B_=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function vu(n,t){return t.indexOf(n.nodeName)>=0}function N_(n,t){return n.getElementsByTagName&&t.some(function(e){return n.getElementsByTagName(e).length})}var Te={};function al(n){return n?n.replace(/(\n+\s*)+/g,`
`):""}function z_(n){for(var t in this.options=n,this._keep=[],this._remove=[],this.blankRule={replacement:n.blankReplacement},this.keepReplacement=n.keepReplacement,this.defaultRule={replacement:n.defaultReplacement},this.array=[],n.rules)this.array.push(n.rules[t])}function yu(n,t,e){for(var i=0;i<n.length;i++){var o=n[i];if(gD(o,t,e))return o}}function gD(n,t,e){var i=n.filter;if(typeof i=="string"){if(i===t.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if(typeof i!="function")throw new TypeError("`filter` needs to be a string, array, or function");if(i.call(n,t,e))return!0}}function Cu(n){var t=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),t}function O_(n,t,e){return n&&n.parentNode===t||e(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}Te.paragraph={filter:"p",replacement:function(n){return`

`+n+`

`}},Te.lineBreak={filter:"br",replacement:function(n,t,e){return e.br+`
`}},Te.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,t,e){var i=Number(t.nodeName.charAt(1));return e.headingStyle==="setext"&&i<3?`

`+n+`
`+wu(i===1?"=":"-",n.length)+`

`:`

`+wu("#",i)+" "+n+`

`}},Te.blockquote={filter:"blockquote",replacement:function(n){return`

`+(n=(n=n.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+`

`}},Te.list={filter:["ul","ol"],replacement:function(n,t){var e=t.parentNode;return e.nodeName==="LI"&&e.lastElementChild===t?`
`+n:`

`+n+`

`}},Te.listItem={filter:"li",replacement:function(n,t,e){n=n.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var i=e.bulletListMarker+"   ",o=t.parentNode;if(o.nodeName==="OL"){var r=o.getAttribute("start"),s=Array.prototype.indexOf.call(o.children,t);i=(r?Number(r)+s:s+1)+".  "}return i+n+(t.nextSibling&&!/\n$/.test(n)?`
`:"")}},Te.indentedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t,e){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},Te.fencedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t,e){for(var i,o=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],r=t.firstChild.textContent,s=e.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm");i=l.exec(r);)i[0].length>=a&&(a=i[0].length+1);var c=wu(s,a);return`

`+c+o+`
`+r.replace(/\n$/,"")+`
`+c+`

`}},Te.horizontalRule={filter:"hr",replacement:function(n,t,e){return`

`+e.hr+`

`}},Te.inlineLink={filter:function(n,t){return t.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,t){var e=t.getAttribute("href");e&&(e=e.replace(/([()])/g,"\\$1"));var i=al(t.getAttribute("title"));return i&&(i=' "'+i.replace(/"/g,'\\"')+'"'),"["+n+"]("+e+i+")"}},Te.referenceLink={filter:function(n,t){return t.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,t,e){var i,o,r=t.getAttribute("href"),s=al(t.getAttribute("title"));switch(s&&(s=' "'+s+'"'),e.linkReferenceStyle){case"collapsed":i="["+n+"][]",o="["+n+"]: "+r+s;break;case"shortcut":i="["+n+"]",o="["+n+"]: "+r+s;break;default:var a=this.references.length+1;i="["+n+"]["+a+"]",o="["+a+"]: "+r+s}return this.references.push(o),i},references:[],append:function(n){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}},Te.emphasis={filter:["em","i"],replacement:function(n,t,e){return n.trim()?e.emDelimiter+n+e.emDelimiter:""}},Te.strong={filter:["strong","b"],replacement:function(n,t,e){return n.trim()?e.strongDelimiter+n+e.strongDelimiter:""}},Te.code={filter:function(n){var t=n.previousSibling||n.nextSibling,e=n.parentNode.nodeName==="PRE"&&!t;return n.nodeName==="CODE"&&!e},replacement:function(n){if(!n)return"";n=n.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(n)?" ":"",e="`",i=n.match(/`+/gm)||[];i.indexOf(e)!==-1;)e+="`";return e+t+n+t+e}},Te.image={filter:"img",replacement:function(n,t){var e=al(t.getAttribute("alt")),i=t.getAttribute("src")||"",o=al(t.getAttribute("title"));return i?"!["+e+"]("+i+(o?' "'+o+'"':"")+")":""}},z_.prototype={add:function(n,t){this.array.unshift(t)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){return n.isBlank?this.blankRule:(t=yu(this.array,n,this.options))||(t=yu(this._keep,n,this.options))||(t=yu(this._remove,n,this.options))?t:this.defaultRule;var t},forEach:function(n){for(var t=0;t<this.array.length;t++)n(this.array[t],t)}};var Au=typeof window<"u"?window:{},R_,fD=function(){var n=Au.DOMParser,t=!1;try{new n().parseFromString("","text/html")&&(t=!0)}catch{}return t}()?Au.DOMParser:function(){var n=function(){};return function(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch{Au.ActiveXObject&&(t=!0)}return t}()?n.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:n.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e},n}();function pD(n,t){var e;return typeof n=="string"?e=(R_=R_||new fD).parseFromString('<x-turndown id="turndown-root">'+n+"</x-turndown>","text/html").getElementById("turndown-root"):e=n.cloneNode(!0),function(i){var o=i.element,r=i.isBlock,s=i.isVoid,a=i.isPre||function(f){return f.nodeName==="PRE"};if(o.firstChild&&!a(o)){for(var l=null,c=!1,d=null,u=O_(d,o,a);u!==o;){if(u.nodeType===3||u.nodeType===4){var h=u.data.replace(/[ \r\n\t]+/g," ");if(l&&!/ $/.test(l.data)||c||h[0]!==" "||(h=h.substr(1)),!h){u=Cu(u);continue}u.data=h,l=u}else{if(u.nodeType!==1){u=Cu(u);continue}r(u)||u.nodeName==="BR"?(l&&(l.data=l.data.replace(/ $/,"")),l=null,c=!1):s(u)||a(u)?(l=null,c=!0):l&&(c=!1)}var g=O_(d,u,a);d=u,u=g}l&&(l.data=l.data.replace(/ $/,""),l.data||Cu(l))}}({element:e,isBlock:_u,isVoid:L_,isPre:t.preformattedCode?bD:null}),e}function bD(n){return n.nodeName==="PRE"||n.nodeName==="CODE"}function kD(n,t){return n.isBlock=_u(n),n.isCode=n.nodeName==="CODE"||n.parentNode.isCode,n.isBlank=function(e){return!L_(e)&&!function(i){return vu(i,B_)}(e)&&/^\s*$/i.test(e.textContent)&&!function(i){return N_(i,P_)}(e)&&!function(i){return N_(i,B_)}(e)}(n),n.flankingWhitespace=function(e,i){if(e.isBlock||i.preformattedCode&&e.isCode)return{leading:"",trailing:""};var o=(r=e.textContent,s=r.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/),{leading:s[1],leadingAscii:s[2],leadingNonAscii:s[3],trailing:s[4],trailingNonAscii:s[5],trailingAscii:s[6]}),r,s;return o.leadingAscii&&V_("left",e,i)&&(o.leading=o.leadingNonAscii),o.trailingAscii&&V_("right",e,i)&&(o.trailing=o.trailingNonAscii),{leading:o.leading,trailing:o.trailing}}(n,t),n}function V_(n,t,e){var i,o,r;return n==="left"?(i=t.previousSibling,o=/ $/):(i=t.nextSibling,o=/^ /),i&&(i.nodeType===3?r=o.test(i.nodeValue):e.preformattedCode&&i.nodeName==="CODE"?r=!1:i.nodeType!==1||_u(i)||(r=o.test(i.textContent))),r}var wD=Array.prototype.reduce,_D=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function ll(n){if(!(this instanceof ll))return new ll(n);var t={rules:Te,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,i){return i.isBlock?`

`:""},keepReplacement:function(e,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(e,i){return i.isBlock?`

`+e+`

`:e}};this.options=function(e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e}({},t,n),this.rules=new z_(this.options)}function F_(n){var t=this;return wD.call(n.childNodes,function(e,i){var o="";return(i=new kD(i,t.options)).nodeType===3?o=i.isCode?i.nodeValue:t.escape(i.nodeValue):i.nodeType===1&&(o=yD.call(t,i)),j_(e,o)},"")}function vD(n){var t=this;return this.rules.forEach(function(e){typeof e.append=="function"&&(n=j_(n,e.append(t.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function yD(n){var t=this.rules.forNode(n),e=F_.call(this,n),i=n.flankingWhitespace;return(i.leading||i.trailing)&&(e=e.trim()),i.leading+t.replacement(e,n,this.options)+i.trailing}function j_(n,t){var e=function(r){for(var s=r.length;s>0&&r[s-1]===`
`;)s--;return r.substring(0,s)}(n),i=t.replace(/^\n*/,""),o=Math.max(n.length-e.length,t.length-i.length);return e+`

`.substring(0,o)+i}ll.prototype={turndown:function(n){if(!function(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var t=F_.call(this,new pD(n,this.options));return vD.call(this,t)},use:function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)this.use(n[t]);else{if(typeof n!="function")throw new TypeError("plugin must be a Function or an Array of Functions");n(this)}return this},addRule:function(n,t){return this.rules.add(n,t),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return _D.reduce(function(t,e){return t.replace(e[0],e[1])},n)}};var H_=/highlight-(?:text|source)-([a-z0-9]+)/;function CD(n){n.addRule("highlightedCodeBlock",{filter:function(t){var e=t.firstChild;return t.nodeName==="DIV"&&H_.test(t.className)&&e&&e.nodeName==="PRE"},replacement:function(t,e,i){var o=((e.className||"").match(H_)||[null,""])[1];return`

`+i.fence+o+`
`+e.firstChild.textContent+`
`+i.fence+`

`}})}function AD(n){n.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var xD=Array.prototype.indexOf,ED=Array.prototype.every,ir={};function xu(n){var t,e,i=n.parentNode;return i.nodeName==="THEAD"||i.firstChild===n&&(i.nodeName==="TABLE"||(e=(t=i).previousSibling,t.nodeName==="TBODY"&&(!e||e.nodeName==="THEAD"&&/^\s*$/i.test(e.textContent))))&&ED.call(n.childNodes,function(o){return o.nodeName==="TH"})}function U_(n,t){var e=" ";return xD.call(t.parentNode.childNodes,t)===0&&(e="| "),e+n+" |"}function TD(n){for(var t in n.keep(function(e){return e.nodeName==="TABLE"&&!xu(e.rows[0])}),ir)n.addRule(t,ir[t])}function SD(n){n.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}})}function ID(n){n.use([CD,AD,TD,SD])}ir.tableCell={filter:["th","td"],replacement:function(n,t){return U_(n,t)}},ir.tableRow={filter:"tr",replacement:function(n,t){var e="",i={left:":--",right:"--:",center:":-:"};if(xu(t))for(var o=0;o<t.childNodes.length;o++){var r="---",s=(t.childNodes[o].getAttribute("align")||"").toLowerCase();s&&(r=i[s]||r),e+=U_(r,t.childNodes[o])}return`
`+n+(e?`
`+e:"")}},ir.table={filter:function(n){return n.nodeName==="TABLE"&&xu(n.rows[0])},replacement:function(n){return`

`+(n=n.replace(`

`,`
`))+`

`}},ir.tableSection={filter:["thead","tbody","tfoot"],replacement:function(n){return n}};const MD=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");class DD extends ll{escape(t){const e=super.escape;function i(s){return s=(s=e(s)).replace(/</g,"\\<")}let o="",r=0;for(const s of this._matchAutolink(t)){const a=s.index;a>r&&(o+=i(t.substring(r,a)));const l=s[0];o+=l,r=a+l.length}return r<t.length&&(o+=i(t.substring(r,t.length))),o}*_matchAutolink(t){for(const e of t.matchAll(MD)){const i=e[0],o=this._autolinkFindEnd(i);yield Object.assign([i.substring(0,o)],{index:e.index})}}_autolinkFindEnd(t){let e=t.length;for(;e>0;){const i=t[e-1];if(`?!.,:*_~'"`.includes(i))e--;else{if(i!=")")break;{let o=0;for(let r=0;r<e;r++)t[r]=="("?o++:t[r]==")"&&o--;if(!(o<0))break;e--}}}return e}}class PD{constructor(){m(this,"_parser"),this._parser=this._createParser()}parse(t){return this._parser.turndown(t)}keep(t){this._parser.keep(t)}_createParser(){const t=new DD({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});return t.use([ID,this._todoList]),t}_todoList(t){t.addRule("taskListItems",{filter:e=>e.type==="checkbox"&&(e.parentNode.nodeName==="LI"||e.parentNode.parentNode.nodeName==="LI"),replacement:(e,i)=>(i.checked?"[x]":"[ ]")+" "})}}class $_{constructor(t){m(this,"_htmlDP"),m(this,"_markdown2html"),m(this,"_html2markdown"),this._htmlDP=new Lf(t),this._markdown2html=new hD,this._html2markdown=new PD}keepHtml(t){this._html2markdown.keep([t])}toView(t){const e=this._markdown2html.parse(t);return this._htmlDP.toView(e)}toData(t){const e=this._htmlDP.toData(t);return this._html2markdown.parse(e)}registerRawContentMatcher(t){this._htmlDP.registerRawContentMatcher(t)}useFillerType(){}}class LD extends C{constructor(t){super(t),t.data.processor=new $_(t.data.viewDocument)}static get pluginName(){return"Markdown"}static get isOfficialPlugin(){return!0}}const BD=["SPAN","BR","PRE","CODE"];class ND extends C{constructor(t){super(t),m(this,"_gfmDataProcessor"),this._gfmDataProcessor=new $_(t.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get isOfficialPlugin(){return!0}static get requires(){return[Ie]}init(){const t=this.editor,e=t.editing.view.document,i=t.plugins.get("ClipboardPipeline");let o=!1;this.listenTo(e,"keydown",(r,s)=>{o=s.shiftKey}),this.listenTo(i,"inputTransformation",(r,s)=>{if(o)return;const a=s.dataTransfer.getData("text/html");if(!a){const c=s.dataTransfer.getData("text/plain");return void(s.content=this._gfmDataProcessor.toView(c))}const l=this._parseMarkdownFromHtml(a);l&&(s.content=this._gfmDataProcessor.toView(l))})}_parseMarkdownFromHtml(t){const e=this._removeOsSpecificTags(t);if(!this._containsOnlyAllowedFirstLevelTags(e))return null;const i=this._removeFirstLevelWrapperTagsAndBrs(e);return this._containsAnyRemainingHtmlTags(i)?null:this._replaceHtmlReservedEntitiesWithCharacters(i)}_removeOsSpecificTags(t){return t.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(t){const e=new DOMParser,{body:i}=e.parseFromString(t,"text/html");return Array.from(i.children).map(o=>o.tagName).every(o=>BD.includes(o))}_removeFirstLevelWrapperTagsAndBrs(t){const e=new DOMParser,{body:i}=e.parseFromString(t,"text/html"),o=i.querySelectorAll("br");for(const s of o)s.replaceWith(`
`);const r=i.querySelectorAll(":scope > *");for(const s of r){const a=s.cloneNode(!0);s.replaceWith(...a.childNodes)}return i.innerHTML}_containsAnyRemainingHtmlTags(t){return t.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(t){return t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}function q_(n,t){const e=(i,o,r)=>{if(!r.consumable.consume(o.item,i.name))return;const s=o.attributeNewValue,a=r.writer,l=r.mapper.toViewElement(o.item),c=[...l.getChildren()].find(u=>u.getCustomProperty("media-content"));a.remove(c);const d=n.getMediaViewElement(a,s,t);a.insert(a.createPositionAt(l,0),d)};return i=>{i.on("attribute:url:media",e)}}function W_(n,t,e,i){return n.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(n,e,i),n.createSlot()])}function G_(n){const t=n.getSelectedElement();return t&&t.is("element","media")?t:null}function K_(n,t,e,i){n.change(o=>{const r=o.createElement("media",{url:t});n.insertObject(r,e,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}class zD extends q{refresh(){const t=this.editor.model,e=t.document.selection,i=G_(e);this.value=i?i.getAttribute("url"):void 0,this.isEnabled=function(o){const r=o.getSelectedElement();return!!r&&r.name==="media"}(e)||function(o,r){let s=Bd(o,r).start.parent;return s.isEmpty&&!r.schema.isLimit(s)&&(s=s.parent),r.schema.checkChild(s,"media")}(e,t)}execute(t){const e=this.editor.model,i=e.document.selection,o=G_(i);o?e.change(r=>{r.setAttribute("url",t,o)}):K_(e,t,i,!0)}}class OD{constructor(t,e){m(this,"locale"),m(this,"providerDefinitions");const i=e.providers,o=e.extraProviders||[],r=new Set(e.removeProviders),s=i.concat(o).filter(a=>{const l=a.name;return l?!r.has(l):(st("media-embed-no-provider-name",{provider:a}),!1)});this.locale=t,this.providerDefinitions=s}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,i){return this._getMedia(e).getViewElement(t,i)}_getMedia(t){if(!t)return new Y_(this.locale);t=t.trim();for(const e of this.providerDefinitions){const i=e.html,o=Dt(e.url);for(const r of o){const s=this._getUrlMatches(t,r);if(s)return new Y_(this.locale,t,s,i)}}return null}_getUrlMatches(t,e){let i=t.match(e);if(i)return i;let o=t.replace(/^https?:\/\//,"");return i=o.match(e),i||(o=o.replace(/^www\./,""),i=o.match(e),i||null)}}class Y_{constructor(t,e,i,o){m(this,"url"),m(this,"_locale"),m(this,"_match"),m(this,"_previewRenderer"),this.url=this._getValidUrl(e),this._locale=t,this._match=i,this._previewRenderer=o}getViewElement(t,e){const i={};let o;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),e.renderForEditingView&&(i.class="ck-media__wrapper");const r=this._getPreviewHtml(e);o=t.createRawElement("div",i,(s,a)=>{a.setContentOf(s,r)})}else this.url&&(i.url=this.url),o=t.createEmptyElement(e.elementName,i);return t.setCustomProperty("media-content",!0,o),o}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Ti,e=this._locale.t;return t.content=K2,t.viewBox="0 0 64 42",new ti({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}class cl extends C{constructor(t){super(t),m(this,"registry"),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:e=>{const i=e[1],o=e[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${i}${o?`?start=${o}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new OD(t.locale,t.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.t,o=t.conversion,r=t.config.get("mediaEmbed.previewsInData"),s=t.config.get("mediaEmbed.elementName"),a=this.registry;t.commands.add("mediaEmbed",new zD(t)),e.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),o.for("dataDowncast").elementToStructure({model:"media",view:(l,{writer:c})=>{const d=l.getAttribute("url");return W_(c,a,d,{elementName:s,renderMediaPreview:!!d&&r})}}),o.for("dataDowncast").add(q_(a,{elementName:s,renderMediaPreview:r})),o.for("editingDowncast").elementToStructure({model:"media",view:(l,{writer:c})=>{const d=l.getAttribute("url");return function(u,h,g){return h.setCustomProperty("media",!0,u),Va(u,h,{label:g})}(W_(c,a,d,{elementName:s,renderForEditingView:!0}),c,i("media widget"))}}),o.for("editingDowncast").add(q_(a,{elementName:s,renderForEditingView:!0})),o.for("upcast").elementToElement({view:l=>["oembed",s].includes(l.name)&&l.getAttribute("url")?{name:!0}:null,model:(l,{writer:c})=>{const d=l.getAttribute("url");return a.hasMedia(d)?c.createElement("media",{url:d}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(l,{writer:c})=>{const d=l.getAttribute("data-oembed-url");return a.hasMedia(d)?c.createElement("media",{url:d}):null}}).add(l=>{l.on("element:figure",(c,d,u)=>{if(!u.consumable.consume(d.viewItem,{name:!0,classes:"media"}))return;const{modelRange:h,modelCursor:g}=u.convertChildren(d.viewItem,d.modelCursor);d.modelRange=h,d.modelCursor=g,_t(h.getItems())||u.consumable.revert(d.viewItem,{name:!0,classes:"media"})})})}}const RD=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class VD extends C{constructor(t){super(t),m(this,"_timeoutId"),m(this,"_positionToInsert"),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[Rd,Di,Wd]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.document,i=t.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",()=>{const o=e.selection.getFirstRange(),r=Gt.fromPosition(o.start);r.stickiness="toPrevious";const s=Gt.fromPosition(o.end);s.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(r,s),r.detach(),s.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(L.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const i=this.editor,o=i.plugins.get(cl).registry,r=new Me(t,e),s=r.getWalker({ignoreElementEnd:!0});let a="";for(const l of s)l.item.is("$textProxy")&&(a+=l.item.data);if(a=a.trim(),!a.match(RD)||!o.hasMedia(a))return void r.detach();i.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Gt.fromPosition(t),this._timeoutId=L.window.setTimeout(()=>{i.model.change(l=>{this._timeoutId=null,l.remove(r),r.detach();let c=null;this._positionToInsert.root.rootName!=="$graveyard"&&(c=this._positionToInsert),K_(i.model,a,c,!1),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get(Di).requestUndoOnBackspace()},100)):r.detach()}}class FD extends P{constructor(t,e){super(e),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"urlInputView"),m(this,"_validators"),m(this,"_urlInputViewInfoDefault"),m(this,"_urlInputViewInfoTip"),this.focusTracker=new ht,this.keystrokes=new Tt,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),Fo({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new Si(this.locale,An),i=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,i.inputMode="url",i.on("input",()=>{e.infoText=i.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=i.element.value.trim()}),e}}class jD extends C{constructor(){super(...arguments),m(this,"_formView")}static get requires(){return[cl,Kr]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("mediaEmbed",()=>{const e=this.editor.locale.t,i=this._createDialogButton(V);return i.tooltip=!0,i.label=e("Insert media"),i}),t.ui.componentFactory.add("menuBar:mediaEmbed",()=>{const e=this.editor.locale.t,i=this._createDialogButton(xt);return i.label=e("Media"),i})}_createDialogButton(t){const e=this.editor,i=new t(e.locale),o=e.commands.get("mediaEmbed"),r=this.editor.plugins.get("Dialog");return i.icon=Y2,i.bind("isEnabled").to(o,"isEnabled"),i.on("execute",()=>{r.id==="mediaEmbed"?r.hide():this._showDialog()}),i}_showDialog(){const t=this.editor,e=t.plugins.get("Dialog"),i=t.commands.get("mediaEmbed"),o=t.locale.t,r=i.value!==void 0;if(!this._formView){const s=t.plugins.get(cl).registry;this._formView=new(Wr(FD))(function(a,l){return[c=>{if(!c.url.length)return a("The URL must not be empty.")},c=>{if(!l.hasMedia(c.url))return a("This media URL is not supported.")}]}(t.t,s),t.locale),this._formView.on("submit",()=>this._handleSubmitForm())}e.show({id:"mediaEmbed",title:o("Media embed"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=i.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:o("Cancel"),withText:!0,onExecute:()=>e.hide()},{label:o(r?"Save":"Insert"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const t=this.editor,e=t.plugins.get("Dialog");this._formView.isValid()&&(t.execute("mediaEmbed",this._formView.url),e.hide(),t.editing.view.focus())}}class HD extends C{static get requires(){return[cl,jD,VD,Zo]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}}const Z_={"(":")","[":"]","{":"}"};class UD extends q{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"mention")}execute(t){const e=this.editor.model,i=e.document.selection,o=typeof t.mention=="string"?{id:t.mention}:t.mention,r=o.id,s=t.range||i.getFirstRange();if(!e.canEditAt(s))return;const a=t.text||r,l=Q_({_text:a,id:r},o);if(!r.startsWith(t.marker))throw new v("mentioncommand-incorrect-id",this);e.change(c=>{const d=hi(i.getAttributes()),u=new Map(d.entries());u.set("mention",l);const h=e.insertContent(c.createText(a,u),s),g=h.start.nodeBefore,f=h.end.nodeAfter,p=f&&f.is("$text")&&f.data.startsWith(" ");let b=!1;if(g&&f&&g.is("$text")&&f.is("$text")){const k=g.data.slice(-1),w=k in Z_,_=w&&f.data.startsWith(Z_[k]);b=w&&_}b||p||e.insertContent(c.createText(" ",d),s.start.getShiftedBy(a.length))})}}class $D extends C{static get pluginName(){return"MentionEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model,i=e.document;e.schema.extend("$text",{allowAttributes:"mention"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",attributes:"data-mention",classes:"mention"},model:{key:"mention",value:o=>J_(o)}}),t.conversion.for("downcast").attributeToElement({model:"mention",view:WD}),t.conversion.for("downcast").add(qD),i.registerPostFixer(o=>function(r,s,a){const l=s.differ.getChanges();let c=!1;for(const d of l){if(d.type=="attribute")continue;const u=d.position;if(d.name=="$text"){const h=u.textNode&&u.textNode.nextSibling;c=ho(u.textNode,r)||c,c=ho(h,r)||c,c=ho(u.nodeBefore,r)||c,c=ho(u.nodeAfter,r)||c}if(d.name!="$text"&&d.type=="insert"){const h=u.nodeAfter;for(const g of r.createRangeIn(h).getItems())c=ho(g,r)||c}if(d.type=="insert"&&a.isInline(d.name)){const h=u.nodeAfter&&u.nodeAfter.nextSibling;c=ho(u.nodeBefore,r)||c,c=ho(h,r)||c}}return c}(o,i,e.schema)),i.registerPostFixer(o=>function(r,s){const a=s.differ.getChanges();let l=!1;for(const c of a)if(c.type==="attribute"&&c.attributeKey!="mention"){const d=c.range.start.nodeBefore,u=c.range.end.nodeAfter;for(const h of[d,u])X_(h)&&h.getAttribute(c.attributeKey)!=c.attributeNewValue&&(r.setAttribute(c.attributeKey,c.attributeNewValue,h),l=!0)}return l}(o,i)),i.registerPostFixer(o=>function(r,s){const a=s.selection,l=a.focus;return a.isCollapsed&&a.hasAttribute("mention")&&function(c){const d=c.isAtStart;return c.nodeBefore&&c.nodeBefore.is("$text")||d}(l)?(r.removeSelectionAttribute("mention"),!0):!1}(o,i)),t.commands.add("mention",new UD(t))}}function Q_(n,t){return Object.assign({uid:Ae()},n,t||{})}function J_(n,t){const e=n.getAttribute("data-mention"),i=n.getChild(0);if(i)return Q_({id:e,_text:i.data},t)}function qD(n){n.on("attribute:mention",(t,e,i)=>{const o=e.attributeNewValue;if(!e.item.is("$textProxy")||!o)return;const r=e.range.start;(r.textNode||r.nodeAfter).data!=o._text&&i.consumable.consume(e.item,t.name)},{priority:"highest"})}function WD(n,{writer:t}){if(!n)return;const e={class:"mention","data-mention":n.id},i={id:n.uid,priority:20};return t.createAttributeElement("span",e,i)}function X_(n){return!n||!n.is("$text")&&!n.is("$textProxy")||!n.hasAttribute("mention")?!1:n.data!=n.getAttribute("mention")._text}function ho(n,t){return!!X_(n)&&(t.removeAttribute("mention",n),!0)}class GD extends io{constructor(t){super(t),m(this,"selected"),m(this,"position"),this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const t=this.selected,e=this.items.getIndex(t);this.select(e+1)}selectPrevious(){const t=this.selected,e=this.items.getIndex(t);this.select(e-1)}select(t){let e=0;t>0&&t<this.items.length?e=t:t<0&&(e=this.items.length-1);const i=this.items.get(e);this.selected!==i&&(this.selected&&this.selected.removeHighlight(),i.highlight(),this.selected=i,this._isItemVisibleInScrolledArea(i)||(this.element.scrollTop=i.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(t){return new K(this.element).contains(new K(t.element))}}class KD extends P{constructor(t,e){super(t),m(this,"domElement"),this.template=void 0,this.domElement=e,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(i,o,r)=>{r?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}focus(){this.domElement.focus()}}class YD extends ii{constructor(){super(...arguments),m(this,"item"),m(this,"marker")}highlight(){this.children.first.isOn=!0}removeHighlight(){this.children.first.isOn=!1}}const ZD=[it.arrowup,it.arrowdown,it.esc],QD=[it.enter,it.tab];class JD extends C{constructor(t){super(t),m(this,"_mentionsView"),m(this,"_mentionsConfigurations"),m(this,"_balloon"),m(this,"_items",new ie),m(this,"_lastRequested"),m(this,"_requestFeedDebounced"),this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=di(this._requestFeed,100),t.config.define("mention",{feeds:[]})}static get pluginName(){return"MentionUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Mi]}init(){const t=this.editor,e=t.config.get("mention.commitKeys")||QD,i=ZD.concat(e);this._balloon=t.plugins.get(Mi),t.editing.view.document.on("keydown",(r,s)=>{var a;a=s.keyCode,i.includes(a)&&this._isUIVisible&&(s.preventDefault(),r.stop(),s.keyCode==it.arrowdown&&this._mentionsView.selectNext(),s.keyCode==it.arrowup&&this._mentionsView.selectPrevious(),e.includes(s.keyCode)&&this._mentionsView.executeSelected(),s.keyCode==it.esc&&this._hideUIAndRemoveMarker())},{priority:"highest"}),yn({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const o=t.config.get("mention.feeds");for(const r of o){const{feed:s,marker:a,dropdownLimit:l}=r;if(!e4(a))throw new v("mentionconfig-incorrect-marker",null,{marker:a});const c={marker:a,feedCallback:typeof s=="function"?s.bind(this.editor):t4(s),itemRenderer:r.itemRenderer,dropdownLimit:l};this._mentionsConfigurations.set(a,c)}this._setupTextWatcher(o),this.listenTo(t,"change:isReadOnly",()=>{this._hideUIAndRemoveMarker()}),this.on("requestFeed:response",(r,s)=>this._handleFeedResponse(s)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker())}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const t=this.editor.locale,e=new GD(t);return e.items.bindTo(this._items).using(i=>{const{item:o,marker:r}=i,{dropdownLimit:s}=this._mentionsConfigurations.get(r),a=s||this.editor.config.get("mention.dropdownLimit")||10;if(e.items.length>=a)return null;const l=new YD(t),c=this._renderItem(o,r);return c.delegate("execute").to(l),l.children.add(c),l.item=o,l.marker=r,l.on("execute",()=>{e.fire("execute",{item:o,marker:r})}),l}),e.on("execute",(i,o)=>{const r=this.editor,s=r.model,a=o.item,l=o.marker,c=r.model.markers.get("mention"),d=s.createPositionAt(s.document.selection.focus),u=s.createPositionAt(c.getStart()),h=s.createRange(u,d);this._hideUIAndRemoveMarker(),r.execute("mention",{mention:a,text:a.text,marker:l,range:h}),r.editing.view.focus()}),e}_getItemRenderer(t){const{itemRenderer:e}=this._mentionsConfigurations.get(t);return e}_requestFeed(t,e){this._lastRequested=e;const{feedCallback:i}=this._mentionsConfigurations.get(t),o=i(e);o instanceof Promise?o.then(r=>{this._lastRequested==e?this.fire("requestFeed:response",{feed:r,marker:t,feedText:e}):this.fire("requestFeed:discarded",{feed:r,marker:t,feedText:e})}).catch(r=>{this.fire("requestFeed:error",{error:r}),st("mention-feed-callback-error",{marker:t})}):this.fire("requestFeed:response",{feed:o,marker:t,feedText:e})}_setupTextWatcher(t){const e=this.editor,i=t.map(s=>({...s,pattern:e0(s.marker,s.minimumCharacters||0)})),o=new Xb(e.model,function(s){return a=>{const l=t0(s,a);if(!l)return!1;let c=0;l.position!==0&&(c=l.position-1);const d=a.substring(c);return l.pattern.test(d)}}(i));o.on("matched",(s,a)=>{const l=t0(i,a.text),c=e.model.document.selection.focus,d=e.model.createPositionAt(c.parent,l.position);if(function(b){const k=b.textNode&&b.textNode.hasAttribute("mention"),w=b.nodeBefore;return k||w&&w.is("$text")&&w.hasAttribute("mention")}(c)||function(b){const k=b.nodeAfter;return k&&k.is("$text")&&k.hasAttribute("mention")}(d))return void this._hideUIAndRemoveMarker();const u=function(b,k){let w=0;b.position!==0&&(w=b.position-1);const _=e0(b.marker,0);return k.substring(w).match(_)[2]}(l,a.text),h=l.marker.length+u.length,g=c.getShiftedBy(-h),f=c.getShiftedBy(-u.length),p=e.model.createRange(g,f);if(Eu(e)){const b=e.model.markers.get("mention");e.model.change(k=>{k.updateMarker(b,{range:p})})}else e.model.change(b=>{b.addMarker("mention",{range:p,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(l.marker,u)}),o.on("unmatched",()=>{this._hideUIAndRemoveMarker()});const r=e.commands.get("mention");return o.bind("isEnabled").to(r),o}_handleFeedResponse(t){const{feed:e,marker:i}=t;if(!Eu(this.editor))return;this._items.clear();for(const r of e){const s=typeof r!="object"?{id:r,text:r}:r;this._items.add({item:s,marker:i})}const o=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(o):this._hideUIAndRemoveMarker()}_showOrUpdateUI(t){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(t,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(t,this._mentionsView.position),singleViewMode:!0,balloonClassName:"ck-mention-balloon"}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),Eu(this.editor)&&this.editor.model.change(t=>t.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(t,e){const i=this.editor;let o,r=t.id;const s=this._getItemRenderer(e);if(s){const a=s(t);typeof a!="string"?o=new KD(i.locale,a):r=a}if(!o){const a=new V(i.locale);a.label=r,a.withText=!0,o=a}return o}_getBalloonPanelPositionData(t,e){const i=this.editor,o=i.editing,r=o.view.domConverter,s=o.mapper;return{target:()=>{let a=t.getRange();a.start.root.rootName=="$graveyard"&&(a=i.model.document.selection.getFirstRange());const l=s.toViewRange(a);return K.getDomRangeRects(r.viewRangeToDom(l)).pop()},limiter:()=>{const a=this.editor.editing.view,l=a.document.selection.editableElement;return l?a.domConverter.mapViewToDom(l.root):null},positions:XD(e,i.locale.uiLanguageDirection)}}}function XD(n,t){const e={caret_se:i=>({top:i.bottom+3,left:i.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(i,o)=>({top:i.top-o.height-3,left:i.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(i,o)=>({top:i.bottom+3,left:i.right-o.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(i,o)=>({top:i.top-o.height-3,left:i.right-o.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(e,n)?[e[n]]:t!=="rtl"?[e.caret_se,e.caret_sw,e.caret_ne,e.caret_nw]:[e.caret_sw,e.caret_se,e.caret_nw,e.caret_ne]}function t0(n,t){let e;for(const i of n){const o=t.lastIndexOf(i.marker);o>0&&!t.substring(o-1).match(i.pattern)||(!e||o>=e.position)&&(e={marker:i.marker,position:o,minimumCharacters:i.minimumCharacters,pattern:i.pattern})}return e}function e0(n,t){const e=t==0?"*":`{${t},}`,i=j.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`;return n=n.replace(/[.*+?^${}()\-|[\]\\]/g,"\\$&"),new RegExp(`(?:^|[ ${i}])(${n})(.${e})$`,"u")}function t4(n){return t=>n.filter(e=>(typeof e=="string"?e:String(e.id)).toLowerCase().includes(t.toLowerCase()))}function e4(n){return!!n}function Eu(n){return n.model.markers.has("mention")}class i4 extends C{toMentionAttribute(t,e){return J_(t,e)}static get pluginName(){return"Mention"}static get isOfficialPlugin(){return!0}static get requires(){return[$D,JD]}}function i0(n){return n!==void 0&&n.endsWith("px")}function nr(n){return n.toFixed(2).replace(/\.?0+$/,"")+"px"}function n4(n,t,e){if(!n.childCount)return;const i=new Ei(n.document),o=function(a,l){const c=l.createRangeIn(a),d=[],u=new Set;for(const h of c.getItems()){if(!h.is("element")||!h.name.match(/^(p|h\d+|li|div)$/))continue;let g=u4(h);if(g===void 0||parseFloat(g)!=0||Array.from(h.getClassNames()).find(f=>f.startsWith("MsoList"))||(g=void 0),h.hasStyle("mso-list")||g!==void 0&&u.has(g)){const f=c4(h);d.push({element:h,id:f.id,order:f.order,indent:f.indent,marginLeft:g}),g!==void 0&&u.add(g)}else u.clear()}return d}(n,i);if(!o.length)return;const r={},s=[];for(const a of o)if(a.indent!==void 0){o4(a)||(s.length=0);const l=`${a.id}:${a.indent}`,c=Math.min(a.indent-1,s.length);if(c<s.length&&s[c].id!==a.id&&(s.length=c),c<s.length-1)s.length=c+1;else{const u=s4(a,t);if(c>s.length-1||s[c].listElement.name!=u.type){c==0&&u.type=="ol"&&a.id!==void 0&&r[l]&&(u.startIndex=r[l]);const h=l4(u,i,e);if(i0(a.marginLeft)&&(c==0||i0(s[c-1].marginLeft))){let g=a.marginLeft;c>0&&(g=nr(parseFloat(g)-parseFloat(s[c-1].marginLeft))),i.setStyle("padding-left",g,h)}if(s.length==0){const g=a.element.parent,f=g.getChildIndex(a.element)+1;i.insertChild(f,h,g)}else{const g=s[c-1].listItemElements;i.appendChild(h,g[g.length-1])}s[c]={...a,listElement:h,listItemElements:[]},c==0&&a.id!==void 0&&(r[l]=u.startIndex||1)}}const d=a.element.name=="li"?a.element:i.createElement("li");i.appendChild(d,s[c].listElement),s[c].listItemElements.push(d),c==0&&a.id!==void 0&&r[l]++,a.element!=d&&i.appendChild(a.element,d),d4(a.element,i),i.removeStyle("text-indent",a.element),i.removeStyle("margin-left",a.element)}else{const l=s.find(c=>c.marginLeft==a.marginLeft);if(l){const c=l.listItemElements;i.appendChild(a.element,c[c.length-1]),i.removeStyle("margin-left",a.element)}else s.length=0}}function o4(n){const t=n.element.previousSibling;return r4(t||n.element.parent)}function r4(n){return n.is("element","ol")||n.is("element","ul")}function s4(n,t){const e=new RegExp(`@list l${n.id}:level${n.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,o=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,r=new RegExp(`@list\\s+l${n.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),s=new RegExp(`@list l${n.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=r.exec(t),l=s.exec(t),c=a&&!l,d=e.exec(t);let u="decimal",h="ol",g=null;if(d&&d[1]){const f=i.exec(d[1]);if(f&&f[1]&&(u=f[1].trim(),h=u!=="bullet"&&u!=="image"?"ol":"ul"),u==="bullet"){const p=function(b){if(b.name=="li"&&b.parent.name=="ul"&&b.parent.hasAttribute("type"))return b.parent.getAttribute("type");const k=function(_){if(_.getChild(0).is("$text"))return null;for(const y of _.getChildren()){if(!y.is("element","span"))continue;const A=y.getChild(0);if(A)return A.is("$text")?A:A.getChild(0)}return null}(b);if(!k)return null;const w=k._data;return w==="o"?"circle":w==="\xB7"?"disc":w==="\xA7"?"square":null}(n.element);p&&(u=p)}else{const p=o.exec(d[1]);p&&p[1]&&(g=parseInt(p[1]))}c&&(h="ol")}return{type:h,startIndex:g,style:a4(u),isLegalStyleList:c}}function a4(n){if(n.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(n){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return n;default:return null}}function l4(n,t,e){const i=t.createElement(n.type);return n.style&&t.setStyle("list-style-type",n.style,i),n.startIndex&&n.startIndex>1&&t.setAttribute("start",n.startIndex,i),n.isLegalStyleList&&e&&t.addClass("legal-list",i),i}function c4(n){const t=n.getStyle("mso-list");if(t===void 0)return{};const e=t.match(/(^|\s{1,100})l(\d+)/i),i=t.match(/\s{0,100}lfo(\d+)/i),o=t.match(/\s{0,100}level(\d+)/i);return e&&i&&o?{id:e[2],order:i[1],indent:parseInt(o[1])}:{indent:1}}function d4(n,t){const e=new qe({name:"span",styles:{"mso-list":"Ignore"}}),i=t.createRangeIn(n);for(const o of i)o.type==="elementStart"&&e.match(o.item)&&t.remove(o.item)}function u4(n){const t=n.getStyle("margin-left");return t===void 0||t.endsWith("px")?t:function(e){const i=parseFloat(e);return e.endsWith("pt")?nr(96*i/72):e.endsWith("pc")?nr(12*i*96/72):e.endsWith("in")?nr(96*i):e.endsWith("cm")?nr(96*i/2.54):e.endsWith("mm")?nr(i/10*96/2.54):e}(t)}function h4(n,t){if(!n.childCount)return;const e=new Ei(n.document),i=function(r,s){const a=s.createRangeIn(r),l=new qe({name:/v:(.+)/}),c=[];for(const d of a){if(d.type!="elementStart")continue;const u=d.item,h=u.previousSibling,g=h&&h.is("element")?h.name:null,f=["Chart"],p=l.match(u),b=u.getAttribute("o:gfxdata"),k=g==="v:shapetype",w=b&&f.some(_=>u.getAttribute("id").includes(_));p&&b&&!k&&!w&&c.push(d.item.getAttribute("id"))}return c}(n,e);(function(r,s,a){const l=a.createRangeIn(s),c=new qe({name:"img"}),d=[];for(const u of l)if(u.item.is("element")&&c.match(u.item)){const h=u.item,g=h.getAttribute("v:shapes")?h.getAttribute("v:shapes").split(" "):[];g.length&&g.every(f=>r.indexOf(f)>-1)?d.push(h):h.getAttribute("src")||d.push(h)}for(const u of d)a.remove(u)})(i,n,e),function(r,s,a){const l=a.createRangeIn(s),c=[];for(const h of l)if(h.type=="elementStart"&&h.item.is("element","v:shape")){const g=h.item.getAttribute("id");if(r.includes(g))continue;d(h.item.parent.getChildren(),g)||c.push(h.item)}for(const h of c){const g={src:u(h)};h.hasAttribute("alt")&&(g.alt=h.getAttribute("alt"));const f=a.createElement("img",g);a.insertChild(h.index+1,f,h.parent)}function d(h,g){for(const f of h)if(f.is("element")&&(f.name=="img"&&f.getAttribute("v:shapes")==g||d(f.getChildren(),g)))return!0;return!1}function u(h){for(const g of h.getChildren())if(g.is("element")&&g.getAttribute("src"))return g.getAttribute("src")}}(i,n,e),function(r,s){const a=s.createRangeIn(r),l=new qe({name:/v:(.+)/}),c=[];for(const d of a)d.type=="elementStart"&&l.match(d.item)&&c.push(d.item);for(const d of c)s.remove(d)}(n,e);const o=function(r,s){const a=s.createRangeIn(r),l=new qe({name:"img"}),c=[];for(const d of a)d.item.is("element")&&l.match(d.item)&&d.item.getAttribute("src").startsWith("file://")&&c.push(d.item);return c}(n,e);o.length&&function(r,s,a){if(r.length===s.length)for(let l=0;l<r.length;l++){const c=`data:${s[l].type};base64,${m4(s[l].hex)}`;a.setAttribute("src",c,r[l])}}(o,function(r){if(!r)return[];const s=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,a=new RegExp("(?:("+s.source+"))([\\da-fA-F\\s]+)\\}","g"),l=r.match(a),c=[];if(l)for(const d of l){let u=!1;d.includes("\\pngblip")?u="image/png":d.includes("\\jpegblip")&&(u="image/jpeg"),u&&c.push({hex:d.replace(s,"").replace(/[^\da-fA-F]/g,""),type:u})}return c}(t),e)}function m4(n){return btoa(n.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}const g4=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,f4=/xmlns:o="urn:schemas-microsoft-com/i;class p4{constructor(t,e=!1){m(this,"document"),m(this,"hasMultiLevelListPlugin"),this.document=t,this.hasMultiLevelListPlugin=e}isActive(t){return g4.test(t)||f4.test(t)}execute(t){const e=new Ei(this.document),{body:i,stylesString:o}=t._parsedData;(function(r,s){const a=[];for(const l of s.createRangeIn(r)){const c=l.item;c.is("element","a")&&!c.hasAttribute("href")&&(c.hasAttribute("id")||c.hasAttribute("name"))&&a.push(c)}for(const l of a){const c=l.parent.getChildIndex(l)+1,d=l.getChildren();s.insertChild(c,d,l.parent)}})(i,e),n4(i,o,this.hasMultiLevelListPlugin),h4(i,t.dataTransfer.getData("text/rtf")),function(r){const s=[],a=new Ei(r.document);for(const{item:l}of a.createRangeIn(r))if(l.is("element")){for(const c of l.getClassNames())/\bmso/gi.exec(c)&&a.removeClass(c,l);for(const c of l.getStyleNames())/\bmso/gi.exec(c)&&a.removeStyle(c,l);(l.is("element","w:sdt")||l.is("element","w:sdtpr")&&l.isEmpty||l.is("element","o:p")&&l.isEmpty)&&s.push(l)}for(const l of s){const c=l.parent,d=c.getChildIndex(l);a.insertChild(d,l.getChildren(),c),a.remove(l)}}(i),t.content=i}}function n0(n,t,e,{blockElements:i,inlineObjectElements:o}){let r=e.createPositionAt(n,t=="forward"?"after":"before");return r=r.getLastMatchingPosition(({item:s})=>s.is("element")&&!i.includes(s.name)&&!o.includes(s.name),{direction:t}),t=="forward"?r.nodeAfter:r.nodeBefore}function o0(n,t){return!!n&&n.is("element")&&t.includes(n.name)}const b4=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class k4{constructor(t){m(this,"document"),this.document=t}isActive(t){return b4.test(t)}execute(t){const e=new Ei(this.document),{body:i}=t._parsedData;(function(o,r){for(const s of o.getChildren())if(s.is("element","b")&&s.getStyle("font-weight")==="normal"){const a=o.getChildIndex(s);r.remove(s),r.insertChild(a,s.getChildren(),o)}})(i,e),function(o,r){for(const s of r.createRangeIn(o)){const a=s.item;if(a.is("element","li")){const l=a.getChild(0);l&&l.is("element","p")&&r.unwrapElement(l)}}}(i,e),function(o,r){const s=new la(r.document.stylesProcessor),a=new ua(s,{renderingMode:"data"}),l=a.blockElements,c=a.inlineObjectElements,d=[];for(const u of r.createRangeIn(o)){const h=u.item;if(h.is("element","br")){const g=n0(h,"forward",r,{blockElements:l,inlineObjectElements:c}),f=n0(h,"backward",r,{blockElements:l,inlineObjectElements:c}),p=o0(g,l);(o0(f,l)||p)&&d.push(h)}}for(const u of d)u.hasClass("Apple-interchange-newline")?r.remove(u):r.replace(u,r.createElement("p"))}(i,e),t.content=i}}const w4=/<google-sheets-html-origin/i;class _4{constructor(t){m(this,"document"),this.document=t}isActive(t){return w4.test(t)}execute(t){const e=new Ei(this.document),{body:i}=t._parsedData;(function(o,r){for(const s of o.getChildren())if(s.is("element","google-sheets-html-origin")){const a=o.getChildIndex(s);r.remove(s),r.insertChild(a,s.getChildren(),o)}})(i,e),function(o,r){for(const s of o.getChildren())s.is("element","table")&&s.hasAttribute("xmlns")&&r.removeAttribute("xmlns",s)}(i,e),function(o,r){for(const s of o.getChildren())s.is("element","table")&&s.getStyle("width")==="0px"&&r.removeStyle("width",s)}(i,e),function(o,r){for(const s of Array.from(o.getChildren()))s.is("element","style")&&r.remove(s)}(i,e),t.content=i}}function r0(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length===1?" ":Array(e.length+1).join("\xA0 ").substr(0,e.length))}function v4(n,t){const e=new DOMParser,i=function(l){return r0(r0(l)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(l){const c="</body>",d="</html>",u=l.indexOf(c);if(u<0)return l;const h=l.indexOf(d,u+c.length);return l.substring(0,u+c.length)+(h>=0?l.substring(h):"")}(n=(n=n.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),o=e.parseFromString(i,"text/html");(function(l){l.querySelectorAll("span[style*=spacerun]").forEach(c=>{const d=c,u=d.innerText.length||0;d.innerText=Array(u+1).join("\xA0 ").substr(0,u)})})(o);const r=o.body.innerHTML,s=function(l,c){const d=new la(c),u=new ua(d,{renderingMode:"data"}),h=l.createDocumentFragment(),g=l.body.childNodes;for(;g.length>0;)h.appendChild(g[0]);return u.domToView(h,{skipComments:!0})}(o,t),a=function(l){const c=[],d=[],u=Array.from(l.getElementsByTagName("style"));for(const h of u)h.sheet&&h.sheet.cssRules&&h.sheet.cssRules.length&&(c.push(h.sheet),d.push(h.innerHTML));return{styles:c,stylesString:d.join(" ")}}(o);return{body:s,bodyString:r,styles:a.styles,stylesString:a.stylesString}}class y4 extends C{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[Ie]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),i=t.editing.view.document,o=[],r=this.editor.plugins.has("MultiLevelList");o.push(new p4(i,r)),o.push(new k4(i)),o.push(new _4(i)),e.on("inputTransformation",(s,a)=>{if(a._isTransformedWithPasteFromOffice||t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const l=a.dataTransfer.getData("text/html"),c=o.find(d=>d.isActive(l));c&&(a._parsedData||(a._parsedData=v4(l,i.stylesProcessor)),c.execute(a),a._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}const dl="removeFormat";class C4 extends C{static get pluginName(){return"RemoveFormatUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add(dl,()=>{const e=this._createButton(V);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add(`menuBar:${dl}`,()=>this._createButton(xt))}_createButton(t){const e=this.editor,i=e.locale,o=e.commands.get(dl),r=new t(e.locale),s=i.t;return r.set({label:s("Remove Format"),icon:cE}),r.bind("isEnabled").to(o,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute(dl),e.editing.view.focus()}),r}}class A4 extends q{refresh(){const t=this.editor.model;this.isEnabled=!!_t(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change(i=>{for(const o of this._getFormattingItems(t.document.selection,e))if(o.is("selection"))for(const r of this._getFormattingAttributes(o,e))i.removeSelectionAttribute(r);else{const r=i.createRangeOn(o);for(const s of this._getFormattingAttributes(o,e))i.removeAttribute(s,r)}})}*_getFormattingItems(t,e){const i=o=>!!_t(this._getFormattingAttributes(o,e));for(const o of t.getRanges())for(const r of o.getItems())!e.isBlock(r)&&i(r)&&(yield r);for(const o of t.getSelectedBlocks())i(o)&&(yield o);i(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[i]of t.getAttributes()){const o=e.getAttributeProperties(i);o&&o.isFormatting&&(yield i)}}}class x4 extends C{static get pluginName(){return"RemoveFormatEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("removeFormat",new A4(t))}}class E4 extends C{static get requires(){return[x4,C4]}static get pluginName(){return"RemoveFormat"}static get isOfficialPlugin(){return!0}}class T4 extends P{constructor(t){super(t),m(this,"tiles"),m(this,"focusTracker"),m(this,"keystrokes"),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new ht,this.keystrokes=new Tt,Gr({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>L.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(t,e){const i=new V(this.locale);return i.set({label:t,withText:!0,class:"ck-character-grid__tile"}),i.extendTemplate({attributes:{title:e},on:{mouseover:i.bindTemplate.to("mouseover"),focus:i.bindTemplate.to("focus")}}),i.on("mouseover",()=>{this.fire("tileHover",{name:e,character:t})}),i.on("focus",()=>{this.fire("tileFocus",{name:e,character:t})}),i.on("execute",()=>{this.fire("execute",{name:e,character:t})}),i}render(){super.render();for(const t of this.tiles)this.focusTracker.add(t.element);this.tiles.on("change",(t,{added:e,removed:i})=>{if(e.length>0)for(const o of e)this.focusTracker.add(o.element);if(i.length>0)for(const o of i)this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class S4 extends P{constructor(t){super(t);const e=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",I4),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:e.to("name",i=>i||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:e.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function I4(n){return n===null?"":"U+"+("0000"+n.codePointAt(0).toString(16)).slice(-4)}class M4 extends P{constructor(t,e,i,o){super(t),m(this,"items"),m(this,"focusTracker"),m(this,"keystrokes"),m(this,"_focusCycler"),m(this,"categoriesView"),m(this,"gridView"),m(this,"infoView"),this.categoriesView=e,this.gridView=i,this.infoView=o,this.items=this.createCollection(),this.focusTracker=new ht,this.keystrokes=new Tt,this._focusCycler=new re({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class D4 extends P{constructor(t,e){super(t),m(this,"_groupNames"),m(this,"_dropdownView"),this.set("currentGroupName",Array.from(e.entries())[0][0]),this._groupNames=e,this._dropdownView=new Si(t,JE),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const t=new ie;for(const[i,o]of this._groupNames){const r={type:"button",model:new Zi({name:i,label:o,role:"menuitemradio",withText:!0})};r.model.bind("isOn").to(this,"currentGroupName",s=>s===i),t.add(r)}const e=(0,this.locale.t)("Category");this._dropdownView.set({label:e,isEmpty:!1}),this._dropdownView.fieldView.panelPosition=this.locale.uiLanguageDirection==="rtl"?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:e,ariaLabel:e,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",i=>this._groupNames.get(i)),this._dropdownView.fieldView.on("execute",({source:i})=>{this.currentGroupName=i.name}),Cn(this._dropdownView.fieldView,t,{ariaLabel:e,role:"menu"})}}const Tu="All";class P4 extends C{constructor(t){super(t),m(this,"_characters"),m(this,"_groups"),m(this,"_allSpecialCharactersGroupLabel");const e=t.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=e("All")}static get requires(){return[Da,Kr]}static get pluginName(){return"SpecialCharacters"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("specialCharacters",()=>{const e=this._createDialogButton(V);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:specialCharacters",()=>this._createDialogButton(xt))}addItems(t,e,i={label:t}){if(t===Tu)throw new v("special-character-invalid-group-name",null);const o=this._getGroup(t,i.label);for(const r of e)o.items.add(r.title),this._characters.set(r.title,r.character)}getGroups(){const t=Array.from(this._groups.keys()),e=this.editor.config.get("specialCharacters.order")||[],i=e.find(o=>!t.includes(o));if(i)throw new v("special-character-invalid-order-group-name",null,{invalidGroup:i});return new Set([...e,...t])}getCharactersForGroup(t){if(t===Tu)return new Set(this._characters.keys());const e=this._groups.get(t);return e?e.items:void 0}getCharacter(t){return this._characters.get(t)}_getGroup(t,e){return this._groups.has(t)||this._groups.set(t,{items:new Set,label:e}),this._groups.get(t)}_updateGrid(t,e){e.tiles.clear();const i=this.getCharactersForGroup(t);for(const o of i){const r=this.getCharacter(o);e.tiles.add(e.createTile(r,o))}}_createDropdownPanelContent(t){const e=Array.from(this.getGroups()).map(a=>[a,this._groups.get(a).label]),i=new Map([[Tu,this._allSpecialCharactersGroupLabel],...e]),o=new D4(t,i),r=new T4(t),s=new S4(t);return r.on("tileHover",(a,l)=>{s.set(l)}),r.on("tileFocus",(a,l)=>{s.set(l)}),o.on("change:currentGroupName",(a,l,c)=>{this._updateGrid(c,r)}),this._updateGrid(o.currentGroupName,r),{categoriesView:o,gridView:r,infoView:s}}_createDialogButton(t){const e=this.editor,i=e.locale,o=new t(e.locale),r=e.commands.get("insertText"),s=i.t,a=this.editor.plugins.get("Dialog");return o.set({label:s("Special characters"),icon:mE,isToggleable:!0}),o.bind("isOn").to(a,"id",l=>l==="specialCharacters"),o.bind("isEnabled").to(r,"isEnabled"),o.on("execute",()=>{a.id!=="specialCharacters"?this._showDialog():a.hide()}),o}_showDialog(){const t=this.editor,e=t.plugins.get("Dialog"),i=t.locale,o=i.t,{categoriesView:r,gridView:s,infoView:a}=this._createDropdownPanelContent(i),l=new M4(i,r,s,a);s.on("execute",(c,d)=>{t.execute("insertText",{text:d.character})}),e.show({id:"specialCharacters",title:o("Special characters"),className:"ck-special-characters",content:l,position:ei.EDITOR_TOP_SIDE})}}class s0 extends C{static get pluginName(){return"SpecialCharactersArrows"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Arrows",[{title:e("leftwards simple arrow"),character:"\u2190"},{title:e("rightwards simple arrow"),character:"\u2192"},{title:e("upwards simple arrow"),character:"\u2191"},{title:e("downwards simple arrow"),character:"\u2193"},{title:e("leftwards double arrow"),character:"\u21D0"},{title:e("rightwards double arrow"),character:"\u21D2"},{title:e("upwards double arrow"),character:"\u21D1"},{title:e("downwards double arrow"),character:"\u21D3"},{title:e("leftwards dashed arrow"),character:"\u21E0"},{title:e("rightwards dashed arrow"),character:"\u21E2"},{title:e("upwards dashed arrow"),character:"\u21E1"},{title:e("downwards dashed arrow"),character:"\u21E3"},{title:e("leftwards arrow to bar"),character:"\u21E4"},{title:e("rightwards arrow to bar"),character:"\u21E5"},{title:e("upwards arrow to bar"),character:"\u2912"},{title:e("downwards arrow to bar"),character:"\u2913"},{title:e("up down arrow with base"),character:"\u21A8"},{title:e("back with leftwards arrow above"),character:"\u{1F519}"},{title:e("end with leftwards arrow above"),character:"\u{1F51A}"},{title:e("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:e("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:e("top with upwards arrow above"),character:"\u{1F51D}"}],{label:e("Arrows")})}}class a0 extends C{static get pluginName(){return"SpecialCharactersText"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:e("Single left-pointing angle quotation mark")},{character:"\u203A",title:e("Single right-pointing angle quotation mark")},{character:"\xAB",title:e("Left-pointing double angle quotation mark")},{character:"\xBB",title:e("Right-pointing double angle quotation mark")},{character:"\u2018",title:e("Left single quotation mark")},{character:"\u2019",title:e("Right single quotation mark")},{character:"\u201C",title:e("Left double quotation mark")},{character:"\u201D",title:e("Right double quotation mark")},{character:"\u201A",title:e("Single low-9 quotation mark")},{character:"\u201E",title:e("Double low-9 quotation mark")},{character:"\xA1",title:e("Inverted exclamation mark")},{character:"\xBF",title:e("Inverted question mark")},{character:"\u2025",title:e("Two dot leader")},{character:"\u2026",title:e("Horizontal ellipsis")},{character:"\u2021",title:e("Double dagger")},{character:"\u2030",title:e("Per mille sign")},{character:"\u2031",title:e("Per ten thousand sign")},{character:"\u203C",title:e("Double exclamation mark")},{character:"\u2048",title:e("Question exclamation mark")},{character:"\u2049",title:e("Exclamation question mark")},{character:"\u2047",title:e("Double question mark")},{character:"\xA9",title:e("Copyright sign")},{character:"\xAE",title:e("Registered sign")},{character:"\u2122",title:e("Trade mark sign")},{character:"\xA7",title:e("Section sign")},{character:"\xB6",title:e("Paragraph sign")},{character:"\u204B",title:e("Reversed paragraph sign")}],{label:e("Text")})}}class l0 extends C{static get pluginName(){return"SpecialCharactersMathematical"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:e("Less-than sign")},{character:">",title:e("Greater-than sign")},{character:"\u2264",title:e("Less-than or equal to")},{character:"\u2265",title:e("Greater-than or equal to")},{character:"\u2013",title:e("En dash")},{character:"\u2014",title:e("Em dash")},{character:"\xAF",title:e("Macron")},{character:"\u203E",title:e("Overline")},{character:"\xB0",title:e("Degree sign")},{character:"\u2212",title:e("Minus sign")},{character:"\xB1",title:e("Plus-minus sign")},{character:"\xF7",title:e("Division sign")},{character:"\u2044",title:e("Fraction slash")},{character:"\xD7",title:e("Multiplication sign")},{character:"\u0192",title:e("Latin small letter f with hook")},{character:"\u222B",title:e("Integral")},{character:"\u2211",title:e("N-ary summation")},{character:"\u221E",title:e("Infinity")},{character:"\u221A",title:e("Square root")},{character:"\u223C",title:e("Tilde operator")},{character:"\u2245",title:e("Approximately equal to")},{character:"\u2248",title:e("Almost equal to")},{character:"\u2260",title:e("Not equal to")},{character:"\u2261",title:e("Identical to")},{character:"\u2208",title:e("Element of")},{character:"\u2209",title:e("Not an element of")},{character:"\u220B",title:e("Contains as member")},{character:"\u220F",title:e("N-ary product")},{character:"\u2227",title:e("Logical and")},{character:"\u2228",title:e("Logical or")},{character:"\xAC",title:e("Not sign")},{character:"\u2229",title:e("Intersection")},{character:"\u222A",title:e("Union")},{character:"\u2202",title:e("Partial differential")},{character:"\u2200",title:e("For all")},{character:"\u2203",title:e("There exists")},{character:"\u2205",title:e("Empty set")},{character:"\u2207",title:e("Nabla")},{character:"\u2217",title:e("Asterisk operator")},{character:"\u221D",title:e("Proportional to")},{character:"\u2220",title:e("Angle")},{character:"\xBC",title:e("Vulgar fraction one quarter")},{character:"\xBD",title:e("Vulgar fraction one half")},{character:"\xBE",title:e("Vulgar fraction three quarters")}],{label:e("Mathematical")})}}class c0 extends C{static get pluginName(){return"SpecialCharactersLatin"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:e("Latin capital letter a with macron")},{character:"\u0101",title:e("Latin small letter a with macron")},{character:"\u0102",title:e("Latin capital letter a with breve")},{character:"\u0103",title:e("Latin small letter a with breve")},{character:"\u0104",title:e("Latin capital letter a with ogonek")},{character:"\u0105",title:e("Latin small letter a with ogonek")},{character:"\u0106",title:e("Latin capital letter c with acute")},{character:"\u0107",title:e("Latin small letter c with acute")},{character:"\u0108",title:e("Latin capital letter c with circumflex")},{character:"\u0109",title:e("Latin small letter c with circumflex")},{character:"\u010A",title:e("Latin capital letter c with dot above")},{character:"\u010B",title:e("Latin small letter c with dot above")},{character:"\u010C",title:e("Latin capital letter c with caron")},{character:"\u010D",title:e("Latin small letter c with caron")},{character:"\u010E",title:e("Latin capital letter d with caron")},{character:"\u010F",title:e("Latin small letter d with caron")},{character:"\u0110",title:e("Latin capital letter d with stroke")},{character:"\u0111",title:e("Latin small letter d with stroke")},{character:"\u0112",title:e("Latin capital letter e with macron")},{character:"\u0113",title:e("Latin small letter e with macron")},{character:"\u0114",title:e("Latin capital letter e with breve")},{character:"\u0115",title:e("Latin small letter e with breve")},{character:"\u0116",title:e("Latin capital letter e with dot above")},{character:"\u0117",title:e("Latin small letter e with dot above")},{character:"\u0118",title:e("Latin capital letter e with ogonek")},{character:"\u0119",title:e("Latin small letter e with ogonek")},{character:"\u011A",title:e("Latin capital letter e with caron")},{character:"\u011B",title:e("Latin small letter e with caron")},{character:"\u011C",title:e("Latin capital letter g with circumflex")},{character:"\u011D",title:e("Latin small letter g with circumflex")},{character:"\u011E",title:e("Latin capital letter g with breve")},{character:"\u011F",title:e("Latin small letter g with breve")},{character:"\u0120",title:e("Latin capital letter g with dot above")},{character:"\u0121",title:e("Latin small letter g with dot above")},{character:"\u0122",title:e("Latin capital letter g with cedilla")},{character:"\u0123",title:e("Latin small letter g with cedilla")},{character:"\u0124",title:e("Latin capital letter h with circumflex")},{character:"\u0125",title:e("Latin small letter h with circumflex")},{character:"\u0126",title:e("Latin capital letter h with stroke")},{character:"\u0127",title:e("Latin small letter h with stroke")},{character:"\u0128",title:e("Latin capital letter i with tilde")},{character:"\u0129",title:e("Latin small letter i with tilde")},{character:"\u012A",title:e("Latin capital letter i with macron")},{character:"\u012B",title:e("Latin small letter i with macron")},{character:"\u012C",title:e("Latin capital letter i with breve")},{character:"\u012D",title:e("Latin small letter i with breve")},{character:"\u012E",title:e("Latin capital letter i with ogonek")},{character:"\u012F",title:e("Latin small letter i with ogonek")},{character:"\u0130",title:e("Latin capital letter i with dot above")},{character:"\u0131",title:e("Latin small letter dotless i")},{character:"\u0132",title:e("Latin capital ligature ij")},{character:"\u0133",title:e("Latin small ligature ij")},{character:"\u0134",title:e("Latin capital letter j with circumflex")},{character:"\u0135",title:e("Latin small letter j with circumflex")},{character:"\u0136",title:e("Latin capital letter k with cedilla")},{character:"\u0137",title:e("Latin small letter k with cedilla")},{character:"\u0138",title:e("Latin small letter kra")},{character:"\u0139",title:e("Latin capital letter l with acute")},{character:"\u013A",title:e("Latin small letter l with acute")},{character:"\u013B",title:e("Latin capital letter l with cedilla")},{character:"\u013C",title:e("Latin small letter l with cedilla")},{character:"\u013D",title:e("Latin capital letter l with caron")},{character:"\u013E",title:e("Latin small letter l with caron")},{character:"\u013F",title:e("Latin capital letter l with middle dot")},{character:"\u0140",title:e("Latin small letter l with middle dot")},{character:"\u0141",title:e("Latin capital letter l with stroke")},{character:"\u0142",title:e("Latin small letter l with stroke")},{character:"\u0143",title:e("Latin capital letter n with acute")},{character:"\u0144",title:e("Latin small letter n with acute")},{character:"\u0145",title:e("Latin capital letter n with cedilla")},{character:"\u0146",title:e("Latin small letter n with cedilla")},{character:"\u0147",title:e("Latin capital letter n with caron")},{character:"\u0148",title:e("Latin small letter n with caron")},{character:"\u0149",title:e("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:e("Latin capital letter eng")},{character:"\u014B",title:e("Latin small letter eng")},{character:"\u014C",title:e("Latin capital letter o with macron")},{character:"\u014D",title:e("Latin small letter o with macron")},{character:"\u014E",title:e("Latin capital letter o with breve")},{character:"\u014F",title:e("Latin small letter o with breve")},{character:"\u0150",title:e("Latin capital letter o with double acute")},{character:"\u0151",title:e("Latin small letter o with double acute")},{character:"\u0152",title:e("Latin capital ligature oe")},{character:"\u0153",title:e("Latin small ligature oe")},{character:"\u0154",title:e("Latin capital letter r with acute")},{character:"\u0155",title:e("Latin small letter r with acute")},{character:"\u0156",title:e("Latin capital letter r with cedilla")},{character:"\u0157",title:e("Latin small letter r with cedilla")},{character:"\u0158",title:e("Latin capital letter r with caron")},{character:"\u0159",title:e("Latin small letter r with caron")},{character:"\u015A",title:e("Latin capital letter s with acute")},{character:"\u015B",title:e("Latin small letter s with acute")},{character:"\u015C",title:e("Latin capital letter s with circumflex")},{character:"\u015D",title:e("Latin small letter s with circumflex")},{character:"\u015E",title:e("Latin capital letter s with cedilla")},{character:"\u015F",title:e("Latin small letter s with cedilla")},{character:"\u0160",title:e("Latin capital letter s with caron")},{character:"\u0161",title:e("Latin small letter s with caron")},{character:"\u0162",title:e("Latin capital letter t with cedilla")},{character:"\u0163",title:e("Latin small letter t with cedilla")},{character:"\u0164",title:e("Latin capital letter t with caron")},{character:"\u0165",title:e("Latin small letter t with caron")},{character:"\u0166",title:e("Latin capital letter t with stroke")},{character:"\u0167",title:e("Latin small letter t with stroke")},{character:"\u0168",title:e("Latin capital letter u with tilde")},{character:"\u0169",title:e("Latin small letter u with tilde")},{character:"\u016A",title:e("Latin capital letter u with macron")},{character:"\u016B",title:e("Latin small letter u with macron")},{character:"\u016C",title:e("Latin capital letter u with breve")},{character:"\u016D",title:e("Latin small letter u with breve")},{character:"\u016E",title:e("Latin capital letter u with ring above")},{character:"\u016F",title:e("Latin small letter u with ring above")},{character:"\u0170",title:e("Latin capital letter u with double acute")},{character:"\u0171",title:e("Latin small letter u with double acute")},{character:"\u0172",title:e("Latin capital letter u with ogonek")},{character:"\u0173",title:e("Latin small letter u with ogonek")},{character:"\u0174",title:e("Latin capital letter w with circumflex")},{character:"\u0175",title:e("Latin small letter w with circumflex")},{character:"\u0176",title:e("Latin capital letter y with circumflex")},{character:"\u0177",title:e("Latin small letter y with circumflex")},{character:"\u0178",title:e("Latin capital letter y with diaeresis")},{character:"\u0179",title:e("Latin capital letter z with acute")},{character:"\u017A",title:e("Latin small letter z with acute")},{character:"\u017B",title:e("Latin capital letter z with dot above")},{character:"\u017C",title:e("Latin small letter z with dot above")},{character:"\u017D",title:e("Latin capital letter z with caron")},{character:"\u017E",title:e("Latin small letter z with caron")},{character:"\u017F",title:e("Latin small letter long s")}],{label:e("Latin")})}}class d0 extends C{static get pluginName(){return"SpecialCharactersCurrency"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:e("Dollar sign")},{character:"\u20AC",title:e("Euro sign")},{character:"\xA5",title:e("Yen sign")},{character:"\xA3",title:e("Pound sign")},{character:"\xA2",title:e("Cent sign")},{character:"\u20A0",title:e("Euro-currency sign")},{character:"\u20A1",title:e("Colon sign")},{character:"\u20A2",title:e("Cruzeiro sign")},{character:"\u20A3",title:e("French franc sign")},{character:"\u20A4",title:e("Lira sign")},{character:"\xA4",title:e("Currency sign")},{character:"\u20BF",title:e("Bitcoin sign")},{character:"\u20A5",title:e("Mill sign")},{character:"\u20A6",title:e("Naira sign")},{character:"\u20A7",title:e("Peseta sign")},{character:"\u20A8",title:e("Rupee sign")},{character:"\u20A9",title:e("Won sign")},{character:"\u20AA",title:e("New sheqel sign")},{character:"\u20AB",title:e("Dong sign")},{character:"\u20AD",title:e("Kip sign")},{character:"\u20AE",title:e("Tugrik sign")},{character:"\u20AF",title:e("Drachma sign")},{character:"\u20B0",title:e("German penny sign")},{character:"\u20B1",title:e("Peso sign")},{character:"\u20B2",title:e("Guarani sign")},{character:"\u20B3",title:e("Austral sign")},{character:"\u20B4",title:e("Hryvnia sign")},{character:"\u20B5",title:e("Cedi sign")},{character:"\u20B6",title:e("Livre tournois sign")},{character:"\u20B7",title:e("Spesmilo sign")},{character:"\u20B8",title:e("Tenge sign")},{character:"\u20B9",title:e("Indian rupee sign")},{character:"\u20BA",title:e("Turkish lira sign")},{character:"\u20BB",title:e("Nordic mark sign")},{character:"\u20BC",title:e("Manat sign")},{character:"\u20BD",title:e("Ruble sign")}],{label:e("Currency")})}}class L4 extends C{static get pluginName(){return"SpecialCharactersEssentials"}static get isOfficialPlugin(){return!0}static get requires(){return[d0,a0,l0,s0,c0]}}function B4(n,t){const{modelAttribute:e,styleName:i,viewElement:o,defaultValue:r,reduceBoxSides:s=!1,shouldUpcast:a=()=>!0}=t;n.for("upcast").attributeToAttribute({view:{name:o,styles:{[i]:/[\s\S]+/}},model:{key:e,value:(l,c,d)=>{if(!a(l))return;const u=z4(r,"",d),h=l.getNormalizedStyle(i),g=s?O4(h):h;return u!==g?g:void 0}}})}function N4(n,t){const{modelElement:e,modelAttribute:i,styleName:o}=t;n.for("downcast").attributeToAttribute({model:{name:e,key:i},view:r=>({key:"style",value:{[o]:r}})})}function z4(n,t,e){const i=e.modelRange&&_t(e.modelRange.getItems({shallow:!0})),o=i&&i.is("element")&&i.findAncestor("table",{includeSelf:!0});return o&&o.getAttribute("tableType")==="layout"?t:n}function O4(n){if(!n)return;const t=["top","right","bottom","left"];if(!t.every(i=>n[i]))return n;const e=n.top;return t.every(i=>n[i]===e)?e:n}function Yt(n,t,e,i,o=1){t!=null&&o!=null&&t>o?i.setAttribute(n,t,e):i.removeAttribute(n,e)}function mo(n,t,e={}){const i=n.createElement("tableCell",e);return n.insertElement("paragraph",i),n.insert(i,t),i}function Su(n,t){const e=t.parent.parent,i=parseInt(e.getAttribute("headingColumns")||"0"),{column:o}=n.getCellLocation(t);return!!i&&o<i}function R4(n,t,e){const{modelAttribute:i}=e;n.extend("tableCell",{allowAttributes:[i]}),B4(t,{viewElement:/^(td|th)$/,...e}),N4(t,{modelElement:"tableCell",...e})}function V4(n){const t=n.getSelectedElement();return t&&t.is("element","table")?t:n.getFirstPosition().findAncestor("table")}function F4(){return n=>{n.on("element:table",(t,e,i)=>{const o=e.viewItem;if(!i.consumable.test(o,{name:!0}))return;const{rows:r,headingRows:s,headingColumns:a}=function(d){let u,h=0;const g=[],f=[];let p;for(const b of Array.from(d.getChildren())){if(b.name!=="tbody"&&b.name!=="thead"&&b.name!=="tfoot")continue;b.name!=="thead"||p||(p=b);const k=Array.from(b.getChildren()).filter(_=>_.is("element","tr"));let w=null;for(const _ of k){const y=Array.from(_.getChildren()).filter(A=>A.is("element","td")||A.is("element","th"));if(p&&b===p||b.name==="tbody"&&y.length>0&&(w===null||y.length===w)&&y.every(A=>A.is("element","th")))h++,g.push(_);else{f.push(_);const A=j4(_);(!u||A<u)&&(u=A)}w=Math.max(w||0,y.length)}}return{headingRows:h,headingColumns:u||0,rows:[...g,...f]}}(o),l={};a&&(l.headingColumns=a),s&&(l.headingRows=s);const c=i.writer.createElement("table",l);if(i.safeInsert(c,e.modelCursor)){if(i.consumable.consume(o,{name:!0}),r.forEach(d=>i.convertItem(d,i.writer.createPositionAt(c,"end"))),i.convertChildren(o,i.writer.createPositionAt(c,"end")),c.isEmpty){const d=i.writer.createElement("tableRow");i.writer.insert(d,i.writer.createPositionAt(c,"end")),mo(i.writer,i.writer.createPositionAt(d,"end"))}i.updateConversionResult(c,e)}})}}function u0(n){return t=>{t.on(`element:${n}`,(e,i,{writer:o})=>{if(!i.modelRange)return;const r=i.modelRange.start.nodeAfter,s=o.createPositionAt(r,0);if(i.viewItem.isEmpty)return void o.insertElement("paragraph",s);const a=Array.from(r.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=o.createElement("paragraph");o.insert(l,o.createPositionAt(r,0));for(const c of a)o.move(o.createRangeOn(c),o.createPositionAt(l,"end"))}},{priority:"low"})}}function j4(n){let t=0,e=0;const i=Array.from(n.getChildren()).filter(o=>o.name==="th"||o.name==="td");for(;e<i.length&&i[e].name==="th";){const o=i[e];t+=parseInt(o.getAttribute("colspan")||"1"),e++}return t}class vt{constructor(t,e={}){m(this,"_table"),m(this,"_startRow"),m(this,"_endRow"),m(this,"_startColumn"),m(this,"_endColumn"),m(this,"_includeAllSlots"),m(this,"_skipRows"),m(this,"_row"),m(this,"_rowIndex"),m(this,"_column"),m(this,"_cellIndex"),m(this,"_spannedCells"),m(this,"_nextCellAtColumn"),m(this,"_jumpedToStartRow",!1),this._table=t,this._startRow=e.row!==void 0?e.row:e.startRow||0,this._endRow=e.row!==void 0?e.row:e.endRow,this._startColumn=e.column!==void 0?e.column:e.startColumn||0,this._endColumn=e.column!==void 0?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(i.cell,i.row,i.column));else{const o=t.getChild(this._cellIndex);if(!o)return this._advanceToNextRow();const r=parseInt(o.getAttribute("colspan")||"1"),s=parseInt(o.getAttribute("rowspan")||"1");(r>1||s>1)&&this._recordSpans(o,s,r),this._shouldSkipSlot()||(e=this._formatOutValue(o)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,e=this._row,i=this._column){return{done:!1,value:new H4(this,t,e,i)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,i=this._column<this._startColumn,o=this._endColumn!==void 0&&this._column>this._endColumn;return t||e||i||o}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,i){const o={cell:t,row:this._row,column:this._column};for(let r=this._row;r<this._row+e;r++)for(let s=this._column;s<this._column+i;s++)r==this._row&&s==this._column||this._markSpannedCell(r,s,o)}_markSpannedCell(t,e,i){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let e=this._startRow;!this._jumpedToStartRow;e--)t===this._getRowLength(e)&&(this._row=e,this._rowIndex=e,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce((e,i)=>e+parseInt(i.getAttribute("colspan")||"1"),0)}}class H4{constructor(t,e,i,o){m(this,"cell"),m(this,"row"),m(this,"column"),m(this,"cellAnchorRow"),m(this,"cellAnchorColumn"),m(this,"_cellIndex"),m(this,"_rowIndex"),m(this,"_table"),this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=i,this.cellAnchorColumn=o,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function h0(n,t){return(e,{writer:i})=>{const o=e.getAttribute("headingRows")||0,r=i.createContainerElement("table",null,[]),s=i.createContainerElement("figure",{class:"table"},r);o>0&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("thead",null,i.createSlot(a=>a.is("element","tableRow")&&a.index<o))),o<n.getRows(e)&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("tbody",null,i.createSlot(a=>a.is("element","tableRow")&&a.index>=o)));for(const{positionOffset:a,filter:l}of t.additionalSlots)i.insert(i.createPositionAt(r,a),i.createSlot(l));return i.insert(i.createPositionAt(r,"after"),i.createSlot(a=>!a.is("element","tableRow")&&!t.additionalSlots.some(({filter:l})=>l(a)))),t.asWidget?function(a,l){return l.setCustomProperty("table",!0,a),Va(a,l,{hasSelectionHandle:!0})}(s,i):s}}function m0(n={}){return(t,{writer:e})=>{const i=t.parent,o=i.parent,r=o.getChildIndex(i),s=new vt(o,{row:r}),a=o.getAttribute("headingRows")||0,l=o.getAttribute("headingColumns")||0;let c=null;for(const d of s)if(d.cell==t){const u=d.row<a||d.column<l?"th":"td";c=n.asWidget?mk(e.createEditableElement(u),e,{withAriaRole:!1}):e.createContainerElement(u);break}return c}}function g0(n={}){return(t,{writer:e})=>{if(!t.parent.is("element","tableCell")||!f0(t))return null;if(n.asWidget)return e.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=e.createContainerElement("p");return e.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function f0(n){return n.parent.childCount==1&&!function(t){for(const e of t.getAttributeKeys())if(!e.startsWith("selection:")&&e!="htmlEmptyBlock")return!0;return!1}(n)}class U4 extends q{refresh(){const t=this.editor.model,e=t.document.selection,i=t.schema;this.isEnabled=function(o,r){const s=o.getFirstPosition().parent,a=s===s.root?s:s.parent;return r.checkChild(a,"table")}(e,i)}execute(t={}){const e=this.editor,i=e.model,o=e.plugins.get("TableUtils"),r=e.config.get("table.defaultHeadings.rows"),s=e.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&r&&(t.headingRows=r),t.headingColumns===void 0&&s&&(t.headingColumns=s),i.change(a=>{const l=o.createTable(a,t);i.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}class p0 extends q{constructor(t,e={}){super(t),m(this,"order"),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,i=t.plugins.get("TableUtils"),o=this.order==="above",r=i.getSelectionAffectedTableCells(e),s=i.getRowIndexes(r),a=o?s.first:s.last,l=r[0].findAncestor("table");i.insertRows(l,{at:o?a:a+1,copyStructureFromAbove:!o})}}class b0 extends q{constructor(t,e={}){super(t),m(this,"order"),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,i=t.plugins.get("TableUtils"),o=this.order==="left",r=i.getSelectionAffectedTableCells(e),s=i.getColumnIndexes(r),a=o?s.first:s.last,l=r[0].findAncestor("table");i.insertColumns(l,{columns:1,at:o?a:a+1})}}class k0 extends q{constructor(t,e={}){super(t),m(this,"direction"),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function w0(n,t,e){const{startRow:i,startColumn:o,endRow:r,endColumn:s}=t,a=e.createElement("table"),l=n.getAttribute("tableType");l&&e.setAttribute("tableType",l,a);const c=r-i+1;for(let u=0;u<c;u++)e.insertElement("tableRow",a,"end");const d=[...new vt(n,{startRow:i,endRow:r,startColumn:o,endColumn:s,includeAllSlots:!0})];for(const{row:u,column:h,cell:g,isAnchor:f,cellAnchorRow:p,cellAnchorColumn:b}of d){const k=u-i,w=a.getChild(k);if(f){const _=e.cloneElement(g);e.append(_,w),A0(_,u,h,r,s,e)}else(p<i||b<o)&&mo(e,e.createPositionAt(w,"end"))}return function(u,h,g,f,p){const b=parseInt(h.getAttribute("headingRows")||"0");b>0&&Yt("headingRows",b-g,u,p,0);const k=parseInt(h.getAttribute("headingColumns")||"0");k>0&&Yt("headingColumns",k-f,u,p,0)}(a,n,i,o,e),a}function _0(n,t,e=0){const i=[],o=new vt(n,{startRow:e,endRow:t-1});for(const r of o){const{row:s,cellHeight:a}=r;s<t&&t<=s+a-1&&i.push(r)}return i}function v0(n,t,e){const i=n.parent,o=i.parent,r=i.index,s=t-r,a={},l=parseInt(n.getAttribute("rowspan"))-s;l>1&&(a.rowspan=l);const c=parseInt(n.getAttribute("colspan")||"1");c>1&&(a.colspan=c);const d=r+s,u=[...new vt(o,{startRow:r,endRow:d,includeAllSlots:!0})];let h,g=null;for(const f of u){const{row:p,column:b,cell:k}=f;k===n&&h===void 0&&(h=b),h!==void 0&&h===b&&p===d&&(g=mo(e,f.getPositionBefore(),a))}return Yt("rowspan",s,n,e),g}function y0(n,t){const e=[],i=new vt(n);for(const o of i){const{column:r,cellWidth:s}=o;r<t&&t<=r+s-1&&e.push(o)}return e}function C0(n,t,e,i){const o=e-t,r={},s=parseInt(n.getAttribute("colspan"))-o;s>1&&(r.colspan=s);const a=parseInt(n.getAttribute("rowspan")||"1");a>1&&(r.rowspan=a);const l=mo(i,i.createPositionAfter(n),r);return Yt("colspan",o,n,i),l}function A0(n,t,e,i,o,r){const s=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");e+s-1>o&&Yt("colspan",o-e+1,n,r,1),t+a-1>i&&Yt("rowspan",i-t+1,n,r,1)}function Iu(n,t){const e=t.getColumns(n),i=new Array(e).fill(0);for(const{column:r}of new vt(n))i[r]++;const o=i.reduce((r,s,a)=>s?r:[...r,a],[]);if(o.length>0){const r=o[o.length-1];return t.removeColumns(n,{at:r}),!0}return!1}function Mu(n,t){const e=[],i=t.getRows(n);for(let o=0;o<i;o++)n.getChild(o).isEmpty&&e.push(o);if(e.length>0){const o=e[e.length-1];return t.removeRows(n,{at:o}),!0}return!1}function Du(n,t){Iu(n,t)||Mu(n,t)}function x0(n,t){const e=Array.from(new vt(n,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(e.every(({cellHeight:o})=>o===1))return t.lastRow;const i=e[0].cellHeight-1;return t.lastRow+i}function E0(n,t){const e=Array.from(new vt(n,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(e.every(({cellWidth:o})=>o===1))return t.lastColumn;const i=e[0].cellWidth-1;return t.lastColumn+i}class ul extends q{constructor(t,e){super(t),m(this,"direction"),m(this,"isHorizontal"),this.direction=e.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],o=this.value,r=this.direction;t.change(s=>{const a=r=="right"||r=="down",l=a?i:o,c=a?o:i,d=c.parent;(function(p,b,k){T0(p)||(T0(b)&&k.remove(k.createRangeIn(b)),k.move(k.createRangeIn(p),k.createPositionAt(b,"end"))),k.remove(p)})(c,l,s);const u=this.isHorizontal?"colspan":"rowspan",h=parseInt(i.getAttribute(u)||"1"),g=parseInt(o.getAttribute(u)||"1");s.setAttribute(u,h+g,l),s.setSelection(s.createRangeIn(l));const f=this.editor.plugins.get("TableUtils");Du(d.findAncestor("table"),f)})}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),i=e.getTableCellsContainingSelection(t.selection)[0];if(!i)return;const o=this.isHorizontal?function(a,l,c){const d=a.parent,u=d.parent,h=l=="right"?a.nextSibling:a.previousSibling,g=(u.getAttribute("headingColumns")||0)>0;if(!h)return;const f=l=="right"?a:h,p=l=="right"?h:a,{column:b}=c.getCellLocation(f),{column:k}=c.getCellLocation(p),w=parseInt(f.getAttribute("colspan")||"1"),_=Su(c,f),y=Su(c,p);if(!(g&&_!=y))return b+w===k?h:void 0}(i,this.direction,e):function(a,l,c){const d=a.parent,u=d.parent,h=u.getChildIndex(d);if(l=="down"&&h===c.getRows(u)-1||l=="up"&&h===0)return null;const g=parseInt(a.getAttribute("rowspan")||"1"),f=u.getAttribute("headingRows")||0,p=l=="down"&&h+g===f,b=l=="up"&&h===f;if(f&&(p||b))return null;const k=parseInt(a.getAttribute("rowspan")||"1"),w=l=="down"?h+k:h,_=[...new vt(u,{endRow:w})],y=_.find(I=>I.cell===a),A=y.column,x=_.find(({row:I,cellHeight:z,column:Y})=>Y===A&&(l=="down"?I===w:w===I+z));return x&&x.cell?x.cell:null}(i,this.direction,e);if(!o)return;const r=this.isHorizontal?"rowspan":"colspan",s=parseInt(i.getAttribute(r)||"1");return parseInt(o.getAttribute(r)||"1")===s?o:void 0}}function T0(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class $4 extends q{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),i=e[0];if(i){const o=i.findAncestor("table"),r=t.getRows(o)-1,s=t.getRowIndexes(e),a=s.first===0&&s.last===r;this.isEnabled=!a}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(i),r=i[0],s=r.findAncestor("table"),a=e.getCellLocation(r).column;t.change(l=>{const c=o.last-o.first+1;e.removeRows(s,{at:o.first,rows:c});const d=function(u,h,g,f){const p=u.getChild(Math.min(h,f-1));let b=p.getChild(0),k=0;for(const w of p.getChildren()){if(k>g)return b;b=w,k+=parseInt(w.getAttribute("colspan")||"1")}return b}(s,o.first,a,e.getRows(s));l.setSelection(l.createPositionAt(d,0))})}}class q4 extends q{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),i=e[0];if(i){const o=i.findAncestor("table"),r=t.getColumns(o),{first:s,last:a}=t.getColumnIndexes(e);this.isEnabled=a-s<r-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,i]=function(l,c){const d=c.getSelectionAffectedTableCells(l),u=d[0],h=d.pop(),g=[u,h];return u.isBefore(h)?g:g.reverse()}(this.editor.model.document.selection,t),o=e.parent.parent,r=[...new vt(o)],s={first:r.find(l=>l.cell===e).column,last:r.find(l=>l.cell===i).column},a=function(l,c,d,u){return parseInt(d.getAttribute("colspan")||"1")>1?d:c.previousSibling||d.nextSibling?d.nextSibling||c.previousSibling:u.first?l.reverse().find(({column:h})=>h<u.first).cell:l.reverse().find(({column:h})=>h>u.last).cell}(r,e,i,s);this.editor.model.change(l=>{const c=s.last-s.first+1;t.removeColumns(o,{at:s.first,columns:c}),l.setSelection(l.createPositionAt(a,0))})}}class W4 extends q{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,i=t.getSelectionAffectedTableCells(e.document.selection);if(i.length===0)return this.isEnabled=!1,void(this.value=!1);const o=i[0].findAncestor("table");this.isEnabled=e.schema.checkAttribute(o,"headingRows"),this.value=i.every(r=>this._isInHeading(r,r.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),r=o[0].findAncestor("table"),{first:s,last:a}=e.getRowIndexes(o),l=this.value?s:a+1,c=r.getAttribute("headingRows")||0;i.change(d=>{if(l){const u=_0(r,l,l>c?c:0);for(const{cell:h}of u)v0(h,l,d)}Yt("headingRows",l,r,d,0)})}_isInHeading(t,e){const i=parseInt(e.getAttribute("headingRows")||"0");return!!i&&t.parent.index<i}}class G4 extends q{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,i=t.getSelectionAffectedTableCells(e.document.selection);if(i.length===0)return this.isEnabled=!1,void(this.value=!1);const o=i[0].findAncestor("table");this.isEnabled=e.schema.checkAttribute(o,"headingColumns"),this.value=i.every(r=>Su(t,r))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),r=o[0].findAncestor("table"),{first:s,last:a}=e.getColumnIndexes(o),l=this.value?s:a+1;i.change(c=>{if(l){const d=y0(r,l);for(const{cell:u,column:h}of d)C0(u,h,l,c)}Yt("headingColumns",l,r,c,0)})}}function K4(n,t){return 4e3/S0(n,t)}function S0(n,t){const e=I0(n,"tbody",t)||I0(n,"thead",t);return Pu(t.editing.view.domConverter.mapViewToDom(e))}function I0(n,t,e){return[...[...e.editing.mapper.toViewElement(n).getChildren()].find(i=>i.is("element","table")).getChildren()].find(i=>i.is("element",t))}function Pu(n){const t=L.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth):parseFloat(t.width)}function ri(n){const t=Math.pow(10,2),e=typeof n=="number"?n:parseFloat(n);return Math.round(e*t)/t}function vs(n){return n.map(t=>typeof t=="number"?t:parseFloat(t)).filter(t=>!Number.isNaN(t)).reduce((t,e)=>t+e,0)}function Lu(n){let t=function(i){const o=i.filter(a=>a==="auto").length;if(o===0)return i.map(a=>ri(a));const r=vs(i),s=Math.max((100-r)/o,5);return i.map(a=>a==="auto"?s:a).map(a=>ri(a))}(n.map(i=>i==="auto"?i:parseFloat(i.replace("%",""))));const e=vs(t);return e!==100&&(t=t.map(i=>ri(100*i/e)).map((i,o,r)=>o!==r.length-1?i:ri(i+100-vs(r)))),t.map(i=>i+"%")}function Y4(n){const t=L.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseInt(t.width):parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderWidth)}function M0(n,t,e,i){for(let o=0;o<Math.max(e.length,n.length);o++){const r=n[o],s=e[o];s?r?i.setAttribute("columnWidth",s,r):i.appendElement("tableColumn",{columnWidth:s},t):i.remove(r)}}function ys(n){if(n.is("element","tableColumnGroup"))return n;const t=n.getChildren();return Array.from(t).find(e=>e.is("element","tableColumnGroup"))}function Cs(n){const t=ys(n);return t?Array.from(t.getChildren()):[]}class ue extends C{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,i=e.parent,o=i.getChildIndex(e),r=new vt(i,{row:o});for(const{cell:s,row:a,column:l}of r)if(s===t)return{row:a,column:l}}createTable(t,e){const i=t.createElement("table"),o=e.rows||2,r=e.columns||2;return Bu(t,i,0,o,r),e.headingRows&&Yt("headingRows",Math.min(e.headingRows,o),i,t,0),e.headingColumns&&Yt("headingColumns",Math.min(e.headingColumns,r),i,t,0),i}insertRows(t,e={}){const i=this.editor.model,o=e.at||0,r=e.rows||1,s=e.copyStructureFromAbove!==void 0,a=e.copyStructureFromAbove?o-1:o,l=this.getRows(t),c=this.getColumns(t);if(o>l)throw new v("tableutils-insertrows-insert-out-of-range",this,{options:e});i.change(d=>{const u=t.getAttribute("headingRows")||0;if(u>o&&Yt("headingRows",u+r,t,d,0),!s&&(o===0||o===l))return void Bu(d,t,o,r,c);const h=s?Math.max(o,a):o,g=new vt(t,{endRow:h}),f=new Array(c).fill(1);for(const{row:p,column:b,cellHeight:k,cellWidth:w,cell:_}of g){const y=p+k-1,A=p<=a&&a<=y;p<o&&o<=y?(d.setAttribute("rowspan",k+r,_),f[b]=-w):s&&A&&(f[b]=w)}for(let p=0;p<r;p++){const b=d.createElement("tableRow");d.insert(b,t,o);for(let k=0;k<f.length;k++){const w=f[k],_=d.createPositionAt(b,"end");w>0&&mo(d,_,w>1?{colspan:w}:void 0),k+=Math.abs(w)-1}}})}insertColumns(t,e={}){const i=this.editor.model,o=e.at||0,r=e.columns||1;i.change(s=>{const a=t.getAttribute("headingColumns");o<a&&s.setAttribute("headingColumns",a+r,t);const l=this.getColumns(t);if(o===0||l===o){for(const d of t.getChildren())d.is("element","tableRow")&&or(r,s,s.createPositionAt(d,o?"end":0));return}const c=new vt(t,{column:o,includeAllSlots:!0});for(const d of c){const{row:u,cell:h,cellAnchorColumn:g,cellAnchorRow:f,cellWidth:p,cellHeight:b}=d;if(g<o){s.setAttribute("colspan",p+r,h);const k=f+b-1;for(let w=u;w<=k;w++)c.skipRow(w)}else or(r,s,d.getPositionBefore())}})}removeRows(t,e){const i=this.editor.model,o=e.rows||1,r=this.getRows(t),s=e.at,a=s+o-1;if(a>r-1)throw new v("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});i.change(l=>{const c={first:s,last:a},{cellsToMove:d,cellsToTrim:u}=function(h,{first:g,last:f}){const p=new Map,b=[];for(const{row:k,column:w,cellHeight:_,cell:y}of new vt(h,{endRow:f})){const A=k+_-1;if(k>=g&&k<=f&&A>f){const x=_-(f-k+1);p.set(w,{cell:y,rowspan:x})}if(k<g&&A>=g){let x;x=A>=f?f-g+1:A-g+1,b.push({cell:y,rowspan:_-x})}}return{cellsToMove:p,cellsToTrim:b}}(t,c);d.size&&function(h,g,f,p){const b=new vt(h,{includeAllSlots:!0,row:g}),k=[...b],w=h.getChild(g);let _;for(const{column:y,cell:A,isAnchor:x}of k)if(f.has(y)){const{cell:I,rowspan:z}=f.get(y),Y=_?p.createPositionAfter(_):p.createPositionAt(w,0);p.move(p.createRangeOn(I),Y),Yt("rowspan",z,I,p),_=I}else x&&(_=A)}(t,a+1,d,l);for(let h=a;h>=s;h--)l.remove(t.getChild(h));for(const{rowspan:h,cell:g}of u)Yt("rowspan",h,g,l);(function(h,{first:g,last:f},p){const b=h.getAttribute("headingRows")||0;g<b&&Yt("headingRows",f<b?b-(f-g+1):g,h,p,0)})(t,c,l),Iu(t,this)||Mu(t,this)})}removeColumns(t,e){const i=this.editor.model,o=e.at,r=e.columns||1,s=e.at+r-1;i.change(a=>{(function(c,d,u){const h=c.getAttribute("headingColumns")||0;if(h&&d.first<h){const g=Math.min(h-1,d.last)-d.first+1;u.setAttribute("headingColumns",h-g,c)}})(t,{first:o,last:s},a);const l=Cs(t);for(let c=s;c>=o;c--){for(const{cell:d,column:u,cellWidth:h}of[...new vt(t)])u<=c&&h>1&&u+h>c?Yt("colspan",h-1,d,a):u===c&&a.remove(d);if(l[c]){const d=c===0?l[1]:l[c-1],u=parseFloat(l[c].getAttribute("columnWidth")),h=parseFloat(d.getAttribute("columnWidth"));a.remove(l[c]),a.setAttribute("columnWidth",u+h+"%",d)}}Mu(t,this)||Iu(t,this)})}splitCellVertically(t,e=2){const i=this.editor.model,o=t.parent.parent,r=parseInt(t.getAttribute("rowspan")||"1"),s=parseInt(t.getAttribute("colspan")||"1");i.change(a=>{if(s>1){const{newCellsSpan:l,updatedSpan:c}=D0(s,e);Yt("colspan",c,t,a);const d={};l>1&&(d.colspan=l),r>1&&(d.rowspan=r),or(s>e?e-1:s-1,a,a.createPositionAfter(t),d)}if(s<e){const l=e-s,c=[...new vt(o)],{column:d}=c.find(({cell:f})=>f===t),u=c.filter(({cell:f,cellWidth:p,column:b})=>f!==t&&b===d||b<d&&b+p>d);for(const{cell:f,cellWidth:p}of u)a.setAttribute("colspan",p+l,f);const h={};r>1&&(h.rowspan=r),or(l,a,a.createPositionAfter(t),h);const g=o.getAttribute("headingColumns")||0;g>d&&Yt("headingColumns",g+l,o,a)}})}splitCellHorizontally(t,e=2){const i=this.editor.model,o=t.parent,r=o.parent,s=r.getChildIndex(o),a=parseInt(t.getAttribute("rowspan")||"1"),l=parseInt(t.getAttribute("colspan")||"1");i.change(c=>{if(a>1){const d=[...new vt(r,{startRow:s,endRow:s+a-1,includeAllSlots:!0})],{newCellsSpan:u,updatedSpan:h}=D0(a,e);Yt("rowspan",h,t,c);const{column:g}=d.find(({cell:b})=>b===t),f={};u>1&&(f.rowspan=u),l>1&&(f.colspan=l);let p=0;for(const b of d){const{column:k,row:w}=b,_=k===g;p>=u&&_&&(p=0),w>=s+h&&_&&(p||or(1,c,b.getPositionBefore(),f),p++)}}if(a<e){const d=e-a,u=[...new vt(r,{startRow:0,endRow:s})];for(const{cell:f,cellHeight:p,row:b}of u)if(f!==t&&b+p>s){const k=p+d;c.setAttribute("rowspan",k,f)}const h={};l>1&&(h.colspan=l),Bu(c,r,s+1,d,1,h);const g=r.getAttribute("headingRows")||0;g>s&&Yt("headingRows",g+d,r,c)}})}getColumns(t){return[...t.getChild(0).getChildren()].filter(e=>e.is("element","tableCell")).reduce((e,i)=>e+parseInt(i.getAttribute("colspan")||"1"),0)}getRows(t){return Array.from(t.getChildren()).reduce((e,i)=>i.is("element","tableRow")?e+1:e,0)}createTableWalker(t,e={}){return new vt(t,e)}getSelectedTableCells(t){const e=[];for(const i of this.sortRanges(t.getRanges())){const o=i.getContainedElement();o&&o.is("element","tableCell")&&e.push(o)}return e}getTableCellsContainingSelection(t){const e=[];for(const i of t.getRanges()){const o=i.start.findAncestor("tableCell");o&&e.push(o)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(i=>i.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),i=[...new vt(e)].filter(o=>t.includes(o.cell)).map(o=>o.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,i=new Set;let o=0;for(const r of t){const{row:s,column:a}=this.getCellLocation(r),l=parseInt(r.getAttribute("rowspan"))||1,c=parseInt(r.getAttribute("colspan"))||1;e.add(s),i.add(a),l>1&&e.add(s+l-1),c>1&&i.add(a+c-1),o+=l*c}return function(r,s){const a=Array.from(r.values()),l=Array.from(s.values()),c=Math.max(...a),d=Math.min(...a),u=Math.max(...l),h=Math.min(...l);return(c-d+1)*(u-h+1)}(e,i)==o}sortRanges(t){return Array.from(t).sort(Z4)}_getFirstLastIndexesObject(t){const e=t.sort((i,o)=>i-o);return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),i=this.getRowIndexes(t),o=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,o))return!1;const r=this.getColumnIndexes(t),s=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,s)}_areIndexesInSameSection({first:t,last:e},i){return t<i==e<i}}function Bu(n,t,e,i,o,r={}){for(let s=0;s<i;s++){const a=n.createElement("tableRow");n.insert(a,t,e),or(o,n,n.createPositionAt(a,"end"),r)}}function or(n,t,e,i={}){for(let o=0;o<n;o++)mo(t,e,i)}function D0(n,t){if(n<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(n/t);return{newCellsSpan:e,updatedSpan:n-e*t+e}}function Z4(n,t){const e=n.start,i=t.start;return e.isBefore(i)?-1:1}class Q4 extends q{refresh(){const t=this.editor.plugins.get(ue),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(ue);t.change(i=>{const o=e.getSelectedTableCells(t.document.selection),r=o.shift(),{mergeWidth:s,mergeHeight:a}=function(l,c,d){let u=0,h=0;for(const k of c){const{row:w,column:_}=d.getCellLocation(k);u=L0(k,_,u,"colspan"),h=L0(k,w,h,"rowspan")}const{row:g,column:f}=d.getCellLocation(l),p=u-f,b=h-g;return{mergeWidth:p,mergeHeight:b}}(r,o,e);Yt("colspan",s,r,i),Yt("rowspan",a,r,i);for(const l of o)J4(l,r,i);Du(r.findAncestor("table"),e),i.setSelection(r,"in")})}}function J4(n,t,e){P0(n)||(P0(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(n),e.createPositionAt(t,"end"))),e.remove(n)}function P0(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function L0(n,t,e,i){const o=parseInt(n.getAttribute(i)||"1");return Math.max(e,t+o)}class X4 extends q{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(i),r=i[0].findAncestor("table"),s=[];for(let a=o.first;a<=o.last;a++)for(const l of r.getChild(a).getChildren())s.push(t.createRangeOn(l));t.change(a=>{a.setSelection(s)})}}class t3 extends q{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,i=t.getSelectionAffectedTableCells(e.document.selection),o=i[0],r=i.pop(),s=o.findAncestor("table"),a=t.getCellLocation(o),l=t.getCellLocation(r),c=Math.min(a.column,l.column),d=Math.max(a.column,l.column),u=[];for(const h of new vt(s,{startColumn:c,endColumn:d}))u.push(e.createRangeOn(h.cell));e.change(h=>{h.setSelection(u)})}}function e3(n){n.document.registerPostFixer(t=>function(e,i){const o=i.document.differ.getChanges();let r=!1;const s=new Set;for(const a of o){let l=null;a.type=="insert"&&a.name=="table"&&(l=a.position.nodeAfter),a.type!="insert"&&a.type!="remove"||a.name!="tableRow"&&a.name!="tableCell"||(l=a.position.findAncestor("table")),o3(a)&&(l=a.range.start.findAncestor("table")),l&&!s.has(l)&&(r=i3(l,e)||r,r=n3(l,e)||r,s.add(l))}return r}(t,n))}function i3(n,t){let e=!1;const i=function(o){const r=parseInt(o.getAttribute("headingRows")||"0"),s=Array.from(o.getChildren()).reduce((l,c)=>c.is("element","tableRow")?l+1:l,0),a=[];for(const{row:l,cell:c,cellHeight:d}of new vt(o)){if(d<2)continue;const u=l<r?r:s;if(l+d>u){const h=u-l;a.push({cell:c,rowspan:h})}}return a}(n);if(i.length){e=!0;for(const o of i)Yt("rowspan",o.rowspan,o.cell,t,1)}return e}function n3(n,t){let e=!1;const i=function(a){const l=new Array(a.childCount).fill(0);for(const{rowIndex:c}of new vt(a,{includeAllSlots:!0}))l[c]++;return l}(n),o=[];for(const[a,l]of i.entries())!l&&n.getChild(a).is("element","tableRow")&&o.push(a);if(o.length){e=!0;for(const a of o.reverse())t.remove(n.getChild(a)),i.splice(a,1)}const r=i.filter((a,l)=>n.getChild(l).is("element","tableRow")),s=r[0];if(!r.every(a=>a===s)){const a=r.reduce((l,c)=>c>l?c:l,0);for(const[l,c]of r.entries()){const d=a-c;if(d){for(let u=0;u<d;u++)mo(t,t.createPositionAt(n.getChild(l),"end"));e=!0}}}return e}function o3(n){if(n.type!=="attribute")return!1;const t=n.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function r3(n){n.document.registerPostFixer(t=>function(e,i){const o=i.document.differ.getChanges();let r=!1;for(const s of o)s.type=="insert"&&s.name=="table"&&(r=s3(s.position.nodeAfter,e)||r),s.type=="insert"&&s.name=="tableRow"&&(r=B0(s.position.nodeAfter,e)||r),s.type=="insert"&&s.name=="tableCell"&&(r=Nu(s.position.nodeAfter,e)||r),s.type!="remove"&&s.type!="insert"||!a3(s)||(r=Nu(s.position.parent,e)||r);return r}(t,n))}function s3(n,t){let e=!1;for(const i of n.getChildren())i.is("element","tableRow")&&(e=B0(i,t)||e);return e}function B0(n,t){let e=!1;for(const i of n.getChildren())e=Nu(i,t)||e;return e}function Nu(n,t){if(n.childCount==0)return t.insertElement("paragraph",n),!0;const e=Array.from(n.getChildren()).filter(i=>i.is("$text"));for(const i of e)t.wrap(t.createRangeOn(i),"paragraph");return!!e.length}function a3(n){return!!n.position.parent.is("element","tableCell")&&(n.type=="insert"&&n.name=="$text"||n.type=="remove")}function l3(n,t){if(!n.is("element","paragraph"))return!1;const e=t.toViewElement(n);return!!e&&f0(n)!==e.is("element","span")}class zu extends C{constructor(t){super(t),m(this,"_additionalSlots"),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[ue]}init(){const t=this.editor,e=t.model,i=e.schema,o=t.conversion,r=t.plugins.get(ue);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),o.for("upcast").add(s=>{s.on("element:figure",(a,l,c)=>{if(!c.consumable.test(l.viewItem,{name:!0,classes:"table"}))return;const d=function(h){for(const g of h.getChildren())if(g.is("element","table"))return g}(l.viewItem);if(!d||!c.consumable.test(d,{name:!0}))return;c.consumable.consume(l.viewItem,{name:!0,classes:"table"});const u=_t(c.convertItem(d,l.modelCursor).modelRange.getItems());u?(c.convertChildren(l.viewItem,c.writer.createPositionAt(u,"end")),c.updateConversionResult(u,l)):c.consumable.revert(l.viewItem,{name:!0,classes:"table"})})}),o.for("upcast").add(F4()),o.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:h0(r,{asWidget:!0,additionalSlots:this._additionalSlots})}),o.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:h0(r,{additionalSlots:this._additionalSlots})}),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("upcast").add(s=>{s.on("element:tr",(a,l)=>{l.viewItem.isEmpty&&l.modelCursor.index==0&&a.stop()},{priority:"high"})}),o.for("downcast").elementToElement({model:"tableRow",view:(s,{writer:a})=>s.isEmpty?a.createEmptyElement("tr"):a.createContainerElement("tr")}),o.for("upcast").elementToElement({model:"tableCell",view:"td"}),o.for("upcast").elementToElement({model:"tableCell",view:"th"}),o.for("upcast").add(u0("td")),o.for("upcast").add(u0("th")),o.for("editingDowncast").elementToElement({model:"tableCell",view:m0({asWidget:!0})}),o.for("dataDowncast").elementToElement({model:"tableCell",view:m0()}),o.for("editingDowncast").elementToElement({model:"paragraph",view:g0({asWidget:!0}),converterPriority:"high"}),o.for("dataDowncast").elementToElement({model:"paragraph",view:g0(),converterPriority:"high"}),o.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),o.for("upcast").attributeToAttribute({model:{key:"colspan",value:N0("colspan")},view:"colspan"}),o.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("upcast").attributeToAttribute({model:{key:"rowspan",value:N0("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new U4(t)),t.commands.add("insertTableRowAbove",new p0(t,{order:"above"})),t.commands.add("insertTableRowBelow",new p0(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new b0(t,{order:"left"})),t.commands.add("insertTableColumnRight",new b0(t,{order:"right"})),t.commands.add("removeTableRow",new $4(t)),t.commands.add("removeTableColumn",new q4(t)),t.commands.add("splitTableCellVertically",new k0(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new k0(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new Q4(t)),t.commands.add("mergeTableCellRight",new ul(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new ul(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new ul(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new ul(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new G4(t)),t.commands.add("setTableRowHeader",new W4(t)),t.commands.add("selectTableRow",new X4(t)),t.commands.add("selectTableColumn",new t3(t)),e3(e),r3(e),this.listenTo(e.document,"change:data",()=>{(function(s,a){const l=s.document.differ;for(const c of l.getChanges()){let d,u=!1;if(c.type=="attribute"){const p=c.range.start.nodeAfter;if(!p||!p.is("element","table")||c.attributeKey!="headingRows"&&c.attributeKey!="headingColumns")continue;d=p,u=c.attributeKey=="headingRows"}else c.name!="tableRow"&&c.name!="tableCell"||(d=c.position.findAncestor("table"),u=c.name=="tableRow");if(!d)continue;const h=d.getAttribute("headingRows")||0,g=d.getAttribute("headingColumns")||0,f=new vt(d);for(const p of f){const b=p.row<h||p.column<g?"th":"td",k=a.mapper.toViewElement(p.cell);k&&k.is("element")&&k.name!=b&&a.reconvertItem(u?p.cell.parent:p.cell)}}})(e,t.editing),function(s,a){const l=s.document.differ,c=new Set;for(const d of l.getChanges()){const u=d.type=="attribute"?d.range.start.parent:d.position.parent;u.is("element","tableCell")&&c.add(u)}for(const d of c.values()){const u=Array.from(d.getChildren()).filter(h=>l3(h,a.mapper));for(const h of u)a.reconvertItem(h)}}(e,t.editing)})}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function N0(n){return t=>{const e=parseInt(t.getAttribute(n));return Number.isNaN(e)||e<=0?null:e}}class z0 extends P{constructor(t){super(t),m(this,"items"),m(this,"keystrokes"),m(this,"focusTracker");const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Tt,this.focusTracker=new ht,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,o)=>`${o} \xD7 ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to(i=>{i.preventDefault()}),click:e.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,o)=>{const{row:r,column:s}=o.target.dataset;this.items.get(10*(parseInt(r,10)-1)+(parseInt(s,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,o,r)=>{if(!r)return;const{row:s,column:a}=r.dataset;this.set({rows:parseInt(s),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Gr({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((i,o)=>{const r=Math.floor(o/10)<t&&o%10<e;i.set("isOn",r)})}_createGridButton(t,e,i,o){const r=new V(t);return r.set({label:o,class:"ck-insert-table-dropdown-grid-box"}),r.extendTemplate({attributes:{"data-row":e,"data-column":i}}),r}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const i=Math.floor(e/10),o=e%10,r=`${i+1} \xD7 ${o+1}`;t.push(this._createGridButton(this.locale,i+1,o+1,r))}return this.createCollection(t)}}class c3 extends C{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t,i=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",o=>{const r=t.commands.get("insertTable"),s=ce(o);let a;return s.bind("isEnabled").to(r),s.buttonView.set({icon:Rp,label:e("Insert table"),tooltip:!0}),s.on("change:isOpen",()=>{a||(a=new z0(o),s.panelView.children.add(a),a.delegate("execute").to(s),s.on("execute",()=>{t.execute("insertTable",{rows:a.rows,columns:a.columns}),t.editing.view.focus()}))}),s}),t.ui.componentFactory.add("menuBar:insertTable",o=>{const r=t.commands.get("insertTable"),s=new Ke(o),a=new z0(o);return a.delegate("execute").to(s),s.on("change:isOpen",(l,c,d)=>{d||a.reset()}),a.on("execute",()=>{t.execute("insertTable",{rows:a.rows,columns:a.columns}),t.editing.view.focus()}),s.buttonView.set({label:e("Table"),icon:Rp}),s.panelView.children.add(a),s.bind("isEnabled").to(r),s}),t.ui.componentFactory.add("tableColumn",o=>{const r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),bE,r,o)}),t.ui.componentFactory.add("tableRow",o=>{const r=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),wE,r,o)}),t.ui.componentFactory.add("mergeTableCells",o=>{const r=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),kE,r,o)})}_prepareDropdown(t,e,i,o){const r=this.editor,s=ce(o),a=this._fillDropdownWithListOptions(s,i);return s.buttonView.set({label:t,icon:e,tooltip:!0}),s.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(s,"execute",l=>{r.execute(l.source.commandName),l.source instanceof Yr||r.editing.view.focus()}),s}_prepareMergeSplitButtonDropdown(t,e,i,o){const r=this.editor,s=ce(o,oo),a="mergeTableCells",l=r.commands.get(a),c=this._fillDropdownWithListOptions(s,i);return s.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),s.bind("isEnabled").toMany([l,...c],"isEnabled",(...d)=>d.some(u=>u)),this.listenTo(s.buttonView,"execute",()=>{r.execute(a),r.editing.view.focus()}),this.listenTo(s,"execute",d=>{r.execute(d.source.commandName),r.editing.view.focus()}),s}_fillDropdownWithListOptions(t,e){const i=this.editor,o=[],r=new ie;for(const s of e)d3(s,i,o,r);return Cn(t,r),o}}function d3(n,t,e,i){if(n.type==="button"||n.type==="switchbutton"){const o=n.model=new Zi(n.model),{commandName:r,bindIsOn:s}=n.model,a=t.commands.get(r);e.push(a),o.set({commandName:r}),o.bind("isEnabled").to(a),s&&o.bind("isOn").to(a,"value"),o.set({withText:!0})}i.add(n)}class Dn extends C{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[ue,ue]}init(){const t=this.editor,e=t.model,i=t.editing.view;this.listenTo(e,"deleteContent",(o,r)=>this._handleDeleteContent(o,r),{priority:"high"}),this.listenTo(i.document,"insertText",(o,r)=>this._handleInsertTextEvent(o,r),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(ue),e=this.editor.model.document.selection,i=t.getSelectedTableCells(e);return i.length==0?null:i}getSelectionAsFragment(){const t=this.editor.plugins.get(ue),e=this.getSelectedTableCells();return e?this.editor.model.change(i=>{const o=i.createDocumentFragment(),{first:r,last:s}=t.getColumnIndexes(e),{first:a,last:l}=t.getRowIndexes(e),c=e[0].findAncestor("table");let d=l,u=s;if(t.isSelectionRectangular(e)){const g={firstColumn:r,lastColumn:s,firstRow:a,lastRow:l};d=x0(c,g),u=E0(c,g)}const h=w0(c,{startRow:a,startColumn:r,endRow:d,endColumn:u},i);return i.insert(h,o,0),o}):null}setCellSelection(t,e){const i=this._getCellsToSelect(t,e);this.editor.model.change(o=>{o.setSelection(i.cells.map(r=>o.createRangeOn(r)),{backward:i.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=_t(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(i=>i.on("selection",(o,r,s)=>{const a=s.writer;(function(d){for(const u of e)d.removeClass("ck-editor__editable_selected",u);e.clear()})(a);const l=this.getSelectedTableCells();if(!l)return;for(const d of l){const u=s.mapper.toViewElement(d);a.addClass("ck-editor__editable_selected",u),e.add(u)}const c=s.mapper.toViewElement(l[l.length-1]);a.setSelection(c,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(i=>{const o=i.createPositionAt(e[0],0),r=t.model.schema.getNearestSelectionRange(o);i.setSelection(r)})}})}_handleDeleteContent(t,e){const i=this.editor.plugins.get(ue),o=e[0],r=e[1],s=this.editor.model,a=!r||r.direction=="backward",l=i.getSelectedTableCells(o);l.length&&(t.stop(),s.change(c=>{const d=l[a?l.length-1:0];s.change(h=>{for(const g of l)s.deleteContent(h.createSelection(g,"in"))});const u=s.schema.getNearestSelectionRange(c.createPositionAt(d,0));o.is("documentSelection")?c.setSelection(u):o.setTo(u)}))}_handleInsertTextEvent(t,e){const i=this.editor,o=this.getSelectedTableCells();if(!o)return;const r=i.editing.view,s=i.editing.mapper,a=o.map(l=>r.createRangeOn(s.toViewElement(l)));e.selection=r.createSelection(a)}_getCellsToSelect(t,e){const i=this.editor.plugins.get("TableUtils"),o=i.getCellLocation(t),r=i.getCellLocation(e),s=Math.min(o.row,r.row),a=Math.max(o.row,r.row),l=Math.min(o.column,r.column),c=parseInt(e.getAttribute("colspan")||"1")-1,d=Math.max(o.column,r.column+c),u=new Array(a-s+1).fill(null).map(()=>[]),h={startRow:s,endRow:a,startColumn:l,endColumn:d};for(const{row:p,cell:b}of new vt(t.findAncestor("table"),h))u[p-s].push(b);const g=r.row<o.row,f=r.column<o.column;return g&&u.reverse(),f&&u.forEach(p=>p.reverse()),{cells:u.flat(),backward:g||f}}}class u3 extends C{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[ds,Ie,Dn,ue]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"copy",(e,i)=>this._onCopyCut(e,i)),this.listenTo(t,"cut",(e,i)=>this._onCopyCut(e,i)),this._listenToContentInsertion(),this.decorate("_replaceTableSlotCell")}_listenToContentInsertion(){const{editor:t}=this,e=t.plugins.get(Ie),i=t.plugins.get(Dn);let o=!1;e.on("contentInsertion",(r,s)=>{o=s.method==="paste"}),this.listenTo(t.model,"insertContent",(r,[s,a])=>{(o||i.getSelectedTableCells()!==null)&&this._onInsertContent(r,s,a)},{priority:"high"}),e.on("contentInsertion",()=>{o=!1},{priority:"lowest"})}_onCopyCut(t,e){const i=this.editor.editing.view,o=this.editor.plugins.get(Dn),r=this.editor.plugins.get(ds);o.getSelectedTableCells()&&(t.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(e.preventDefault(),t.stop(),this.editor.model.enqueueChange({isUndoable:t.name==="cut"},()=>{const s=r._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,()=>o.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:this.editor.data.toView(s),method:t.name})}))}_onInsertContent(t,e,i){if(i&&!i.is("documentSelection"))return;const o=this.editor.model,r=this.editor.plugins.get(ue),s=this.editor.plugins.get(ds),a=this.getTableIfOnlyTableInContent(e,o);if(!a)return;const l=r.getSelectionAffectedTableCells(o.document.selection);l.length?(t.stop(),e.is("documentFragment")?s._pasteMarkersIntoTransformedElement(e.markers,c=>this._replaceSelectedCells(a,l,c)):this.editor.model.change(c=>{this._replaceSelectedCells(a,l,c)})):Du(a,r)}_replaceSelectedCells(t,e,i){const o=this.editor.plugins.get(ue),r={width:o.getColumns(t),height:o.getRows(t)},s=function(u,h,g,f){const p=u[0].findAncestor("table"),b=f.getColumnIndexes(u),k=f.getRowIndexes(u),w={firstColumn:b.first,lastColumn:b.last,firstRow:k.first,lastRow:k.last},_=u.length===1;return _&&(w.lastRow+=h.height-1,w.lastColumn+=h.width-1,function(y,A,x,I){const z=I.getColumns(y),Y=I.getRows(y);x>z&&I.insertColumns(y,{at:z,columns:x-z}),A>Y&&I.insertRows(y,{at:Y,rows:A-Y})}(p,w.lastRow+1,w.lastColumn+1,f)),_||!f.isSelectionRectangular(u)?function(y,A,x){const{firstRow:I,lastRow:z,firstColumn:Y,lastColumn:Vt}=A,we={first:I,last:z},ct={first:Y,last:Vt};Ru(y,Y,we,x),Ru(y,Vt+1,we,x),Ou(y,I,ct,x),Ou(y,z+1,ct,x,I)}(p,w,g):(w.lastRow=x0(p,w),w.lastColumn=E0(p,w)),w}(e,r,i,o),a=s.lastRow-s.firstRow+1,l=s.lastColumn-s.firstColumn+1;t=w0(t,{startRow:0,startColumn:0,endRow:Math.min(a,r.height)-1,endColumn:Math.min(l,r.width)-1},i);const c=e[0].findAncestor("table"),d=this._replaceSelectedCellsWithPasted(t,r,c,s,i);if(this.editor.plugins.get("TableSelection").isEnabled){const u=o.sortRanges(d.map(h=>i.createRangeOn(h)));i.setSelection(u)}else i.setSelection(d[0],0);return c}_replaceSelectedCellsWithPasted(t,e,i,o,r){const{width:s,height:a}=e,l=function(b,k,w){const _=new Array(w).fill(null).map(()=>new Array(k).fill(null));for(const{column:y,row:A,cell:x}of new vt(b))_[A][y]=x;return _}(t,s,a),c=[...new vt(i,{startRow:o.firstRow,endRow:o.lastRow,startColumn:o.firstColumn,endColumn:o.lastColumn,includeAllSlots:!0})],d=[];let u;for(const b of c){const{row:k,column:w}=b;w===o.firstColumn&&(u=b.getPositionBefore());const _=k-o.firstRow,y=w-o.firstColumn,A=l[_%a][y%s],x=A?r.cloneElement(A):null,I=this._replaceTableSlotCell(b,x,u,r);I&&(A0(I,k,w,o.lastRow,o.lastColumn,r),d.push(I),u=r.createPositionAfter(I))}const h=parseInt(i.getAttribute("headingRows")||"0"),g=parseInt(i.getAttribute("headingColumns")||"0"),f=o.firstRow<h&&h<=o.lastRow,p=o.firstColumn<g&&g<=o.lastColumn;if(f){const b=Ou(i,h,{first:o.firstColumn,last:o.lastColumn},r,o.firstRow);d.push(...b)}if(p){const b=Ru(i,g,{first:o.firstRow,last:o.lastRow},r);d.push(...b)}return d}_replaceTableSlotCell(t,e,i,o){const{cell:r,isAnchor:s}=t;return s&&o.remove(r),e?(o.insert(e,i),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const i=e.createRangeIn(t);for(const o of i.getItems())if(o.is("element","table")){const r=e.createRange(i.start,e.createPositionBefore(o));if(e.hasContent(r,{ignoreWhitespaces:!0}))return null;const s=e.createRange(e.createPositionAfter(o),i.end);return e.hasContent(s,{ignoreWhitespaces:!0})?null:o}return null}}function Ou(n,t,e,i,o=0){if(!(t<1))return _0(n,t,o).filter(({column:r,cellWidth:s})=>O0(r,s,e)).map(({cell:r})=>v0(r,t,i))}function Ru(n,t,e,i){if(!(t<1))return y0(n,t).filter(({row:o,cellHeight:r})=>O0(o,r,e)).map(({cell:o,column:r})=>C0(o,r,t,i))}function O0(n,t,e){const i=n+t-1,{first:o,last:r}=e;return n>=o&&n<=r||n<o&&i>=o}class h3 extends C{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Dn,ue]}init(){const t=this.editor,e=t.editing.view.document,i=t.t;this.listenTo(e,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(e,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(e,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:i("Keystrokes that can be used in a table cell"),keystrokes:[{label:i("Move the selection to the next cell"),keystroke:"Tab"},{label:i("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:i("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:i("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(t,e){const i=this.editor,o=i.model.document.selection.getSelectedElement();o&&o.is("element","table")&&(e.preventDefault(),e.stopPropagation(),t.stop(),i.model.change(r=>{r.setSelection(r.createRangeIn(o.getChild(0).getChild(0)))}))}_handleTab(t,e){const i=this.editor,o=this.editor.plugins.get(ue),r=this.editor.plugins.get("TableSelection"),s=i.model.document.selection,a=!e.shiftKey;let l=o.getTableCellsContainingSelection(s)[0];if(l||(l=r.getFocusCell()),!l)return;e.preventDefault(),e.stopPropagation(),t.stop();const c=l.parent,d=c.parent,u=d.getChildIndex(c),h=c.getChildIndex(l),g=h===0;if(!a&&g&&u===0)return void i.model.change(k=>{k.setSelection(k.createRangeOn(d))});const f=h===c.childCount-1,p=u===o.getRows(d)-1;if(a&&p&&f&&(i.execute("insertTableRowBelow"),u===o.getRows(d)-1))return void i.model.change(k=>{k.setSelection(k.createRangeOn(d))});let b;if(a&&f)b=d.getChild(u+1).getChild(0);else if(!a&&g){const k=d.getChild(u-1);b=k.getChild(k.childCount-1)}else b=c.getChild(h+(a?1:-1));i.model.change(k=>{k.setSelection(k.createRangeIn(b))})}_onArrowKey(t,e){const i=this.editor,o=na(e.keyCode,i.locale.contentLanguageDirection);this._handleArrowKeys(o,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const i=this.editor.plugins.get(ue),o=this.editor.plugins.get("TableSelection"),r=this.editor.model,s=r.document.selection,a=["right","down"].includes(t),l=i.getSelectedTableCells(s);if(l.length){let d;return d=e?o.getFocusCell():a?l[l.length-1]:l[0],this._navigateFromCellInDirection(d,t,e),!0}const c=s.focus.findAncestor("tableCell");if(!c)return!1;if(!s.isCollapsed)if(e){if(s.isBackward==a&&!s.containsEntireContent(c))return!1}else{const d=s.getSelectedElement();if(!d||!r.schema.isObject(d))return!1}return!!this._isSelectionAtCellEdge(s,c,a)&&(this._navigateFromCellInDirection(c,t,e),!0)}_isSelectionAtCellEdge(t,e,i){const o=this.editor.model,r=this.editor.model.schema,s=i?t.getLastPosition():t.getFirstPosition();if(!r.getLimitElement(s).is("element","tableCell"))return o.createPositionAt(e,i?"end":0).isTouching(s);const a=o.createSelection(s);return o.modifySelection(a,{direction:i?"forward":"backward"}),s.isEqual(a.focus)}_navigateFromCellInDirection(t,e,i=!1){const o=this.editor.model,r=t.findAncestor("table"),s=[...new vt(r,{includeAllSlots:!0})],{row:a,column:l}=s[s.length-1],c=s.find(({cell:p})=>p==t);let{row:d,column:u}=c;switch(e){case"left":u--;break;case"up":d--;break;case"right":u+=c.cellWidth;break;case"down":d+=c.cellHeight}if(d<0||d>a||u<0&&d<=0||u>l&&d>=a)return void o.change(p=>{p.setSelection(p.createRangeOn(r))});u<0?(u=i?0:l,d--):u>l&&(u=i?l:0,d++);const h=s.find(p=>p.row==d&&p.column==u).cell,g=["right","down"].includes(e),f=this.editor.plugins.get("TableSelection");if(i&&f.isEnabled){const p=f.getAnchorCell()||t;f.setCellSelection(p,h)}else{const p=o.createPositionAt(h,g?0:"end");o.change(b=>{b.setSelection(p)})}}}class R0 extends Ai{constructor(){super(...arguments),m(this,"domEventType",["mousemove","mouseleave"])}onDomEvent(t){this.fire(t.type,t)}}class m3 extends C{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[Dn,ue]}init(){this.editor.editing.view.addObserver(R0),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(ue);let i=!1;const o=t.plugins.get(Dn);this.listenTo(t.editing.view.document,"mousedown",(r,s)=>{const a=t.model.document.selection;if(!this.isEnabled||!o.isEnabled||!s.domEvent.shiftKey)return;const l=o.getAnchorCell()||e.getTableCellsContainingSelection(a)[0];if(!l)return;const c=this._getModelTableCellFromDomEvent(s);c&&V0(l,c)&&(i=!0,o.setCellSelection(l,c),s.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(t.editing.view.document,"selectionChange",r=>{i&&r.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,i,o=!1,r=!1;const s=t.plugins.get(Dn);this.listenTo(t.editing.view.document,"mousedown",(a,l)=>{this.isEnabled&&s.isEnabled&&(l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(l)))}),this.listenTo(t.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!e)return;const c=this._getModelTableCellFromDomEvent(l);c&&V0(e,c)&&(i=c,o||i==e||(o=!0)),o&&(r=!0,s.setCellSelection(e,i),l.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{o=!1,r=!1,e=null,i=null}),this.listenTo(t.editing.view.document,"selectionChange",a=>{r&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,i=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function V0(n,t){return n.parent.parent==t.parent.parent}class g3 extends C{static get requires(){return[zu,c3,Dn,m3,h3,u3,Zo]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function f3(n){const t=n.getSelectedElement();return t&&F0(t)?t:null}function p3(n){const t=n.getFirstPosition();if(!t)return null;let e=t.parent;for(;e;){if(e.is("element")&&F0(e))return e;e=e.parent}return null}function F0(n){return!!n.getCustomProperty("table")&&Kt(n)}class b3 extends C{static get requires(){return[Fa]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,i=t.plugins.get(Fa),o=t.config.get("table.contentToolbar"),r=t.config.get("table.tableToolbar");o&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:p3}),r&&i.register("table",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:f3})}}pe.defaultPositions.northArrowSouth,pe.defaultPositions.northArrowSouthWest,pe.defaultPositions.northArrowSouthEast,pe.defaultPositions.southArrowNorth,pe.defaultPositions.southArrowNorthWest,pe.defaultPositions.southArrowNorthEast,pe.defaultPositions.viewportStickyNorth;function k3(n,t){const e=parseFloat(n);return Number.isNaN(e)||String(e)!==String(n)?n:`${e}${t}`}function w3(n,t={}){const e={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...n};return t.includeAlignmentProperty&&!e.alignment&&(e.alignment="center"),t.includePaddingProperty&&!e.padding&&(e.padding=""),t.includeVerticalAlignmentProperty&&!e.verticalAlignment&&(e.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!e.horizontalAlignment&&(e.horizontalAlignment=t.isRightToLeftContent?"right":"left"),e}function _3(n,t){return w3({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...n},t)}class v3 extends q{constructor(t,e,i){switch(super(t),m(this,"attributeName"),m(this,"_defaultValue"),m(this,"_defaultContentTableValue"),m(this,"_defaultLayoutTableValue"),this.attributeName=e,this._defaultContentTableValue=i,e){case"tableCellBorderStyle":this._defaultLayoutTableValue="none";break;case"tableCellHorizontalAlignment":this._defaultLayoutTableValue="left";break;case"tableCellVerticalAlignment":this._defaultLayoutTableValue="middle";break;default:this._defaultLayoutTableValue=void 0}}refresh(){const t=this.editor.model.document.selection,e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t),i=V4(t);this._defaultValue=i&&i.getAttribute("tableType")==="layout"?this._defaultLayoutTableValue:this._defaultContentTableValue,this.isEnabled=!!e.length,this.value=this._getSingleValue(e)}execute(t={}){const{value:e,batch:i}=t,o=this.editor.model,r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(o.document.selection),s=this._getValueToSet(e);o.enqueueChange(i,a=>{s?r.forEach(l=>a.setAttribute(this.attributeName,s,l)):r.forEach(l=>a.removeAttribute(this.attributeName,l))})}_getAttribute(t){if(!t)return;const e=t.getAttribute(this.attributeName);return e!==this._defaultValue?e:void 0}_getValueToSet(t){if(t!==this._defaultValue)return t}_getSingleValue(t){const e=this._getAttribute(t[0]);return t.every(i=>this._getAttribute(i)===e)?e:void 0}}class y3 extends v3{constructor(t,e){super(t,"tableCellWidth",e)}_getValueToSet(t){if((t=k3(t,"px"))!==this._defaultValue)return t}}class C3 extends C{static get pluginName(){return"TableCellWidthEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[zu]}init(){const t=this.editor,e=_3(t.config.get("table.tableCellProperties.defaultProperties"));R4(t.model.schema,t.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:e.width}),t.commands.add("tableCellWidth",new y3(t,e.width))}}class A3 extends q{refresh(){this.isEnabled=!0}execute(t={}){const{model:e,plugins:i}=this.editor;let{table:o=e.document.selection.getSelectedElement(),columnWidths:r,tableWidth:s}=t;r&&(r=Array.isArray(r)?r:r.split(",")),e.change(a=>{s?a.setAttribute("tableWidth",s,o):a.removeAttribute("tableWidth",o);const l=i.get("TableColumnResizeEditing").getColumnGroupElement(o);if(!r&&!l)return;if(!r)return a.remove(l);const c=Lu(r);if(l)Array.from(l.getChildren()).forEach((d,u)=>a.setAttribute("columnWidth",c[u],d));else{const d=a.createElement("tableColumnGroup");c.forEach(u=>a.appendElement("tableColumn",{columnWidth:u},d)),a.append(d,o)}})}}function x3(n){return t=>t.on("element:colgroup",(e,i,o)=>{const r=i.modelCursor.findAncestor("table"),s=ys(r);if(!s)return;const a=Cs(s),l=n.getColumns(r);let c=(d=s,u=o.writer,Cs(d).reduce((h,g)=>{const f=g.getAttribute("columnWidth"),p=g.getAttribute("colSpan");if(!p)return h.push(f),h;for(let b=0;b<p;b++)h.push(f);return u.removeAttribute("colSpan",g),h},[]));var d,u;c=Array.from({length:l},(h,g)=>c[g]||"auto"),(c.length!=a.length||c.includes("auto"))&&M0(a,s,Lu(c),o.writer)},{priority:"low"})}const j0=wn("px");class E3 extends C{constructor(t){super(t),m(this,"_isResizingActive"),m(this,"_resizingData"),m(this,"_domEmitter"),m(this,"_tableUtilsPlugin"),m(this,"_initialMouseEventData",null),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(Se()),this._tableUtilsPlugin=t.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(e,i,o)=>{const r=o?"removeClass":"addClass";t.editing.view.change(s=>{for(const a of t.editing.view.document.roots)s[r]("ck-column-resize_disabled",t.editing.view.document.getRoot(a.rootName))})})}static get requires(){return[zu,ue]}static get pluginName(){return"TableColumnResizeEditing"}static get isOfficialPlugin(){return!0}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const t=this.editor,e=t.plugins.get("TableColumnResize");t.plugins.get("TableEditing").registerAdditionalSlot({filter:o=>o.is("element","tableColumnGroup"),positionOffset:0});const i=new A3(t);t.commands.add("resizeTableWidth",i),t.commands.add("resizeColumnWidths",i),this.bind("_isResizingAllowed").to(t,"isReadOnly",e,"isEnabled",i,"isEnabled",(o,r,s)=>!o&&r&&s)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(t){return ys(t)}getTableColumnElements(t){return Cs(t)}getTableColumnsWidths(t){return function(e){return Cs(e).map(i=>i.getAttribute("columnWidth"))}(t)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const t=this.editor.model;function e(i,o,r){const s=r._tableUtilsPlugin.getColumns(o);if(s-i.length===0)return i;const a=i.map(d=>Number(d.replace("%",""))),l=function(d,u){const h=new Set;for(const g of d.getChanges())if(g.type=="insert"&&g.position.nodeAfter&&g.position.nodeAfter.name=="tableCell"&&g.position.nodeAfter.getAncestors().includes(u))h.add(g.position.nodeAfter);else if(g.type=="remove"){const f=g.position.nodeBefore||g.position.nodeAfter;f.name=="tableCell"&&f.getAncestors().includes(u)&&h.add(f)}return h}(r.editor.model.document.differ,o);for(const d of l){const u=s-a.length;if(u===0)continue;const h=u>0,g=r._tableUtilsPlugin.getCellLocation(d).column;if(h){const f=K4(o,r.editor),p=(c=f,Array(u).fill(c));a.splice(g,0,...p)}else{const f=a.splice(g,Math.abs(u));a[g]+=vs(f)}}var c;return a.map(d=>d+"%")}t.document.registerPostFixer(i=>{let o=!1;for(const r of function(s){const a=new Set;for(const l of s.document.differ.getChanges()){let c=null;switch(l.type){case"insert":c=["table","tableRow","tableCell"].includes(l.name)?l.position:null;break;case"remove":c=["tableRow","tableCell"].includes(l.name)?l.position:null;break;case"attribute":l.range.start.nodeAfter&&(c=["table","tableRow","tableCell"].includes(l.range.start.nodeAfter.name)?l.range.start:null)}if(!c)continue;const d=c.nodeAfter&&c.nodeAfter.is("element","table")?c.nodeAfter:c.findAncestor("table");for(const u of s.createRangeOn(d).getItems())u.is("element","table")&&ys(u)&&a.add(u)}return a}(t)){const s=this.getColumnGroupElement(r),a=this.getTableColumnElements(s),l=this.getTableColumnsWidths(s);let c=Lu(l);c=e(c,r,this),Ys(l,c)||(M0(a,s,c,i),o=!0)}return o})}_registerConverters(){const t=this.editor.conversion;t.for("upcast").attributeToAttribute({view:{name:/^(figure|table)$/,styles:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:e=>e.getStyle("width")}}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:e=>({name:"figure",key:"style",value:{width:e}})}),t.elementToElement({model:"tableColumnGroup",view:"colgroup"}),t.elementToElement({model:"tableColumn",view:"col"}),t.for("downcast").add(e=>e.on("insert:table",(i,o,r)=>{const s=r.writer,a=o.item,l=r.mapper.toViewElement(a),c=l.is("element","table")?l:Array.from(l.getChildren()).find(d=>d.is("element","table"));ys(a)?s.addClass("ck-table-resized",c):s.removeClass("ck-table-resized",c)},{priority:"low"})),t.for("upcast").add(x3(this._tableUtilsPlugin)),t.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:e=>{const i=e.getStyle("width");return i&&(i.endsWith("%")||i.endsWith("pt"))?i:"auto"}}}),t.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),t.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:e=>({key:"style",value:{width:e}})})}_registerResizingListeners(){const t=this.editor.editing.view;t.addObserver(R0),t.document.on("mouseover",this._onMouseOverHandler.bind(this),{priority:"high"}),t.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),t.document.on("mouseout",this._onMouseOutHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(L.window.document,"mousemove",Io(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(L.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_recalculateResizerElement(t){const e=this.editor,i=e.editing.view.domConverter,o=i.mapViewToDom(t.findAncestor("table")),r=i.mapViewToDom(t.findAncestor(d=>["td","th"].includes(d.name))),s=new K(o),a=new K(r),l=j0(Number((s.top-a.top).toFixed(4))),c=j0(Number((a.bottom-s.bottom).toFixed(4)));e.editing.view.change(d=>{d.setStyle("top",l,t),d.setStyle("bottom",c,t)})}_resetResizerStyles(t){this.editor.editing.view.change(e=>{e.removeStyle("top",t),e.removeStyle("bottom",t)})}_onMouseOverHandler(t,e){const i=e.target;i.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&this._recalculateResizerElement(i)}_onMouseOutHandler(t,e){const i=e.target;i.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&(this._isResizingActive||this._resetResizerStyles(i))}_onMouseDownHandler(t,e){const i=e.target;if(!i.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const o=this.editor,r=o.editing.mapper.toModelElement(i.findAncestor("figure"));o.model.canEditAt(r)&&(e.preventDefault(),t.stop(),this._initialMouseEventData=e)}_startResizingAfterThreshold(){const t=this._initialMouseEventData,{target:e}=t,i=this.editor.editing.mapper.toModelElement(e.findAncestor("figure")),o=e.findAncestor("table"),r=function(s,a,l){const c=Array(a.getColumns(s)),d=new vt(s);for(const u of d){const h=l.editing.mapper.toViewElement(u.cell),g=Y4(l.editing.view.domConverter.mapViewToDom(h));(!c[u.column]||g<c[u.column])&&(c[u.column]=ri(g))}return c}(i,this._tableUtilsPlugin,this.editor);Array.from(o.getChildren()).find(s=>s.is("element","colgroup"))||this.editor.editing.view.change(s=>{(function(a,l,c){const d=a.createContainerElement("colgroup");for(let u=0;u<l.length;u++){const h=a.createEmptyElement("col"),g=`${ri(l[u]/vs(l)*100)}%`;a.setStyle("width",g,h),a.insert(a.createPositionAt(d,"end"),h)}a.insert(a.createPositionAt(c,0),d)})(s,r,o)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(t,r),this.editor.editing.view.change(s=>function(a,l,c){const d=c.widths.viewFigureWidth/c.widths.viewFigureParentWidth;a.addClass("ck-table-resized",l),a.addClass("ck-table-column-resizer__active",c.elements.viewResizer),a.setStyle("width",`${ri(100*d)}%`,l.findAncestor("figure"))}(s,o,this._resizingData))}_onMouseMoveHandler(t,e){if(this._initialMouseEventData){const x=this._initialMouseEventData.domEvent;if(!(Math.abs(e.clientX-x.clientX)>=3))return;this._startResizingAfterThreshold(),this._initialMouseEventData=null}if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:i,flags:{isRightEdge:o,isTableCentered:r,isLtrContent:s},elements:{viewFigure:a,viewLeftColumn:l,viewRightColumn:c,viewResizer:d},widths:{viewFigureParentWidth:u,tableWidth:h,leftColumnWidth:g,rightColumnWidth:f}}=this._resizingData,p=40-g,b=o?u-h:f-40,k=(s?1:-1)*(o&&r?2:1),w=(_=(e.clientX-i)*k,y=Math.min(p,0),A=Math.max(b,0),ri(_<=y?y:_>=A?A:_));var _,y,A;w!==0&&(this.editor.editing.view.change(x=>{const I=ri(100*(g+w)/h);if(x.setStyle("width",`${I}%`,l),o){const z=ri(100*(h+w)/u);x.setStyle("width",`${z}%`,a)}else{const z=ri(100*(f-w)/h);x.setStyle("width",`${z}%`,c)}}),this._recalculateResizerElement(d))}_onMouseUpHandler(){if(this._initialMouseEventData=null,!this._isResizingActive)return;const{viewResizer:t,modelTable:e,viewFigure:i,viewColgroup:o}=this._resizingData.elements,r=this.editor,s=r.editing.view,a=this.getColumnGroupElement(e),l=Array.from(o.getChildren()).filter(p=>p.is("view:element")),c=a?this.getTableColumnsWidths(a):null,d=l.map(p=>p.getStyle("width")),u=!Ys(c,d),h=e.getAttribute("tableWidth"),g=i.getStyle("width"),f=h!==g;(u||f)&&(this._isResizingAllowed?r.execute("resizeTableWidth",{table:e,tableWidth:`${ri(g)}%`,columnWidths:d}):s.change(p=>{if(c)for(const b of l)p.setStyle("width",c.shift(),b);else p.remove(o);f&&(h?p.setStyle("width",h,i):p.removeStyle("width",i)),c||h||p.removeClass("ck-table-resized",[...i.getChildren()].find(b=>b.name==="table"))})),s.change(p=>{p.removeClass("ck-table-column-resizer__active",t)}),s.domConverter.mapViewToDom(t).matches(":hover")||this._resetResizerStyles(t),this._isResizingActive=!1,this._resizingData=null}_getResizingData(t,e){const i=this.editor,o=t.domEvent.clientX,r=t.target,s=r.findAncestor("td")||r.findAncestor("th"),a=i.editing.mapper.toModelElement(s),l=a.findAncestor("table"),c=function(w,_){const y=_.getCellLocation(w).column;return{leftEdge:y,rightEdge:y+(w.getAttribute("colspan")||1)-1}}(a,this._tableUtilsPlugin).rightEdge,d=c===this._tableUtilsPlugin.getColumns(l)-1,u=!l.hasAttribute("tableAlignment"),h=i.locale.contentLanguageDirection!=="rtl",g=s.findAncestor("table"),f=g.findAncestor("figure"),p=[...g.getChildren()].find(w=>w.is("element","colgroup")),b=p.getChild(c),k=d?void 0:p.getChild(c+1);return{columnPosition:o,flags:{isRightEdge:d,isTableCentered:u,isLtrContent:h},elements:{viewResizer:r,modelTable:l,viewFigure:f,viewColgroup:p,viewLeftColumn:b,viewRightColumn:k},widths:{viewFigureParentWidth:Pu(i.editing.view.domConverter.mapViewToDom(f.parent)),viewFigureWidth:Pu(i.editing.view.domConverter.mapViewToDom(f)),tableWidth:S0(l,i),leftColumnWidth:e[c],rightColumnWidth:d?void 0:e[c+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(t=>{t.on("insert:tableCell",(e,i,o)=>{const r=i.item,s=o.mapper.toViewElement(r),a=o.writer;a.insert(a.createPositionAt(s,"end"),a.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}class T3 extends C{static get requires(){return[E3,C3]}static get pluginName(){return"TableColumnResize"}static get isOfficialPlugin(){return!0}}const S3=`:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;max-height:200px;min-width:auto;overflow-y:auto}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;background:var(--ck-color-button-default-background);border:1px solid transparent;border-radius:0;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit;opacity:.5}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-medium)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background);color:var(--ck-color-button-on-color)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background);color:var(--ck-color-button-action-text)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;border-radius:0;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);border-radius:0;height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}.ck.ck-button.ck-list-item-button{padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2)}.ck.ck-button.ck-list-item-button,.ck.ck-button.ck-list-item-button.ck-on{background:var(--ck-color-list-background);color:var(--ck-color-text)}[dir=ltr] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-right:var(--ck-spacing-small)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable):not(.ck-disabled),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled):not(.ck-disabled){color:var(--ck-color-text)}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);border-radius:0;max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width);overscroll-behavior:contain}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}.ck-dialog-scroll-locked{overflow:hidden}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}.ck.ck-dialog .ck.ck-dialog__actions{padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;min-width:100%}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button{border-radius:0;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-icon-spacing:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:calc(var(--ck-spacing-small)*-1);transform:rotate(90deg)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-dropdown-menu-list__nested-menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}:root{--ck-dropdown-menu-menu-item-min-width:18em}.ck.ck-dropdown-menu-list__nested-menu__item{min-width:var(--ck-dropdown-menu-menu-item-min-width)}.ck-button.ck-dropdown-menu-list__nested-menu__item__button{border-radius:0}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container,.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus{border-color:transparent;box-shadow:none}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}:root{--ck-dropdown-menu-menu-panel-max-width:75vw}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-dropdown-menu-menu-panel-max-width)}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:after,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:before{display:none}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_es,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_se{border-top-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_sw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ws{border-top-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_en,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ne{border-bottom-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_nw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_wn{border-bottom-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:focus{outline:none}:root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content *{white-space:normal}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}:root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}.ck.ck-form__header:has(.ck-button-back.ck-hidden){padding-inline:var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-form__header:has(.ck-button-back:not(.ck-hidden)){padding-inline:var(--ck-spacing-small) var(--ck-spacing-small)}.ck.ck-form__header>.ck-button-back{margin-inline-end:var(--ck-spacing-small)}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal));--ck-icon-font-size:.8333350694em}.ck.ck-icon{font-size:var(--ck-icon-font-size);height:var(--ck-icon-size);width:var(--ck-icon-size)}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}:root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);border-radius:0;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}.ck.ck-label{font-weight:700}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;top:0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}.ck.ck-labeled-field-view.ck-labeled-field-view_full-width{flex-grow:1}.ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}.ck.ck-list{background:var(--ck-color-list-background);border-radius:0;list-style-type:none;padding:var(--ck-spacing-small) 0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list__item{cursor:default;min-width:15em}.ck.ck-list__item>.ck-button:not(.ck-list-item-button){border-radius:0;min-height:unset;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}[dir=ltr] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:right}.ck.ck-list__item>.ck-button:not(.ck-list-item-button) .ck-button__label{line-height:calc(var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button){background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium)}.ck-list .ck-list__group:first-child{padding-top:0}:not(.ck-hidden)~.ck-list .ck-list__group{border-top:1px solid var(--ck-color-base-border)}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large) 0}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;margin:var(--ck-spacing-small) 0;width:100%}.ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}.ck.ck-menu-bar__menu{font-size:inherit}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;overflow:visible;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small);transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}:root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{font-size:var(--ck-icon-font-size)}[dir=ltr] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:var(--ck-spacing-medium)}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}.ck.ck-menu-bar .ck-list-item-button:active,.ck.ck-menu-bar .ck-list-item-button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:active,.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none;position:relative;z-index:2}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);border-radius:0;min-height:15px}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}.ck.ck-spinner-container{animation:ck-spinner-rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes ck-spinner-rotate{to{transform:rotate(1turn)}}.ck-textarea{overflow-x:hidden}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);border-radius:0;padding:0 var(--ck-spacing-small)}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar .ck.ck-toolbar__separator{background:var(--ck-color-toolbar-border);height:var(--ck-icon-size);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);box-shadow:none;padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip:before{display:none}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-radius:0;border-width:1px 1px 0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}:root{--ck-bookmark-icon-hover-fill-color:var(--ck-color-widget-hover-border);--ck-bookmark-icon-selected-fill-color:var(--ck-color-focus-border);--ck-bookmark-icon-animation-duration:var(--ck-widget-handler-animation-duration);--ck-bookmark-icon-animation-curve:var(--ck-widget-handler-animation-curve)}.ck .ck-bookmark.ck-widget{display:inline-block;outline:none}.ck .ck-bookmark.ck-widget .ck-bookmark__icon .ck-icon__fill{transition:fill var(--ck-bookmark-icon-animation-duration) var(--ck-bookmark-icon-animation-curve)}.ck .ck-bookmark.ck-widget:hover .ck-bookmark__icon .ck-icon__fill{fill:var(--ck-bookmark-icon-hover-fill-color)}.ck .ck-bookmark.ck-widget.ck-widget_selected .ck-bookmark__icon .ck-icon__fill{fill:var(--ck-bookmark-icon-selected-fill-color)}.ck .ck-bookmark.ck-widget.ck-widget_selected,.ck .ck-bookmark.ck-widget.ck-widget_selected:hover{outline:none}.ck .ck-bookmark.ck-widget .ck-bookmark__icon{display:block;position:relative;top:-.1em}.ck .ck-bookmark.ck-widget .ck-bookmark__icon .ck-icon{height:1.2em;vertical-align:middle;width:auto}.ck .ck-fake-bookmark-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-bookmark-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}:root{--ck-bookmark-form-width:340px}@media screen and (max-width:600px){:root{--ck-bookmark-form-width:300px}}.ck.ck-bookmark-form{width:var(--ck-bookmark-form-width)}.ck.ck-bookmark-balloon .ck.ck-toolbar>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-bookmark-toolbar__preview{cursor:default;font-weight:400;max-width:var(--ck-input-width);min-width:3em;overflow:hidden;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-content:stretch;align-items:center;flex:1 1 auto;flex-direction:row;flex-wrap:wrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*,[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*,[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view .ck-input,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-items:flex-start}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{color:var(--ck-color-base-border);top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{flex:0 0 100%;padding-top:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-right:0}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-switchbutton{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{max-width:100%;width:300px}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input{flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view){flex:1 1 auto;flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button .ck-button__label{text-align:center;width:100%}}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width);padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}:root{--ck-text-alternative-form-width:340px}@media screen and (max-width:600px){:root{--ck-text-alternative-form-width:300px}}.ck.ck-text-alternative-form.ck-responsive-form{width:var(--ck-text-alternative-form-width)}:root{--ck-image-custom-resize-form-width:340px}@media screen and (max-width:600px){:root{--ck-image-custom-resize-form-width:300px}}.ck.ck-image-custom-resize-form.ck-responsive-form{width:var(--ck-image-custom-resize-form-width)}.ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}:root{--ck-link-bookmark-icon-size:calc(var(--ck-icon-size)*0.7)}.ck.ck-toolbar.ck-link-toolbar>.ck-toolbar__items{flex-wrap:nowrap}a.ck.ck-button.ck-link-toolbar__preview{color:var(--ck-color-link-default);cursor:pointer;justify-content:center;padding:0 var(--ck-spacing-medium)}a.ck.ck-button.ck-link-toolbar__preview .ck.ck-button__label{max-width:var(--ck-input-width);text-overflow:ellipsis}a.ck.ck-button.ck-link-toolbar__preview,a.ck.ck-button.ck-link-toolbar__preview:active,a.ck.ck-button.ck-link-toolbar__preview:focus,a.ck.ck-button.ck-link-toolbar__preview:hover{background:none}a.ck.ck-button.ck-link-toolbar__preview:active{box-shadow:none}a.ck.ck-button.ck-link-toolbar__preview:focus,a.ck.ck-button.ck-link-toolbar__preview:hover{text-decoration:underline}a.ck.ck-button.ck-link-toolbar__preview.ck-button_with-text .ck.ck-icon.ck-button__icon{height:var(--ck-link-bookmark-icon-size);width:var(--ck-link-bookmark-icon-size)}[dir=ltr] a.ck.ck-button.ck-link-toolbar__preview.ck-button_with-text .ck.ck-icon.ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-tiny)}[dir=rtl] a.ck.ck-button.ck-link-toolbar__preview.ck-button_with-text .ck.ck-icon.ck-button__icon{margin-left:var(--ck-spacing-tiny);margin-right:var(--ck-spacing-small)}a.ck.ck-button.ck-link-toolbar__preview:has(.ck-icon){padding-left:var(--ck-spacing-extra-tiny )}:root{--ck-link-panel-width:340px;--ck-link-provider-list-item-text-height:calc(var(--ck-line-height-base)*var(--ck-font-size-base));--ck-link-provider-list-item-height:calc(var(--ck-link-provider-list-item-text-height) + var(--ck-spacing-small) + var(--ck-spacing-small))}@media screen and (max-width:600px){:root{--ck-link-panel-width:300px}}.ck.ck-form.ck-link-form{padding-bottom:0;width:var(--ck-link-panel-width)}@media screen and (max-width:600px){.ck.ck-form.ck-link-form.ck-responsive-form .ck-labeled-field-view{margin:0}}.ck.ck-form.ck-link-form .ck-link-form__providers-list{border-top:1px solid var(--ck-color-base-border)}.ck.ck-form.ck-link-form .ck-link-form__providers-list:has(.ck-list__item:nth-child(n+5)){max-height:calc(var(--ck-link-provider-list-item-height)*4 + var(--ck-spacing-large) + 1px);overflow:auto}.ck.ck-form.ck-link-form .ck-link-form__providers-list .ck-link__button{border-radius:0;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form.ck-link-form .ck-link-form__providers-list .ck-link__button>.ck-button__label{overflow:hidden;text-overflow:ellipsis}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}:root{--ck-link-properties-width:340px}@media screen and (max-width:600px){:root{--ck-link-properties-width:300px}}.ck.ck-link-properties{width:var(--ck-link-properties-width)}:root{--ck-link-providers-width:340px;--ck-link-list-view-max-height:240px;--ck-link-list-view-icon-size:calc(var(--ck-icon-size)*0.8)}@media screen and (max-width:600px){:root{--ck-link-providers-width:300px}}.ck.ck-link-providers{width:var(--ck-link-providers-width)}.ck.ck-link-providers .ck-form__header__label{overflow:hidden;text-overflow:ellipsis}.ck.ck-link-providers>.ck-link-providers__list{max-height:min(var(--ck-link-list-view-max-height),40vh)}.ck.ck-link-providers>.ck-link-providers__list .ck-button>.ck-icon{height:var(--ck-link-list-view-icon-size);width:var(--ck-link-list-view-icon-size)}.ck.ck-link-providers>.ck-link-providers__list .ck-button>.ck-button__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck.ck-link-providers .ck-link__empty-list-info{font-style:italic;padding:calc(var(--ck-spacing-large)*2) var(--ck-spacing-medium);text-align:center}.ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wm0xNjQuNzA2LTUuMTExYzAgMTYuNjk2LTEzLjUzNSAzMC4yMy0zMC4yMzEgMzAuMjMtMTYuNjk1IDAtMzAuMjMtMTMuNTM0LTMwLjIzLTMwLjIzIDAtMTYuNjk2IDEzLjUzNS0zMC4yMzEgMzAuMjMtMzAuMjMxIDE2LjY5NiAwIDMwLjIzMSAxMy41MzUgMzAuMjMxIDMwLjIzMSIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}:root{--ck-color-mention-background:rgba(153,0,48,.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}:root{--ck-color-restricted-editing-exception-background:rgba(255,169,77,.2);--ck-color-restricted-editing-exception-hover-background:rgba(255,169,77,.35);--ck-color-restricted-editing-exception-brackets:rgba(204,105,0,.4);--ck-color-restricted-editing-selected-exception-background:rgba(255,169,77,.5);--ck-color-restricted-editing-selected-exception-brackets:rgba(204,105,0,.6)}.ck-editor__editable .restricted-editing-exception{background-color:var(--ck-color-restricted-editing-exception-background);border:1px solid;border-image:linear-gradient(to right,var(--ck-color-restricted-editing-exception-brackets) 0,var(--ck-color-restricted-editing-exception-brackets) 5px,transparent 6px,transparent calc(100% - 6px),var(--ck-color-restricted-editing-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-exception-brackets) 100%) 1;transition:background .2s ease-in-out}@media (prefers-reduced-motion:reduce){.ck-editor__editable .restricted-editing-exception{transition:none}}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_selected{background-color:var(--ck-color-restricted-editing-selected-exception-background);border-image:linear-gradient(to right,var(--ck-color-restricted-editing-selected-exception-brackets) 0,var(--ck-color-restricted-editing-selected-exception-brackets) 5px,var(--ck-color-restricted-editing-selected-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-selected-exception-brackets) 100%) 1}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_collapsed{padding-left:1ch}.ck-restricted-editing_mode_restricted,.ck-restricted-editing_mode_restricted *{cursor:default}.ck-restricted-editing_mode_restricted .restricted-editing-exception,.ck-restricted-editing_mode_restricted .restricted-editing-exception *{cursor:text}.ck-restricted-editing_mode_restricted .restricted-editing-exception:hover{background:var(--ck-color-restricted-editing-exception-hover-background)}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{overflow-x:hidden;overflow-y:auto}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(auto-fill,minmax(var(--ck-character-grid-tile-size),1fr));margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.5em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}@media (prefers-reduced-motion:reduce){.ck.ck-character-grid .ck-character-grid__tile{transition:none}}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}.ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}.ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}.ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active>.ck-button>.ck-button__label{font-style:italic}:root{--ck-style-panel-button-width:120px;--ck-style-panel-button-height:80px;--ck-style-panel-button-label-background:#f0f0f0;--ck-style-panel-button-hover-label-background:#ebebeb;--ck-style-panel-button-hover-border-color:#b3b3b3}.ck.ck-style-panel .ck-style-grid{column-gap:var(--ck-spacing-large);row-gap:var(--ck-spacing-large)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{--ck-color-button-default-hover-background:var(--ck-color-base-background);--ck-color-button-default-active-background:var(--ck-color-base-background);height:var(--ck-style-panel-button-height);padding:0;width:var(--ck-style-panel-button-width)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-button__label{flex-shrink:0;height:22px;line-height:22px;overflow:hidden;padding:0 var(--ck-spacing-medium);text-overflow:ellipsis;width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{background:var(--ck-color-base-background);border:2px solid var(--ck-color-base-background);opacity:.9;overflow:hidden;padding:var(--ck-spacing-medium);width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled{--ck-color-button-default-disabled-background:var(--ck-color-base-foreground)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled:not(:focus){border-color:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled .ck-style-grid__button__preview{border-color:var(--ck-color-base-foreground);filter:saturate(.3);opacity:.4}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on{border-color:var(--ck-color-base-active)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on .ck-button__label{box-shadow:0 -1px 0 var(--ck-color-base-active);z-index:1}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on:hover{border-color:var(--ck-color-base-active-focus)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on) .ck-button__label{background:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on):hover .ck-button__label{background:var(--ck-style-panel-button-hover-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on){border-color:var(--ck-style-panel-button-hover-border-color)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on) .ck-style-grid__button__preview{opacity:1}.ck.ck-style-panel .ck-style-panel__style-group>.ck-label{margin:var(--ck-spacing-large) 0}.ck.ck-style-panel .ck-style-panel__style-group:first-child>.ck-label{margin-top:0}:root{--ck-style-panel-max-height:470px}.ck.ck-style-panel{max-height:var(--ck-style-panel-max-height);overflow-y:auto;padding:var(--ck-spacing-large)}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);border-radius:0;height:20px;width:20px}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}.ck.ck-form__row>:not(.ck-label)+*{margin-inline-start:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}:root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both;background:var(--ck-color-base-error);border-radius:0;color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}:root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}:root{--ck-table-layout-widget-type-around-button-size:16px;--ck-table-layout-widget-type-around-icon-width:10px;--ck-table-layout-widget-type-around-icon-height:8px;--ck-table-layout-widget-handler-icon-size:10px;--ck-table-layout-default-border-color:#d4d4d4}.ck-editor__editable .table.layout-table>table{border-collapse:revert;height:100%;width:100%}.ck-editor__editable .table.layout-table>table:not([style*="border:"],[style*=border-top],[style*=border-bottom],[style*=border-left],[style*=border-right],[style*=border-width],[style*=border-style],[style*=border-color]){border-color:transparent;border-width:0;outline:none}.ck-editor__editable .table.layout-table>table>tbody>tr>td{box-shadow:revert;min-width:2em;padding:revert;text-indent:1px}.ck-editor__editable .table.layout-table>table>tbody>tr>td[style*=" width:"],.ck-editor__editable .table.layout-table>table>tbody>tr>td[style*="'width:"],.ck-editor__editable .table.layout-table>table>tbody>tr>td[style*=";width:"],.ck-editor__editable .table.layout-table>table>tbody>tr>td[style^="width:"]{min-width:auto}.ck-editor__editable .table.layout-table>table>tbody>tr>td:focus{background-color:transparent}.ck-editor__editable .table.layout-table>table>tbody>tr>td:not([style*="border:"],[style*=border-top],[style*=border-bottom],[style*=border-left],[style*=border-right],[style*=border-width],[style*=border-style],[style*=border-color]){border-color:transparent;border-width:0;outline:var(--ck-table-layout-default-border-color) 1px dashed;outline-offset:-1px}.ck-editor__editable .table.layout-table>table>tbody>tr>td:not([style*="border:"],[style*=border-top],[style*=border-bottom],[style*=border-left],[style*=border-right],[style*=border-width],[style*=border-style],[style*=border-color]):focus{outline:var(--ck-color-focus-border) 1px solid}.ck-editor__editable .table.layout-table>table>tbody>tr>td>.ck-table-bogus-paragraph{text-indent:0;width:calc(100% - 1px)}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around{--ck-widget-type-around-button-size:var(--ck-table-layout-widget-type-around-button-size)}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_after,.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_before{transform:translateY(0);z-index:2}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_before{border-radius:0 0 100px 100px;left:min(10%,30px);margin-left:var(--ck-table-layout-widget-type-around-button-size)}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_before:after{border-radius:0 0 100px 100px}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_after,.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_after:after{border-radius:100px 100px 0 0}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button svg{height:var(--ck-table-layout-widget-type-around-icon-height);width:var(--ck-table-layout-widget-type-around-icon-width)}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_with-selection-handle>.ck-widget__selection-handle{--ck-widget-handler-icon-size:var(--ck-table-layout-widget-handler-icon-size);transform:translateY(calc(0px - var(--ck-widget-outline-thickness)));z-index:3}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:0}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:0}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{box-shadow:var(--ck-inner-shadow),0 0}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused:not(td,th),.ck .ck-editor__nested-editable:focus:not(td,th){border:var(--ck-focus-ring);outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck .ck-widget:has(.ck-widget.table:hover){outline-color:transparent}.ck .ck-widget.ck-widget_with-selection-handle:has(.ck-widget.table:hover)>.ck-widget__selection-handle{opacity:0;visibility:hidden}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget:has(.ck-widget.table:hover)>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}.ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}.ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}:root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}.ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}.ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-menu-bar{border:none;border-bottom:1px solid var(--ck-color-toolbar-border)}:root{--ck-emoji-grid-tile-size:27px}.ck.ck-emoji .ck.ck-emoji__tiles{border-top:1px solid var(--ck-color-base-border);max-height:min(265px,40vh);max-width:100%;overflow-x:hidden;overflow-y:auto}.ck.ck-emoji .ck.ck-emoji__tiles .ck-emoji__grid{grid-gap:var(--ck-spacing-small);display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--ck-emoji-grid-tile-size),1fr));margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-emoji .ck.ck-emoji__tiles .ck-emoji__tile{border:0;font-size:1.5em;height:var(--ck-emoji-grid-tile-size);min-height:var(--ck-emoji-grid-tile-size);min-width:var(--ck-emoji-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-emoji-grid-tile-size)}@media (prefers-reduced-motion:reduce){.ck.ck-emoji .ck.ck-emoji__tiles .ck-emoji__tile{transition:none}}.ck.ck-emoji .ck.ck-emoji__tiles .ck-emoji__tile:focus:not(.ck-disabled),.ck.ck-emoji .ck.ck-emoji__tiles .ck-emoji__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-emoji .ck.ck-emoji__tiles .ck-emoji__tile .ck-button__label{line-height:var(--ck-emoji-grid-tile-size);text-align:center;width:100%}.ck.ck-emoji__categories-list{display:flex;justify-content:space-between;margin:0 var(--ck-spacing-large)}.ck.ck-emoji__categories-list>.ck.ck-button.ck-button_with-text{border-width:0;border-bottom:2px solid transparent;font-size:var(--ck-font-size-big);min-height:var(--ck-font-size-big);min-width:var(--ck-font-size-big);padding:0}.ck.ck-emoji__categories-list>.ck.ck-button.ck-button_with-text.ck-emoji__category-item.ck-on{border-bottom-color:var(--ck-color-base-active)}.ck.ck-emoji__categories-list>.ck.ck-button.ck-button_with-text>span{margin:auto}.ck.ck-emoji__skin-tone{margin-left:var(--ck-spacing-standard)}.ck.ck-emoji__skin-tone>.ck.ck-dropdown .ck.ck-list__item{min-width:1em}.ck.ck-emoji__skin-tone>.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:auto}.ck.ck-form.ck-emoji-picker-form{padding-bottom:0}.ck.ck-form.ck-emoji-picker-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border-color:transparent}.ck.ck-emoji{width:320px}.ck .ck.ck-emoji__search{align-items:center;display:flex;justify-content:space-between;padding:var(--ck-spacing-large);padding-bottom:var(--ck-spacing-medium)}.ck .ck.ck-emoji__search>.ck.ck-search{flex:1}.ck .ck-fake-emoji-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-emoji-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}div.ck.ck-balloon-panel.ck-emoji-picker-balloon{z-index:calc(var( --ck-z-dialog ) + 1)}.ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}.ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}.ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{display:flex}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions.ck-find-and-replace-form__inputs .ck-results-counter,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs.ck-find-and-replace-form__inputs .ck-results-counter{position:absolute}.ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}body.ck-fullscreen,html.ck-fullscreen{--ck-z-fullscreen:10000;--ck-z-default:calc(var(--ck-z-fullscreen) + 1);--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:100000;overflow:hidden}body.ck-fullscreen .ckbox-reset:not(#n)>.ckbox--dialog,html.ck-fullscreen .ckbox-reset:not(#n)>.ckbox--dialog{--ckbox-z-index-root:calc(var(--ck-z-dialog) + 1)}body.ck-fullscreen .ckbox:not(#n) .ckbox-img-editor,html.ck-fullscreen .ckbox:not(#n) .ckbox-img-editor{--ckbox-z-index-preview:calc(var(--ck-z-dialog) + 1)}body.ck-fullscreen .ck-pagination-view-line,html.ck-fullscreen .ck-pagination-view-line{z-index:calc(var(--ck-z-fullscreen) + 1)}body.ck-fullscreen .page-break__label,html.ck-fullscreen .page-break__label{z-index:calc(var(--ck-z-fullscreen) + 2)}.ck.ck-fullscreen__main-wrapper{background:var(--ck-color-base-foreground);display:flex;flex-direction:column;height:100%;left:0;position:fixed;top:0;width:100%;z-index:var(--ck-z-fullscreen)}.ck.ck-fullscreen__main-wrapper .ck.ck-revision-history-ui__changes-navigation{margin-bottom:0;margin-top:0}:not(body>.ck-fullscreen__main-wrapper).ck-fullscreen__main-wrapper{position:absolute}.ck-fullscreen__menu-bar .ck.ck-menu-bar{border:none}.ck-fullscreen__main-wrapper .ck-fullscreen__editable-wrapper{--ck-fullscreen-editor-top-margin:28px;--ck-fullscreen-editor-bottom-margin:28px;display:flex;justify-content:flex-start;max-height:100%;overflow:auto}.ck-fullscreen__sidebar{flex-shrink:0;margin-left:10px;margin-top:var(--ck-fullscreen-editor-top-margin);width:300px}.ck-fullscreen__sidebar[data-ck-fullscreen=right-sidebar]{margin-right:auto}.ck-fullscreen__main-wrapper .ck-fullscreen__editable{height:100%;margin-bottom:56px;margin-left:auto;margin-top:var(--ck-fullscreen-editor-top-margin)}.ck-fullscreen__main-wrapper .ck-fullscreen__editable:after{content:"";display:block;height:var(--ck-fullscreen-editor-bottom-margin)}.ck-fullscreen__main-wrapper .ck-fullscreen__editable .ck.ck-editor__editable:not(.ck-editor__nested-editable){background:#fff;border:1px solid var(--ck-color-base-border);box-shadow:0 2px 3px rgba(0,0,0,.078);box-sizing:border-box;height:fit-content;min-height:297mm;padding:20mm 12mm;width:210.52917mm}.ck-fullscreen__main-wrapper .ck-fullscreen__editable .ck-source-editing-area{width:210.52917mm}.ck-fullscreen__left-sidebar{--ck-user-avatar-size:28px;align-self:flex-start;background-color:transparent;box-sizing:border-box;display:flex;flex-direction:column;font-family:Helvetica,Arial,sans-serif;height:100%;margin-top:0;position:sticky;top:0}.ck-fullscreen__left-sidebar .ck.ck-presence-list--collapsed{--ck-user-avatar-size:32px}.ck-fullscreen__left-sidebar>:first-child{padding-top:var(--ck-fullscreen-editor-top-margin)}.ck-fullscreen__left-sidebar .ck-presence-list__users-counter__text,.ck-fullscreen__left-sidebar .ck-user{font-size:.85em}.ck-fullscreen__left-sidebar-item{margin-bottom:var(--ck-spacing-medium);padding:var(--ck-spacing-medium)}.ck-fullscreen__left-sidebar-item:last-child{margin-bottom:0}.ck-fullscreen__left-sidebar-header{--ck-fullscreen-presence-list-header-font-size:0.875em;color:var(--ck-document-outline-item-default-color);font-size:var(--ck-fullscreen-presence-list-header-font-size);font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck-fullscreen__left-sidebar--sticky{position:sticky;top:0}.ck-fullscreen__left-sidebar--sticky>:first-child{padding-top:0}.ck-fullscreen__presence-list{margin-top:var(--ck-spacing-medium)}.ck-fullscreen__left-sidebar-item--no-margin{margin:0}.ck-fullscreen__left-sidebar .ck.ck-document-outline{padding-left:0;padding-right:0;padding-top:0}.ck-fullscreen__document-outline-wrapper{overflow-y:auto;padding-top:0}.ck.ck-heading_heading1 .ck-button__label{font-size:20px}.ck.ck-heading_heading2 .ck-button__label{font-size:17px}.ck.ck-heading_heading3 .ck-button__label{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}:root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}.ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}.ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}:root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}.ck.ck-image-insert-url{padding:var(--ck-spacing-large) var(--ck-spacing-large) 0;width:400px}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}.ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}:root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}.ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}.ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}.ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}.ck.ck-link-providers>.ck-link-providers__list{overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain}.ck.ck-link-providers>.ck-link-providers__list .ck-button>.ck-icon{flex-shrink:0}.ck.ck-link-toolbar__preview{display:inline-block}.ck.ck-link-toolbar__preview .ck-button__label{overflow:hidden}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}.ck.ck-link-form .ck-link-form__providers-list{display:flex;flex-direction:column}.ck.ck-link-form .ck-link-form__providers-list .ck-link__button>.ck-button__label{flex-grow:1}.ck.ck-link-form .ck-link__items:empty{display:none}.ck-editor__editable .ck-list-bogus-paragraph{display:block}.ck.ck-list-styles-list{display:grid}.ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}:root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}:root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{flex-shrink:0;overflow:hidden}div.ck.ck-balloon-panel.ck-mention-balloon{z-index:calc(var( --ck-z-dialog ) + 1)}:root{--ck-color-minimap-tracker-background:208,0%,51%;--ck-color-minimap-iframe-outline:#bfbfbf;--ck-color-minimap-iframe-shadow:rgba(0,0,0,.11);--ck-color-minimap-progress-background:#666}.ck.ck-minimap{background:var(--ck-color-base-background);position:absolute;user-select:none}.ck.ck-minimap,.ck.ck-minimap iframe{height:100%;width:100%}.ck.ck-minimap iframe{border:0;box-shadow:0 2px 5px var(--ck-color-minimap-iframe-shadow);margin:0;outline:1px solid var(--ck-color-minimap-iframe-outline);pointer-events:none;position:relative}.ck.ck-minimap .ck.ck-minimap__position-tracker{background:hsla(var(--ck-color-minimap-tracker-background),.2);position:absolute;top:0;transition:background .1s ease-in-out;width:100%;z-index:1}@media (prefers-reduced-motion:reduce){.ck.ck-minimap .ck.ck-minimap__position-tracker{transition:none}}.ck.ck-minimap .ck.ck-minimap__position-tracker:hover{background:hsla(var(--ck-color-minimap-tracker-background),.3)}.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging,.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:hover{background:hsla(var(--ck-color-minimap-tracker-background),.4)}.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:after,.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:hover:after{opacity:1}.ck.ck-minimap .ck.ck-minimap__position-tracker:after{background:var(--ck-color-minimap-progress-background);border:1px solid var(--ck-color-base-background);border-radius:3px;color:var(--ck-color-base-background);content:attr(data-progress) "%";font-size:10px;opacity:0;padding:2px 4px;position:absolute;right:5px;top:5px;transition:opacity .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-minimap .ck.ck-minimap__position-tracker:after{transition:none}}.ck-content .page-break{align-items:center;clear:both;display:flex;justify-content:center;padding:5px 0;position:relative}.ck-content .page-break:after{border-bottom:2px dashed #c4c4c4;content:"";position:absolute;width:100%}.ck-content .page-break__label{background:#fff;border:1px solid #c4c4c4;border-radius:2px;box-shadow:2px 2px 1px rgba(0,0,0,.15);color:#333;display:block;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;padding:.3em .6em;position:relative;text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}.ck-content :has(+.page-break){margin-bottom:0}}:root{--ck-show-blocks-border-color:#757575}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ADDRESS</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ADDRESS</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ASIDE</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ASIDE</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>BLOCKQUOTE</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>BLOCKQUOTE</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DETAILS</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DETAILS</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *):not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DIV</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DIV</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FOOTER</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FOOTER</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H1</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H1</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H2</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H2</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H3</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H3</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H4</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H4</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H5</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H5</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H6</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H6</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>HEADER</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>HEADER</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>MAIN</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>MAIN</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>NAV</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>NAV</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>PRE</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>PRE</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>OL</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>OL</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>UL</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>UL</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>P</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>P</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>SECTION</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>SECTION</text></svg>");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-repeat:no-repeat;padding-top:15px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FIGCAPTION</text></svg>");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-image:url("data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FIGCAPTION</text></svg>");background-position:calc(100% - 1px) 1px}.ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) " ";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%}.ck-rounded-corners .ck-source-editing-area textarea,.ck-source-editing-area textarea.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}.ck.ck-character-info{display:flex;justify-content:space-between}.ck.ck-special-characters>.ck-dialog__content>div{grid-column-gap:0;grid-row-gap:0;display:grid;grid-template-columns:1fr;grid-template-rows:auto 1fr auto;height:100%;max-width:100%;width:350px}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories{grid-area:1/1/2/2;padding:var(--ck-spacing-medium) var(--ck-spacing-large)}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view{padding-top:var(--ck-spacing-standard);width:100%}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both;background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}@media (prefers-reduced-motion:reduce){.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories .ck-dropdown{display:block;width:100%}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories .ck-dropdown>button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories .ck-dropdown>button>span{width:100%}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-grid{grid-area:2/1/3/2;max-height:200px}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-info{grid-area:3/1/4/2}:root{--ck-style-panel-columns:3}.ck.ck-style-panel .ck-style-grid{display:grid;grid-template-columns:repeat(var(--ck-style-panel-columns),auto);justify-content:start}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{display:flex;flex-direction:column;justify-content:space-between}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{align-content:center;align-items:center;display:flex;flex-basis:100%;flex-grow:1;justify-content:flex-start}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-content figure.table:not(.layout-table){display:table}.ck-content figure.table:not(.layout-table)>table{height:100%;width:100%}.ck-content figure.table:not(.layout-table),.ck-content table.table:not(.layout-table){margin:.9em auto}.ck-content figure.table:not(.layout-table)>table,.ck-content table.table:not(.layout-table){border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0}.ck-content figure.table:not(.layout-table)>table>tbody>tr>th,.ck-content figure.table:not(.layout-table)>table>thead>tr>th,.ck-content table.table:not(.layout-table)>tbody>tr>th,.ck-content table.table:not(.layout-table)>thead>tr>th{background:rgba(0,0,0,.05);font-weight:700}.ck-content figure.table:not(.layout-table)>table>tbody>tr>td,.ck-content figure.table:not(.layout-table)>table>tbody>tr>th,.ck-content figure.table:not(.layout-table)>table>thead>tr>td,.ck-content figure.table:not(.layout-table)>table>thead>tr>th,.ck-content table.table:not(.layout-table)>tbody>tr>td,.ck-content table.table:not(.layout-table)>tbody>tr>th,.ck-content table.table:not(.layout-table)>thead>tr>td,.ck-content table.table:not(.layout-table)>thead>tr>th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}@media print{.ck-content figure.table>table{height:auto}}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}.ck-editor__editable.ck-editor__editable_inline>.ck-widget.ck-widget_with-selection-handle.layout-table:first-child{margin-top:var(--ck-spacing-large)}.ck-editor__editable.ck-editor__editable_inline>.ck-widget.ck-widget_with-selection-handle.layout-table:last-child,.ck-editor__editable.ck-editor__editable_inline>.ck-widget.ck-widget_with-selection-handle.layout-table:nth-last-child(2):has(+.ck-fake-selection-container){margin-bottom:var(--ck-spacing-large)}.ck-editor__editable .table.layout-table{display:table;margin:0}.ck-editor__editable .table.layout-table.ck-widget:hover{z-index:var(--ck-z-default)}.ck-editor__editable .table.layout-table.ck-widget:hover>.ck-widget__selection-handle{opacity:.75;visibility:visible}.ck-editor__editable .table.layout-table.ck-widget:hover>.ck-widget__selection-handle:hover{opacity:1}.ck-editor__editable .table.layout-table.ck-widget:has(.ck-widget.table:hover)>.ck-widget__selection-handle{opacity:0;visibility:hidden}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_selected{z-index:var(--ck-z-default)}.ck-content figure.table.layout-table,.ck-content table.table.layout-table{margin-bottom:0;margin-top:0}.ck-content figure.table.layout-table>table,.ck-content table.table.layout-table{border-spacing:0}:root{--ck-form-default-width:340px}.ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form.ck-form_default-width{width:var(--ck-form-default-width)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-number,.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}@media screen and (max-width:600px){.ck.ck-form.ck-responsive-form .ck.ck-form__row.ck-form__row_with-submit{align-items:stretch;flex-direction:column;padding:0}.ck.ck-form.ck-responsive-form .ck.ck-form__row.ck-form__row_with-submit>.ck{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-form.ck-responsive-form .ck.ck-form__row.ck-form__row_with-submit .ck-button_with-text{justify-content:center}.ck.ck-form.ck-responsive-form .ck.ck-form__row.ck-form__row_large-bottom-padding{padding-bottom:var(--ck-spacing-large)}}[dir=ltr] .ck.ck-form.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-form.ck-responsive-form>:not(:last-child){margin-left:0}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck-form__row>:not(.ck-label,.ck-table-form__dimension-operator){flex-grow:1}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}:root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}:root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word}.ck.ck-editor__editable .table td,.ck.ck-editor__editable .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}.ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-powered-by-line-height:calc(var(--ck-font-size-base)*10/13);--ck-powered-by-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border);--ck-powered-by-svg-width:53;--ck-powered-by-svg-height:10;--ck-powered-by-icon-width:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-width)/13);--ck-powered-by-icon-height:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-height)/13)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:var(--ck-powered-by-font-size);font-weight:700;letter-spacing:var(--ck-powered-by-letter-spacing);line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block;height:var(--ck-powered-by-icon-height);width:var(--ck-powered-by-icon-width)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-evaluation-badge-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-line-height:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-evaluation-badge-padding-vertical:2px;--ck-evaluation-badge-padding-horizontal:4px;--ck-evaluation-badge-text-color:#4f4f4f;--ck-evaluation-badge-border-radius:var(--ck-border-radius);--ck-evaluation-badge-background:#fff;--ck-evaluation-badge-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon{--ck-border-radius:var(--ck-evaluation-badge-border-radius);background:var(--ck-evaluation-badge-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge{line-height:var(--ck-evaluation-badge-line-height);padding:var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge .ck-evaluation-badge__label{color:var(--ck-evaluation-badge-text-color);display:block;font-size:var(--ck-evaluation-badge-font-size);font-weight:700;letter-spacing:var(--ck-evaluation-badge-letter-spacing);line-height:normal;padding:0 2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-evaluation-badge-border-color)}.ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}.ck.ck-list-item-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list-item-button{text-align:left}[dir=rtl] .ck.ck-list-item-button{text-align:right}[dir=ltr] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-right:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-holder{display:inline-flex;height:.9em;width:.9em}[dir=ltr] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-left:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-icon{height:100%}.ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}.ck.ck-color-grid{display:grid}.color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end}.ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog:not(.ck-dialog_modal) .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{max-height:314px;overflow-y:auto;position:absolute;z-index:calc(var(--ck-z-panel) + 1)}.ck.ck-dropdown-menu-list__nested-menu{display:block}.ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}.ck.ck-form__row{align-items:flex-start;display:flex;flex-direction:row;justify-content:space-between;padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}.ck.ck-form__row.ck-form__row_large-top-padding{padding-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-form__row_large-bottom-padding{padding-bottom:var(--ck-spacing-large)}.ck.ck-form__row.ck-form__row_with-submit{flex-wrap:nowrap}.ck.ck-form__row.ck-form__row_with-submit>:not(:first-child){margin-inline-start:var(--ck-spacing-standard)}.ck.ck-form__row>.ck.ck-form__row{padding:0}.ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}.ck.ck-icon{vertical-align:middle}.ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}.ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}.ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}.ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}.ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100)}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}.ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}:root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}.ck.ck-menu-bar__menu{display:block;position:relative}:root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}.ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}`;var I3=W('<div class="editor-container editor-container_balloon-editor editor-container_include-block-toolbar" id="editor-container" style="margin: 0px 34px; min-height: 34px;"><div class="editor-container__editor"><div id="editorContent"></div></div></div>');const M3={hash:"svelte-32ttx",code:""};function H0(n,t){Le(t,!0),le(n,M3);let e=$(t,"editorContent",11,""),i;Yh(()=>{const s=document.createElement("style");s.textContent=S3,document.head.appendChild(s),o()});function o(){let s=document.getElementById("editorContent");aS.create(s,{toolbar:{items:["heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","subscript","superscript","code","removeFormat","|","emoji","specialCharacters","horizontalLine","link","insertImage","mediaEmbed","insertTable","highlight","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[G5,tT,vI,qw,eT,u2,IT,H5,oT,aT,oS,CS,NS,XS,YS,jS,qS,sI,gI,kI,II,NI,DI,$I,Aw,QI,tM,Jd,eM,Cw,oM,sM,dT,yM,TM,zM,qM,LD,HD,i4,Xk,ND,y4,E4,P4,s0,d0,L4,c0,l0,a0,mT,pT,wT,g3,T3,b3,aI,QM,yT],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","|","bulletedList","numberedList","outdent","indent"],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:`<h2>Congratulations on setting up CKEditor 5! \u{1F389}</h2>
<p>
	You've successfully created a CKEditor 5 project. This powerful text editor
	will enhance your application, enabling rich text editing capabilities that
	are customizable and easy to use.
</p>
<h3>What's next?</h3>
<ol>
	<li>
		<strong>Integrate into your app</strong>: time to bring the editing into
		your application. Take the code you created and add to your application.
	</li>
	<li>
		<strong>Explore features:</strong> Experiment with different plugins and
		toolbar options to discover what works best for your needs.
	</li>
	<li>
		<strong>Customize your editor:</strong> Tailor the editor's
		configuration to match your application's style and requirements. Or
		even write your plugin!
	</li>
</ol>
<p>
	Keep experimenting, and don't hesitate to push the boundaries of what you
	can achieve with CKEditor 5. Your feedback is invaluable to us as we strive
	to improve and evolve. Happy editing!
</p>
<h3>Helpful resources</h3>
<ul>
	<li>\u{1F4DD} <a href="https://portal.ckeditor.com/checkout?plan=free">Trial sign up</a>,</li>
	<li>\u{1F4D5} <a href="https://ckeditor.com/docs/ckeditor5/latest/installation/index.html">Documentation</a>,</li>
	<li>\u2B50\uFE0F <a href="https://github.com/ckeditor/ckeditor5">GitHub</a> (star us if you can!),</li>
	<li>\u{1F3E0} <a href="https://ckeditor.com">CKEditor Homepage</a>,</li>
	<li>\u{1F9D1}\u200D\u{1F4BB} <a href="https://ckeditor.com/ckeditor-5/demo/">CKEditor 5 Demos</a>,</li>
</ul>
<h3>Need help?</h3>
<p>
	See this text, but the editor is not starting up? Check the browser's
	console for clues and guidance. It may be related to an incorrect license
	key if you use premium features or another feature-related requirement. If
	you cannot make it work, file a GitHub issue, and we will help as soon as
	possible!
</p>
`,licenseKey:"GPL",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},mention:{feeds:[{marker:"@",feed:[]}]},placeholder:"Type or paste your content here!",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},autosave:{save(a){let l=a.getData();alert(l)}}}).then(a=>{i=a,e()&&(console.log("Setting loaded to true in editor create"),i.setData(e()))})}var r=I3();U(n,r),Be()}customElements.define("gen-editor-new",oe(H0,{editorContent:{reflect:!0}},[],[],!1));export{sm as ElegantBuffet,Vl as ElegantHeader,jl as ElegantHeroSearch,Fl as ElegantSearch,am as ElegantSpinner,Hl as ElegantTable,lm as GenEditor,H0 as GenEditorNew,Jh as IngBuffet,Qh as IngButton,Rl as IngHeaderLite,Ol as IngInput,Xh as IngTable};
